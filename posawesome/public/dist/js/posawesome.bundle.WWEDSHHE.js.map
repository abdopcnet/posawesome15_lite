{
  "version": 3,
  "sources": ["../../../../../apps/posawesome/posawesome/public/js/toConsole.js", "../../../../../apps/frappe/node_modules/@vue/shared/dist/shared.esm-bundler.js", "../../../../../apps/frappe/node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js", "../../../../../apps/frappe/node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js", "../../../../../apps/frappe/node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js", "../../../../../apps/posawesome/posawesome/public/js/libs/mitt.js", "../../../../../apps/posawesome/posawesome/public/js/posapp/bus.js", "../../../../../apps/posawesome/posawesome/public/js/posapp/api_mapper.js", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/Navbar.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/Navbar.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/Navbar.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/format.js", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/ItemsSelector.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/ItemsSelector.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/ItemsSelector.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/UpdateCustomer.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/UpdateCustomer.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/UpdateCustomer.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Customer.js", "../posawesome/posawesome/public/js/posapp/components/pos/Customer.vue", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Customer.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Customer.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Invoice.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Invoice.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Invoice.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/OpeningDialog.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/OpeningDialog.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/OpeningDialog.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/OpenShiftsWarning.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/OpenShiftsWarning.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/OpenShiftsWarning.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Payments.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Payments.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Payments.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/PosOffers.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/PosOffers.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/PosOffers.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/ClosingDialog.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/ClosingDialog.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/ClosingDialog.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/NewAddress.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/NewAddress.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/NewAddress.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Returns.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Returns.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Returns.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Drafts.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Drafts.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Drafts.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Pos.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Pos.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/components/pos/Pos.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/Home.js", "sfc-template:/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/Home.vue?type=template", "../../../../../apps/posawesome/posawesome/public/js/posapp/Home.vue", "../../../../../apps/posawesome/posawesome/public/js/posapp/posapp.js"],
  "sourcesContent": ["$(function () {\n  frappe.realtime.on('toconsole', function (data) {\n    data.forEach((element) => {});\n  });\n});\n", "function makeMap(str, expectsLowerCase) {\n  const map = /* @__PURE__ */ Object.create(null);\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase ? (val) => !!map[val.toLowerCase()] : (val) => !!map[val];\n}\n\nconst EMPTY_OBJ = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze({}) : {};\nconst EMPTY_ARR = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze([]) : [];\nconst NOOP = () => {\n};\nconst NO = () => false;\nconst onRE = /^on[^a-z]/;\nconst isOn = (key) => onRE.test(key);\nconst isModelListener = (key) => key.startsWith(\"onUpdate:\");\nconst extend = Object.assign;\nconst remove = (arr, el) => {\n  const i = arr.indexOf(el);\n  if (i > -1) {\n    arr.splice(i, 1);\n  }\n};\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\nconst isArray = Array.isArray;\nconst isMap = (val) => toTypeString(val) === \"[object Map]\";\nconst isSet = (val) => toTypeString(val) === \"[object Set]\";\nconst isDate = (val) => toTypeString(val) === \"[object Date]\";\nconst isRegExp = (val) => toTypeString(val) === \"[object RegExp]\";\nconst isFunction = (val) => typeof val === \"function\";\nconst isString = (val) => typeof val === \"string\";\nconst isSymbol = (val) => typeof val === \"symbol\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nconst isPromise = (val) => {\n  return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst toRawType = (value) => {\n  return toTypeString(value).slice(8, -1);\n};\nconst isPlainObject = (val) => toTypeString(val) === \"[object Object]\";\nconst isIntegerKey = (key) => isString(key) && key !== \"NaN\" && key[0] !== \"-\" && \"\" + parseInt(key, 10) === key;\nconst isReservedProp = /* @__PURE__ */ makeMap(\n  // the leading comma is intentional so empty string \"\" is also included\n  \",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted\"\n);\nconst isBuiltInDirective = /* @__PURE__ */ makeMap(\n  \"bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo\"\n);\nconst cacheStringFunction = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\nconst camelizeRE = /-(\\w)/g;\nconst camelize = cacheStringFunction((str) => {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n});\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction(\n  (str) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n);\nconst capitalize = cacheStringFunction((str) => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n});\nconst toHandlerKey = cacheStringFunction((str) => {\n  const s = str ? `on${capitalize(str)}` : ``;\n  return s;\n});\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\nconst invokeArrayFns = (fns, arg) => {\n  for (let i = 0; i < fns.length; i++) {\n    fns[i](arg);\n  }\n};\nconst def = (obj, key, value) => {\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: false,\n    value\n  });\n};\nconst looseToNumber = (val) => {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n};\nconst toNumber = (val) => {\n  const n = isString(val) ? Number(val) : NaN;\n  return isNaN(n) ? val : n;\n};\nlet _globalThis;\nconst getGlobalThis = () => {\n  return _globalThis || (_globalThis = typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {});\n};\nconst identRE = /^[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/;\nfunction genPropsAccessExp(name) {\n  return identRE.test(name) ? `__props.${name}` : `__props[${JSON.stringify(name)}]`;\n}\n\nconst PatchFlagNames = {\n  [1]: `TEXT`,\n  [2]: `CLASS`,\n  [4]: `STYLE`,\n  [8]: `PROPS`,\n  [16]: `FULL_PROPS`,\n  [32]: `NEED_HYDRATION`,\n  [64]: `STABLE_FRAGMENT`,\n  [128]: `KEYED_FRAGMENT`,\n  [256]: `UNKEYED_FRAGMENT`,\n  [512]: `NEED_PATCH`,\n  [1024]: `DYNAMIC_SLOTS`,\n  [2048]: `DEV_ROOT_FRAGMENT`,\n  [-1]: `HOISTED`,\n  [-2]: `BAIL`\n};\n\nconst slotFlagsText = {\n  [1]: \"STABLE\",\n  [2]: \"DYNAMIC\",\n  [3]: \"FORWARDED\"\n};\n\nconst GLOBALS_ALLOWED = \"Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console\";\nconst isGloballyAllowed = /* @__PURE__ */ makeMap(GLOBALS_ALLOWED);\nconst isGloballyWhitelisted = isGloballyAllowed;\n\nconst range = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n  let lines = source.split(/(\\r?\\n)/);\n  const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\n  lines = lines.filter((_, idx) => idx % 2 === 0);\n  let count = 0;\n  const res = [];\n  for (let i = 0; i < lines.length; i++) {\n    count += lines[i].length + (newlineSequences[i] && newlineSequences[i].length || 0);\n    if (count >= start) {\n      for (let j = i - range; j <= i + range || end > count; j++) {\n        if (j < 0 || j >= lines.length)\n          continue;\n        const line = j + 1;\n        res.push(\n          `${line}${\" \".repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`\n        );\n        const lineLength = lines[j].length;\n        const newLineSeqLength = newlineSequences[j] && newlineSequences[j].length || 0;\n        if (j === i) {\n          const pad = start - (count - (lineLength + newLineSeqLength));\n          const length = Math.max(\n            1,\n            end > count ? lineLength - pad : end - start\n          );\n          res.push(`   |  ` + \" \".repeat(pad) + \"^\".repeat(length));\n        } else if (j > i) {\n          if (end > count) {\n            const length = Math.max(Math.min(end - count, lineLength), 1);\n            res.push(`   |  ` + \"^\".repeat(length));\n          }\n          count += lineLength + newLineSeqLength;\n        }\n      }\n      break;\n    }\n  }\n  return res.join(\"\\n\");\n}\n\nfunction normalizeStyle(value) {\n  if (isArray(value)) {\n    const res = {};\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n      const normalized = isString(item) ? parseStringStyle(item) : normalizeStyle(item);\n      if (normalized) {\n        for (const key in normalized) {\n          res[key] = normalized[key];\n        }\n      }\n    }\n    return res;\n  } else if (isString(value) || isObject(value)) {\n    return value;\n  }\n}\nconst listDelimiterRE = /;(?![^(]*\\))/g;\nconst propertyDelimiterRE = /:([^]+)/;\nconst styleCommentRE = /\\/\\*[^]*?\\*\\//g;\nfunction parseStringStyle(cssText) {\n  const ret = {};\n  cssText.replace(styleCommentRE, \"\").split(listDelimiterRE).forEach((item) => {\n    if (item) {\n      const tmp = item.split(propertyDelimiterRE);\n      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return ret;\n}\nfunction stringifyStyle(styles) {\n  let ret = \"\";\n  if (!styles || isString(styles)) {\n    return ret;\n  }\n  for (const key in styles) {\n    const value = styles[key];\n    const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\n    if (isString(value) || typeof value === \"number\") {\n      ret += `${normalizedKey}:${value};`;\n    }\n  }\n  return ret;\n}\nfunction normalizeClass(value) {\n  let res = \"\";\n  if (isString(value)) {\n    res = value;\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const normalized = normalizeClass(value[i]);\n      if (normalized) {\n        res += normalized + \" \";\n      }\n    }\n  } else if (isObject(value)) {\n    for (const name in value) {\n      if (value[name]) {\n        res += name + \" \";\n      }\n    }\n  }\n  return res.trim();\n}\nfunction normalizeProps(props) {\n  if (!props)\n    return null;\n  let { class: klass, style } = props;\n  if (klass && !isString(klass)) {\n    props.class = normalizeClass(klass);\n  }\n  if (style) {\n    props.style = normalizeStyle(style);\n  }\n  return props;\n}\n\nconst HTML_TAGS = \"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot\";\nconst SVG_TAGS = \"svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view\";\nconst VOID_TAGS = \"area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr\";\nconst isHTMLTag = /* @__PURE__ */ makeMap(HTML_TAGS);\nconst isSVGTag = /* @__PURE__ */ makeMap(SVG_TAGS);\nconst isVoidTag = /* @__PURE__ */ makeMap(VOID_TAGS);\n\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nconst isSpecialBooleanAttr = /* @__PURE__ */ makeMap(specialBooleanAttrs);\nconst isBooleanAttr = /* @__PURE__ */ makeMap(\n  specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`\n);\nfunction includeBooleanAttr(value) {\n  return !!value || value === \"\";\n}\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\nconst attrValidationCache = {};\nfunction isSSRSafeAttrName(name) {\n  if (attrValidationCache.hasOwnProperty(name)) {\n    return attrValidationCache[name];\n  }\n  const isUnsafe = unsafeAttrCharRE.test(name);\n  if (isUnsafe) {\n    console.error(`unsafe attribute name: ${name}`);\n  }\n  return attrValidationCache[name] = !isUnsafe;\n}\nconst propsToAttrMap = {\n  acceptCharset: \"accept-charset\",\n  className: \"class\",\n  htmlFor: \"for\",\n  httpEquiv: \"http-equiv\"\n};\nconst isKnownHtmlAttr = /* @__PURE__ */ makeMap(\n  `accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap`\n);\nconst isKnownSvgAttr = /* @__PURE__ */ makeMap(\n  `xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`\n);\n\nconst escapeRE = /[\"'&<>]/;\nfunction escapeHtml(string) {\n  const str = \"\" + string;\n  const match = escapeRE.exec(str);\n  if (!match) {\n    return str;\n  }\n  let html = \"\";\n  let escaped;\n  let index;\n  let lastIndex = 0;\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escaped = \"&quot;\";\n        break;\n      case 38:\n        escaped = \"&amp;\";\n        break;\n      case 39:\n        escaped = \"&#39;\";\n        break;\n      case 60:\n        escaped = \"&lt;\";\n        break;\n      case 62:\n        escaped = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    if (lastIndex !== index) {\n      html += str.slice(lastIndex, index);\n    }\n    lastIndex = index + 1;\n    html += escaped;\n  }\n  return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\n}\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\nfunction escapeHtmlComment(src) {\n  return src.replace(commentStripRE, \"\");\n}\n\nfunction looseCompareArrays(a, b) {\n  if (a.length !== b.length)\n    return false;\n  let equal = true;\n  for (let i = 0; equal && i < a.length; i++) {\n    equal = looseEqual(a[i], b[i]);\n  }\n  return equal;\n}\nfunction looseEqual(a, b) {\n  if (a === b)\n    return true;\n  let aValidType = isDate(a);\n  let bValidType = isDate(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? a.getTime() === b.getTime() : false;\n  }\n  aValidType = isSymbol(a);\n  bValidType = isSymbol(b);\n  if (aValidType || bValidType) {\n    return a === b;\n  }\n  aValidType = isArray(a);\n  bValidType = isArray(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? looseCompareArrays(a, b) : false;\n  }\n  aValidType = isObject(a);\n  bValidType = isObject(b);\n  if (aValidType || bValidType) {\n    if (!aValidType || !bValidType) {\n      return false;\n    }\n    const aKeysCount = Object.keys(a).length;\n    const bKeysCount = Object.keys(b).length;\n    if (aKeysCount !== bKeysCount) {\n      return false;\n    }\n    for (const key in a) {\n      const aHasKey = a.hasOwnProperty(key);\n      const bHasKey = b.hasOwnProperty(key);\n      if (aHasKey && !bHasKey || !aHasKey && bHasKey || !looseEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n  }\n  return String(a) === String(b);\n}\nfunction looseIndexOf(arr, val) {\n  return arr.findIndex((item) => looseEqual(item, val));\n}\n\nconst toDisplayString = (val) => {\n  return isString(val) ? val : val == null ? \"\" : isArray(val) || isObject(val) && (val.toString === objectToString || !isFunction(val.toString)) ? JSON.stringify(val, replacer, 2) : String(val);\n};\nconst replacer = (_key, val) => {\n  if (val && val.__v_isRef) {\n    return replacer(_key, val.value);\n  } else if (isMap(val)) {\n    return {\n      [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val2]) => {\n        entries[`${key} =>`] = val2;\n        return entries;\n      }, {})\n    };\n  } else if (isSet(val)) {\n    return {\n      [`Set(${val.size})`]: [...val.values()]\n    };\n  } else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\n    return String(val);\n  }\n  return val;\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, genPropsAccessExp, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyAllowed, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownSvgAttr, isMap, isModelListener, isObject, isOn, isPlainObject, isPromise, isRegExp, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, looseToNumber, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n", "import { extend, isArray, isSymbol, isMap, isIntegerKey, hasOwn, hasChanged, isObject, makeMap, capitalize, toRawType, def, isFunction, NOOP } from '@vue/shared';\n\nfunction warn(msg, ...args) {\n  console.warn(`[Vue warn] ${msg}`, ...args);\n}\n\nlet activeEffectScope;\nclass EffectScope {\n  constructor(detached = false) {\n    this.detached = detached;\n    /**\n     * @internal\n     */\n    this._active = true;\n    /**\n     * @internal\n     */\n    this.effects = [];\n    /**\n     * @internal\n     */\n    this.cleanups = [];\n    this.parent = activeEffectScope;\n    if (!detached && activeEffectScope) {\n      this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(\n        this\n      ) - 1;\n    }\n  }\n  get active() {\n    return this._active;\n  }\n  run(fn) {\n    if (this._active) {\n      const currentEffectScope = activeEffectScope;\n      try {\n        activeEffectScope = this;\n        return fn();\n      } finally {\n        activeEffectScope = currentEffectScope;\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`cannot run an inactive effect scope.`);\n    }\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  on() {\n    activeEffectScope = this;\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  off() {\n    activeEffectScope = this.parent;\n  }\n  stop(fromParent) {\n    if (this._active) {\n      let i, l;\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].stop();\n      }\n      for (i = 0, l = this.cleanups.length; i < l; i++) {\n        this.cleanups[i]();\n      }\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].stop(true);\n        }\n      }\n      if (!this.detached && this.parent && !fromParent) {\n        const last = this.parent.scopes.pop();\n        if (last && last !== this) {\n          this.parent.scopes[this.index] = last;\n          last.index = this.index;\n        }\n      }\n      this.parent = void 0;\n      this._active = false;\n    }\n  }\n}\nfunction effectScope(detached) {\n  return new EffectScope(detached);\n}\nfunction recordEffectScope(effect, scope = activeEffectScope) {\n  if (scope && scope.active) {\n    scope.effects.push(effect);\n  }\n}\nfunction getCurrentScope() {\n  return activeEffectScope;\n}\nfunction onScopeDispose(fn) {\n  if (activeEffectScope) {\n    activeEffectScope.cleanups.push(fn);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(\n      `onScopeDispose() is called when there is no active effect scope to be associated with.`\n    );\n  }\n}\n\nconst createDep = (effects) => {\n  const dep = new Set(effects);\n  dep.w = 0;\n  dep.n = 0;\n  return dep;\n};\nconst wasTracked = (dep) => (dep.w & trackOpBit) > 0;\nconst newTracked = (dep) => (dep.n & trackOpBit) > 0;\nconst initDepMarkers = ({ deps }) => {\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].w |= trackOpBit;\n    }\n  }\n};\nconst finalizeDepMarkers = (effect) => {\n  const { deps } = effect;\n  if (deps.length) {\n    let ptr = 0;\n    for (let i = 0; i < deps.length; i++) {\n      const dep = deps[i];\n      if (wasTracked(dep) && !newTracked(dep)) {\n        dep.delete(effect);\n      } else {\n        deps[ptr++] = dep;\n      }\n      dep.w &= ~trackOpBit;\n      dep.n &= ~trackOpBit;\n    }\n    deps.length = ptr;\n  }\n};\n\nconst targetMap = /* @__PURE__ */ new WeakMap();\nlet effectTrackDepth = 0;\nlet trackOpBit = 1;\nconst maxMarkerBits = 30;\nlet activeEffect;\nconst ITERATE_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"iterate\" : \"\");\nconst MAP_KEY_ITERATE_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"Map key iterate\" : \"\");\nclass ReactiveEffect {\n  constructor(fn, scheduler = null, scope) {\n    this.fn = fn;\n    this.scheduler = scheduler;\n    this.active = true;\n    this.deps = [];\n    this.parent = void 0;\n    recordEffectScope(this, scope);\n  }\n  run() {\n    if (!this.active) {\n      return this.fn();\n    }\n    let parent = activeEffect;\n    let lastShouldTrack = shouldTrack;\n    while (parent) {\n      if (parent === this) {\n        return;\n      }\n      parent = parent.parent;\n    }\n    try {\n      this.parent = activeEffect;\n      activeEffect = this;\n      shouldTrack = true;\n      trackOpBit = 1 << ++effectTrackDepth;\n      if (effectTrackDepth <= maxMarkerBits) {\n        initDepMarkers(this);\n      } else {\n        cleanupEffect(this);\n      }\n      return this.fn();\n    } finally {\n      if (effectTrackDepth <= maxMarkerBits) {\n        finalizeDepMarkers(this);\n      }\n      trackOpBit = 1 << --effectTrackDepth;\n      activeEffect = this.parent;\n      shouldTrack = lastShouldTrack;\n      this.parent = void 0;\n      if (this.deferStop) {\n        this.stop();\n      }\n    }\n  }\n  stop() {\n    if (activeEffect === this) {\n      this.deferStop = true;\n    } else if (this.active) {\n      cleanupEffect(this);\n      if (this.onStop) {\n        this.onStop();\n      }\n      this.active = false;\n    }\n  }\n}\nfunction cleanupEffect(effect2) {\n  const { deps } = effect2;\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].delete(effect2);\n    }\n    deps.length = 0;\n  }\n}\nfunction effect(fn, options) {\n  if (fn.effect instanceof ReactiveEffect) {\n    fn = fn.effect.fn;\n  }\n  const _effect = new ReactiveEffect(fn);\n  if (options) {\n    extend(_effect, options);\n    if (options.scope)\n      recordEffectScope(_effect, options.scope);\n  }\n  if (!options || !options.lazy) {\n    _effect.run();\n  }\n  const runner = _effect.run.bind(_effect);\n  runner.effect = _effect;\n  return runner;\n}\nfunction stop(runner) {\n  runner.effect.stop();\n}\nlet shouldTrack = true;\nconst trackStack = [];\nfunction pauseTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = false;\n}\nfunction enableTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = true;\n}\nfunction resetTracking() {\n  const last = trackStack.pop();\n  shouldTrack = last === void 0 ? true : last;\n}\nfunction track(target, type, key) {\n  if (shouldTrack && activeEffect) {\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n      targetMap.set(target, depsMap = /* @__PURE__ */ new Map());\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n      depsMap.set(key, dep = createDep());\n    }\n    const eventInfo = !!(process.env.NODE_ENV !== \"production\") ? { effect: activeEffect, target, type, key } : void 0;\n    trackEffects(dep, eventInfo);\n  }\n}\nfunction trackEffects(dep, debuggerEventExtraInfo) {\n  let shouldTrack2 = false;\n  if (effectTrackDepth <= maxMarkerBits) {\n    if (!newTracked(dep)) {\n      dep.n |= trackOpBit;\n      shouldTrack2 = !wasTracked(dep);\n    }\n  } else {\n    shouldTrack2 = !dep.has(activeEffect);\n  }\n  if (shouldTrack2) {\n    dep.add(activeEffect);\n    activeEffect.deps.push(dep);\n    if (!!(process.env.NODE_ENV !== \"production\") && activeEffect.onTrack) {\n      activeEffect.onTrack(\n        extend(\n          {\n            effect: activeEffect\n          },\n          debuggerEventExtraInfo\n        )\n      );\n    }\n  }\n}\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\n  const depsMap = targetMap.get(target);\n  if (!depsMap) {\n    return;\n  }\n  let deps = [];\n  if (type === \"clear\") {\n    deps = [...depsMap.values()];\n  } else if (key === \"length\" && isArray(target)) {\n    const newLength = Number(newValue);\n    depsMap.forEach((dep, key2) => {\n      if (key2 === \"length\" || !isSymbol(key2) && key2 >= newLength) {\n        deps.push(dep);\n      }\n    });\n  } else {\n    if (key !== void 0) {\n      deps.push(depsMap.get(key));\n    }\n    switch (type) {\n      case \"add\":\n        if (!isArray(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        } else if (isIntegerKey(key)) {\n          deps.push(depsMap.get(\"length\"));\n        }\n        break;\n      case \"delete\":\n        if (!isArray(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        }\n        break;\n      case \"set\":\n        if (isMap(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n        }\n        break;\n    }\n  }\n  const eventInfo = !!(process.env.NODE_ENV !== \"production\") ? { target, type, key, newValue, oldValue, oldTarget } : void 0;\n  if (deps.length === 1) {\n    if (deps[0]) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        triggerEffects(deps[0], eventInfo);\n      } else {\n        triggerEffects(deps[0]);\n      }\n    }\n  } else {\n    const effects = [];\n    for (const dep of deps) {\n      if (dep) {\n        effects.push(...dep);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      triggerEffects(createDep(effects), eventInfo);\n    } else {\n      triggerEffects(createDep(effects));\n    }\n  }\n}\nfunction triggerEffects(dep, debuggerEventExtraInfo) {\n  const effects = isArray(dep) ? dep : [...dep];\n  for (const effect2 of effects) {\n    if (effect2.computed) {\n      triggerEffect(effect2, debuggerEventExtraInfo);\n    }\n  }\n  for (const effect2 of effects) {\n    if (!effect2.computed) {\n      triggerEffect(effect2, debuggerEventExtraInfo);\n    }\n  }\n}\nfunction triggerEffect(effect2, debuggerEventExtraInfo) {\n  if (effect2 !== activeEffect || effect2.allowRecurse) {\n    if (!!(process.env.NODE_ENV !== \"production\") && effect2.onTrigger) {\n      effect2.onTrigger(extend({ effect: effect2 }, debuggerEventExtraInfo));\n    }\n    if (effect2.scheduler) {\n      effect2.scheduler();\n    } else {\n      effect2.run();\n    }\n  }\n}\nfunction getDepFromReactive(object, key) {\n  var _a;\n  return (_a = targetMap.get(object)) == null ? void 0 : _a.get(key);\n}\n\nconst isNonTrackableKeys = /* @__PURE__ */ makeMap(`__proto__,__v_isRef,__isVue`);\nconst builtInSymbols = new Set(\n  /* @__PURE__ */ Object.getOwnPropertyNames(Symbol).filter((key) => key !== \"arguments\" && key !== \"caller\").map((key) => Symbol[key]).filter(isSymbol)\n);\nconst arrayInstrumentations = /* @__PURE__ */ createArrayInstrumentations();\nfunction createArrayInstrumentations() {\n  const instrumentations = {};\n  [\"includes\", \"indexOf\", \"lastIndexOf\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      const arr = toRaw(this);\n      for (let i = 0, l = this.length; i < l; i++) {\n        track(arr, \"get\", i + \"\");\n      }\n      const res = arr[key](...args);\n      if (res === -1 || res === false) {\n        return arr[key](...args.map(toRaw));\n      } else {\n        return res;\n      }\n    };\n  });\n  [\"push\", \"pop\", \"shift\", \"unshift\", \"splice\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      pauseTracking();\n      const res = toRaw(this)[key].apply(this, args);\n      resetTracking();\n      return res;\n    };\n  });\n  return instrumentations;\n}\nfunction hasOwnProperty(key) {\n  const obj = toRaw(this);\n  track(obj, \"has\", key);\n  return obj.hasOwnProperty(key);\n}\nclass BaseReactiveHandler {\n  constructor(_isReadonly = false, _shallow = false) {\n    this._isReadonly = _isReadonly;\n    this._shallow = _shallow;\n  }\n  get(target, key, receiver) {\n    const isReadonly2 = this._isReadonly, shallow = this._shallow;\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_isShallow\") {\n      return shallow;\n    } else if (key === \"__v_raw\" && receiver === (isReadonly2 ? shallow ? shallowReadonlyMap : readonlyMap : shallow ? shallowReactiveMap : reactiveMap).get(target)) {\n      return target;\n    }\n    const targetIsArray = isArray(target);\n    if (!isReadonly2) {\n      if (targetIsArray && hasOwn(arrayInstrumentations, key)) {\n        return Reflect.get(arrayInstrumentations, key, receiver);\n      }\n      if (key === \"hasOwnProperty\") {\n        return hasOwnProperty;\n      }\n    }\n    const res = Reflect.get(target, key, receiver);\n    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n      return res;\n    }\n    if (!isReadonly2) {\n      track(target, \"get\", key);\n    }\n    if (shallow) {\n      return res;\n    }\n    if (isRef(res)) {\n      return targetIsArray && isIntegerKey(key) ? res : res.value;\n    }\n    if (isObject(res)) {\n      return isReadonly2 ? readonly(res) : reactive(res);\n    }\n    return res;\n  }\n}\nclass MutableReactiveHandler extends BaseReactiveHandler {\n  constructor(shallow = false) {\n    super(false, shallow);\n  }\n  set(target, key, value, receiver) {\n    let oldValue = target[key];\n    if (isReadonly(oldValue) && isRef(oldValue) && !isRef(value)) {\n      return false;\n    }\n    if (!this._shallow) {\n      if (!isShallow(value) && !isReadonly(value)) {\n        oldValue = toRaw(oldValue);\n        value = toRaw(value);\n      }\n      if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\n        oldValue.value = value;\n        return true;\n      }\n    }\n    const hadKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key);\n    const result = Reflect.set(target, key, value, receiver);\n    if (target === toRaw(receiver)) {\n      if (!hadKey) {\n        trigger(target, \"add\", key, value);\n      } else if (hasChanged(value, oldValue)) {\n        trigger(target, \"set\", key, value, oldValue);\n      }\n    }\n    return result;\n  }\n  deleteProperty(target, key) {\n    const hadKey = hasOwn(target, key);\n    const oldValue = target[key];\n    const result = Reflect.deleteProperty(target, key);\n    if (result && hadKey) {\n      trigger(target, \"delete\", key, void 0, oldValue);\n    }\n    return result;\n  }\n  has(target, key) {\n    const result = Reflect.has(target, key);\n    if (!isSymbol(key) || !builtInSymbols.has(key)) {\n      track(target, \"has\", key);\n    }\n    return result;\n  }\n  ownKeys(target) {\n    track(\n      target,\n      \"iterate\",\n      isArray(target) ? \"length\" : ITERATE_KEY\n    );\n    return Reflect.ownKeys(target);\n  }\n}\nclass ReadonlyReactiveHandler extends BaseReactiveHandler {\n  constructor(shallow = false) {\n    super(true, shallow);\n  }\n  set(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n  deleteProperty(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Delete operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n}\nconst mutableHandlers = /* @__PURE__ */ new MutableReactiveHandler();\nconst readonlyHandlers = /* @__PURE__ */ new ReadonlyReactiveHandler();\nconst shallowReactiveHandlers = /* @__PURE__ */ new MutableReactiveHandler(\n  true\n);\nconst shallowReadonlyHandlers = /* @__PURE__ */ new ReadonlyReactiveHandler(true);\n\nconst toShallow = (value) => value;\nconst getProto = (v) => Reflect.getPrototypeOf(v);\nfunction get(target, key, isReadonly = false, isShallow = false) {\n  target = target[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly) {\n    if (hasChanged(key, rawKey)) {\n      track(rawTarget, \"get\", key);\n    }\n    track(rawTarget, \"get\", rawKey);\n  }\n  const { has: has2 } = getProto(rawTarget);\n  const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n  if (has2.call(rawTarget, key)) {\n    return wrap(target.get(key));\n  } else if (has2.call(rawTarget, rawKey)) {\n    return wrap(target.get(rawKey));\n  } else if (target !== rawTarget) {\n    target.get(key);\n  }\n}\nfunction has(key, isReadonly = false) {\n  const target = this[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly) {\n    if (hasChanged(key, rawKey)) {\n      track(rawTarget, \"has\", key);\n    }\n    track(rawTarget, \"has\", rawKey);\n  }\n  return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);\n}\nfunction size(target, isReadonly = false) {\n  target = target[\"__v_raw\"];\n  !isReadonly && track(toRaw(target), \"iterate\", ITERATE_KEY);\n  return Reflect.get(target, \"size\", target);\n}\nfunction add(value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const proto = getProto(target);\n  const hadKey = proto.has.call(target, value);\n  if (!hadKey) {\n    target.add(value);\n    trigger(target, \"add\", value, value);\n  }\n  return this;\n}\nfunction set(key, value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const { has: has2, get: get2 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get2.call(target, key);\n  target.set(key, value);\n  if (!hadKey) {\n    trigger(target, \"add\", key, value);\n  } else if (hasChanged(value, oldValue)) {\n    trigger(target, \"set\", key, value, oldValue);\n  }\n  return this;\n}\nfunction deleteEntry(key) {\n  const target = toRaw(this);\n  const { has: has2, get: get2 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get2 ? get2.call(target, key) : void 0;\n  const result = target.delete(key);\n  if (hadKey) {\n    trigger(target, \"delete\", key, void 0, oldValue);\n  }\n  return result;\n}\nfunction clear() {\n  const target = toRaw(this);\n  const hadItems = target.size !== 0;\n  const oldTarget = !!(process.env.NODE_ENV !== \"production\") ? isMap(target) ? new Map(target) : new Set(target) : void 0;\n  const result = target.clear();\n  if (hadItems) {\n    trigger(target, \"clear\", void 0, void 0, oldTarget);\n  }\n  return result;\n}\nfunction createForEach(isReadonly, isShallow) {\n  return function forEach(callback, thisArg) {\n    const observed = this;\n    const target = observed[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    !isReadonly && track(rawTarget, \"iterate\", ITERATE_KEY);\n    return target.forEach((value, key) => {\n      return callback.call(thisArg, wrap(value), wrap(key), observed);\n    });\n  };\n}\nfunction createIterableMethod(method, isReadonly, isShallow) {\n  return function(...args) {\n    const target = this[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const targetIsMap = isMap(rawTarget);\n    const isPair = method === \"entries\" || method === Symbol.iterator && targetIsMap;\n    const isKeyOnly = method === \"keys\" && targetIsMap;\n    const innerIterator = target[method](...args);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    !isReadonly && track(\n      rawTarget,\n      \"iterate\",\n      isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY\n    );\n    return {\n      // iterator protocol\n      next() {\n        const { value, done } = innerIterator.next();\n        return done ? { value, done } : {\n          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\n          done\n        };\n      },\n      // iterable protocol\n      [Symbol.iterator]() {\n        return this;\n      }\n    };\n  };\n}\nfunction createReadonlyMethod(type) {\n  return function(...args) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      const key = args[0] ? `on key \"${args[0]}\" ` : ``;\n      console.warn(\n        `${capitalize(type)} operation ${key}failed: target is readonly.`,\n        toRaw(this)\n      );\n    }\n    return type === \"delete\" ? false : type === \"clear\" ? void 0 : this;\n  };\n}\nfunction createInstrumentations() {\n  const mutableInstrumentations2 = {\n    get(key) {\n      return get(this, key);\n    },\n    get size() {\n      return size(this);\n    },\n    has,\n    add,\n    set,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, false)\n  };\n  const shallowInstrumentations2 = {\n    get(key) {\n      return get(this, key, false, true);\n    },\n    get size() {\n      return size(this);\n    },\n    has,\n    add,\n    set,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, true)\n  };\n  const readonlyInstrumentations2 = {\n    get(key) {\n      return get(this, key, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, false)\n  };\n  const shallowReadonlyInstrumentations2 = {\n    get(key) {\n      return get(this, key, true, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, true)\n  };\n  const iteratorMethods = [\"keys\", \"values\", \"entries\", Symbol.iterator];\n  iteratorMethods.forEach((method) => {\n    mutableInstrumentations2[method] = createIterableMethod(\n      method,\n      false,\n      false\n    );\n    readonlyInstrumentations2[method] = createIterableMethod(\n      method,\n      true,\n      false\n    );\n    shallowInstrumentations2[method] = createIterableMethod(\n      method,\n      false,\n      true\n    );\n    shallowReadonlyInstrumentations2[method] = createIterableMethod(\n      method,\n      true,\n      true\n    );\n  });\n  return [\n    mutableInstrumentations2,\n    readonlyInstrumentations2,\n    shallowInstrumentations2,\n    shallowReadonlyInstrumentations2\n  ];\n}\nconst [\n  mutableInstrumentations,\n  readonlyInstrumentations,\n  shallowInstrumentations,\n  shallowReadonlyInstrumentations\n] = /* @__PURE__ */ createInstrumentations();\nfunction createInstrumentationGetter(isReadonly, shallow) {\n  const instrumentations = shallow ? isReadonly ? shallowReadonlyInstrumentations : shallowInstrumentations : isReadonly ? readonlyInstrumentations : mutableInstrumentations;\n  return (target, key, receiver) => {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly;\n    } else if (key === \"__v_raw\") {\n      return target;\n    }\n    return Reflect.get(\n      hasOwn(instrumentations, key) && key in target ? instrumentations : target,\n      key,\n      receiver\n    );\n  };\n}\nconst mutableCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, false)\n};\nconst shallowCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, true)\n};\nconst readonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, false)\n};\nconst shallowReadonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, true)\n};\nfunction checkIdentityKeys(target, has2, key) {\n  const rawKey = toRaw(key);\n  if (rawKey !== key && has2.call(target, rawKey)) {\n    const type = toRawType(target);\n    console.warn(\n      `Reactive ${type} contains both the raw and reactive versions of the same object${type === `Map` ? ` as keys` : ``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`\n    );\n  }\n}\n\nconst reactiveMap = /* @__PURE__ */ new WeakMap();\nconst shallowReactiveMap = /* @__PURE__ */ new WeakMap();\nconst readonlyMap = /* @__PURE__ */ new WeakMap();\nconst shallowReadonlyMap = /* @__PURE__ */ new WeakMap();\nfunction targetTypeMap(rawType) {\n  switch (rawType) {\n    case \"Object\":\n    case \"Array\":\n      return 1 /* COMMON */;\n    case \"Map\":\n    case \"Set\":\n    case \"WeakMap\":\n    case \"WeakSet\":\n      return 2 /* COLLECTION */;\n    default:\n      return 0 /* INVALID */;\n  }\n}\nfunction getTargetType(value) {\n  return value[\"__v_skip\"] || !Object.isExtensible(value) ? 0 /* INVALID */ : targetTypeMap(toRawType(value));\n}\nfunction reactive(target) {\n  if (isReadonly(target)) {\n    return target;\n  }\n  return createReactiveObject(\n    target,\n    false,\n    mutableHandlers,\n    mutableCollectionHandlers,\n    reactiveMap\n  );\n}\nfunction shallowReactive(target) {\n  return createReactiveObject(\n    target,\n    false,\n    shallowReactiveHandlers,\n    shallowCollectionHandlers,\n    shallowReactiveMap\n  );\n}\nfunction readonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    readonlyHandlers,\n    readonlyCollectionHandlers,\n    readonlyMap\n  );\n}\nfunction shallowReadonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    shallowReadonlyHandlers,\n    shallowReadonlyCollectionHandlers,\n    shallowReadonlyMap\n  );\n}\nfunction createReactiveObject(target, isReadonly2, baseHandlers, collectionHandlers, proxyMap) {\n  if (!isObject(target)) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      console.warn(`value cannot be made reactive: ${String(target)}`);\n    }\n    return target;\n  }\n  if (target[\"__v_raw\"] && !(isReadonly2 && target[\"__v_isReactive\"])) {\n    return target;\n  }\n  const existingProxy = proxyMap.get(target);\n  if (existingProxy) {\n    return existingProxy;\n  }\n  const targetType = getTargetType(target);\n  if (targetType === 0 /* INVALID */) {\n    return target;\n  }\n  const proxy = new Proxy(\n    target,\n    targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers\n  );\n  proxyMap.set(target, proxy);\n  return proxy;\n}\nfunction isReactive(value) {\n  if (isReadonly(value)) {\n    return isReactive(value[\"__v_raw\"]);\n  }\n  return !!(value && value[\"__v_isReactive\"]);\n}\nfunction isReadonly(value) {\n  return !!(value && value[\"__v_isReadonly\"]);\n}\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\nfunction isProxy(value) {\n  return isReactive(value) || isReadonly(value);\n}\nfunction toRaw(observed) {\n  const raw = observed && observed[\"__v_raw\"];\n  return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n  def(value, \"__v_skip\", true);\n  return value;\n}\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\n\nfunction trackRefValue(ref2) {\n  if (shouldTrack && activeEffect) {\n    ref2 = toRaw(ref2);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      trackEffects(ref2.dep || (ref2.dep = createDep()), {\n        target: ref2,\n        type: \"get\",\n        key: \"value\"\n      });\n    } else {\n      trackEffects(ref2.dep || (ref2.dep = createDep()));\n    }\n  }\n}\nfunction triggerRefValue(ref2, newVal) {\n  ref2 = toRaw(ref2);\n  const dep = ref2.dep;\n  if (dep) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      triggerEffects(dep, {\n        target: ref2,\n        type: \"set\",\n        key: \"value\",\n        newValue: newVal\n      });\n    } else {\n      triggerEffects(dep);\n    }\n  }\n}\nfunction isRef(r) {\n  return !!(r && r.__v_isRef === true);\n}\nfunction ref(value) {\n  return createRef(value, false);\n}\nfunction shallowRef(value) {\n  return createRef(value, true);\n}\nfunction createRef(rawValue, shallow) {\n  if (isRef(rawValue)) {\n    return rawValue;\n  }\n  return new RefImpl(rawValue, shallow);\n}\nclass RefImpl {\n  constructor(value, __v_isShallow) {\n    this.__v_isShallow = __v_isShallow;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this._rawValue = __v_isShallow ? value : toRaw(value);\n    this._value = __v_isShallow ? value : toReactive(value);\n  }\n  get value() {\n    trackRefValue(this);\n    return this._value;\n  }\n  set value(newVal) {\n    const useDirectValue = this.__v_isShallow || isShallow(newVal) || isReadonly(newVal);\n    newVal = useDirectValue ? newVal : toRaw(newVal);\n    if (hasChanged(newVal, this._rawValue)) {\n      this._rawValue = newVal;\n      this._value = useDirectValue ? newVal : toReactive(newVal);\n      triggerRefValue(this, newVal);\n    }\n  }\n}\nfunction triggerRef(ref2) {\n  triggerRefValue(ref2, !!(process.env.NODE_ENV !== \"production\") ? ref2.value : void 0);\n}\nfunction unref(ref2) {\n  return isRef(ref2) ? ref2.value : ref2;\n}\nfunction toValue(source) {\n  return isFunction(source) ? source() : unref(source);\n}\nconst shallowUnwrapHandlers = {\n  get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\n  set: (target, key, value, receiver) => {\n    const oldValue = target[key];\n    if (isRef(oldValue) && !isRef(value)) {\n      oldValue.value = value;\n      return true;\n    } else {\n      return Reflect.set(target, key, value, receiver);\n    }\n  }\n};\nfunction proxyRefs(objectWithRefs) {\n  return isReactive(objectWithRefs) ? objectWithRefs : new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\nclass CustomRefImpl {\n  constructor(factory) {\n    this.dep = void 0;\n    this.__v_isRef = true;\n    const { get, set } = factory(\n      () => trackRefValue(this),\n      () => triggerRefValue(this)\n    );\n    this._get = get;\n    this._set = set;\n  }\n  get value() {\n    return this._get();\n  }\n  set value(newVal) {\n    this._set(newVal);\n  }\n}\nfunction customRef(factory) {\n  return new CustomRefImpl(factory);\n}\nfunction toRefs(object) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isProxy(object)) {\n    console.warn(`toRefs() expects a reactive object but received a plain one.`);\n  }\n  const ret = isArray(object) ? new Array(object.length) : {};\n  for (const key in object) {\n    ret[key] = propertyToRef(object, key);\n  }\n  return ret;\n}\nclass ObjectRefImpl {\n  constructor(_object, _key, _defaultValue) {\n    this._object = _object;\n    this._key = _key;\n    this._defaultValue = _defaultValue;\n    this.__v_isRef = true;\n  }\n  get value() {\n    const val = this._object[this._key];\n    return val === void 0 ? this._defaultValue : val;\n  }\n  set value(newVal) {\n    this._object[this._key] = newVal;\n  }\n  get dep() {\n    return getDepFromReactive(toRaw(this._object), this._key);\n  }\n}\nclass GetterRefImpl {\n  constructor(_getter) {\n    this._getter = _getter;\n    this.__v_isRef = true;\n    this.__v_isReadonly = true;\n  }\n  get value() {\n    return this._getter();\n  }\n}\nfunction toRef(source, key, defaultValue) {\n  if (isRef(source)) {\n    return source;\n  } else if (isFunction(source)) {\n    return new GetterRefImpl(source);\n  } else if (isObject(source) && arguments.length > 1) {\n    return propertyToRef(source, key, defaultValue);\n  } else {\n    return ref(source);\n  }\n}\nfunction propertyToRef(source, key, defaultValue) {\n  const val = source[key];\n  return isRef(val) ? val : new ObjectRefImpl(source, key, defaultValue);\n}\n\nclass ComputedRefImpl {\n  constructor(getter, _setter, isReadonly, isSSR) {\n    this._setter = _setter;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this[\"__v_isReadonly\"] = false;\n    this._dirty = true;\n    this.effect = new ReactiveEffect(getter, () => {\n      if (!this._dirty) {\n        this._dirty = true;\n        triggerRefValue(this);\n      }\n    });\n    this.effect.computed = this;\n    this.effect.active = this._cacheable = !isSSR;\n    this[\"__v_isReadonly\"] = isReadonly;\n  }\n  get value() {\n    const self = toRaw(this);\n    trackRefValue(self);\n    if (self._dirty || !self._cacheable) {\n      self._dirty = false;\n      self._value = self.effect.run();\n    }\n    return self._value;\n  }\n  set value(newValue) {\n    this._setter(newValue);\n  }\n}\nfunction computed(getterOrOptions, debugOptions, isSSR = false) {\n  let getter;\n  let setter;\n  const onlyGetter = isFunction(getterOrOptions);\n  if (onlyGetter) {\n    getter = getterOrOptions;\n    setter = !!(process.env.NODE_ENV !== \"production\") ? () => {\n      console.warn(\"Write operation failed: computed value is readonly\");\n    } : NOOP;\n  } else {\n    getter = getterOrOptions.get;\n    setter = getterOrOptions.set;\n  }\n  const cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter, isSSR);\n  if (!!(process.env.NODE_ENV !== \"production\") && debugOptions && !isSSR) {\n    cRef.effect.onTrack = debugOptions.onTrack;\n    cRef.effect.onTrigger = debugOptions.onTrigger;\n  }\n  return cRef;\n}\n\nconst tick = /* @__PURE__ */ Promise.resolve();\nconst queue = [];\nlet queued = false;\nconst scheduler = (fn) => {\n  queue.push(fn);\n  if (!queued) {\n    queued = true;\n    tick.then(flush);\n  }\n};\nconst flush = () => {\n  for (let i = 0; i < queue.length; i++) {\n    queue[i]();\n  }\n  queue.length = 0;\n  queued = false;\n};\nclass DeferredComputedRefImpl {\n  constructor(getter) {\n    this.dep = void 0;\n    this._dirty = true;\n    this.__v_isRef = true;\n    this[\"__v_isReadonly\"] = true;\n    let compareTarget;\n    let hasCompareTarget = false;\n    let scheduled = false;\n    this.effect = new ReactiveEffect(getter, (computedTrigger) => {\n      if (this.dep) {\n        if (computedTrigger) {\n          compareTarget = this._value;\n          hasCompareTarget = true;\n        } else if (!scheduled) {\n          const valueToCompare = hasCompareTarget ? compareTarget : this._value;\n          scheduled = true;\n          hasCompareTarget = false;\n          scheduler(() => {\n            if (this.effect.active && this._get() !== valueToCompare) {\n              triggerRefValue(this);\n            }\n            scheduled = false;\n          });\n        }\n        for (const e of this.dep) {\n          if (e.computed instanceof DeferredComputedRefImpl) {\n            e.scheduler(\n              true\n              /* computedTrigger */\n            );\n          }\n        }\n      }\n      this._dirty = true;\n    });\n    this.effect.computed = this;\n  }\n  _get() {\n    if (this._dirty) {\n      this._dirty = false;\n      return this._value = this.effect.run();\n    }\n    return this._value;\n  }\n  get value() {\n    trackRefValue(this);\n    return toRaw(this)._get();\n  }\n}\nfunction deferredComputed(getter) {\n  return new DeferredComputedRefImpl(getter);\n}\n\nexport { EffectScope, ITERATE_KEY, ReactiveEffect, computed, customRef, deferredComputed, effect, effectScope, enableTracking, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, pauseTracking, proxyRefs, reactive, readonly, ref, resetTracking, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, track, trigger, triggerRef, unref };\n", "import { pauseTracking, resetTracking, isRef, toRaw, getCurrentScope, isShallow as isShallow$1, isReactive, ReactiveEffect, ref, shallowReadonly, track, reactive, shallowReactive, trigger, isProxy, proxyRefs, markRaw, EffectScope, computed as computed$1, isReadonly } from '@vue/reactivity';\nexport { EffectScope, ReactiveEffect, customRef, effect, effectScope, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, proxyRefs, reactive, readonly, ref, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, triggerRef, unref } from '@vue/reactivity';\nimport { isString, isFunction, isPromise, isArray, NOOP, getGlobalThis, extend, EMPTY_OBJ, toHandlerKey, looseToNumber, hyphenate, camelize, isObject, isOn, hasOwn, isModelListener, capitalize, toNumber, hasChanged, remove, isSet, isMap, isPlainObject, isBuiltInDirective, invokeArrayFns, isRegExp, isGloballyAllowed, NO, def, isReservedProp, EMPTY_ARR, toRawType, makeMap, normalizeClass, normalizeStyle } from '@vue/shared';\nexport { camelize, capitalize, normalizeClass, normalizeProps, normalizeStyle, toDisplayString, toHandlerKey } from '@vue/shared';\n\nconst stack = [];\nfunction pushWarningContext(vnode) {\n  stack.push(vnode);\n}\nfunction popWarningContext() {\n  stack.pop();\n}\nfunction warn(msg, ...args) {\n  if (!!!(process.env.NODE_ENV !== \"production\"))\n    return;\n  pauseTracking();\n  const instance = stack.length ? stack[stack.length - 1].component : null;\n  const appWarnHandler = instance && instance.appContext.config.warnHandler;\n  const trace = getComponentTrace();\n  if (appWarnHandler) {\n    callWithErrorHandling(\n      appWarnHandler,\n      instance,\n      11,\n      [\n        msg + args.join(\"\"),\n        instance && instance.proxy,\n        trace.map(\n          ({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`\n        ).join(\"\\n\"),\n        trace\n      ]\n    );\n  } else {\n    const warnArgs = [`[Vue warn]: ${msg}`, ...args];\n    if (trace.length && // avoid spamming console during tests\n    true) {\n      warnArgs.push(`\n`, ...formatTrace(trace));\n    }\n    console.warn(...warnArgs);\n  }\n  resetTracking();\n}\nfunction getComponentTrace() {\n  let currentVNode = stack[stack.length - 1];\n  if (!currentVNode) {\n    return [];\n  }\n  const normalizedStack = [];\n  while (currentVNode) {\n    const last = normalizedStack[0];\n    if (last && last.vnode === currentVNode) {\n      last.recurseCount++;\n    } else {\n      normalizedStack.push({\n        vnode: currentVNode,\n        recurseCount: 0\n      });\n    }\n    const parentInstance = currentVNode.component && currentVNode.component.parent;\n    currentVNode = parentInstance && parentInstance.vnode;\n  }\n  return normalizedStack;\n}\nfunction formatTrace(trace) {\n  const logs = [];\n  trace.forEach((entry, i) => {\n    logs.push(...i === 0 ? [] : [`\n`], ...formatTraceEntry(entry));\n  });\n  return logs;\n}\nfunction formatTraceEntry({ vnode, recurseCount }) {\n  const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\n  const isRoot = vnode.component ? vnode.component.parent == null : false;\n  const open = ` at <${formatComponentName(\n    vnode.component,\n    vnode.type,\n    isRoot\n  )}`;\n  const close = `>` + postfix;\n  return vnode.props ? [open, ...formatProps(vnode.props), close] : [open + close];\n}\nfunction formatProps(props) {\n  const res = [];\n  const keys = Object.keys(props);\n  keys.slice(0, 3).forEach((key) => {\n    res.push(...formatProp(key, props[key]));\n  });\n  if (keys.length > 3) {\n    res.push(` ...`);\n  }\n  return res;\n}\nfunction formatProp(key, value, raw) {\n  if (isString(value)) {\n    value = JSON.stringify(value);\n    return raw ? value : [`${key}=${value}`];\n  } else if (typeof value === \"number\" || typeof value === \"boolean\" || value == null) {\n    return raw ? value : [`${key}=${value}`];\n  } else if (isRef(value)) {\n    value = formatProp(key, toRaw(value.value), true);\n    return raw ? value : [`${key}=Ref<`, value, `>`];\n  } else if (isFunction(value)) {\n    return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\n  } else {\n    value = toRaw(value);\n    return raw ? value : [`${key}=`, value];\n  }\n}\nfunction assertNumber(val, type) {\n  if (!!!(process.env.NODE_ENV !== \"production\"))\n    return;\n  if (val === void 0) {\n    return;\n  } else if (typeof val !== \"number\") {\n    warn(`${type} is not a valid number - got ${JSON.stringify(val)}.`);\n  } else if (isNaN(val)) {\n    warn(`${type} is NaN - the duration expression might be incorrect.`);\n  }\n}\n\nconst ErrorTypeStrings = {\n  [\"sp\"]: \"serverPrefetch hook\",\n  [\"bc\"]: \"beforeCreate hook\",\n  [\"c\"]: \"created hook\",\n  [\"bm\"]: \"beforeMount hook\",\n  [\"m\"]: \"mounted hook\",\n  [\"bu\"]: \"beforeUpdate hook\",\n  [\"u\"]: \"updated\",\n  [\"bum\"]: \"beforeUnmount hook\",\n  [\"um\"]: \"unmounted hook\",\n  [\"a\"]: \"activated hook\",\n  [\"da\"]: \"deactivated hook\",\n  [\"ec\"]: \"errorCaptured hook\",\n  [\"rtc\"]: \"renderTracked hook\",\n  [\"rtg\"]: \"renderTriggered hook\",\n  [0]: \"setup function\",\n  [1]: \"render function\",\n  [2]: \"watcher getter\",\n  [3]: \"watcher callback\",\n  [4]: \"watcher cleanup function\",\n  [5]: \"native event handler\",\n  [6]: \"component event handler\",\n  [7]: \"vnode hook\",\n  [8]: \"directive hook\",\n  [9]: \"transition hook\",\n  [10]: \"app errorHandler\",\n  [11]: \"app warnHandler\",\n  [12]: \"ref function\",\n  [13]: \"async component loader\",\n  [14]: \"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core\"\n};\nfunction callWithErrorHandling(fn, instance, type, args) {\n  let res;\n  try {\n    res = args ? fn(...args) : fn();\n  } catch (err) {\n    handleError(err, instance, type);\n  }\n  return res;\n}\nfunction callWithAsyncErrorHandling(fn, instance, type, args) {\n  if (isFunction(fn)) {\n    const res = callWithErrorHandling(fn, instance, type, args);\n    if (res && isPromise(res)) {\n      res.catch((err) => {\n        handleError(err, instance, type);\n      });\n    }\n    return res;\n  }\n  const values = [];\n  for (let i = 0; i < fn.length; i++) {\n    values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));\n  }\n  return values;\n}\nfunction handleError(err, instance, type, throwInDev = true) {\n  const contextVNode = instance ? instance.vnode : null;\n  if (instance) {\n    let cur = instance.parent;\n    const exposedInstance = instance.proxy;\n    const errorInfo = !!(process.env.NODE_ENV !== \"production\") ? ErrorTypeStrings[type] : type;\n    while (cur) {\n      const errorCapturedHooks = cur.ec;\n      if (errorCapturedHooks) {\n        for (let i = 0; i < errorCapturedHooks.length; i++) {\n          if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\n            return;\n          }\n        }\n      }\n      cur = cur.parent;\n    }\n    const appErrorHandler = instance.appContext.config.errorHandler;\n    if (appErrorHandler) {\n      callWithErrorHandling(\n        appErrorHandler,\n        null,\n        10,\n        [err, exposedInstance, errorInfo]\n      );\n      return;\n    }\n  }\n  logError(err, type, contextVNode, throwInDev);\n}\nfunction logError(err, type, contextVNode, throwInDev = true) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const info = ErrorTypeStrings[type];\n    if (contextVNode) {\n      pushWarningContext(contextVNode);\n    }\n    warn(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\n    if (contextVNode) {\n      popWarningContext();\n    }\n    if (throwInDev) {\n      throw err;\n    } else {\n      console.error(err);\n    }\n  } else {\n    console.error(err);\n  }\n}\n\nlet isFlushing = false;\nlet isFlushPending = false;\nconst queue = [];\nlet flushIndex = 0;\nconst pendingPostFlushCbs = [];\nlet activePostFlushCbs = null;\nlet postFlushIndex = 0;\nconst resolvedPromise = /* @__PURE__ */ Promise.resolve();\nlet currentFlushPromise = null;\nconst RECURSION_LIMIT = 100;\nfunction nextTick(fn) {\n  const p = currentFlushPromise || resolvedPromise;\n  return fn ? p.then(this ? fn.bind(this) : fn) : p;\n}\nfunction findInsertionIndex(id) {\n  let start = flushIndex + 1;\n  let end = queue.length;\n  while (start < end) {\n    const middle = start + end >>> 1;\n    const middleJob = queue[middle];\n    const middleJobId = getId(middleJob);\n    if (middleJobId < id || middleJobId === id && middleJob.pre) {\n      start = middle + 1;\n    } else {\n      end = middle;\n    }\n  }\n  return start;\n}\nfunction queueJob(job) {\n  if (!queue.length || !queue.includes(\n    job,\n    isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex\n  )) {\n    if (job.id == null) {\n      queue.push(job);\n    } else {\n      queue.splice(findInsertionIndex(job.id), 0, job);\n    }\n    queueFlush();\n  }\n}\nfunction queueFlush() {\n  if (!isFlushing && !isFlushPending) {\n    isFlushPending = true;\n    currentFlushPromise = resolvedPromise.then(flushJobs);\n  }\n}\nfunction invalidateJob(job) {\n  const i = queue.indexOf(job);\n  if (i > flushIndex) {\n    queue.splice(i, 1);\n  }\n}\nfunction queuePostFlushCb(cb) {\n  if (!isArray(cb)) {\n    if (!activePostFlushCbs || !activePostFlushCbs.includes(\n      cb,\n      cb.allowRecurse ? postFlushIndex + 1 : postFlushIndex\n    )) {\n      pendingPostFlushCbs.push(cb);\n    }\n  } else {\n    pendingPostFlushCbs.push(...cb);\n  }\n  queueFlush();\n}\nfunction flushPreFlushCbs(seen, i = isFlushing ? flushIndex + 1 : 0) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  for (; i < queue.length; i++) {\n    const cb = queue[i];\n    if (cb && cb.pre) {\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, cb)) {\n        continue;\n      }\n      queue.splice(i, 1);\n      i--;\n      cb();\n    }\n  }\n}\nfunction flushPostFlushCbs(seen) {\n  if (pendingPostFlushCbs.length) {\n    const deduped = [...new Set(pendingPostFlushCbs)];\n    pendingPostFlushCbs.length = 0;\n    if (activePostFlushCbs) {\n      activePostFlushCbs.push(...deduped);\n      return;\n    }\n    activePostFlushCbs = deduped;\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      seen = seen || /* @__PURE__ */ new Map();\n    }\n    activePostFlushCbs.sort((a, b) => getId(a) - getId(b));\n    for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, activePostFlushCbs[postFlushIndex])) {\n        continue;\n      }\n      activePostFlushCbs[postFlushIndex]();\n    }\n    activePostFlushCbs = null;\n    postFlushIndex = 0;\n  }\n}\nconst getId = (job) => job.id == null ? Infinity : job.id;\nconst comparator = (a, b) => {\n  const diff = getId(a) - getId(b);\n  if (diff === 0) {\n    if (a.pre && !b.pre)\n      return -1;\n    if (b.pre && !a.pre)\n      return 1;\n  }\n  return diff;\n};\nfunction flushJobs(seen) {\n  isFlushPending = false;\n  isFlushing = true;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  queue.sort(comparator);\n  const check = !!(process.env.NODE_ENV !== \"production\") ? (job) => checkRecursiveUpdates(seen, job) : NOOP;\n  try {\n    for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\n      const job = queue[flushIndex];\n      if (job && job.active !== false) {\n        if (!!(process.env.NODE_ENV !== \"production\") && check(job)) {\n          continue;\n        }\n        callWithErrorHandling(job, null, 14);\n      }\n    }\n  } finally {\n    flushIndex = 0;\n    queue.length = 0;\n    flushPostFlushCbs(seen);\n    isFlushing = false;\n    currentFlushPromise = null;\n    if (queue.length || pendingPostFlushCbs.length) {\n      flushJobs(seen);\n    }\n  }\n}\nfunction checkRecursiveUpdates(seen, fn) {\n  if (!seen.has(fn)) {\n    seen.set(fn, 1);\n  } else {\n    const count = seen.get(fn);\n    if (count > RECURSION_LIMIT) {\n      const instance = fn.ownerInstance;\n      const componentName = instance && getComponentName(instance.type);\n      warn(\n        `Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`\n      );\n      return true;\n    } else {\n      seen.set(fn, count + 1);\n    }\n  }\n}\n\nlet isHmrUpdating = false;\nconst hmrDirtyComponents = /* @__PURE__ */ new Set();\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  getGlobalThis().__VUE_HMR_RUNTIME__ = {\n    createRecord: tryWrap(createRecord),\n    rerender: tryWrap(rerender),\n    reload: tryWrap(reload)\n  };\n}\nconst map = /* @__PURE__ */ new Map();\nfunction registerHMR(instance) {\n  const id = instance.type.__hmrId;\n  let record = map.get(id);\n  if (!record) {\n    createRecord(id, instance.type);\n    record = map.get(id);\n  }\n  record.instances.add(instance);\n}\nfunction unregisterHMR(instance) {\n  map.get(instance.type.__hmrId).instances.delete(instance);\n}\nfunction createRecord(id, initialDef) {\n  if (map.has(id)) {\n    return false;\n  }\n  map.set(id, {\n    initialDef: normalizeClassComponent(initialDef),\n    instances: /* @__PURE__ */ new Set()\n  });\n  return true;\n}\nfunction normalizeClassComponent(component) {\n  return isClassComponent(component) ? component.__vccOpts : component;\n}\nfunction rerender(id, newRender) {\n  const record = map.get(id);\n  if (!record) {\n    return;\n  }\n  record.initialDef.render = newRender;\n  [...record.instances].forEach((instance) => {\n    if (newRender) {\n      instance.render = newRender;\n      normalizeClassComponent(instance.type).render = newRender;\n    }\n    instance.renderCache = [];\n    isHmrUpdating = true;\n    instance.update();\n    isHmrUpdating = false;\n  });\n}\nfunction reload(id, newComp) {\n  const record = map.get(id);\n  if (!record)\n    return;\n  newComp = normalizeClassComponent(newComp);\n  updateComponentDef(record.initialDef, newComp);\n  const instances = [...record.instances];\n  for (const instance of instances) {\n    const oldComp = normalizeClassComponent(instance.type);\n    if (!hmrDirtyComponents.has(oldComp)) {\n      if (oldComp !== record.initialDef) {\n        updateComponentDef(oldComp, newComp);\n      }\n      hmrDirtyComponents.add(oldComp);\n    }\n    instance.appContext.propsCache.delete(instance.type);\n    instance.appContext.emitsCache.delete(instance.type);\n    instance.appContext.optionsCache.delete(instance.type);\n    if (instance.ceReload) {\n      hmrDirtyComponents.add(oldComp);\n      instance.ceReload(newComp.styles);\n      hmrDirtyComponents.delete(oldComp);\n    } else if (instance.parent) {\n      queueJob(instance.parent.update);\n    } else if (instance.appContext.reload) {\n      instance.appContext.reload();\n    } else if (typeof window !== \"undefined\") {\n      window.location.reload();\n    } else {\n      console.warn(\n        \"[HMR] Root or manually mounted instance modified. Full reload required.\"\n      );\n    }\n  }\n  queuePostFlushCb(() => {\n    for (const instance of instances) {\n      hmrDirtyComponents.delete(\n        normalizeClassComponent(instance.type)\n      );\n    }\n  });\n}\nfunction updateComponentDef(oldComp, newComp) {\n  extend(oldComp, newComp);\n  for (const key in oldComp) {\n    if (key !== \"__file\" && !(key in newComp)) {\n      delete oldComp[key];\n    }\n  }\n}\nfunction tryWrap(fn) {\n  return (id, arg) => {\n    try {\n      return fn(id, arg);\n    } catch (e) {\n      console.error(e);\n      console.warn(\n        `[HMR] Something went wrong during Vue component hot-reload. Full reload required.`\n      );\n    }\n  };\n}\n\nlet devtools;\nlet buffer = [];\nlet devtoolsNotInstalled = false;\nfunction emit$1(event, ...args) {\n  if (devtools) {\n    devtools.emit(event, ...args);\n  } else if (!devtoolsNotInstalled) {\n    buffer.push({ event, args });\n  }\n}\nfunction setDevtoolsHook(hook, target) {\n  var _a, _b;\n  devtools = hook;\n  if (devtools) {\n    devtools.enabled = true;\n    buffer.forEach(({ event, args }) => devtools.emit(event, ...args));\n    buffer = [];\n  } else if (\n    // handle late devtools injection - only do this if we are in an actual\n    // browser environment to avoid the timer handle stalling test runner exit\n    // (#4815)\n    typeof window !== \"undefined\" && // some envs mock window but not fully\n    window.HTMLElement && // also exclude jsdom\n    !((_b = (_a = window.navigator) == null ? void 0 : _a.userAgent) == null ? void 0 : _b.includes(\"jsdom\"))\n  ) {\n    const replay = target.__VUE_DEVTOOLS_HOOK_REPLAY__ = target.__VUE_DEVTOOLS_HOOK_REPLAY__ || [];\n    replay.push((newHook) => {\n      setDevtoolsHook(newHook, target);\n    });\n    setTimeout(() => {\n      if (!devtools) {\n        target.__VUE_DEVTOOLS_HOOK_REPLAY__ = null;\n        devtoolsNotInstalled = true;\n        buffer = [];\n      }\n    }, 3e3);\n  } else {\n    devtoolsNotInstalled = true;\n    buffer = [];\n  }\n}\nfunction devtoolsInitApp(app, version) {\n  emit$1(\"app:init\" /* APP_INIT */, app, version, {\n    Fragment,\n    Text,\n    Comment,\n    Static\n  });\n}\nfunction devtoolsUnmountApp(app) {\n  emit$1(\"app:unmount\" /* APP_UNMOUNT */, app);\n}\nconst devtoolsComponentAdded = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:added\" /* COMPONENT_ADDED */\n);\nconst devtoolsComponentUpdated = /* @__PURE__ */ createDevtoolsComponentHook(\"component:updated\" /* COMPONENT_UPDATED */);\nconst _devtoolsComponentRemoved = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:removed\" /* COMPONENT_REMOVED */\n);\nconst devtoolsComponentRemoved = (component) => {\n  if (devtools && typeof devtools.cleanupBuffer === \"function\" && // remove the component if it wasn't buffered\n  !devtools.cleanupBuffer(component)) {\n    _devtoolsComponentRemoved(component);\n  }\n};\nfunction createDevtoolsComponentHook(hook) {\n  return (component) => {\n    emit$1(\n      hook,\n      component.appContext.app,\n      component.uid,\n      component.parent ? component.parent.uid : void 0,\n      component\n    );\n  };\n}\nconst devtoolsPerfStart = /* @__PURE__ */ createDevtoolsPerformanceHook(\n  \"perf:start\" /* PERFORMANCE_START */\n);\nconst devtoolsPerfEnd = /* @__PURE__ */ createDevtoolsPerformanceHook(\n  \"perf:end\" /* PERFORMANCE_END */\n);\nfunction createDevtoolsPerformanceHook(hook) {\n  return (component, type, time) => {\n    emit$1(hook, component.appContext.app, component.uid, component, type, time);\n  };\n}\nfunction devtoolsComponentEmit(component, event, params) {\n  emit$1(\n    \"component:emit\" /* COMPONENT_EMIT */,\n    component.appContext.app,\n    component,\n    event,\n    params\n  );\n}\n\nfunction emit(instance, event, ...rawArgs) {\n  if (instance.isUnmounted)\n    return;\n  const props = instance.vnode.props || EMPTY_OBJ;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const {\n      emitsOptions,\n      propsOptions: [propsOptions]\n    } = instance;\n    if (emitsOptions) {\n      if (!(event in emitsOptions) && true) {\n        if (!propsOptions || !(toHandlerKey(event) in propsOptions)) {\n          warn(\n            `Component emitted event \"${event}\" but it is neither declared in the emits option nor as an \"${toHandlerKey(event)}\" prop.`\n          );\n        }\n      } else {\n        const validator = emitsOptions[event];\n        if (isFunction(validator)) {\n          const isValid = validator(...rawArgs);\n          if (!isValid) {\n            warn(\n              `Invalid event arguments: event validation failed for event \"${event}\".`\n            );\n          }\n        }\n      }\n    }\n  }\n  let args = rawArgs;\n  const isModelListener = event.startsWith(\"update:\");\n  const modelArg = isModelListener && event.slice(7);\n  if (modelArg && modelArg in props) {\n    const modifiersKey = `${modelArg === \"modelValue\" ? \"model\" : modelArg}Modifiers`;\n    const { number, trim } = props[modifiersKey] || EMPTY_OBJ;\n    if (trim) {\n      args = rawArgs.map((a) => isString(a) ? a.trim() : a);\n    }\n    if (number) {\n      args = rawArgs.map(looseToNumber);\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsComponentEmit(instance, event, args);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const lowerCaseEvent = event.toLowerCase();\n    if (lowerCaseEvent !== event && props[toHandlerKey(lowerCaseEvent)]) {\n      warn(\n        `Event \"${lowerCaseEvent}\" is emitted in component ${formatComponentName(\n          instance,\n          instance.type\n        )} but the handler is registered for \"${event}\". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use \"${hyphenate(event)}\" instead of \"${event}\".`\n      );\n    }\n  }\n  let handlerName;\n  let handler = props[handlerName = toHandlerKey(event)] || // also try camelCase event handler (#2249)\n  props[handlerName = toHandlerKey(camelize(event))];\n  if (!handler && isModelListener) {\n    handler = props[handlerName = toHandlerKey(hyphenate(event))];\n  }\n  if (handler) {\n    callWithAsyncErrorHandling(\n      handler,\n      instance,\n      6,\n      args\n    );\n  }\n  const onceHandler = props[handlerName + `Once`];\n  if (onceHandler) {\n    if (!instance.emitted) {\n      instance.emitted = {};\n    } else if (instance.emitted[handlerName]) {\n      return;\n    }\n    instance.emitted[handlerName] = true;\n    callWithAsyncErrorHandling(\n      onceHandler,\n      instance,\n      6,\n      args\n    );\n  }\n}\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.emitsCache;\n  const cached = cache.get(comp);\n  if (cached !== void 0) {\n    return cached;\n  }\n  const raw = comp.emits;\n  let normalized = {};\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendEmits = (raw2) => {\n      const normalizedFromExtend = normalizeEmitsOptions(raw2, appContext, true);\n      if (normalizedFromExtend) {\n        hasExtends = true;\n        extend(normalized, normalizedFromExtend);\n      }\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendEmits);\n    }\n    if (comp.extends) {\n      extendEmits(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendEmits);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, null);\n    }\n    return null;\n  }\n  if (isArray(raw)) {\n    raw.forEach((key) => normalized[key] = null);\n  } else {\n    extend(normalized, raw);\n  }\n  if (isObject(comp)) {\n    cache.set(comp, normalized);\n  }\n  return normalized;\n}\nfunction isEmitListener(options, key) {\n  if (!options || !isOn(key)) {\n    return false;\n  }\n  key = key.slice(2).replace(/Once$/, \"\");\n  return hasOwn(options, key[0].toLowerCase() + key.slice(1)) || hasOwn(options, hyphenate(key)) || hasOwn(options, key);\n}\n\nlet currentRenderingInstance = null;\nlet currentScopeId = null;\nfunction setCurrentRenderingInstance(instance) {\n  const prev = currentRenderingInstance;\n  currentRenderingInstance = instance;\n  currentScopeId = instance && instance.type.__scopeId || null;\n  return prev;\n}\nfunction pushScopeId(id) {\n  currentScopeId = id;\n}\nfunction popScopeId() {\n  currentScopeId = null;\n}\nconst withScopeId = (_id) => withCtx;\nfunction withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot) {\n  if (!ctx)\n    return fn;\n  if (fn._n) {\n    return fn;\n  }\n  const renderFnWithContext = (...args) => {\n    if (renderFnWithContext._d) {\n      setBlockTracking(-1);\n    }\n    const prevInstance = setCurrentRenderingInstance(ctx);\n    let res;\n    try {\n      res = fn(...args);\n    } finally {\n      setCurrentRenderingInstance(prevInstance);\n      if (renderFnWithContext._d) {\n        setBlockTracking(1);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentUpdated(ctx);\n    }\n    return res;\n  };\n  renderFnWithContext._n = true;\n  renderFnWithContext._c = true;\n  renderFnWithContext._d = true;\n  return renderFnWithContext;\n}\n\nlet accessedAttrs = false;\nfunction markAttrsAccessed() {\n  accessedAttrs = true;\n}\nfunction renderComponentRoot(instance) {\n  const {\n    type: Component,\n    vnode,\n    proxy,\n    withProxy,\n    props,\n    propsOptions: [propsOptions],\n    slots,\n    attrs,\n    emit,\n    render,\n    renderCache,\n    data,\n    setupState,\n    ctx,\n    inheritAttrs\n  } = instance;\n  let result;\n  let fallthroughAttrs;\n  const prev = setCurrentRenderingInstance(instance);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    accessedAttrs = false;\n  }\n  try {\n    if (vnode.shapeFlag & 4) {\n      const proxyToUse = withProxy || proxy;\n      const thisProxy = !!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup ? new Proxy(proxyToUse, {\n        get(target, key, receiver) {\n          warn(\n            `Property '${String(\n              key\n            )}' was accessed via 'this'. Avoid using 'this' in templates.`\n          );\n          return Reflect.get(target, key, receiver);\n        }\n      }) : proxyToUse;\n      result = normalizeVNode(\n        render.call(\n          thisProxy,\n          proxyToUse,\n          renderCache,\n          props,\n          setupState,\n          data,\n          ctx\n        )\n      );\n      fallthroughAttrs = attrs;\n    } else {\n      const render2 = Component;\n      if (!!(process.env.NODE_ENV !== \"production\") && attrs === props) {\n        markAttrsAccessed();\n      }\n      result = normalizeVNode(\n        render2.length > 1 ? render2(\n          props,\n          !!(process.env.NODE_ENV !== \"production\") ? {\n            get attrs() {\n              markAttrsAccessed();\n              return attrs;\n            },\n            slots,\n            emit\n          } : { attrs, slots, emit }\n        ) : render2(\n          props,\n          null\n          /* we know it doesn't need it */\n        )\n      );\n      fallthroughAttrs = Component.props ? attrs : getFunctionalFallthrough(attrs);\n    }\n  } catch (err) {\n    blockStack.length = 0;\n    handleError(err, instance, 1);\n    result = createVNode(Comment);\n  }\n  let root = result;\n  let setRoot = void 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && result.patchFlag > 0 && result.patchFlag & 2048) {\n    [root, setRoot] = getChildRoot(result);\n  }\n  if (fallthroughAttrs && inheritAttrs !== false) {\n    const keys = Object.keys(fallthroughAttrs);\n    const { shapeFlag } = root;\n    if (keys.length) {\n      if (shapeFlag & (1 | 6)) {\n        if (propsOptions && keys.some(isModelListener)) {\n          fallthroughAttrs = filterModelListeners(\n            fallthroughAttrs,\n            propsOptions\n          );\n        }\n        root = cloneVNode(root, fallthroughAttrs);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !accessedAttrs && root.type !== Comment) {\n        const allAttrs = Object.keys(attrs);\n        const eventAttrs = [];\n        const extraAttrs = [];\n        for (let i = 0, l = allAttrs.length; i < l; i++) {\n          const key = allAttrs[i];\n          if (isOn(key)) {\n            if (!isModelListener(key)) {\n              eventAttrs.push(key[2].toLowerCase() + key.slice(3));\n            }\n          } else {\n            extraAttrs.push(key);\n          }\n        }\n        if (extraAttrs.length) {\n          warn(\n            `Extraneous non-props attributes (${extraAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`\n          );\n        }\n        if (eventAttrs.length) {\n          warn(\n            `Extraneous non-emits event listeners (${eventAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the \"emits\" option.`\n          );\n        }\n      }\n    }\n  }\n  if (vnode.dirs) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn(\n        `Runtime directive used on component with non-element root node. The directives will not function as intended.`\n      );\n    }\n    root = cloneVNode(root);\n    root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\n  }\n  if (vnode.transition) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn(\n        `Component inside <Transition> renders non-element root node that cannot be animated.`\n      );\n    }\n    root.transition = vnode.transition;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && setRoot) {\n    setRoot(root);\n  } else {\n    result = root;\n  }\n  setCurrentRenderingInstance(prev);\n  return result;\n}\nconst getChildRoot = (vnode) => {\n  const rawChildren = vnode.children;\n  const dynamicChildren = vnode.dynamicChildren;\n  const childRoot = filterSingleRoot(rawChildren);\n  if (!childRoot) {\n    return [vnode, void 0];\n  }\n  const index = rawChildren.indexOf(childRoot);\n  const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;\n  const setRoot = (updatedRoot) => {\n    rawChildren[index] = updatedRoot;\n    if (dynamicChildren) {\n      if (dynamicIndex > -1) {\n        dynamicChildren[dynamicIndex] = updatedRoot;\n      } else if (updatedRoot.patchFlag > 0) {\n        vnode.dynamicChildren = [...dynamicChildren, updatedRoot];\n      }\n    }\n  };\n  return [normalizeVNode(childRoot), setRoot];\n};\nfunction filterSingleRoot(children) {\n  let singleRoot;\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (isVNode(child)) {\n      if (child.type !== Comment || child.children === \"v-if\") {\n        if (singleRoot) {\n          return;\n        } else {\n          singleRoot = child;\n        }\n      }\n    } else {\n      return;\n    }\n  }\n  return singleRoot;\n}\nconst getFunctionalFallthrough = (attrs) => {\n  let res;\n  for (const key in attrs) {\n    if (key === \"class\" || key === \"style\" || isOn(key)) {\n      (res || (res = {}))[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst filterModelListeners = (attrs, props) => {\n  const res = {};\n  for (const key in attrs) {\n    if (!isModelListener(key) || !(key.slice(9) in props)) {\n      res[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst isElementRoot = (vnode) => {\n  return vnode.shapeFlag & (6 | 1) || vnode.type === Comment;\n};\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\n  const { props: prevProps, children: prevChildren, component } = prevVNode;\n  const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\n  const emits = component.emitsOptions;\n  if (!!(process.env.NODE_ENV !== \"production\") && (prevChildren || nextChildren) && isHmrUpdating) {\n    return true;\n  }\n  if (nextVNode.dirs || nextVNode.transition) {\n    return true;\n  }\n  if (optimized && patchFlag >= 0) {\n    if (patchFlag & 1024) {\n      return true;\n    }\n    if (patchFlag & 16) {\n      if (!prevProps) {\n        return !!nextProps;\n      }\n      return hasPropsChanged(prevProps, nextProps, emits);\n    } else if (patchFlag & 8) {\n      const dynamicProps = nextVNode.dynamicProps;\n      for (let i = 0; i < dynamicProps.length; i++) {\n        const key = dynamicProps[i];\n        if (nextProps[key] !== prevProps[key] && !isEmitListener(emits, key)) {\n          return true;\n        }\n      }\n    }\n  } else {\n    if (prevChildren || nextChildren) {\n      if (!nextChildren || !nextChildren.$stable) {\n        return true;\n      }\n    }\n    if (prevProps === nextProps) {\n      return false;\n    }\n    if (!prevProps) {\n      return !!nextProps;\n    }\n    if (!nextProps) {\n      return true;\n    }\n    return hasPropsChanged(prevProps, nextProps, emits);\n  }\n  return false;\n}\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\n  const nextKeys = Object.keys(nextProps);\n  if (nextKeys.length !== Object.keys(prevProps).length) {\n    return true;\n  }\n  for (let i = 0; i < nextKeys.length; i++) {\n    const key = nextKeys[i];\n    if (nextProps[key] !== prevProps[key] && !isEmitListener(emitsOptions, key)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction updateHOCHostEl({ vnode, parent }, el) {\n  while (parent && parent.subTree === vnode) {\n    (vnode = parent.vnode).el = el;\n    parent = parent.parent;\n  }\n}\n\nconst COMPONENTS = \"components\";\nconst DIRECTIVES = \"directives\";\nfunction resolveComponent(name, maybeSelfReference) {\n  return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;\n}\nconst NULL_DYNAMIC_COMPONENT = Symbol.for(\"v-ndc\");\nfunction resolveDynamicComponent(component) {\n  if (isString(component)) {\n    return resolveAsset(COMPONENTS, component, false) || component;\n  } else {\n    return component || NULL_DYNAMIC_COMPONENT;\n  }\n}\nfunction resolveDirective(name) {\n  return resolveAsset(DIRECTIVES, name);\n}\nfunction resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {\n  const instance = currentRenderingInstance || currentInstance;\n  if (instance) {\n    const Component = instance.type;\n    if (type === COMPONENTS) {\n      const selfName = getComponentName(\n        Component,\n        false\n        /* do not include inferred name to avoid breaking existing code */\n      );\n      if (selfName && (selfName === name || selfName === camelize(name) || selfName === capitalize(camelize(name)))) {\n        return Component;\n      }\n    }\n    const res = (\n      // local registration\n      // check instance[type] first which is resolved for options API\n      resolve(instance[type] || Component[type], name) || // global registration\n      resolve(instance.appContext[type], name)\n    );\n    if (!res && maybeSelfReference) {\n      return Component;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && warnMissing && !res) {\n      const extra = type === COMPONENTS ? `\nIf this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.` : ``;\n      warn(`Failed to resolve ${type.slice(0, -1)}: ${name}${extra}`);\n    }\n    return res;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(\n      `resolve${capitalize(type.slice(0, -1))} can only be used in render() or setup().`\n    );\n  }\n}\nfunction resolve(registry, name) {\n  return registry && (registry[name] || registry[camelize(name)] || registry[capitalize(camelize(name))]);\n}\n\nconst isSuspense = (type) => type.__isSuspense;\nconst SuspenseImpl = {\n  name: \"Suspense\",\n  // In order to make Suspense tree-shakable, we need to avoid importing it\n  // directly in the renderer. The renderer checks for the __isSuspense flag\n  // on a vnode's type and calls the `process` method, passing in renderer\n  // internals.\n  __isSuspense: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals) {\n    if (n1 == null) {\n      mountSuspense(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    } else {\n      patchSuspense(\n        n1,\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        isSVG,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    }\n  },\n  hydrate: hydrateSuspense,\n  create: createSuspenseBoundary,\n  normalize: normalizeSuspenseChildren\n};\nconst Suspense = SuspenseImpl ;\nfunction triggerEvent(vnode, name) {\n  const eventListener = vnode.props && vnode.props[name];\n  if (isFunction(eventListener)) {\n    eventListener();\n  }\n}\nfunction mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals) {\n  const {\n    p: patch,\n    o: { createElement }\n  } = rendererInternals;\n  const hiddenContainer = createElement(\"div\");\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    container,\n    hiddenContainer,\n    anchor,\n    isSVG,\n    slotScopeIds,\n    optimized,\n    rendererInternals\n  );\n  patch(\n    null,\n    suspense.pendingBranch = vnode.ssContent,\n    hiddenContainer,\n    null,\n    parentComponent,\n    suspense,\n    isSVG,\n    slotScopeIds\n  );\n  if (suspense.deps > 0) {\n    triggerEvent(vnode, \"onPending\");\n    triggerEvent(vnode, \"onFallback\");\n    patch(\n      null,\n      vnode.ssFallback,\n      container,\n      anchor,\n      parentComponent,\n      null,\n      // fallback tree will not have suspense context\n      isSVG,\n      slotScopeIds\n    );\n    setActiveBranch(suspense, vnode.ssFallback);\n  } else {\n    suspense.resolve(false, true);\n  }\n}\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, isSVG, slotScopeIds, optimized, { p: patch, um: unmount, o: { createElement } }) {\n  const suspense = n2.suspense = n1.suspense;\n  suspense.vnode = n2;\n  n2.el = n1.el;\n  const newBranch = n2.ssContent;\n  const newFallback = n2.ssFallback;\n  const { activeBranch, pendingBranch, isInFallback, isHydrating } = suspense;\n  if (pendingBranch) {\n    suspense.pendingBranch = newBranch;\n    if (isSameVNodeType(newBranch, pendingBranch)) {\n      patch(\n        pendingBranch,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else if (isInFallback) {\n        patch(\n          activeBranch,\n          newFallback,\n          container,\n          anchor,\n          parentComponent,\n          null,\n          // fallback tree will not have suspense context\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        setActiveBranch(suspense, newFallback);\n      }\n    } else {\n      suspense.pendingId++;\n      if (isHydrating) {\n        suspense.isHydrating = false;\n        suspense.activeBranch = pendingBranch;\n      } else {\n        unmount(pendingBranch, parentComponent, suspense);\n      }\n      suspense.deps = 0;\n      suspense.effects.length = 0;\n      suspense.hiddenContainer = createElement(\"div\");\n      if (isInFallback) {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        } else {\n          patch(\n            activeBranch,\n            newFallback,\n            container,\n            anchor,\n            parentComponent,\n            null,\n            // fallback tree will not have suspense context\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n          setActiveBranch(suspense, newFallback);\n        }\n      } else if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n        patch(\n          activeBranch,\n          newBranch,\n          container,\n          anchor,\n          parentComponent,\n          suspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        suspense.resolve(true);\n      } else {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        }\n      }\n    }\n  } else {\n    if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n      patch(\n        activeBranch,\n        newBranch,\n        container,\n        anchor,\n        parentComponent,\n        suspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n      setActiveBranch(suspense, newBranch);\n    } else {\n      triggerEvent(n2, \"onPending\");\n      suspense.pendingBranch = newBranch;\n      suspense.pendingId++;\n      patch(\n        null,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else {\n        const { timeout, pendingId } = suspense;\n        if (timeout > 0) {\n          setTimeout(() => {\n            if (suspense.pendingId === pendingId) {\n              suspense.fallback(newFallback);\n            }\n          }, timeout);\n        } else if (timeout === 0) {\n          suspense.fallback(newFallback);\n        }\n      }\n    }\n  }\n}\nlet hasWarned = false;\nfunction createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, isSVG, slotScopeIds, optimized, rendererInternals, isHydrating = false) {\n  if (!!(process.env.NODE_ENV !== \"production\") && true && !hasWarned) {\n    hasWarned = true;\n    console[console.info ? \"info\" : \"log\"](\n      `<Suspense> is an experimental feature and its API will likely change.`\n    );\n  }\n  const {\n    p: patch,\n    m: move,\n    um: unmount,\n    n: next,\n    o: { parentNode, remove }\n  } = rendererInternals;\n  let parentSuspenseId;\n  const isSuspensible = isVNodeSuspensible(vnode);\n  if (isSuspensible) {\n    if (parentSuspense == null ? void 0 : parentSuspense.pendingBranch) {\n      parentSuspenseId = parentSuspense.pendingId;\n      parentSuspense.deps++;\n    }\n  }\n  const timeout = vnode.props ? toNumber(vnode.props.timeout) : void 0;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(timeout, `Suspense timeout`);\n  }\n  const suspense = {\n    vnode,\n    parent: parentSuspense,\n    parentComponent,\n    isSVG,\n    container,\n    hiddenContainer,\n    anchor,\n    deps: 0,\n    pendingId: 0,\n    timeout: typeof timeout === \"number\" ? timeout : -1,\n    activeBranch: null,\n    pendingBranch: null,\n    isInFallback: true,\n    isHydrating,\n    isUnmounted: false,\n    effects: [],\n    resolve(resume = false, sync = false) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (!resume && !suspense.pendingBranch) {\n          throw new Error(\n            `suspense.resolve() is called without a pending branch.`\n          );\n        }\n        if (suspense.isUnmounted) {\n          throw new Error(\n            `suspense.resolve() is called on an already unmounted suspense boundary.`\n          );\n        }\n      }\n      const {\n        vnode: vnode2,\n        activeBranch,\n        pendingBranch,\n        pendingId,\n        effects,\n        parentComponent: parentComponent2,\n        container: container2\n      } = suspense;\n      let delayEnter = false;\n      if (suspense.isHydrating) {\n        suspense.isHydrating = false;\n      } else if (!resume) {\n        delayEnter = activeBranch && pendingBranch.transition && pendingBranch.transition.mode === \"out-in\";\n        if (delayEnter) {\n          activeBranch.transition.afterLeave = () => {\n            if (pendingId === suspense.pendingId) {\n              move(pendingBranch, container2, anchor2, 0);\n              queuePostFlushCb(effects);\n            }\n          };\n        }\n        let { anchor: anchor2 } = suspense;\n        if (activeBranch) {\n          anchor2 = next(activeBranch);\n          unmount(activeBranch, parentComponent2, suspense, true);\n        }\n        if (!delayEnter) {\n          move(pendingBranch, container2, anchor2, 0);\n        }\n      }\n      setActiveBranch(suspense, pendingBranch);\n      suspense.pendingBranch = null;\n      suspense.isInFallback = false;\n      let parent = suspense.parent;\n      let hasUnresolvedAncestor = false;\n      while (parent) {\n        if (parent.pendingBranch) {\n          parent.effects.push(...effects);\n          hasUnresolvedAncestor = true;\n          break;\n        }\n        parent = parent.parent;\n      }\n      if (!hasUnresolvedAncestor && !delayEnter) {\n        queuePostFlushCb(effects);\n      }\n      suspense.effects = [];\n      if (isSuspensible) {\n        if (parentSuspense && parentSuspense.pendingBranch && parentSuspenseId === parentSuspense.pendingId) {\n          parentSuspense.deps--;\n          if (parentSuspense.deps === 0 && !sync) {\n            parentSuspense.resolve();\n          }\n        }\n      }\n      triggerEvent(vnode2, \"onResolve\");\n    },\n    fallback(fallbackVNode) {\n      if (!suspense.pendingBranch) {\n        return;\n      }\n      const { vnode: vnode2, activeBranch, parentComponent: parentComponent2, container: container2, isSVG: isSVG2 } = suspense;\n      triggerEvent(vnode2, \"onFallback\");\n      const anchor2 = next(activeBranch);\n      const mountFallback = () => {\n        if (!suspense.isInFallback) {\n          return;\n        }\n        patch(\n          null,\n          fallbackVNode,\n          container2,\n          anchor2,\n          parentComponent2,\n          null,\n          // fallback tree will not have suspense context\n          isSVG2,\n          slotScopeIds,\n          optimized\n        );\n        setActiveBranch(suspense, fallbackVNode);\n      };\n      const delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === \"out-in\";\n      if (delayEnter) {\n        activeBranch.transition.afterLeave = mountFallback;\n      }\n      suspense.isInFallback = true;\n      unmount(\n        activeBranch,\n        parentComponent2,\n        null,\n        // no suspense so unmount hooks fire now\n        true\n        // shouldRemove\n      );\n      if (!delayEnter) {\n        mountFallback();\n      }\n    },\n    move(container2, anchor2, type) {\n      suspense.activeBranch && move(suspense.activeBranch, container2, anchor2, type);\n      suspense.container = container2;\n    },\n    next() {\n      return suspense.activeBranch && next(suspense.activeBranch);\n    },\n    registerDep(instance, setupRenderEffect) {\n      const isInPendingSuspense = !!suspense.pendingBranch;\n      if (isInPendingSuspense) {\n        suspense.deps++;\n      }\n      const hydratedEl = instance.vnode.el;\n      instance.asyncDep.catch((err) => {\n        handleError(err, instance, 0);\n      }).then((asyncSetupResult) => {\n        if (instance.isUnmounted || suspense.isUnmounted || suspense.pendingId !== instance.suspenseId) {\n          return;\n        }\n        instance.asyncResolved = true;\n        const { vnode: vnode2 } = instance;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(vnode2);\n        }\n        handleSetupResult(instance, asyncSetupResult, false);\n        if (hydratedEl) {\n          vnode2.el = hydratedEl;\n        }\n        const placeholder = !hydratedEl && instance.subTree.el;\n        setupRenderEffect(\n          instance,\n          vnode2,\n          // component may have been moved before resolve.\n          // if this is not a hydration, instance.subTree will be the comment\n          // placeholder.\n          parentNode(hydratedEl || instance.subTree.el),\n          // anchor will not be used if this is hydration, so only need to\n          // consider the comment placeholder case.\n          hydratedEl ? null : next(instance.subTree),\n          suspense,\n          isSVG,\n          optimized\n        );\n        if (placeholder) {\n          remove(placeholder);\n        }\n        updateHOCHostEl(instance, vnode2.el);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        if (isInPendingSuspense && --suspense.deps === 0) {\n          suspense.resolve();\n        }\n      });\n    },\n    unmount(parentSuspense2, doRemove) {\n      suspense.isUnmounted = true;\n      if (suspense.activeBranch) {\n        unmount(\n          suspense.activeBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n      if (suspense.pendingBranch) {\n        unmount(\n          suspense.pendingBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n    }\n  };\n  return suspense;\n}\nfunction hydrateSuspense(node, vnode, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals, hydrateNode) {\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    node.parentNode,\n    document.createElement(\"div\"),\n    null,\n    isSVG,\n    slotScopeIds,\n    optimized,\n    rendererInternals,\n    true\n    /* hydrating */\n  );\n  const result = hydrateNode(\n    node,\n    suspense.pendingBranch = vnode.ssContent,\n    parentComponent,\n    suspense,\n    slotScopeIds,\n    optimized\n  );\n  if (suspense.deps === 0) {\n    suspense.resolve(false, true);\n  }\n  return result;\n}\nfunction normalizeSuspenseChildren(vnode) {\n  const { shapeFlag, children } = vnode;\n  const isSlotChildren = shapeFlag & 32;\n  vnode.ssContent = normalizeSuspenseSlot(\n    isSlotChildren ? children.default : children\n  );\n  vnode.ssFallback = isSlotChildren ? normalizeSuspenseSlot(children.fallback) : createVNode(Comment);\n}\nfunction normalizeSuspenseSlot(s) {\n  let block;\n  if (isFunction(s)) {\n    const trackBlock = isBlockTreeEnabled && s._c;\n    if (trackBlock) {\n      s._d = false;\n      openBlock();\n    }\n    s = s();\n    if (trackBlock) {\n      s._d = true;\n      block = currentBlock;\n      closeBlock();\n    }\n  }\n  if (isArray(s)) {\n    const singleChild = filterSingleRoot(s);\n    if (!!(process.env.NODE_ENV !== \"production\") && !singleChild && s.filter((child) => child !== NULL_DYNAMIC_COMPONENT).length > 0) {\n      warn(`<Suspense> slots expect a single root node.`);\n    }\n    s = singleChild;\n  }\n  s = normalizeVNode(s);\n  if (block && !s.dynamicChildren) {\n    s.dynamicChildren = block.filter((c) => c !== s);\n  }\n  return s;\n}\nfunction queueEffectWithSuspense(fn, suspense) {\n  if (suspense && suspense.pendingBranch) {\n    if (isArray(fn)) {\n      suspense.effects.push(...fn);\n    } else {\n      suspense.effects.push(fn);\n    }\n  } else {\n    queuePostFlushCb(fn);\n  }\n}\nfunction setActiveBranch(suspense, branch) {\n  suspense.activeBranch = branch;\n  const { vnode, parentComponent } = suspense;\n  const el = vnode.el = branch.el;\n  if (parentComponent && parentComponent.subTree === vnode) {\n    parentComponent.vnode.el = el;\n    updateHOCHostEl(parentComponent, el);\n  }\n}\nfunction isVNodeSuspensible(vnode) {\n  var _a;\n  return ((_a = vnode.props) == null ? void 0 : _a.suspensible) != null && vnode.props.suspensible !== false;\n}\n\nfunction watchEffect(effect, options) {\n  return doWatch(effect, null, options);\n}\nfunction watchPostEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"post\" }) : { flush: \"post\" }\n  );\n}\nfunction watchSyncEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"sync\" }) : { flush: \"sync\" }\n  );\n}\nconst INITIAL_WATCHER_VALUE = {};\nfunction watch(source, cb, options) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(cb)) {\n    warn(\n      `\\`watch(fn, options?)\\` signature has been moved to a separate API. Use \\`watchEffect(fn, options?)\\` instead. \\`watch\\` now only supports \\`watch(source, cb, options?) signature.`\n    );\n  }\n  return doWatch(source, cb, options);\n}\nfunction doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ) {\n  var _a;\n  if (!!(process.env.NODE_ENV !== \"production\") && !cb) {\n    if (immediate !== void 0) {\n      warn(\n        `watch() \"immediate\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n    if (deep !== void 0) {\n      warn(\n        `watch() \"deep\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n  }\n  const warnInvalidSource = (s) => {\n    warn(\n      `Invalid watch source: `,\n      s,\n      `A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.`\n    );\n  };\n  const instance = getCurrentScope() === ((_a = currentInstance) == null ? void 0 : _a.scope) ? currentInstance : null;\n  let getter;\n  let forceTrigger = false;\n  let isMultiSource = false;\n  if (isRef(source)) {\n    getter = () => source.value;\n    forceTrigger = isShallow$1(source);\n  } else if (isReactive(source)) {\n    getter = () => source;\n    deep = true;\n  } else if (isArray(source)) {\n    isMultiSource = true;\n    forceTrigger = source.some((s) => isReactive(s) || isShallow$1(s));\n    getter = () => source.map((s) => {\n      if (isRef(s)) {\n        return s.value;\n      } else if (isReactive(s)) {\n        return traverse(s);\n      } else if (isFunction(s)) {\n        return callWithErrorHandling(s, instance, 2);\n      } else {\n        !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(s);\n      }\n    });\n  } else if (isFunction(source)) {\n    if (cb) {\n      getter = () => callWithErrorHandling(source, instance, 2);\n    } else {\n      getter = () => {\n        if (instance && instance.isUnmounted) {\n          return;\n        }\n        if (cleanup) {\n          cleanup();\n        }\n        return callWithAsyncErrorHandling(\n          source,\n          instance,\n          3,\n          [onCleanup]\n        );\n      };\n    }\n  } else {\n    getter = NOOP;\n    !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(source);\n  }\n  if (cb && deep) {\n    const baseGetter = getter;\n    getter = () => traverse(baseGetter());\n  }\n  let cleanup;\n  let onCleanup = (fn) => {\n    cleanup = effect.onStop = () => {\n      callWithErrorHandling(fn, instance, 4);\n      cleanup = effect.onStop = void 0;\n    };\n  };\n  let ssrCleanup;\n  if (isInSSRComponentSetup) {\n    onCleanup = NOOP;\n    if (!cb) {\n      getter();\n    } else if (immediate) {\n      callWithAsyncErrorHandling(cb, instance, 3, [\n        getter(),\n        isMultiSource ? [] : void 0,\n        onCleanup\n      ]);\n    }\n    if (flush === \"sync\") {\n      const ctx = useSSRContext();\n      ssrCleanup = ctx.__watcherHandles || (ctx.__watcherHandles = []);\n    } else {\n      return NOOP;\n    }\n  }\n  let oldValue = isMultiSource ? new Array(source.length).fill(INITIAL_WATCHER_VALUE) : INITIAL_WATCHER_VALUE;\n  const job = () => {\n    if (!effect.active) {\n      return;\n    }\n    if (cb) {\n      const newValue = effect.run();\n      if (deep || forceTrigger || (isMultiSource ? newValue.some((v, i) => hasChanged(v, oldValue[i])) : hasChanged(newValue, oldValue)) || false) {\n        if (cleanup) {\n          cleanup();\n        }\n        callWithAsyncErrorHandling(cb, instance, 3, [\n          newValue,\n          // pass undefined as the old value when it's changed for the first time\n          oldValue === INITIAL_WATCHER_VALUE ? void 0 : isMultiSource && oldValue[0] === INITIAL_WATCHER_VALUE ? [] : oldValue,\n          onCleanup\n        ]);\n        oldValue = newValue;\n      }\n    } else {\n      effect.run();\n    }\n  };\n  job.allowRecurse = !!cb;\n  let scheduler;\n  if (flush === \"sync\") {\n    scheduler = job;\n  } else if (flush === \"post\") {\n    scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);\n  } else {\n    job.pre = true;\n    if (instance)\n      job.id = instance.uid;\n    scheduler = () => queueJob(job);\n  }\n  const effect = new ReactiveEffect(getter, scheduler);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    effect.onTrack = onTrack;\n    effect.onTrigger = onTrigger;\n  }\n  if (cb) {\n    if (immediate) {\n      job();\n    } else {\n      oldValue = effect.run();\n    }\n  } else if (flush === \"post\") {\n    queuePostRenderEffect(\n      effect.run.bind(effect),\n      instance && instance.suspense\n    );\n  } else {\n    effect.run();\n  }\n  const unwatch = () => {\n    effect.stop();\n    if (instance && instance.scope) {\n      remove(instance.scope.effects, effect);\n    }\n  };\n  if (ssrCleanup)\n    ssrCleanup.push(unwatch);\n  return unwatch;\n}\nfunction instanceWatch(source, value, options) {\n  const publicThis = this.proxy;\n  const getter = isString(source) ? source.includes(\".\") ? createPathGetter(publicThis, source) : () => publicThis[source] : source.bind(publicThis, publicThis);\n  let cb;\n  if (isFunction(value)) {\n    cb = value;\n  } else {\n    cb = value.handler;\n    options = value;\n  }\n  const cur = currentInstance;\n  setCurrentInstance(this);\n  const res = doWatch(getter, cb.bind(publicThis), options);\n  if (cur) {\n    setCurrentInstance(cur);\n  } else {\n    unsetCurrentInstance();\n  }\n  return res;\n}\nfunction createPathGetter(ctx, path) {\n  const segments = path.split(\".\");\n  return () => {\n    let cur = ctx;\n    for (let i = 0; i < segments.length && cur; i++) {\n      cur = cur[segments[i]];\n    }\n    return cur;\n  };\n}\nfunction traverse(value, seen) {\n  if (!isObject(value) || value[\"__v_skip\"]) {\n    return value;\n  }\n  seen = seen || /* @__PURE__ */ new Set();\n  if (seen.has(value)) {\n    return value;\n  }\n  seen.add(value);\n  if (isRef(value)) {\n    traverse(value.value, seen);\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      traverse(value[i], seen);\n    }\n  } else if (isSet(value) || isMap(value)) {\n    value.forEach((v) => {\n      traverse(v, seen);\n    });\n  } else if (isPlainObject(value)) {\n    for (const key in value) {\n      traverse(value[key], seen);\n    }\n  }\n  return value;\n}\n\nfunction validateDirectiveName(name) {\n  if (isBuiltInDirective(name)) {\n    warn(\"Do not use built-in directive ids as custom directive id: \" + name);\n  }\n}\nfunction withDirectives(vnode, directives) {\n  const internalInstance = currentRenderingInstance;\n  if (internalInstance === null) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`withDirectives can only be used inside render functions.`);\n    return vnode;\n  }\n  const instance = getExposeProxy(internalInstance) || internalInstance.proxy;\n  const bindings = vnode.dirs || (vnode.dirs = []);\n  for (let i = 0; i < directives.length; i++) {\n    let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\n    if (dir) {\n      if (isFunction(dir)) {\n        dir = {\n          mounted: dir,\n          updated: dir\n        };\n      }\n      if (dir.deep) {\n        traverse(value);\n      }\n      bindings.push({\n        dir,\n        instance,\n        value,\n        oldValue: void 0,\n        arg,\n        modifiers\n      });\n    }\n  }\n  return vnode;\n}\nfunction invokeDirectiveHook(vnode, prevVNode, instance, name) {\n  const bindings = vnode.dirs;\n  const oldBindings = prevVNode && prevVNode.dirs;\n  for (let i = 0; i < bindings.length; i++) {\n    const binding = bindings[i];\n    if (oldBindings) {\n      binding.oldValue = oldBindings[i].value;\n    }\n    let hook = binding.dir[name];\n    if (hook) {\n      pauseTracking();\n      callWithAsyncErrorHandling(hook, instance, 8, [\n        vnode.el,\n        binding,\n        vnode,\n        prevVNode\n      ]);\n      resetTracking();\n    }\n  }\n}\n\nconst leaveCbKey = Symbol(\"_leaveCb\");\nconst enterCbKey = Symbol(\"_enterCb\");\nfunction useTransitionState() {\n  const state = {\n    isMounted: false,\n    isLeaving: false,\n    isUnmounting: false,\n    leavingVNodes: /* @__PURE__ */ new Map()\n  };\n  onMounted(() => {\n    state.isMounted = true;\n  });\n  onBeforeUnmount(() => {\n    state.isUnmounting = true;\n  });\n  return state;\n}\nconst TransitionHookValidator = [Function, Array];\nconst BaseTransitionPropsValidators = {\n  mode: String,\n  appear: Boolean,\n  persisted: Boolean,\n  // enter\n  onBeforeEnter: TransitionHookValidator,\n  onEnter: TransitionHookValidator,\n  onAfterEnter: TransitionHookValidator,\n  onEnterCancelled: TransitionHookValidator,\n  // leave\n  onBeforeLeave: TransitionHookValidator,\n  onLeave: TransitionHookValidator,\n  onAfterLeave: TransitionHookValidator,\n  onLeaveCancelled: TransitionHookValidator,\n  // appear\n  onBeforeAppear: TransitionHookValidator,\n  onAppear: TransitionHookValidator,\n  onAfterAppear: TransitionHookValidator,\n  onAppearCancelled: TransitionHookValidator\n};\nconst BaseTransitionImpl = {\n  name: `BaseTransition`,\n  props: BaseTransitionPropsValidators,\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    let prevTransitionKey;\n    return () => {\n      const children = slots.default && getTransitionRawChildren(slots.default(), true);\n      if (!children || !children.length) {\n        return;\n      }\n      let child = children[0];\n      if (children.length > 1) {\n        let hasFound = false;\n        for (const c of children) {\n          if (c.type !== Comment) {\n            if (!!(process.env.NODE_ENV !== \"production\") && hasFound) {\n              warn(\n                \"<transition> can only be used on a single element or component. Use <transition-group> for lists.\"\n              );\n              break;\n            }\n            child = c;\n            hasFound = true;\n            if (!!!(process.env.NODE_ENV !== \"production\"))\n              break;\n          }\n        }\n      }\n      const rawProps = toRaw(props);\n      const { mode } = rawProps;\n      if (!!(process.env.NODE_ENV !== \"production\") && mode && mode !== \"in-out\" && mode !== \"out-in\" && mode !== \"default\") {\n        warn(`invalid <transition> mode: ${mode}`);\n      }\n      if (state.isLeaving) {\n        return emptyPlaceholder(child);\n      }\n      const innerChild = getKeepAliveChild(child);\n      if (!innerChild) {\n        return emptyPlaceholder(child);\n      }\n      const enterHooks = resolveTransitionHooks(\n        innerChild,\n        rawProps,\n        state,\n        instance\n      );\n      setTransitionHooks(innerChild, enterHooks);\n      const oldChild = instance.subTree;\n      const oldInnerChild = oldChild && getKeepAliveChild(oldChild);\n      let transitionKeyChanged = false;\n      const { getTransitionKey } = innerChild.type;\n      if (getTransitionKey) {\n        const key = getTransitionKey();\n        if (prevTransitionKey === void 0) {\n          prevTransitionKey = key;\n        } else if (key !== prevTransitionKey) {\n          prevTransitionKey = key;\n          transitionKeyChanged = true;\n        }\n      }\n      if (oldInnerChild && oldInnerChild.type !== Comment && (!isSameVNodeType(innerChild, oldInnerChild) || transitionKeyChanged)) {\n        const leavingHooks = resolveTransitionHooks(\n          oldInnerChild,\n          rawProps,\n          state,\n          instance\n        );\n        setTransitionHooks(oldInnerChild, leavingHooks);\n        if (mode === \"out-in\") {\n          state.isLeaving = true;\n          leavingHooks.afterLeave = () => {\n            state.isLeaving = false;\n            if (instance.update.active !== false) {\n              instance.update();\n            }\n          };\n          return emptyPlaceholder(child);\n        } else if (mode === \"in-out\" && innerChild.type !== Comment) {\n          leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\n            const leavingVNodesCache = getLeavingNodesForType(\n              state,\n              oldInnerChild\n            );\n            leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\n            el[leaveCbKey] = () => {\n              earlyRemove();\n              el[leaveCbKey] = void 0;\n              delete enterHooks.delayedLeave;\n            };\n            enterHooks.delayedLeave = delayedLeave;\n          };\n        }\n      }\n      return child;\n    };\n  }\n};\nconst BaseTransition = BaseTransitionImpl;\nfunction getLeavingNodesForType(state, vnode) {\n  const { leavingVNodes } = state;\n  let leavingVNodesCache = leavingVNodes.get(vnode.type);\n  if (!leavingVNodesCache) {\n    leavingVNodesCache = /* @__PURE__ */ Object.create(null);\n    leavingVNodes.set(vnode.type, leavingVNodesCache);\n  }\n  return leavingVNodesCache;\n}\nfunction resolveTransitionHooks(vnode, props, state, instance) {\n  const {\n    appear,\n    mode,\n    persisted = false,\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onEnterCancelled,\n    onBeforeLeave,\n    onLeave,\n    onAfterLeave,\n    onLeaveCancelled,\n    onBeforeAppear,\n    onAppear,\n    onAfterAppear,\n    onAppearCancelled\n  } = props;\n  const key = String(vnode.key);\n  const leavingVNodesCache = getLeavingNodesForType(state, vnode);\n  const callHook = (hook, args) => {\n    hook && callWithAsyncErrorHandling(\n      hook,\n      instance,\n      9,\n      args\n    );\n  };\n  const callAsyncHook = (hook, args) => {\n    const done = args[1];\n    callHook(hook, args);\n    if (isArray(hook)) {\n      if (hook.every((hook2) => hook2.length <= 1))\n        done();\n    } else if (hook.length <= 1) {\n      done();\n    }\n  };\n  const hooks = {\n    mode,\n    persisted,\n    beforeEnter(el) {\n      let hook = onBeforeEnter;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onBeforeAppear || onBeforeEnter;\n        } else {\n          return;\n        }\n      }\n      if (el[leaveCbKey]) {\n        el[leaveCbKey](\n          true\n          /* cancelled */\n        );\n      }\n      const leavingVNode = leavingVNodesCache[key];\n      if (leavingVNode && isSameVNodeType(vnode, leavingVNode) && leavingVNode.el[leaveCbKey]) {\n        leavingVNode.el[leaveCbKey]();\n      }\n      callHook(hook, [el]);\n    },\n    enter(el) {\n      let hook = onEnter;\n      let afterHook = onAfterEnter;\n      let cancelHook = onEnterCancelled;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onAppear || onEnter;\n          afterHook = onAfterAppear || onAfterEnter;\n          cancelHook = onAppearCancelled || onEnterCancelled;\n        } else {\n          return;\n        }\n      }\n      let called = false;\n      const done = el[enterCbKey] = (cancelled) => {\n        if (called)\n          return;\n        called = true;\n        if (cancelled) {\n          callHook(cancelHook, [el]);\n        } else {\n          callHook(afterHook, [el]);\n        }\n        if (hooks.delayedLeave) {\n          hooks.delayedLeave();\n        }\n        el[enterCbKey] = void 0;\n      };\n      if (hook) {\n        callAsyncHook(hook, [el, done]);\n      } else {\n        done();\n      }\n    },\n    leave(el, remove) {\n      const key2 = String(vnode.key);\n      if (el[enterCbKey]) {\n        el[enterCbKey](\n          true\n          /* cancelled */\n        );\n      }\n      if (state.isUnmounting) {\n        return remove();\n      }\n      callHook(onBeforeLeave, [el]);\n      let called = false;\n      const done = el[leaveCbKey] = (cancelled) => {\n        if (called)\n          return;\n        called = true;\n        remove();\n        if (cancelled) {\n          callHook(onLeaveCancelled, [el]);\n        } else {\n          callHook(onAfterLeave, [el]);\n        }\n        el[leaveCbKey] = void 0;\n        if (leavingVNodesCache[key2] === vnode) {\n          delete leavingVNodesCache[key2];\n        }\n      };\n      leavingVNodesCache[key2] = vnode;\n      if (onLeave) {\n        callAsyncHook(onLeave, [el, done]);\n      } else {\n        done();\n      }\n    },\n    clone(vnode2) {\n      return resolveTransitionHooks(vnode2, props, state, instance);\n    }\n  };\n  return hooks;\n}\nfunction emptyPlaceholder(vnode) {\n  if (isKeepAlive(vnode)) {\n    vnode = cloneVNode(vnode);\n    vnode.children = null;\n    return vnode;\n  }\n}\nfunction getKeepAliveChild(vnode) {\n  return isKeepAlive(vnode) ? (\n    // #7121 ensure get the child component subtree in case\n    // it's been replaced during HMR\n    !!(process.env.NODE_ENV !== \"production\") && vnode.component ? vnode.component.subTree : vnode.children ? vnode.children[0] : void 0\n  ) : vnode;\n}\nfunction setTransitionHooks(vnode, hooks) {\n  if (vnode.shapeFlag & 6 && vnode.component) {\n    setTransitionHooks(vnode.component.subTree, hooks);\n  } else if (vnode.shapeFlag & 128) {\n    vnode.ssContent.transition = hooks.clone(vnode.ssContent);\n    vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\n  } else {\n    vnode.transition = hooks;\n  }\n}\nfunction getTransitionRawChildren(children, keepComment = false, parentKey) {\n  let ret = [];\n  let keyedFragmentCount = 0;\n  for (let i = 0; i < children.length; i++) {\n    let child = children[i];\n    const key = parentKey == null ? child.key : String(parentKey) + String(child.key != null ? child.key : i);\n    if (child.type === Fragment) {\n      if (child.patchFlag & 128)\n        keyedFragmentCount++;\n      ret = ret.concat(\n        getTransitionRawChildren(child.children, keepComment, key)\n      );\n    } else if (keepComment || child.type !== Comment) {\n      ret.push(key != null ? cloneVNode(child, { key }) : child);\n    }\n  }\n  if (keyedFragmentCount > 1) {\n    for (let i = 0; i < ret.length; i++) {\n      ret[i].patchFlag = -2;\n    }\n  }\n  return ret;\n}\n\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction defineComponent(options, extraOptions) {\n  return isFunction(options) ? (\n    // #8326: extend call and options.name access are considered side-effects\n    // by Rollup, so we have to wrap it in a pure-annotated IIFE.\n    /* @__PURE__ */ (() => extend({ name: options.name }, extraOptions, { setup: options }))()\n  ) : options;\n}\n\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction defineAsyncComponent(source) {\n  if (isFunction(source)) {\n    source = { loader: source };\n  }\n  const {\n    loader,\n    loadingComponent,\n    errorComponent,\n    delay = 200,\n    timeout,\n    // undefined = never times out\n    suspensible = true,\n    onError: userOnError\n  } = source;\n  let pendingRequest = null;\n  let resolvedComp;\n  let retries = 0;\n  const retry = () => {\n    retries++;\n    pendingRequest = null;\n    return load();\n  };\n  const load = () => {\n    let thisRequest;\n    return pendingRequest || (thisRequest = pendingRequest = loader().catch((err) => {\n      err = err instanceof Error ? err : new Error(String(err));\n      if (userOnError) {\n        return new Promise((resolve, reject) => {\n          const userRetry = () => resolve(retry());\n          const userFail = () => reject(err);\n          userOnError(err, userRetry, userFail, retries + 1);\n        });\n      } else {\n        throw err;\n      }\n    }).then((comp) => {\n      if (thisRequest !== pendingRequest && pendingRequest) {\n        return pendingRequest;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && !comp) {\n        warn(\n          `Async component loader resolved to undefined. If you are using retry(), make sure to return its return value.`\n        );\n      }\n      if (comp && (comp.__esModule || comp[Symbol.toStringTag] === \"Module\")) {\n        comp = comp.default;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && comp && !isObject(comp) && !isFunction(comp)) {\n        throw new Error(`Invalid async component load result: ${comp}`);\n      }\n      resolvedComp = comp;\n      return comp;\n    }));\n  };\n  return defineComponent({\n    name: \"AsyncComponentWrapper\",\n    __asyncLoader: load,\n    get __asyncResolved() {\n      return resolvedComp;\n    },\n    setup() {\n      const instance = currentInstance;\n      if (resolvedComp) {\n        return () => createInnerComp(resolvedComp, instance);\n      }\n      const onError = (err) => {\n        pendingRequest = null;\n        handleError(\n          err,\n          instance,\n          13,\n          !errorComponent\n          /* do not throw in dev if user provided error component */\n        );\n      };\n      if (suspensible && instance.suspense || isInSSRComponentSetup) {\n        return load().then((comp) => {\n          return () => createInnerComp(comp, instance);\n        }).catch((err) => {\n          onError(err);\n          return () => errorComponent ? createVNode(errorComponent, {\n            error: err\n          }) : null;\n        });\n      }\n      const loaded = ref(false);\n      const error = ref();\n      const delayed = ref(!!delay);\n      if (delay) {\n        setTimeout(() => {\n          delayed.value = false;\n        }, delay);\n      }\n      if (timeout != null) {\n        setTimeout(() => {\n          if (!loaded.value && !error.value) {\n            const err = new Error(\n              `Async component timed out after ${timeout}ms.`\n            );\n            onError(err);\n            error.value = err;\n          }\n        }, timeout);\n      }\n      load().then(() => {\n        loaded.value = true;\n        if (instance.parent && isKeepAlive(instance.parent.vnode)) {\n          queueJob(instance.parent.update);\n        }\n      }).catch((err) => {\n        onError(err);\n        error.value = err;\n      });\n      return () => {\n        if (loaded.value && resolvedComp) {\n          return createInnerComp(resolvedComp, instance);\n        } else if (error.value && errorComponent) {\n          return createVNode(errorComponent, {\n            error: error.value\n          });\n        } else if (loadingComponent && !delayed.value) {\n          return createVNode(loadingComponent);\n        }\n      };\n    }\n  });\n}\nfunction createInnerComp(comp, parent) {\n  const { ref: ref2, props, children, ce } = parent.vnode;\n  const vnode = createVNode(comp, props, children);\n  vnode.ref = ref2;\n  vnode.ce = ce;\n  delete parent.vnode.ce;\n  return vnode;\n}\n\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\nconst KeepAliveImpl = {\n  name: `KeepAlive`,\n  // Marker for special handling inside the renderer. We are not using a ===\n  // check directly on KeepAlive in the renderer, because importing it directly\n  // would prevent it from being tree-shaken.\n  __isKeepAlive: true,\n  props: {\n    include: [String, RegExp, Array],\n    exclude: [String, RegExp, Array],\n    max: [String, Number]\n  },\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const sharedContext = instance.ctx;\n    if (!sharedContext.renderer) {\n      return () => {\n        const children = slots.default && slots.default();\n        return children && children.length === 1 ? children[0] : children;\n      };\n    }\n    const cache = /* @__PURE__ */ new Map();\n    const keys = /* @__PURE__ */ new Set();\n    let current = null;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.__v_cache = cache;\n    }\n    const parentSuspense = instance.suspense;\n    const {\n      renderer: {\n        p: patch,\n        m: move,\n        um: _unmount,\n        o: { createElement }\n      }\n    } = sharedContext;\n    const storageContainer = createElement(\"div\");\n    sharedContext.activate = (vnode, container, anchor, isSVG, optimized) => {\n      const instance2 = vnode.component;\n      move(vnode, container, anchor, 0, parentSuspense);\n      patch(\n        instance2.vnode,\n        vnode,\n        container,\n        anchor,\n        instance2,\n        parentSuspense,\n        isSVG,\n        vnode.slotScopeIds,\n        optimized\n      );\n      queuePostRenderEffect(() => {\n        instance2.isDeactivated = false;\n        if (instance2.a) {\n          invokeArrayFns(instance2.a);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeMounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    sharedContext.deactivate = (vnode) => {\n      const instance2 = vnode.component;\n      move(vnode, storageContainer, null, 1, parentSuspense);\n      queuePostRenderEffect(() => {\n        if (instance2.da) {\n          invokeArrayFns(instance2.da);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n        instance2.isDeactivated = true;\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    function unmount(vnode) {\n      resetShapeFlag(vnode);\n      _unmount(vnode, instance, parentSuspense, true);\n    }\n    function pruneCache(filter) {\n      cache.forEach((vnode, key) => {\n        const name = getComponentName(vnode.type);\n        if (name && (!filter || !filter(name))) {\n          pruneCacheEntry(key);\n        }\n      });\n    }\n    function pruneCacheEntry(key) {\n      const cached = cache.get(key);\n      if (!current || !isSameVNodeType(cached, current)) {\n        unmount(cached);\n      } else if (current) {\n        resetShapeFlag(current);\n      }\n      cache.delete(key);\n      keys.delete(key);\n    }\n    watch(\n      () => [props.include, props.exclude],\n      ([include, exclude]) => {\n        include && pruneCache((name) => matches(include, name));\n        exclude && pruneCache((name) => !matches(exclude, name));\n      },\n      // prune post-render after `current` has been updated\n      { flush: \"post\", deep: true }\n    );\n    let pendingCacheKey = null;\n    const cacheSubtree = () => {\n      if (pendingCacheKey != null) {\n        cache.set(pendingCacheKey, getInnerChild(instance.subTree));\n      }\n    };\n    onMounted(cacheSubtree);\n    onUpdated(cacheSubtree);\n    onBeforeUnmount(() => {\n      cache.forEach((cached) => {\n        const { subTree, suspense } = instance;\n        const vnode = getInnerChild(subTree);\n        if (cached.type === vnode.type && cached.key === vnode.key) {\n          resetShapeFlag(vnode);\n          const da = vnode.component.da;\n          da && queuePostRenderEffect(da, suspense);\n          return;\n        }\n        unmount(cached);\n      });\n    });\n    return () => {\n      pendingCacheKey = null;\n      if (!slots.default) {\n        return null;\n      }\n      const children = slots.default();\n      const rawVNode = children[0];\n      if (children.length > 1) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`KeepAlive should contain exactly one component child.`);\n        }\n        current = null;\n        return children;\n      } else if (!isVNode(rawVNode) || !(rawVNode.shapeFlag & 4) && !(rawVNode.shapeFlag & 128)) {\n        current = null;\n        return rawVNode;\n      }\n      let vnode = getInnerChild(rawVNode);\n      const comp = vnode.type;\n      const name = getComponentName(\n        isAsyncWrapper(vnode) ? vnode.type.__asyncResolved || {} : comp\n      );\n      const { include, exclude, max } = props;\n      if (include && (!name || !matches(include, name)) || exclude && name && matches(exclude, name)) {\n        current = vnode;\n        return rawVNode;\n      }\n      const key = vnode.key == null ? comp : vnode.key;\n      const cachedVNode = cache.get(key);\n      if (vnode.el) {\n        vnode = cloneVNode(vnode);\n        if (rawVNode.shapeFlag & 128) {\n          rawVNode.ssContent = vnode;\n        }\n      }\n      pendingCacheKey = key;\n      if (cachedVNode) {\n        vnode.el = cachedVNode.el;\n        vnode.component = cachedVNode.component;\n        if (vnode.transition) {\n          setTransitionHooks(vnode, vnode.transition);\n        }\n        vnode.shapeFlag |= 512;\n        keys.delete(key);\n        keys.add(key);\n      } else {\n        keys.add(key);\n        if (max && keys.size > parseInt(max, 10)) {\n          pruneCacheEntry(keys.values().next().value);\n        }\n      }\n      vnode.shapeFlag |= 256;\n      current = vnode;\n      return isSuspense(rawVNode.type) ? rawVNode : vnode;\n    };\n  }\n};\nconst KeepAlive = KeepAliveImpl;\nfunction matches(pattern, name) {\n  if (isArray(pattern)) {\n    return pattern.some((p) => matches(p, name));\n  } else if (isString(pattern)) {\n    return pattern.split(\",\").includes(name);\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name);\n  }\n  return false;\n}\nfunction onActivated(hook, target) {\n  registerKeepAliveHook(hook, \"a\", target);\n}\nfunction onDeactivated(hook, target) {\n  registerKeepAliveHook(hook, \"da\", target);\n}\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\n  const wrappedHook = hook.__wdc || (hook.__wdc = () => {\n    let current = target;\n    while (current) {\n      if (current.isDeactivated) {\n        return;\n      }\n      current = current.parent;\n    }\n    return hook();\n  });\n  injectHook(type, wrappedHook, target);\n  if (target) {\n    let current = target.parent;\n    while (current && current.parent) {\n      if (isKeepAlive(current.parent.vnode)) {\n        injectToKeepAliveRoot(wrappedHook, type, target, current);\n      }\n      current = current.parent;\n    }\n  }\n}\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\n  const injected = injectHook(\n    type,\n    hook,\n    keepAliveRoot,\n    true\n    /* prepend */\n  );\n  onUnmounted(() => {\n    remove(keepAliveRoot[type], injected);\n  }, target);\n}\nfunction resetShapeFlag(vnode) {\n  vnode.shapeFlag &= ~256;\n  vnode.shapeFlag &= ~512;\n}\nfunction getInnerChild(vnode) {\n  return vnode.shapeFlag & 128 ? vnode.ssContent : vnode;\n}\n\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\n  if (target) {\n    const hooks = target[type] || (target[type] = []);\n    const wrappedHook = hook.__weh || (hook.__weh = (...args) => {\n      if (target.isUnmounted) {\n        return;\n      }\n      pauseTracking();\n      setCurrentInstance(target);\n      const res = callWithAsyncErrorHandling(hook, target, type, args);\n      unsetCurrentInstance();\n      resetTracking();\n      return res;\n    });\n    if (prepend) {\n      hooks.unshift(wrappedHook);\n    } else {\n      hooks.push(wrappedHook);\n    }\n    return wrappedHook;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    const apiName = toHandlerKey(ErrorTypeStrings[type].replace(/ hook$/, \"\"));\n    warn(\n      `${apiName} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().` + (` If you are using async setup(), make sure to register lifecycle hooks before the first await statement.` )\n    );\n  }\n}\nconst createHook = (lifecycle) => (hook, target = currentInstance) => (\n  // post-create lifecycle registrations are noops during SSR (except for serverPrefetch)\n  (!isInSSRComponentSetup || lifecycle === \"sp\") && injectHook(lifecycle, (...args) => hook(...args), target)\n);\nconst onBeforeMount = createHook(\"bm\");\nconst onMounted = createHook(\"m\");\nconst onBeforeUpdate = createHook(\"bu\");\nconst onUpdated = createHook(\"u\");\nconst onBeforeUnmount = createHook(\"bum\");\nconst onUnmounted = createHook(\"um\");\nconst onServerPrefetch = createHook(\"sp\");\nconst onRenderTriggered = createHook(\n  \"rtg\"\n);\nconst onRenderTracked = createHook(\n  \"rtc\"\n);\nfunction onErrorCaptured(hook, target = currentInstance) {\n  injectHook(\"ec\", hook, target);\n}\n\nfunction renderList(source, renderItem, cache, index) {\n  let ret;\n  const cached = cache && cache[index];\n  if (isArray(source) || isString(source)) {\n    ret = new Array(source.length);\n    for (let i = 0, l = source.length; i < l; i++) {\n      ret[i] = renderItem(source[i], i, void 0, cached && cached[i]);\n    }\n  } else if (typeof source === \"number\") {\n    if (!!(process.env.NODE_ENV !== \"production\") && !Number.isInteger(source)) {\n      warn(`The v-for range expect an integer value but got ${source}.`);\n    }\n    ret = new Array(source);\n    for (let i = 0; i < source; i++) {\n      ret[i] = renderItem(i + 1, i, void 0, cached && cached[i]);\n    }\n  } else if (isObject(source)) {\n    if (source[Symbol.iterator]) {\n      ret = Array.from(\n        source,\n        (item, i) => renderItem(item, i, void 0, cached && cached[i])\n      );\n    } else {\n      const keys = Object.keys(source);\n      ret = new Array(keys.length);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const key = keys[i];\n        ret[i] = renderItem(source[key], key, i, cached && cached[i]);\n      }\n    }\n  } else {\n    ret = [];\n  }\n  if (cache) {\n    cache[index] = ret;\n  }\n  return ret;\n}\n\nfunction createSlots(slots, dynamicSlots) {\n  for (let i = 0; i < dynamicSlots.length; i++) {\n    const slot = dynamicSlots[i];\n    if (isArray(slot)) {\n      for (let j = 0; j < slot.length; j++) {\n        slots[slot[j].name] = slot[j].fn;\n      }\n    } else if (slot) {\n      slots[slot.name] = slot.key ? (...args) => {\n        const res = slot.fn(...args);\n        if (res)\n          res.key = slot.key;\n        return res;\n      } : slot.fn;\n    }\n  }\n  return slots;\n}\n\nfunction renderSlot(slots, name, props = {}, fallback, noSlotted) {\n  if (currentRenderingInstance.isCE || currentRenderingInstance.parent && isAsyncWrapper(currentRenderingInstance.parent) && currentRenderingInstance.parent.isCE) {\n    if (name !== \"default\")\n      props.name = name;\n    return createVNode(\"slot\", props, fallback && fallback());\n  }\n  let slot = slots[name];\n  if (!!(process.env.NODE_ENV !== \"production\") && slot && slot.length > 1) {\n    warn(\n      `SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template.`\n    );\n    slot = () => [];\n  }\n  if (slot && slot._c) {\n    slot._d = false;\n  }\n  openBlock();\n  const validSlotContent = slot && ensureValidVNode(slot(props));\n  const rendered = createBlock(\n    Fragment,\n    {\n      key: props.key || // slot content array of a dynamic conditional slot may have a branch\n      // key attached in the `createSlots` helper, respect that\n      validSlotContent && validSlotContent.key || `_${name}`\n    },\n    validSlotContent || (fallback ? fallback() : []),\n    validSlotContent && slots._ === 1 ? 64 : -2\n  );\n  if (!noSlotted && rendered.scopeId) {\n    rendered.slotScopeIds = [rendered.scopeId + \"-s\"];\n  }\n  if (slot && slot._c) {\n    slot._d = true;\n  }\n  return rendered;\n}\nfunction ensureValidVNode(vnodes) {\n  return vnodes.some((child) => {\n    if (!isVNode(child))\n      return true;\n    if (child.type === Comment)\n      return false;\n    if (child.type === Fragment && !ensureValidVNode(child.children))\n      return false;\n    return true;\n  }) ? vnodes : null;\n}\n\nfunction toHandlers(obj, preserveCaseIfNecessary) {\n  const ret = {};\n  if (!!(process.env.NODE_ENV !== \"production\") && !isObject(obj)) {\n    warn(`v-on with no argument expects an object value.`);\n    return ret;\n  }\n  for (const key in obj) {\n    ret[preserveCaseIfNecessary && /[A-Z]/.test(key) ? `on:${key}` : toHandlerKey(key)] = obj[key];\n  }\n  return ret;\n}\n\nconst getPublicInstance = (i) => {\n  if (!i)\n    return null;\n  if (isStatefulComponent(i))\n    return getExposeProxy(i) || i.proxy;\n  return getPublicInstance(i.parent);\n};\nconst publicPropertiesMap = (\n  // Move PURE marker to new line to workaround compiler discarding it\n  // due to type annotation\n  /* @__PURE__ */ extend(/* @__PURE__ */ Object.create(null), {\n    $: (i) => i,\n    $el: (i) => i.vnode.el,\n    $data: (i) => i.data,\n    $props: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.props) : i.props,\n    $attrs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.attrs) : i.attrs,\n    $slots: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.slots) : i.slots,\n    $refs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.refs) : i.refs,\n    $parent: (i) => getPublicInstance(i.parent),\n    $root: (i) => getPublicInstance(i.root),\n    $emit: (i) => i.emit,\n    $options: (i) => __VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type,\n    $forceUpdate: (i) => i.f || (i.f = () => queueJob(i.update)),\n    $nextTick: (i) => i.n || (i.n = nextTick.bind(i.proxy)),\n    $watch: (i) => __VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP\n  })\n);\nconst isReservedPrefix = (key) => key === \"_\" || key === \"$\";\nconst hasSetupBinding = (state, key) => state !== EMPTY_OBJ && !state.__isScriptSetup && hasOwn(state, key);\nconst PublicInstanceProxyHandlers = {\n  get({ _: instance }, key) {\n    const { ctx, setupState, data, props, accessCache, type, appContext } = instance;\n    if (!!(process.env.NODE_ENV !== \"production\") && key === \"__isVue\") {\n      return true;\n    }\n    let normalizedProps;\n    if (key[0] !== \"$\") {\n      const n = accessCache[key];\n      if (n !== void 0) {\n        switch (n) {\n          case 1 /* SETUP */:\n            return setupState[key];\n          case 2 /* DATA */:\n            return data[key];\n          case 4 /* CONTEXT */:\n            return ctx[key];\n          case 3 /* PROPS */:\n            return props[key];\n        }\n      } else if (hasSetupBinding(setupState, key)) {\n        accessCache[key] = 1 /* SETUP */;\n        return setupState[key];\n      } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n        accessCache[key] = 2 /* DATA */;\n        return data[key];\n      } else if (\n        // only cache other properties when instance has declared (thus stable)\n        // props\n        (normalizedProps = instance.propsOptions[0]) && hasOwn(normalizedProps, key)\n      ) {\n        accessCache[key] = 3 /* PROPS */;\n        return props[key];\n      } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n        accessCache[key] = 4 /* CONTEXT */;\n        return ctx[key];\n      } else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {\n        accessCache[key] = 0 /* OTHER */;\n      }\n    }\n    const publicGetter = publicPropertiesMap[key];\n    let cssModule, globalProperties;\n    if (publicGetter) {\n      if (key === \"$attrs\") {\n        track(instance, \"get\", key);\n        !!(process.env.NODE_ENV !== \"production\") && markAttrsAccessed();\n      } else if (!!(process.env.NODE_ENV !== \"production\") && key === \"$slots\") {\n        track(instance, \"get\", key);\n      }\n      return publicGetter(instance);\n    } else if (\n      // css module (injected by vue-loader)\n      (cssModule = type.__cssModules) && (cssModule = cssModule[key])\n    ) {\n      return cssModule;\n    } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n      accessCache[key] = 4 /* CONTEXT */;\n      return ctx[key];\n    } else if (\n      // global properties\n      globalProperties = appContext.config.globalProperties, hasOwn(globalProperties, key)\n    ) {\n      {\n        return globalProperties[key];\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\") && currentRenderingInstance && (!isString(key) || // #1091 avoid internal isRef/isVNode checks on component instance leading\n    // to infinite warning loop\n    key.indexOf(\"__v\") !== 0)) {\n      if (data !== EMPTY_OBJ && isReservedPrefix(key[0]) && hasOwn(data, key)) {\n        warn(\n          `Property ${JSON.stringify(\n            key\n          )} must be accessed via $data because it starts with a reserved character (\"$\" or \"_\") and is not proxied on the render context.`\n        );\n      } else if (instance === currentRenderingInstance) {\n        warn(\n          `Property ${JSON.stringify(key)} was accessed during render but is not defined on instance.`\n        );\n      }\n    }\n  },\n  set({ _: instance }, key, value) {\n    const { data, setupState, ctx } = instance;\n    if (hasSetupBinding(setupState, key)) {\n      setupState[key] = value;\n      return true;\n    } else if (!!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup && hasOwn(setupState, key)) {\n      warn(`Cannot mutate <script setup> binding \"${key}\" from Options API.`);\n      return false;\n    } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n      data[key] = value;\n      return true;\n    } else if (hasOwn(instance.props, key)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Attempting to mutate prop \"${key}\". Props are readonly.`);\n      return false;\n    }\n    if (key[0] === \"$\" && key.slice(1) in instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Attempting to mutate public property \"${key}\". Properties starting with $ are reserved and readonly.`\n      );\n      return false;\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && key in instance.appContext.config.globalProperties) {\n        Object.defineProperty(ctx, key, {\n          enumerable: true,\n          configurable: true,\n          value\n        });\n      } else {\n        ctx[key] = value;\n      }\n    }\n    return true;\n  },\n  has({\n    _: { data, setupState, accessCache, ctx, appContext, propsOptions }\n  }, key) {\n    let normalizedProps;\n    return !!accessCache[key] || data !== EMPTY_OBJ && hasOwn(data, key) || hasSetupBinding(setupState, key) || (normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key) || hasOwn(ctx, key) || hasOwn(publicPropertiesMap, key) || hasOwn(appContext.config.globalProperties, key);\n  },\n  defineProperty(target, key, descriptor) {\n    if (descriptor.get != null) {\n      target._.accessCache[key] = 0;\n    } else if (hasOwn(descriptor, \"value\")) {\n      this.set(target, key, descriptor.value, null);\n    }\n    return Reflect.defineProperty(target, key, descriptor);\n  }\n};\nif (!!(process.env.NODE_ENV !== \"production\") && true) {\n  PublicInstanceProxyHandlers.ownKeys = (target) => {\n    warn(\n      `Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead.`\n    );\n    return Reflect.ownKeys(target);\n  };\n}\nconst RuntimeCompiledPublicInstanceProxyHandlers = /* @__PURE__ */ extend(\n  {},\n  PublicInstanceProxyHandlers,\n  {\n    get(target, key) {\n      if (key === Symbol.unscopables) {\n        return;\n      }\n      return PublicInstanceProxyHandlers.get(target, key, target);\n    },\n    has(_, key) {\n      const has = key[0] !== \"_\" && !isGloballyAllowed(key);\n      if (!!(process.env.NODE_ENV !== \"production\") && !has && PublicInstanceProxyHandlers.has(_, key)) {\n        warn(\n          `Property ${JSON.stringify(\n            key\n          )} should not start with _ which is a reserved prefix for Vue internals.`\n        );\n      }\n      return has;\n    }\n  }\n);\nfunction createDevRenderContext(instance) {\n  const target = {};\n  Object.defineProperty(target, `_`, {\n    configurable: true,\n    enumerable: false,\n    get: () => instance\n  });\n  Object.keys(publicPropertiesMap).forEach((key) => {\n    Object.defineProperty(target, key, {\n      configurable: true,\n      enumerable: false,\n      get: () => publicPropertiesMap[key](instance),\n      // intercepted by the proxy so no need for implementation,\n      // but needed to prevent set errors\n      set: NOOP\n    });\n  });\n  return target;\n}\nfunction exposePropsOnRenderContext(instance) {\n  const {\n    ctx,\n    propsOptions: [propsOptions]\n  } = instance;\n  if (propsOptions) {\n    Object.keys(propsOptions).forEach((key) => {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => instance.props[key],\n        set: NOOP\n      });\n    });\n  }\n}\nfunction exposeSetupStateOnRenderContext(instance) {\n  const { ctx, setupState } = instance;\n  Object.keys(toRaw(setupState)).forEach((key) => {\n    if (!setupState.__isScriptSetup) {\n      if (isReservedPrefix(key[0])) {\n        warn(\n          `setup() return property ${JSON.stringify(\n            key\n          )} should not start with \"$\" or \"_\" which are reserved prefixes for Vue internals.`\n        );\n        return;\n      }\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => setupState[key],\n        set: NOOP\n      });\n    }\n  });\n}\n\nconst warnRuntimeUsage = (method) => warn(\n  `${method}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`\n);\nfunction defineProps() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineProps`);\n  }\n  return null;\n}\nfunction defineEmits() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineEmits`);\n  }\n  return null;\n}\nfunction defineExpose(exposed) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineExpose`);\n  }\n}\nfunction defineOptions(options) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineOptions`);\n  }\n}\nfunction defineSlots() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineSlots`);\n  }\n  return null;\n}\nfunction defineModel() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(\"defineModel\");\n  }\n}\nfunction withDefaults(props, defaults) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`withDefaults`);\n  }\n  return null;\n}\nfunction useSlots() {\n  return getContext().slots;\n}\nfunction useAttrs() {\n  return getContext().attrs;\n}\nfunction useModel(props, name, options) {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn(`useModel() called without active instance.`);\n    return ref();\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !i.propsOptions[0][name]) {\n    warn(`useModel() called with prop \"${name}\" which is not declared.`);\n    return ref();\n  }\n  if (options && options.local) {\n    const proxy = ref(props[name]);\n    watch(\n      () => props[name],\n      (v) => proxy.value = v\n    );\n    watch(proxy, (value) => {\n      if (value !== props[name]) {\n        i.emit(`update:${name}`, value);\n      }\n    });\n    return proxy;\n  } else {\n    return {\n      __v_isRef: true,\n      get value() {\n        return props[name];\n      },\n      set value(value) {\n        i.emit(`update:${name}`, value);\n      }\n    };\n  }\n}\nfunction getContext() {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn(`useContext() called without active instance.`);\n  }\n  return i.setupContext || (i.setupContext = createSetupContext(i));\n}\nfunction normalizePropsOrEmits(props) {\n  return isArray(props) ? props.reduce(\n    (normalized, p) => (normalized[p] = null, normalized),\n    {}\n  ) : props;\n}\nfunction mergeDefaults(raw, defaults) {\n  const props = normalizePropsOrEmits(raw);\n  for (const key in defaults) {\n    if (key.startsWith(\"__skip\"))\n      continue;\n    let opt = props[key];\n    if (opt) {\n      if (isArray(opt) || isFunction(opt)) {\n        opt = props[key] = { type: opt, default: defaults[key] };\n      } else {\n        opt.default = defaults[key];\n      }\n    } else if (opt === null) {\n      opt = props[key] = { default: defaults[key] };\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`props default key \"${key}\" has no corresponding declaration.`);\n    }\n    if (opt && defaults[`__skip_${key}`]) {\n      opt.skipFactory = true;\n    }\n  }\n  return props;\n}\nfunction mergeModels(a, b) {\n  if (!a || !b)\n    return a || b;\n  if (isArray(a) && isArray(b))\n    return a.concat(b);\n  return extend({}, normalizePropsOrEmits(a), normalizePropsOrEmits(b));\n}\nfunction createPropsRestProxy(props, excludedKeys) {\n  const ret = {};\n  for (const key in props) {\n    if (!excludedKeys.includes(key)) {\n      Object.defineProperty(ret, key, {\n        enumerable: true,\n        get: () => props[key]\n      });\n    }\n  }\n  return ret;\n}\nfunction withAsyncContext(getAwaitable) {\n  const ctx = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !ctx) {\n    warn(\n      `withAsyncContext called without active current instance. This is likely a bug.`\n    );\n  }\n  let awaitable = getAwaitable();\n  unsetCurrentInstance();\n  if (isPromise(awaitable)) {\n    awaitable = awaitable.catch((e) => {\n      setCurrentInstance(ctx);\n      throw e;\n    });\n  }\n  return [awaitable, () => setCurrentInstance(ctx)];\n}\n\nfunction createDuplicateChecker() {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (type, key) => {\n    if (cache[key]) {\n      warn(`${type} property \"${key}\" is already defined in ${cache[key]}.`);\n    } else {\n      cache[key] = type;\n    }\n  };\n}\nlet shouldCacheAccess = true;\nfunction applyOptions(instance) {\n  const options = resolveMergedOptions(instance);\n  const publicThis = instance.proxy;\n  const ctx = instance.ctx;\n  shouldCacheAccess = false;\n  if (options.beforeCreate) {\n    callHook(options.beforeCreate, instance, \"bc\");\n  }\n  const {\n    // state\n    data: dataOptions,\n    computed: computedOptions,\n    methods,\n    watch: watchOptions,\n    provide: provideOptions,\n    inject: injectOptions,\n    // lifecycle\n    created,\n    beforeMount,\n    mounted,\n    beforeUpdate,\n    updated,\n    activated,\n    deactivated,\n    beforeDestroy,\n    beforeUnmount,\n    destroyed,\n    unmounted,\n    render,\n    renderTracked,\n    renderTriggered,\n    errorCaptured,\n    serverPrefetch,\n    // public API\n    expose,\n    inheritAttrs,\n    // assets\n    components,\n    directives,\n    filters\n  } = options;\n  const checkDuplicateProperties = !!(process.env.NODE_ENV !== \"production\") ? createDuplicateChecker() : null;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const [propsOptions] = instance.propsOptions;\n    if (propsOptions) {\n      for (const key in propsOptions) {\n        checkDuplicateProperties(\"Props\" /* PROPS */, key);\n      }\n    }\n  }\n  if (injectOptions) {\n    resolveInjections(injectOptions, ctx, checkDuplicateProperties);\n  }\n  if (methods) {\n    for (const key in methods) {\n      const methodHandler = methods[key];\n      if (isFunction(methodHandler)) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          Object.defineProperty(ctx, key, {\n            value: methodHandler.bind(publicThis),\n            configurable: true,\n            enumerable: true,\n            writable: true\n          });\n        } else {\n          ctx[key] = methodHandler.bind(publicThis);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkDuplicateProperties(\"Methods\" /* METHODS */, key);\n        }\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn(\n          `Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. Did you reference the function correctly?`\n        );\n      }\n    }\n  }\n  if (dataOptions) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(dataOptions)) {\n      warn(\n        `The data option must be a function. Plain object usage is no longer supported.`\n      );\n    }\n    const data = dataOptions.call(publicThis, publicThis);\n    if (!!(process.env.NODE_ENV !== \"production\") && isPromise(data)) {\n      warn(\n        `data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>.`\n      );\n    }\n    if (!isObject(data)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`data() should return an object.`);\n    } else {\n      instance.data = reactive(data);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        for (const key in data) {\n          checkDuplicateProperties(\"Data\" /* DATA */, key);\n          if (!isReservedPrefix(key[0])) {\n            Object.defineProperty(ctx, key, {\n              configurable: true,\n              enumerable: true,\n              get: () => data[key],\n              set: NOOP\n            });\n          }\n        }\n      }\n    }\n  }\n  shouldCacheAccess = true;\n  if (computedOptions) {\n    for (const key in computedOptions) {\n      const opt = computedOptions[key];\n      const get = isFunction(opt) ? opt.bind(publicThis, publicThis) : isFunction(opt.get) ? opt.get.bind(publicThis, publicThis) : NOOP;\n      if (!!(process.env.NODE_ENV !== \"production\") && get === NOOP) {\n        warn(`Computed property \"${key}\" has no getter.`);\n      }\n      const set = !isFunction(opt) && isFunction(opt.set) ? opt.set.bind(publicThis) : !!(process.env.NODE_ENV !== \"production\") ? () => {\n        warn(\n          `Write operation failed: computed property \"${key}\" is readonly.`\n        );\n      } : NOOP;\n      const c = computed({\n        get,\n        set\n      });\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => c.value,\n        set: (v) => c.value = v\n      });\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        checkDuplicateProperties(\"Computed\" /* COMPUTED */, key);\n      }\n    }\n  }\n  if (watchOptions) {\n    for (const key in watchOptions) {\n      createWatcher(watchOptions[key], ctx, publicThis, key);\n    }\n  }\n  if (provideOptions) {\n    const provides = isFunction(provideOptions) ? provideOptions.call(publicThis) : provideOptions;\n    Reflect.ownKeys(provides).forEach((key) => {\n      provide(key, provides[key]);\n    });\n  }\n  if (created) {\n    callHook(created, instance, \"c\");\n  }\n  function registerLifecycleHook(register, hook) {\n    if (isArray(hook)) {\n      hook.forEach((_hook) => register(_hook.bind(publicThis)));\n    } else if (hook) {\n      register(hook.bind(publicThis));\n    }\n  }\n  registerLifecycleHook(onBeforeMount, beforeMount);\n  registerLifecycleHook(onMounted, mounted);\n  registerLifecycleHook(onBeforeUpdate, beforeUpdate);\n  registerLifecycleHook(onUpdated, updated);\n  registerLifecycleHook(onActivated, activated);\n  registerLifecycleHook(onDeactivated, deactivated);\n  registerLifecycleHook(onErrorCaptured, errorCaptured);\n  registerLifecycleHook(onRenderTracked, renderTracked);\n  registerLifecycleHook(onRenderTriggered, renderTriggered);\n  registerLifecycleHook(onBeforeUnmount, beforeUnmount);\n  registerLifecycleHook(onUnmounted, unmounted);\n  registerLifecycleHook(onServerPrefetch, serverPrefetch);\n  if (isArray(expose)) {\n    if (expose.length) {\n      const exposed = instance.exposed || (instance.exposed = {});\n      expose.forEach((key) => {\n        Object.defineProperty(exposed, key, {\n          get: () => publicThis[key],\n          set: (val) => publicThis[key] = val\n        });\n      });\n    } else if (!instance.exposed) {\n      instance.exposed = {};\n    }\n  }\n  if (render && instance.render === NOOP) {\n    instance.render = render;\n  }\n  if (inheritAttrs != null) {\n    instance.inheritAttrs = inheritAttrs;\n  }\n  if (components)\n    instance.components = components;\n  if (directives)\n    instance.directives = directives;\n}\nfunction resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP) {\n  if (isArray(injectOptions)) {\n    injectOptions = normalizeInject(injectOptions);\n  }\n  for (const key in injectOptions) {\n    const opt = injectOptions[key];\n    let injected;\n    if (isObject(opt)) {\n      if (\"default\" in opt) {\n        injected = inject(\n          opt.from || key,\n          opt.default,\n          true\n          /* treat default function as factory */\n        );\n      } else {\n        injected = inject(opt.from || key);\n      }\n    } else {\n      injected = inject(opt);\n    }\n    if (isRef(injected)) {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => injected.value,\n        set: (v) => injected.value = v\n      });\n    } else {\n      ctx[key] = injected;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      checkDuplicateProperties(\"Inject\" /* INJECT */, key);\n    }\n  }\n}\nfunction callHook(hook, instance, type) {\n  callWithAsyncErrorHandling(\n    isArray(hook) ? hook.map((h) => h.bind(instance.proxy)) : hook.bind(instance.proxy),\n    instance,\n    type\n  );\n}\nfunction createWatcher(raw, ctx, publicThis, key) {\n  const getter = key.includes(\".\") ? createPathGetter(publicThis, key) : () => publicThis[key];\n  if (isString(raw)) {\n    const handler = ctx[raw];\n    if (isFunction(handler)) {\n      watch(getter, handler);\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`Invalid watch handler specified by key \"${raw}\"`, handler);\n    }\n  } else if (isFunction(raw)) {\n    watch(getter, raw.bind(publicThis));\n  } else if (isObject(raw)) {\n    if (isArray(raw)) {\n      raw.forEach((r) => createWatcher(r, ctx, publicThis, key));\n    } else {\n      const handler = isFunction(raw.handler) ? raw.handler.bind(publicThis) : ctx[raw.handler];\n      if (isFunction(handler)) {\n        watch(getter, handler, raw);\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn(`Invalid watch handler specified by key \"${raw.handler}\"`, handler);\n      }\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(`Invalid watch option: \"${key}\"`, raw);\n  }\n}\nfunction resolveMergedOptions(instance) {\n  const base = instance.type;\n  const { mixins, extends: extendsOptions } = base;\n  const {\n    mixins: globalMixins,\n    optionsCache: cache,\n    config: { optionMergeStrategies }\n  } = instance.appContext;\n  const cached = cache.get(base);\n  let resolved;\n  if (cached) {\n    resolved = cached;\n  } else if (!globalMixins.length && !mixins && !extendsOptions) {\n    {\n      resolved = base;\n    }\n  } else {\n    resolved = {};\n    if (globalMixins.length) {\n      globalMixins.forEach(\n        (m) => mergeOptions(resolved, m, optionMergeStrategies, true)\n      );\n    }\n    mergeOptions(resolved, base, optionMergeStrategies);\n  }\n  if (isObject(base)) {\n    cache.set(base, resolved);\n  }\n  return resolved;\n}\nfunction mergeOptions(to, from, strats, asMixin = false) {\n  const { mixins, extends: extendsOptions } = from;\n  if (extendsOptions) {\n    mergeOptions(to, extendsOptions, strats, true);\n  }\n  if (mixins) {\n    mixins.forEach(\n      (m) => mergeOptions(to, m, strats, true)\n    );\n  }\n  for (const key in from) {\n    if (asMixin && key === \"expose\") {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `\"expose\" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.`\n      );\n    } else {\n      const strat = internalOptionMergeStrats[key] || strats && strats[key];\n      to[key] = strat ? strat(to[key], from[key]) : from[key];\n    }\n  }\n  return to;\n}\nconst internalOptionMergeStrats = {\n  data: mergeDataFn,\n  props: mergeEmitsOrPropsOptions,\n  emits: mergeEmitsOrPropsOptions,\n  // objects\n  methods: mergeObjectOptions,\n  computed: mergeObjectOptions,\n  // lifecycle\n  beforeCreate: mergeAsArray,\n  created: mergeAsArray,\n  beforeMount: mergeAsArray,\n  mounted: mergeAsArray,\n  beforeUpdate: mergeAsArray,\n  updated: mergeAsArray,\n  beforeDestroy: mergeAsArray,\n  beforeUnmount: mergeAsArray,\n  destroyed: mergeAsArray,\n  unmounted: mergeAsArray,\n  activated: mergeAsArray,\n  deactivated: mergeAsArray,\n  errorCaptured: mergeAsArray,\n  serverPrefetch: mergeAsArray,\n  // assets\n  components: mergeObjectOptions,\n  directives: mergeObjectOptions,\n  // watch\n  watch: mergeWatchOptions,\n  // provide / inject\n  provide: mergeDataFn,\n  inject: mergeInject\n};\nfunction mergeDataFn(to, from) {\n  if (!from) {\n    return to;\n  }\n  if (!to) {\n    return from;\n  }\n  return function mergedDataFn() {\n    return (extend)(\n      isFunction(to) ? to.call(this, this) : to,\n      isFunction(from) ? from.call(this, this) : from\n    );\n  };\n}\nfunction mergeInject(to, from) {\n  return mergeObjectOptions(normalizeInject(to), normalizeInject(from));\n}\nfunction normalizeInject(raw) {\n  if (isArray(raw)) {\n    const res = {};\n    for (let i = 0; i < raw.length; i++) {\n      res[raw[i]] = raw[i];\n    }\n    return res;\n  }\n  return raw;\n}\nfunction mergeAsArray(to, from) {\n  return to ? [...new Set([].concat(to, from))] : from;\n}\nfunction mergeObjectOptions(to, from) {\n  return to ? extend(/* @__PURE__ */ Object.create(null), to, from) : from;\n}\nfunction mergeEmitsOrPropsOptions(to, from) {\n  if (to) {\n    if (isArray(to) && isArray(from)) {\n      return [.../* @__PURE__ */ new Set([...to, ...from])];\n    }\n    return extend(\n      /* @__PURE__ */ Object.create(null),\n      normalizePropsOrEmits(to),\n      normalizePropsOrEmits(from != null ? from : {})\n    );\n  } else {\n    return from;\n  }\n}\nfunction mergeWatchOptions(to, from) {\n  if (!to)\n    return from;\n  if (!from)\n    return to;\n  const merged = extend(/* @__PURE__ */ Object.create(null), to);\n  for (const key in from) {\n    merged[key] = mergeAsArray(to[key], from[key]);\n  }\n  return merged;\n}\n\nfunction createAppContext() {\n  return {\n    app: null,\n    config: {\n      isNativeTag: NO,\n      performance: false,\n      globalProperties: {},\n      optionMergeStrategies: {},\n      errorHandler: void 0,\n      warnHandler: void 0,\n      compilerOptions: {}\n    },\n    mixins: [],\n    components: {},\n    directives: {},\n    provides: /* @__PURE__ */ Object.create(null),\n    optionsCache: /* @__PURE__ */ new WeakMap(),\n    propsCache: /* @__PURE__ */ new WeakMap(),\n    emitsCache: /* @__PURE__ */ new WeakMap()\n  };\n}\nlet uid$1 = 0;\nfunction createAppAPI(render, hydrate) {\n  return function createApp(rootComponent, rootProps = null) {\n    if (!isFunction(rootComponent)) {\n      rootComponent = extend({}, rootComponent);\n    }\n    if (rootProps != null && !isObject(rootProps)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`root props passed to app.mount() must be an object.`);\n      rootProps = null;\n    }\n    const context = createAppContext();\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      Object.defineProperty(context.config, \"unwrapInjectedRef\", {\n        get() {\n          return true;\n        },\n        set() {\n          warn(\n            `app.config.unwrapInjectedRef has been deprecated. 3.3 now always unwraps injected refs in Options API.`\n          );\n        }\n      });\n    }\n    const installedPlugins = /* @__PURE__ */ new WeakSet();\n    let isMounted = false;\n    const app = context.app = {\n      _uid: uid$1++,\n      _component: rootComponent,\n      _props: rootProps,\n      _container: null,\n      _context: context,\n      _instance: null,\n      version,\n      get config() {\n        return context.config;\n      },\n      set config(v) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\n            `app.config cannot be replaced. Modify individual options instead.`\n          );\n        }\n      },\n      use(plugin, ...options) {\n        if (installedPlugins.has(plugin)) {\n          !!(process.env.NODE_ENV !== \"production\") && warn(`Plugin has already been applied to target app.`);\n        } else if (plugin && isFunction(plugin.install)) {\n          installedPlugins.add(plugin);\n          plugin.install(app, ...options);\n        } else if (isFunction(plugin)) {\n          installedPlugins.add(plugin);\n          plugin(app, ...options);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\n            `A plugin must either be a function or an object with an \"install\" function.`\n          );\n        }\n        return app;\n      },\n      mixin(mixin) {\n        if (__VUE_OPTIONS_API__) {\n          if (!context.mixins.includes(mixin)) {\n            context.mixins.push(mixin);\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn(\n              \"Mixin has already been applied to target app\" + (mixin.name ? `: ${mixin.name}` : \"\")\n            );\n          }\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Mixins are only available in builds supporting Options API\");\n        }\n        return app;\n      },\n      component(name, component) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateComponentName(name, context.config);\n        }\n        if (!component) {\n          return context.components[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.components[name]) {\n          warn(`Component \"${name}\" has already been registered in target app.`);\n        }\n        context.components[name] = component;\n        return app;\n      },\n      directive(name, directive) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateDirectiveName(name);\n        }\n        if (!directive) {\n          return context.directives[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.directives[name]) {\n          warn(`Directive \"${name}\" has already been registered in target app.`);\n        }\n        context.directives[name] = directive;\n        return app;\n      },\n      mount(rootContainer, isHydrate, isSVG) {\n        if (!isMounted) {\n          if (!!(process.env.NODE_ENV !== \"production\") && rootContainer.__vue_app__) {\n            warn(\n              `There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling \\`app.unmount()\\` first.`\n            );\n          }\n          const vnode = createVNode(rootComponent, rootProps);\n          vnode.appContext = context;\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            context.reload = () => {\n              render(cloneVNode(vnode), rootContainer, isSVG);\n            };\n          }\n          if (isHydrate && hydrate) {\n            hydrate(vnode, rootContainer);\n          } else {\n            render(vnode, rootContainer, isSVG);\n          }\n          isMounted = true;\n          app._container = rootContainer;\n          rootContainer.__vue_app__ = app;\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = vnode.component;\n            devtoolsInitApp(app, version);\n          }\n          return getExposeProxy(vnode.component) || vnode.component.proxy;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\n            `App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. \\`const createMyApp = () => createApp(App)\\``\n          );\n        }\n      },\n      unmount() {\n        if (isMounted) {\n          render(null, app._container);\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = null;\n            devtoolsUnmountApp(app);\n          }\n          delete app._container.__vue_app__;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`Cannot unmount an app that is not mounted.`);\n        }\n      },\n      provide(key, value) {\n        if (!!(process.env.NODE_ENV !== \"production\") && key in context.provides) {\n          warn(\n            `App already provides property with key \"${String(key)}\". It will be overwritten with the new value.`\n          );\n        }\n        context.provides[key] = value;\n        return app;\n      },\n      runWithContext(fn) {\n        currentApp = app;\n        try {\n          return fn();\n        } finally {\n          currentApp = null;\n        }\n      }\n    };\n    return app;\n  };\n}\nlet currentApp = null;\n\nfunction provide(key, value) {\n  if (!currentInstance) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`provide() can only be used inside setup().`);\n    }\n  } else {\n    let provides = currentInstance.provides;\n    const parentProvides = currentInstance.parent && currentInstance.parent.provides;\n    if (parentProvides === provides) {\n      provides = currentInstance.provides = Object.create(parentProvides);\n    }\n    provides[key] = value;\n  }\n}\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\n  const instance = currentInstance || currentRenderingInstance;\n  if (instance || currentApp) {\n    const provides = instance ? instance.parent == null ? instance.vnode.appContext && instance.vnode.appContext.provides : instance.parent.provides : currentApp._context.provides;\n    if (provides && key in provides) {\n      return provides[key];\n    } else if (arguments.length > 1) {\n      return treatDefaultAsFactory && isFunction(defaultValue) ? defaultValue.call(instance && instance.proxy) : defaultValue;\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`injection \"${String(key)}\" not found.`);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(`inject() can only be used inside setup() or functional components.`);\n  }\n}\nfunction hasInjectionContext() {\n  return !!(currentInstance || currentRenderingInstance || currentApp);\n}\n\nfunction initProps(instance, rawProps, isStateful, isSSR = false) {\n  const props = {};\n  const attrs = {};\n  def(attrs, InternalObjectKey, 1);\n  instance.propsDefaults = /* @__PURE__ */ Object.create(null);\n  setFullProps(instance, rawProps, props, attrs);\n  for (const key in instance.propsOptions[0]) {\n    if (!(key in props)) {\n      props[key] = void 0;\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n  if (isStateful) {\n    instance.props = isSSR ? props : shallowReactive(props);\n  } else {\n    if (!instance.type.props) {\n      instance.props = attrs;\n    } else {\n      instance.props = props;\n    }\n  }\n  instance.attrs = attrs;\n}\nfunction isInHmrContext(instance) {\n  while (instance) {\n    if (instance.type.__hmrId)\n      return true;\n    instance = instance.parent;\n  }\n}\nfunction updateProps(instance, rawProps, rawPrevProps, optimized) {\n  const {\n    props,\n    attrs,\n    vnode: { patchFlag }\n  } = instance;\n  const rawCurrentProps = toRaw(props);\n  const [options] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  if (\n    // always force full diff in dev\n    // - #1942 if hmr is enabled with sfc component\n    // - vite#872 non-sfc component used by sfc component\n    !(!!(process.env.NODE_ENV !== \"production\") && isInHmrContext(instance)) && (optimized || patchFlag > 0) && !(patchFlag & 16)\n  ) {\n    if (patchFlag & 8) {\n      const propsToUpdate = instance.vnode.dynamicProps;\n      for (let i = 0; i < propsToUpdate.length; i++) {\n        let key = propsToUpdate[i];\n        if (isEmitListener(instance.emitsOptions, key)) {\n          continue;\n        }\n        const value = rawProps[key];\n        if (options) {\n          if (hasOwn(attrs, key)) {\n            if (value !== attrs[key]) {\n              attrs[key] = value;\n              hasAttrsChanged = true;\n            }\n          } else {\n            const camelizedKey = camelize(key);\n            props[camelizedKey] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              camelizedKey,\n              value,\n              instance,\n              false\n              /* isAbsent */\n            );\n          }\n        } else {\n          if (value !== attrs[key]) {\n            attrs[key] = value;\n            hasAttrsChanged = true;\n          }\n        }\n      }\n    }\n  } else {\n    if (setFullProps(instance, rawProps, props, attrs)) {\n      hasAttrsChanged = true;\n    }\n    let kebabKey;\n    for (const key in rawCurrentProps) {\n      if (!rawProps || // for camelCase\n      !hasOwn(rawProps, key) && // it's possible the original props was passed in as kebab-case\n      // and converted to camelCase (#955)\n      ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey))) {\n        if (options) {\n          if (rawPrevProps && // for camelCase\n          (rawPrevProps[key] !== void 0 || // for kebab-case\n          rawPrevProps[kebabKey] !== void 0)) {\n            props[key] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              key,\n              void 0,\n              instance,\n              true\n              /* isAbsent */\n            );\n          }\n        } else {\n          delete props[key];\n        }\n      }\n    }\n    if (attrs !== rawCurrentProps) {\n      for (const key in attrs) {\n        if (!rawProps || !hasOwn(rawProps, key) && true) {\n          delete attrs[key];\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (hasAttrsChanged) {\n    trigger(instance, \"set\", \"$attrs\");\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n}\nfunction setFullProps(instance, rawProps, props, attrs) {\n  const [options, needCastKeys] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  let rawCastValues;\n  if (rawProps) {\n    for (let key in rawProps) {\n      if (isReservedProp(key)) {\n        continue;\n      }\n      const value = rawProps[key];\n      let camelKey;\n      if (options && hasOwn(options, camelKey = camelize(key))) {\n        if (!needCastKeys || !needCastKeys.includes(camelKey)) {\n          props[camelKey] = value;\n        } else {\n          (rawCastValues || (rawCastValues = {}))[camelKey] = value;\n        }\n      } else if (!isEmitListener(instance.emitsOptions, key)) {\n        if (!(key in attrs) || value !== attrs[key]) {\n          attrs[key] = value;\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (needCastKeys) {\n    const rawCurrentProps = toRaw(props);\n    const castValues = rawCastValues || EMPTY_OBJ;\n    for (let i = 0; i < needCastKeys.length; i++) {\n      const key = needCastKeys[i];\n      props[key] = resolvePropValue(\n        options,\n        rawCurrentProps,\n        key,\n        castValues[key],\n        instance,\n        !hasOwn(castValues, key)\n      );\n    }\n  }\n  return hasAttrsChanged;\n}\nfunction resolvePropValue(options, props, key, value, instance, isAbsent) {\n  const opt = options[key];\n  if (opt != null) {\n    const hasDefault = hasOwn(opt, \"default\");\n    if (hasDefault && value === void 0) {\n      const defaultValue = opt.default;\n      if (opt.type !== Function && !opt.skipFactory && isFunction(defaultValue)) {\n        const { propsDefaults } = instance;\n        if (key in propsDefaults) {\n          value = propsDefaults[key];\n        } else {\n          setCurrentInstance(instance);\n          value = propsDefaults[key] = defaultValue.call(\n            null,\n            props\n          );\n          unsetCurrentInstance();\n        }\n      } else {\n        value = defaultValue;\n      }\n    }\n    if (opt[0 /* shouldCast */]) {\n      if (isAbsent && !hasDefault) {\n        value = false;\n      } else if (opt[1 /* shouldCastTrue */] && (value === \"\" || value === hyphenate(key))) {\n        value = true;\n      }\n    }\n  }\n  return value;\n}\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.propsCache;\n  const cached = cache.get(comp);\n  if (cached) {\n    return cached;\n  }\n  const raw = comp.props;\n  const normalized = {};\n  const needCastKeys = [];\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendProps = (raw2) => {\n      hasExtends = true;\n      const [props, keys] = normalizePropsOptions(raw2, appContext, true);\n      extend(normalized, props);\n      if (keys)\n        needCastKeys.push(...keys);\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendProps);\n    }\n    if (comp.extends) {\n      extendProps(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendProps);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, EMPTY_ARR);\n    }\n    return EMPTY_ARR;\n  }\n  if (isArray(raw)) {\n    for (let i = 0; i < raw.length; i++) {\n      if (!!(process.env.NODE_ENV !== \"production\") && !isString(raw[i])) {\n        warn(`props must be strings when using array syntax.`, raw[i]);\n      }\n      const normalizedKey = camelize(raw[i]);\n      if (validatePropName(normalizedKey)) {\n        normalized[normalizedKey] = EMPTY_OBJ;\n      }\n    }\n  } else if (raw) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isObject(raw)) {\n      warn(`invalid props options`, raw);\n    }\n    for (const key in raw) {\n      const normalizedKey = camelize(key);\n      if (validatePropName(normalizedKey)) {\n        const opt = raw[key];\n        const prop = normalized[normalizedKey] = isArray(opt) || isFunction(opt) ? { type: opt } : extend({}, opt);\n        if (prop) {\n          const booleanIndex = getTypeIndex(Boolean, prop.type);\n          const stringIndex = getTypeIndex(String, prop.type);\n          prop[0 /* shouldCast */] = booleanIndex > -1;\n          prop[1 /* shouldCastTrue */] = stringIndex < 0 || booleanIndex < stringIndex;\n          if (booleanIndex > -1 || hasOwn(prop, \"default\")) {\n            needCastKeys.push(normalizedKey);\n          }\n        }\n      }\n    }\n  }\n  const res = [normalized, needCastKeys];\n  if (isObject(comp)) {\n    cache.set(comp, res);\n  }\n  return res;\n}\nfunction validatePropName(key) {\n  if (key[0] !== \"$\") {\n    return true;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(`Invalid prop name: \"${key}\" is a reserved property.`);\n  }\n  return false;\n}\nfunction getType(ctor) {\n  const match = ctor && ctor.toString().match(/^\\s*(function|class) (\\w+)/);\n  return match ? match[2] : ctor === null ? \"null\" : \"\";\n}\nfunction isSameType(a, b) {\n  return getType(a) === getType(b);\n}\nfunction getTypeIndex(type, expectedTypes) {\n  if (isArray(expectedTypes)) {\n    return expectedTypes.findIndex((t) => isSameType(t, type));\n  } else if (isFunction(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1;\n  }\n  return -1;\n}\nfunction validateProps(rawProps, props, instance) {\n  const resolvedValues = toRaw(props);\n  const options = instance.propsOptions[0];\n  for (const key in options) {\n    let opt = options[key];\n    if (opt == null)\n      continue;\n    validateProp(\n      key,\n      resolvedValues[key],\n      opt,\n      !hasOwn(rawProps, key) && !hasOwn(rawProps, hyphenate(key))\n    );\n  }\n}\nfunction validateProp(name, value, prop, isAbsent) {\n  const { type, required, validator, skipCheck } = prop;\n  if (required && isAbsent) {\n    warn('Missing required prop: \"' + name + '\"');\n    return;\n  }\n  if (value == null && !required) {\n    return;\n  }\n  if (type != null && type !== true && !skipCheck) {\n    let isValid = false;\n    const types = isArray(type) ? type : [type];\n    const expectedTypes = [];\n    for (let i = 0; i < types.length && !isValid; i++) {\n      const { valid, expectedType } = assertType(value, types[i]);\n      expectedTypes.push(expectedType || \"\");\n      isValid = valid;\n    }\n    if (!isValid) {\n      warn(getInvalidTypeMessage(name, value, expectedTypes));\n      return;\n    }\n  }\n  if (validator && !validator(value)) {\n    warn('Invalid prop: custom validator check failed for prop \"' + name + '\".');\n  }\n}\nconst isSimpleType = /* @__PURE__ */ makeMap(\n  \"String,Number,Boolean,Function,Symbol,BigInt\"\n);\nfunction assertType(value, type) {\n  let valid;\n  const expectedType = getType(type);\n  if (isSimpleType(expectedType)) {\n    const t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    if (!valid && t === \"object\") {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === \"Object\") {\n    valid = isObject(value);\n  } else if (expectedType === \"Array\") {\n    valid = isArray(value);\n  } else if (expectedType === \"null\") {\n    valid = value === null;\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid,\n    expectedType\n  };\n}\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\n  if (expectedTypes.length === 0) {\n    return `Prop type [] for prop \"${name}\" won't match anything. Did you mean to use type Array instead?`;\n  }\n  let message = `Invalid prop: type check failed for prop \"${name}\". Expected ${expectedTypes.map(capitalize).join(\" | \")}`;\n  const expectedType = expectedTypes[0];\n  const receivedType = toRawType(value);\n  const expectedValue = styleValue(value, expectedType);\n  const receivedValue = styleValue(value, receivedType);\n  if (expectedTypes.length === 1 && isExplicable(expectedType) && !isBoolean(expectedType, receivedType)) {\n    message += ` with value ${expectedValue}`;\n  }\n  message += `, got ${receivedType} `;\n  if (isExplicable(receivedType)) {\n    message += `with value ${receivedValue}.`;\n  }\n  return message;\n}\nfunction styleValue(value, type) {\n  if (type === \"String\") {\n    return `\"${value}\"`;\n  } else if (type === \"Number\") {\n    return `${Number(value)}`;\n  } else {\n    return `${value}`;\n  }\n}\nfunction isExplicable(type) {\n  const explicitTypes = [\"string\", \"number\", \"boolean\"];\n  return explicitTypes.some((elem) => type.toLowerCase() === elem);\n}\nfunction isBoolean(...args) {\n  return args.some((elem) => elem.toLowerCase() === \"boolean\");\n}\n\nconst isInternalKey = (key) => key[0] === \"_\" || key === \"$stable\";\nconst normalizeSlotValue = (value) => isArray(value) ? value.map(normalizeVNode) : [normalizeVNode(value)];\nconst normalizeSlot = (key, rawSlot, ctx) => {\n  if (rawSlot._n) {\n    return rawSlot;\n  }\n  const normalized = withCtx((...args) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && currentInstance) {\n      warn(\n        `Slot \"${key}\" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`\n      );\n    }\n    return normalizeSlotValue(rawSlot(...args));\n  }, ctx);\n  normalized._c = false;\n  return normalized;\n};\nconst normalizeObjectSlots = (rawSlots, slots, instance) => {\n  const ctx = rawSlots._ctx;\n  for (const key in rawSlots) {\n    if (isInternalKey(key))\n      continue;\n    const value = rawSlots[key];\n    if (isFunction(value)) {\n      slots[key] = normalizeSlot(key, value, ctx);\n    } else if (value != null) {\n      if (!!(process.env.NODE_ENV !== \"production\") && true) {\n        warn(\n          `Non-function value encountered for slot \"${key}\". Prefer function slots for better performance.`\n        );\n      }\n      const normalized = normalizeSlotValue(value);\n      slots[key] = () => normalized;\n    }\n  }\n};\nconst normalizeVNodeSlots = (instance, children) => {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isKeepAlive(instance.vnode) && true) {\n    warn(\n      `Non-function value encountered for default slot. Prefer function slots for better performance.`\n    );\n  }\n  const normalized = normalizeSlotValue(children);\n  instance.slots.default = () => normalized;\n};\nconst initSlots = (instance, children) => {\n  if (instance.vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      instance.slots = toRaw(children);\n      def(children, \"_\", type);\n    } else {\n      normalizeObjectSlots(\n        children,\n        instance.slots = {});\n    }\n  } else {\n    instance.slots = {};\n    if (children) {\n      normalizeVNodeSlots(instance, children);\n    }\n  }\n  def(instance.slots, InternalObjectKey, 1);\n};\nconst updateSlots = (instance, children, optimized) => {\n  const { vnode, slots } = instance;\n  let needDeletionCheck = true;\n  let deletionComparisonTarget = EMPTY_OBJ;\n  if (vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n        extend(slots, children);\n        trigger(instance, \"set\", \"$slots\");\n      } else if (optimized && type === 1) {\n        needDeletionCheck = false;\n      } else {\n        extend(slots, children);\n        if (!optimized && type === 1) {\n          delete slots._;\n        }\n      }\n    } else {\n      needDeletionCheck = !children.$stable;\n      normalizeObjectSlots(children, slots);\n    }\n    deletionComparisonTarget = children;\n  } else if (children) {\n    normalizeVNodeSlots(instance, children);\n    deletionComparisonTarget = { default: 1 };\n  }\n  if (needDeletionCheck) {\n    for (const key in slots) {\n      if (!isInternalKey(key) && deletionComparisonTarget[key] == null) {\n        delete slots[key];\n      }\n    }\n  }\n};\n\nfunction setRef(rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) {\n  if (isArray(rawRef)) {\n    rawRef.forEach(\n      (r, i) => setRef(\n        r,\n        oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef),\n        parentSuspense,\n        vnode,\n        isUnmount\n      )\n    );\n    return;\n  }\n  if (isAsyncWrapper(vnode) && !isUnmount) {\n    return;\n  }\n  const refValue = vnode.shapeFlag & 4 ? getExposeProxy(vnode.component) || vnode.component.proxy : vnode.el;\n  const value = isUnmount ? null : refValue;\n  const { i: owner, r: ref } = rawRef;\n  if (!!(process.env.NODE_ENV !== \"production\") && !owner) {\n    warn(\n      `Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.`\n    );\n    return;\n  }\n  const oldRef = oldRawRef && oldRawRef.r;\n  const refs = owner.refs === EMPTY_OBJ ? owner.refs = {} : owner.refs;\n  const setupState = owner.setupState;\n  if (oldRef != null && oldRef !== ref) {\n    if (isString(oldRef)) {\n      refs[oldRef] = null;\n      if (hasOwn(setupState, oldRef)) {\n        setupState[oldRef] = null;\n      }\n    } else if (isRef(oldRef)) {\n      oldRef.value = null;\n    }\n  }\n  if (isFunction(ref)) {\n    callWithErrorHandling(ref, owner, 12, [value, refs]);\n  } else {\n    const _isString = isString(ref);\n    const _isRef = isRef(ref);\n    if (_isString || _isRef) {\n      const doSet = () => {\n        if (rawRef.f) {\n          const existing = _isString ? hasOwn(setupState, ref) ? setupState[ref] : refs[ref] : ref.value;\n          if (isUnmount) {\n            isArray(existing) && remove(existing, refValue);\n          } else {\n            if (!isArray(existing)) {\n              if (_isString) {\n                refs[ref] = [refValue];\n                if (hasOwn(setupState, ref)) {\n                  setupState[ref] = refs[ref];\n                }\n              } else {\n                ref.value = [refValue];\n                if (rawRef.k)\n                  refs[rawRef.k] = ref.value;\n              }\n            } else if (!existing.includes(refValue)) {\n              existing.push(refValue);\n            }\n          }\n        } else if (_isString) {\n          refs[ref] = value;\n          if (hasOwn(setupState, ref)) {\n            setupState[ref] = value;\n          }\n        } else if (_isRef) {\n          ref.value = value;\n          if (rawRef.k)\n            refs[rawRef.k] = value;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n        }\n      };\n      if (value) {\n        doSet.id = -1;\n        queuePostRenderEffect(doSet, parentSuspense);\n      } else {\n        doSet();\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n    }\n  }\n}\n\nlet hasMismatch = false;\nconst isSVGContainer = (container) => /svg/.test(container.namespaceURI) && container.tagName !== \"foreignObject\";\nconst isComment = (node) => node.nodeType === 8 /* COMMENT */;\nfunction createHydrationFunctions(rendererInternals) {\n  const {\n    mt: mountComponent,\n    p: patch,\n    o: {\n      patchProp,\n      createText,\n      nextSibling,\n      parentNode,\n      remove,\n      insert,\n      createComment\n    }\n  } = rendererInternals;\n  const hydrate = (vnode, container) => {\n    if (!container.hasChildNodes()) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Attempting to hydrate existing markup but container is empty. Performing full mount instead.`\n      );\n      patch(null, vnode, container);\n      flushPostFlushCbs();\n      container._vnode = vnode;\n      return;\n    }\n    hasMismatch = false;\n    hydrateNode(container.firstChild, vnode, null, null, null);\n    flushPostFlushCbs();\n    container._vnode = vnode;\n    if (hasMismatch && true) {\n      console.error(`Hydration completed but contains mismatches.`);\n    }\n  };\n  const hydrateNode = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized = false) => {\n    const isFragmentStart = isComment(node) && node.data === \"[\";\n    const onMismatch = () => handleMismatch(\n      node,\n      vnode,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      isFragmentStart\n    );\n    const { type, ref, shapeFlag, patchFlag } = vnode;\n    let domType = node.nodeType;\n    vnode.el = node;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      if (!(\"__vnode\" in node)) {\n        Object.defineProperty(node, \"__vnode\", {\n          value: vnode,\n          enumerable: false\n        });\n      }\n      if (!(\"__vueParentComponent\" in node)) {\n        Object.defineProperty(node, \"__vueParentComponent\", {\n          value: parentComponent,\n          enumerable: false\n        });\n      }\n    }\n    if (patchFlag === -2) {\n      optimized = false;\n      vnode.dynamicChildren = null;\n    }\n    let nextNode = null;\n    switch (type) {\n      case Text:\n        if (domType !== 3 /* TEXT */) {\n          if (vnode.children === \"\") {\n            insert(vnode.el = createText(\"\"), parentNode(node), node);\n            nextNode = node;\n          } else {\n            nextNode = onMismatch();\n          }\n        } else {\n          if (node.data !== vnode.children) {\n            hasMismatch = true;\n            !!(process.env.NODE_ENV !== \"production\") && warn(\n              `Hydration text mismatch:\n- Server rendered: ${JSON.stringify(\n                node.data\n              )}\n- Client rendered: ${JSON.stringify(vnode.children)}`\n            );\n            node.data = vnode.children;\n          }\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Comment:\n        if (isTemplateNode(node)) {\n          nextNode = nextSibling(node);\n          replaceNode(\n            vnode.el = node.content.firstChild,\n            node,\n            parentComponent\n          );\n        } else if (domType !== 8 /* COMMENT */ || isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Static:\n        if (isFragmentStart) {\n          node = nextSibling(node);\n          domType = node.nodeType;\n        }\n        if (domType === 1 /* ELEMENT */ || domType === 3 /* TEXT */) {\n          nextNode = node;\n          const needToAdoptContent = !vnode.children.length;\n          for (let i = 0; i < vnode.staticCount; i++) {\n            if (needToAdoptContent)\n              vnode.children += nextNode.nodeType === 1 /* ELEMENT */ ? nextNode.outerHTML : nextNode.data;\n            if (i === vnode.staticCount - 1) {\n              vnode.anchor = nextNode;\n            }\n            nextNode = nextSibling(nextNode);\n          }\n          return isFragmentStart ? nextSibling(nextNode) : nextNode;\n        } else {\n          onMismatch();\n        }\n        break;\n      case Fragment:\n        if (!isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = hydrateFragment(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            slotScopeIds,\n            optimized\n          );\n        }\n        break;\n      default:\n        if (shapeFlag & 1) {\n          if ((domType !== 1 /* ELEMENT */ || vnode.type.toLowerCase() !== node.tagName.toLowerCase()) && !isTemplateNode(node)) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = hydrateElement(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized\n            );\n          }\n        } else if (shapeFlag & 6) {\n          vnode.slotScopeIds = slotScopeIds;\n          const container = parentNode(node);\n          if (isFragmentStart) {\n            nextNode = locateClosingAnchor(node);\n          } else if (isComment(node) && node.data === \"teleport start\") {\n            nextNode = locateClosingAnchor(node, node.data, \"teleport end\");\n          } else {\n            nextNode = nextSibling(node);\n          }\n          mountComponent(\n            vnode,\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            isSVGContainer(container),\n            optimized\n          );\n          if (isAsyncWrapper(vnode)) {\n            let subTree;\n            if (isFragmentStart) {\n              subTree = createVNode(Fragment);\n              subTree.anchor = nextNode ? nextNode.previousSibling : container.lastChild;\n            } else {\n              subTree = node.nodeType === 3 ? createTextVNode(\"\") : createVNode(\"div\");\n            }\n            subTree.el = node;\n            vnode.component.subTree = subTree;\n          }\n        } else if (shapeFlag & 64) {\n          if (domType !== 8 /* COMMENT */) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = vnode.type.hydrate(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized,\n              rendererInternals,\n              hydrateChildren\n            );\n          }\n        } else if (shapeFlag & 128) {\n          nextNode = vnode.type.hydrate(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            isSVGContainer(parentNode(node)),\n            slotScopeIds,\n            optimized,\n            rendererInternals,\n            hydrateNode\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Invalid HostVNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode);\n    }\n    return nextNode;\n  };\n  const hydrateElement = (el, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!vnode.dynamicChildren;\n    const { type, props, patchFlag, shapeFlag, dirs, transition } = vnode;\n    const forcePatch = type === \"input\" || type === \"option\";\n    if (!!(process.env.NODE_ENV !== \"production\") || forcePatch || patchFlag !== -1) {\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n      }\n      if (props) {\n        if (forcePatch || !optimized || patchFlag & (16 | 32)) {\n          for (const key in props) {\n            if (forcePatch && (key.endsWith(\"value\") || key === \"indeterminate\") || isOn(key) && !isReservedProp(key) || // force hydrate v-bind with .prop modifiers\n            key[0] === \".\") {\n              patchProp(\n                el,\n                key,\n                null,\n                props[key],\n                false,\n                void 0,\n                parentComponent\n              );\n            }\n          }\n        } else if (props.onClick) {\n          patchProp(\n            el,\n            \"onClick\",\n            null,\n            props.onClick,\n            false,\n            void 0,\n            parentComponent\n          );\n        }\n      }\n      let vnodeHooks;\n      if (vnodeHooks = props && props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n      }\n      let needCallTransitionHooks = false;\n      if (isTemplateNode(el)) {\n        needCallTransitionHooks = needTransition(parentSuspense, transition) && parentComponent && parentComponent.vnode.props && parentComponent.vnode.props.appear;\n        const content = el.content.firstChild;\n        if (needCallTransitionHooks) {\n          transition.beforeEnter(content);\n        }\n        replaceNode(content, el, parentComponent);\n        vnode.el = el = content;\n      }\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n      }\n      if ((vnodeHooks = props && props.onVnodeMounted) || dirs || needCallTransitionHooks) {\n        queueEffectWithSuspense(() => {\n          vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n          needCallTransitionHooks && transition.enter(el);\n          dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n        }, parentSuspense);\n      }\n      if (shapeFlag & 16 && // skip if element has innerHTML / textContent\n      !(props && (props.innerHTML || props.textContent))) {\n        let next = hydrateChildren(\n          el.firstChild,\n          vnode,\n          el,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        let hasWarned = false;\n        while (next) {\n          hasMismatch = true;\n          if (!!(process.env.NODE_ENV !== \"production\") && !hasWarned) {\n            warn(\n              `Hydration children mismatch in <${vnode.type}>: server rendered element contains more child nodes than client vdom.`\n            );\n            hasWarned = true;\n          }\n          const cur = next;\n          next = next.nextSibling;\n          remove(cur);\n        }\n      } else if (shapeFlag & 8) {\n        if (el.textContent !== vnode.children) {\n          hasMismatch = true;\n          !!(process.env.NODE_ENV !== \"production\") && warn(\n            `Hydration text content mismatch in <${vnode.type}>:\n- Server rendered: ${el.textContent}\n- Client rendered: ${vnode.children}`\n          );\n          el.textContent = vnode.children;\n        }\n      }\n    }\n    return el.nextSibling;\n  };\n  const hydrateChildren = (node, parentVNode, container, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!parentVNode.dynamicChildren;\n    const children = parentVNode.children;\n    const l = children.length;\n    let hasWarned = false;\n    for (let i = 0; i < l; i++) {\n      const vnode = optimized ? children[i] : children[i] = normalizeVNode(children[i]);\n      if (node) {\n        node = hydrateNode(\n          node,\n          vnode,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      } else if (vnode.type === Text && !vnode.children) {\n        continue;\n      } else {\n        hasMismatch = true;\n        if (!!(process.env.NODE_ENV !== \"production\") && !hasWarned) {\n          warn(\n            `Hydration children mismatch in <${container.tagName.toLowerCase()}>: server rendered element contains fewer child nodes than client vdom.`\n          );\n          hasWarned = true;\n        }\n        patch(\n          null,\n          vnode,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          isSVGContainer(container),\n          slotScopeIds\n        );\n      }\n    }\n    return node;\n  };\n  const hydrateFragment = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    const { slotScopeIds: fragmentSlotScopeIds } = vnode;\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    const container = parentNode(node);\n    const next = hydrateChildren(\n      nextSibling(node),\n      vnode,\n      container,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      optimized\n    );\n    if (next && isComment(next) && next.data === \"]\") {\n      return nextSibling(vnode.anchor = next);\n    } else {\n      hasMismatch = true;\n      insert(vnode.anchor = createComment(`]`), container, next);\n      return next;\n    }\n  };\n  const handleMismatch = (node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragment) => {\n    hasMismatch = true;\n    !!(process.env.NODE_ENV !== \"production\") && warn(\n      `Hydration node mismatch:\n- Client vnode:`,\n      vnode.type,\n      `\n- Server rendered DOM:`,\n      node,\n      node.nodeType === 3 /* TEXT */ ? `(text)` : isComment(node) && node.data === \"[\" ? `(start of fragment)` : ``\n    );\n    vnode.el = null;\n    if (isFragment) {\n      const end = locateClosingAnchor(node);\n      while (true) {\n        const next2 = nextSibling(node);\n        if (next2 && next2 !== end) {\n          remove(next2);\n        } else {\n          break;\n        }\n      }\n    }\n    const next = nextSibling(node);\n    const container = parentNode(node);\n    remove(node);\n    patch(\n      null,\n      vnode,\n      container,\n      next,\n      parentComponent,\n      parentSuspense,\n      isSVGContainer(container),\n      slotScopeIds\n    );\n    return next;\n  };\n  const locateClosingAnchor = (node, open = \"[\", close = \"]\") => {\n    let match = 0;\n    while (node) {\n      node = nextSibling(node);\n      if (node && isComment(node)) {\n        if (node.data === open)\n          match++;\n        if (node.data === close) {\n          if (match === 0) {\n            return nextSibling(node);\n          } else {\n            match--;\n          }\n        }\n      }\n    }\n    return node;\n  };\n  const replaceNode = (newNode, oldNode, parentComponent) => {\n    const parentNode2 = oldNode.parentNode;\n    if (parentNode2) {\n      parentNode2.replaceChild(newNode, oldNode);\n    }\n    let parent = parentComponent;\n    while (parent) {\n      if (parent.vnode.el === oldNode) {\n        parent.vnode.el = parent.subTree.el = newNode;\n      }\n      parent = parent.parent;\n    }\n  };\n  const isTemplateNode = (node) => {\n    return node.nodeType === 1 /* ELEMENT */ && node.tagName.toLowerCase() === \"template\";\n  };\n  return [hydrate, hydrateNode];\n}\n\nlet supported;\nlet perf;\nfunction startMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    perf.mark(`vue-${type}-${instance.uid}`);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfStart(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction endMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    const startTag = `vue-${type}-${instance.uid}`;\n    const endTag = startTag + `:end`;\n    perf.mark(endTag);\n    perf.measure(\n      `<${formatComponentName(instance, instance.type)}> ${type}`,\n      startTag,\n      endTag\n    );\n    perf.clearMarks(startTag);\n    perf.clearMarks(endTag);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfEnd(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction isSupported() {\n  if (supported !== void 0) {\n    return supported;\n  }\n  if (typeof window !== \"undefined\" && window.performance) {\n    supported = true;\n    perf = window.performance;\n  } else {\n    supported = false;\n  }\n  return supported;\n}\n\nfunction initFeatureFlags() {\n  const needWarn = [];\n  if (typeof __VUE_OPTIONS_API__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_OPTIONS_API__`);\n    getGlobalThis().__VUE_OPTIONS_API__ = true;\n  }\n  if (typeof __VUE_PROD_DEVTOOLS__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_PROD_DEVTOOLS__`);\n    getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && needWarn.length) {\n    const multi = needWarn.length > 1;\n    console.warn(\n      `Feature flag${multi ? `s` : ``} ${needWarn.join(\", \")} ${multi ? `are` : `is`} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.\n\nFor more details, see https://link.vuejs.org/feature-flags.`\n    );\n  }\n}\n\nconst queuePostRenderEffect = queueEffectWithSuspense ;\nfunction createRenderer(options) {\n  return baseCreateRenderer(options);\n}\nfunction createHydrationRenderer(options) {\n  return baseCreateRenderer(options, createHydrationFunctions);\n}\nfunction baseCreateRenderer(options, createHydrationFns) {\n  {\n    initFeatureFlags();\n  }\n  const target = getGlobalThis();\n  target.__VUE__ = true;\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__, target);\n  }\n  const {\n    insert: hostInsert,\n    remove: hostRemove,\n    patchProp: hostPatchProp,\n    createElement: hostCreateElement,\n    createText: hostCreateText,\n    createComment: hostCreateComment,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling,\n    setScopeId: hostSetScopeId = NOOP,\n    insertStaticContent: hostInsertStaticContent\n  } = options;\n  const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = !!(process.env.NODE_ENV !== \"production\") && isHmrUpdating ? false : !!n2.dynamicChildren) => {\n    if (n1 === n2) {\n      return;\n    }\n    if (n1 && !isSameVNodeType(n1, n2)) {\n      anchor = getNextHostNode(n1);\n      unmount(n1, parentComponent, parentSuspense, true);\n      n1 = null;\n    }\n    if (n2.patchFlag === -2) {\n      optimized = false;\n      n2.dynamicChildren = null;\n    }\n    const { type, ref, shapeFlag } = n2;\n    switch (type) {\n      case Text:\n        processText(n1, n2, container, anchor);\n        break;\n      case Comment:\n        processCommentNode(n1, n2, container, anchor);\n        break;\n      case Static:\n        if (n1 == null) {\n          mountStaticNode(n2, container, anchor, isSVG);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          patchStaticNode(n1, n2, container, isSVG);\n        }\n        break;\n      case Fragment:\n        processFragment(\n          n1,\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        break;\n      default:\n        if (shapeFlag & 1) {\n          processElement(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 6) {\n          processComponent(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 64) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (shapeFlag & 128) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Invalid VNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null && parentComponent) {\n      setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);\n    }\n  };\n  const processText = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateText(n2.children),\n        container,\n        anchor\n      );\n    } else {\n      const el = n2.el = n1.el;\n      if (n2.children !== n1.children) {\n        hostSetText(el, n2.children);\n      }\n    }\n  };\n  const processCommentNode = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateComment(n2.children || \"\"),\n        container,\n        anchor\n      );\n    } else {\n      n2.el = n1.el;\n    }\n  };\n  const mountStaticNode = (n2, container, anchor, isSVG) => {\n    [n2.el, n2.anchor] = hostInsertStaticContent(\n      n2.children,\n      container,\n      anchor,\n      isSVG,\n      n2.el,\n      n2.anchor\n    );\n  };\n  const patchStaticNode = (n1, n2, container, isSVG) => {\n    if (n2.children !== n1.children) {\n      const anchor = hostNextSibling(n1.anchor);\n      removeStaticNode(n1);\n      [n2.el, n2.anchor] = hostInsertStaticContent(\n        n2.children,\n        container,\n        anchor,\n        isSVG\n      );\n    } else {\n      n2.el = n1.el;\n      n2.anchor = n1.anchor;\n    }\n  };\n  const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostInsert(el, container, nextSibling);\n      el = next;\n    }\n    hostInsert(anchor, container, nextSibling);\n  };\n  const removeStaticNode = ({ el, anchor }) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostRemove(el);\n      el = next;\n    }\n    hostRemove(anchor);\n  };\n  const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    isSVG = isSVG || n2.type === \"svg\";\n    if (n1 == null) {\n      mountElement(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      patchElement(\n        n1,\n        n2,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    let el;\n    let vnodeHook;\n    const { type, props, shapeFlag, transition, dirs } = vnode;\n    el = vnode.el = hostCreateElement(\n      vnode.type,\n      isSVG,\n      props && props.is,\n      props\n    );\n    if (shapeFlag & 8) {\n      hostSetElementText(el, vnode.children);\n    } else if (shapeFlag & 16) {\n      mountChildren(\n        vnode.children,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        isSVG && type !== \"foreignObject\",\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n    }\n    setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);\n    if (props) {\n      for (const key in props) {\n        if (key !== \"value\" && !isReservedProp(key)) {\n          hostPatchProp(\n            el,\n            key,\n            null,\n            props[key],\n            isSVG,\n            vnode.children,\n            parentComponent,\n            parentSuspense,\n            unmountChildren\n          );\n        }\n      }\n      if (\"value\" in props) {\n        hostPatchProp(el, \"value\", null, props.value);\n      }\n      if (vnodeHook = props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHook, parentComponent, vnode);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      Object.defineProperty(el, \"__vnode\", {\n        value: vnode,\n        enumerable: false\n      });\n      Object.defineProperty(el, \"__vueParentComponent\", {\n        value: parentComponent,\n        enumerable: false\n      });\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n    }\n    const needCallTransitionHooks = needTransition(parentSuspense, transition);\n    if (needCallTransitionHooks) {\n      transition.beforeEnter(el);\n    }\n    hostInsert(el, container, anchor);\n    if ((vnodeHook = props && props.onVnodeMounted) || needCallTransitionHooks || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        needCallTransitionHooks && transition.enter(el);\n        dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n      }, parentSuspense);\n    }\n  };\n  const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {\n    if (scopeId) {\n      hostSetScopeId(el, scopeId);\n    }\n    if (slotScopeIds) {\n      for (let i = 0; i < slotScopeIds.length; i++) {\n        hostSetScopeId(el, slotScopeIds[i]);\n      }\n    }\n    if (parentComponent) {\n      let subTree = parentComponent.subTree;\n      if (!!(process.env.NODE_ENV !== \"production\") && subTree.patchFlag > 0 && subTree.patchFlag & 2048) {\n        subTree = filterSingleRoot(subTree.children) || subTree;\n      }\n      if (vnode === subTree) {\n        const parentVNode = parentComponent.vnode;\n        setScopeId(\n          el,\n          parentVNode,\n          parentVNode.scopeId,\n          parentVNode.slotScopeIds,\n          parentComponent.parent\n        );\n      }\n    }\n  };\n  const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      const child = children[i] = optimized ? cloneIfMounted(children[i]) : normalizeVNode(children[i]);\n      patch(\n        null,\n        child,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    const el = n2.el = n1.el;\n    let { patchFlag, dynamicChildren, dirs } = n2;\n    patchFlag |= n1.patchFlag & 16;\n    const oldProps = n1.props || EMPTY_OBJ;\n    const newProps = n2.props || EMPTY_OBJ;\n    let vnodeHook;\n    parentComponent && toggleRecurse(parentComponent, false);\n    if (vnodeHook = newProps.onVnodeBeforeUpdate) {\n      invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n    }\n    if (dirs) {\n      invokeDirectiveHook(n2, n1, parentComponent, \"beforeUpdate\");\n    }\n    parentComponent && toggleRecurse(parentComponent, true);\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    const areChildrenSVG = isSVG && n2.type !== \"foreignObject\";\n    if (dynamicChildren) {\n      patchBlockChildren(\n        n1.dynamicChildren,\n        dynamicChildren,\n        el,\n        parentComponent,\n        parentSuspense,\n        areChildrenSVG,\n        slotScopeIds\n      );\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        traverseStaticChildren(n1, n2);\n      }\n    } else if (!optimized) {\n      patchChildren(\n        n1,\n        n2,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        areChildrenSVG,\n        slotScopeIds,\n        false\n      );\n    }\n    if (patchFlag > 0) {\n      if (patchFlag & 16) {\n        patchProps(\n          el,\n          n2,\n          oldProps,\n          newProps,\n          parentComponent,\n          parentSuspense,\n          isSVG\n        );\n      } else {\n        if (patchFlag & 2) {\n          if (oldProps.class !== newProps.class) {\n            hostPatchProp(el, \"class\", null, newProps.class, isSVG);\n          }\n        }\n        if (patchFlag & 4) {\n          hostPatchProp(el, \"style\", oldProps.style, newProps.style, isSVG);\n        }\n        if (patchFlag & 8) {\n          const propsToUpdate = n2.dynamicProps;\n          for (let i = 0; i < propsToUpdate.length; i++) {\n            const key = propsToUpdate[i];\n            const prev = oldProps[key];\n            const next = newProps[key];\n            if (next !== prev || key === \"value\") {\n              hostPatchProp(\n                el,\n                key,\n                prev,\n                next,\n                isSVG,\n                n1.children,\n                parentComponent,\n                parentSuspense,\n                unmountChildren\n              );\n            }\n          }\n        }\n      }\n      if (patchFlag & 1) {\n        if (n1.children !== n2.children) {\n          hostSetElementText(el, n2.children);\n        }\n      }\n    } else if (!optimized && dynamicChildren == null) {\n      patchProps(\n        el,\n        n2,\n        oldProps,\n        newProps,\n        parentComponent,\n        parentSuspense,\n        isSVG\n      );\n    }\n    if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n        dirs && invokeDirectiveHook(n2, n1, parentComponent, \"updated\");\n      }, parentSuspense);\n    }\n  };\n  const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {\n    for (let i = 0; i < newChildren.length; i++) {\n      const oldVNode = oldChildren[i];\n      const newVNode = newChildren[i];\n      const container = (\n        // oldVNode may be an errored async setup() component inside Suspense\n        // which will not have a mounted element\n        oldVNode.el && // - In the case of a Fragment, we need to provide the actual parent\n        // of the Fragment itself so it can move its children.\n        (oldVNode.type === Fragment || // - In the case of different nodes, there is going to be a replacement\n        // which also requires the correct parent container\n        !isSameVNodeType(oldVNode, newVNode) || // - In the case of a component, it could contain anything.\n        oldVNode.shapeFlag & (6 | 64)) ? hostParentNode(oldVNode.el) : (\n          // In other cases, the parent container is not actually used so we\n          // just pass the block element here to avoid a DOM parentNode call.\n          fallbackContainer\n        )\n      );\n      patch(\n        oldVNode,\n        newVNode,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        true\n      );\n    }\n  };\n  const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {\n    if (oldProps !== newProps) {\n      if (oldProps !== EMPTY_OBJ) {\n        for (const key in oldProps) {\n          if (!isReservedProp(key) && !(key in newProps)) {\n            hostPatchProp(\n              el,\n              key,\n              oldProps[key],\n              null,\n              isSVG,\n              vnode.children,\n              parentComponent,\n              parentSuspense,\n              unmountChildren\n            );\n          }\n        }\n      }\n      for (const key in newProps) {\n        if (isReservedProp(key))\n          continue;\n        const next = newProps[key];\n        const prev = oldProps[key];\n        if (next !== prev && key !== \"value\") {\n          hostPatchProp(\n            el,\n            key,\n            prev,\n            next,\n            isSVG,\n            vnode.children,\n            parentComponent,\n            parentSuspense,\n            unmountChildren\n          );\n        }\n      }\n      if (\"value\" in newProps) {\n        hostPatchProp(el, \"value\", oldProps.value, newProps.value);\n      }\n    }\n  };\n  const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    const fragmentStartAnchor = n2.el = n1 ? n1.el : hostCreateText(\"\");\n    const fragmentEndAnchor = n2.anchor = n1 ? n1.anchor : hostCreateText(\"\");\n    let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && // #5523 dev root fragment may inherit directives\n    (isHmrUpdating || patchFlag & 2048)) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    if (n1 == null) {\n      hostInsert(fragmentStartAnchor, container, anchor);\n      hostInsert(fragmentEndAnchor, container, anchor);\n      mountChildren(\n        n2.children,\n        container,\n        fragmentEndAnchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      if (patchFlag > 0 && patchFlag & 64 && dynamicChildren && // #2715 the previous fragment could've been a BAILed one as a result\n      // of renderSlot() with no valid children\n      n1.dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          container,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          traverseStaticChildren(n1, n2);\n        } else if (\n          // #2080 if the stable fragment has a key, it's a <template v-for> that may\n          //  get moved around. Make sure all root level vnodes inherit el.\n          // #2134 or if it's a component root, it may also get moved around\n          // as the component is being moved.\n          n2.key != null || parentComponent && n2 === parentComponent.subTree\n        ) {\n          traverseStaticChildren(\n            n1,\n            n2,\n            true\n            /* shallow */\n          );\n        }\n      } else {\n        patchChildren(\n          n1,\n          n2,\n          container,\n          fragmentEndAnchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n  };\n  const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    n2.slotScopeIds = slotScopeIds;\n    if (n1 == null) {\n      if (n2.shapeFlag & 512) {\n        parentComponent.ctx.activate(\n          n2,\n          container,\n          anchor,\n          isSVG,\n          optimized\n        );\n      } else {\n        mountComponent(\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          optimized\n        );\n      }\n    } else {\n      updateComponent(n1, n2, optimized);\n    }\n  };\n  const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\n    const instance = (initialVNode.component = createComponentInstance(\n      initialVNode,\n      parentComponent,\n      parentSuspense\n    ));\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      registerHMR(instance);\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      pushWarningContext(initialVNode);\n      startMeasure(instance, `mount`);\n    }\n    if (isKeepAlive(initialVNode)) {\n      instance.ctx.renderer = internals;\n    }\n    {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        startMeasure(instance, `init`);\n      }\n      setupComponent(instance);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        endMeasure(instance, `init`);\n      }\n    }\n    if (instance.asyncDep) {\n      parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);\n      if (!initialVNode.el) {\n        const placeholder = instance.subTree = createVNode(Comment);\n        processCommentNode(null, placeholder, container, anchor);\n      }\n      return;\n    }\n    setupRenderEffect(\n      instance,\n      initialVNode,\n      container,\n      anchor,\n      parentSuspense,\n      isSVG,\n      optimized\n    );\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      popWarningContext();\n      endMeasure(instance, `mount`);\n    }\n  };\n  const updateComponent = (n1, n2, optimized) => {\n    const instance = n2.component = n1.component;\n    if (shouldUpdateComponent(n1, n2, optimized)) {\n      if (instance.asyncDep && !instance.asyncResolved) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(n2);\n        }\n        updateComponentPreRender(instance, n2, optimized);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        return;\n      } else {\n        instance.next = n2;\n        invalidateJob(instance.update);\n        instance.update();\n      }\n    } else {\n      n2.el = n1.el;\n      instance.vnode = n2;\n    }\n  };\n  const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {\n    const componentUpdateFn = () => {\n      if (!instance.isMounted) {\n        let vnodeHook;\n        const { el, props } = initialVNode;\n        const { bm, m, parent } = instance;\n        const isAsyncWrapperVNode = isAsyncWrapper(initialVNode);\n        toggleRecurse(instance, false);\n        if (bm) {\n          invokeArrayFns(bm);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeBeforeMount)) {\n          invokeVNodeHook(vnodeHook, parent, initialVNode);\n        }\n        toggleRecurse(instance, true);\n        if (el && hydrateNode) {\n          const hydrateSubTree = () => {\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `render`);\n            }\n            instance.subTree = renderComponentRoot(instance);\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `render`);\n            }\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `hydrate`);\n            }\n            hydrateNode(\n              el,\n              instance.subTree,\n              instance,\n              parentSuspense,\n              null\n            );\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `hydrate`);\n            }\n          };\n          if (isAsyncWrapperVNode) {\n            initialVNode.type.__asyncLoader().then(\n              // note: we are moving the render call into an async callback,\n              // which means it won't track dependencies - but it's ok because\n              // a server-rendered async wrapper is already in resolved state\n              // and it will never need to change.\n              () => !instance.isUnmounted && hydrateSubTree()\n            );\n          } else {\n            hydrateSubTree();\n          }\n        } else {\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `render`);\n          }\n          const subTree = instance.subTree = renderComponentRoot(instance);\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `render`);\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `patch`);\n          }\n          patch(\n            null,\n            subTree,\n            container,\n            anchor,\n            instance,\n            parentSuspense,\n            isSVG\n          );\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `patch`);\n          }\n          initialVNode.el = subTree.el;\n        }\n        if (m) {\n          queuePostRenderEffect(m, parentSuspense);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeMounted)) {\n          const scopedInitialVNode = initialVNode;\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode),\n            parentSuspense\n          );\n        }\n        if (initialVNode.shapeFlag & 256 || parent && isAsyncWrapper(parent.vnode) && parent.vnode.shapeFlag & 256) {\n          instance.a && queuePostRenderEffect(instance.a, parentSuspense);\n        }\n        instance.isMounted = true;\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentAdded(instance);\n        }\n        initialVNode = container = anchor = null;\n      } else {\n        let { next, bu, u, parent, vnode } = instance;\n        let originNext = next;\n        let vnodeHook;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(next || instance.vnode);\n        }\n        toggleRecurse(instance, false);\n        if (next) {\n          next.el = vnode.el;\n          updateComponentPreRender(instance, next, optimized);\n        } else {\n          next = vnode;\n        }\n        if (bu) {\n          invokeArrayFns(bu);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeBeforeUpdate) {\n          invokeVNodeHook(vnodeHook, parent, next, vnode);\n        }\n        toggleRecurse(instance, true);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `render`);\n        }\n        const nextTree = renderComponentRoot(instance);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `render`);\n        }\n        const prevTree = instance.subTree;\n        instance.subTree = nextTree;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `patch`);\n        }\n        patch(\n          prevTree,\n          nextTree,\n          // parent may have changed if it's in a teleport\n          hostParentNode(prevTree.el),\n          // anchor may have changed if it's in a fragment\n          getNextHostNode(prevTree),\n          instance,\n          parentSuspense,\n          isSVG\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `patch`);\n        }\n        next.el = nextTree.el;\n        if (originNext === null) {\n          updateHOCHostEl(instance, nextTree.el);\n        }\n        if (u) {\n          queuePostRenderEffect(u, parentSuspense);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeUpdated) {\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, next, vnode),\n            parentSuspense\n          );\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentUpdated(instance);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n      }\n    };\n    const effect = instance.effect = new ReactiveEffect(\n      componentUpdateFn,\n      () => queueJob(update),\n      instance.scope\n      // track it in component's effect scope\n    );\n    const update = instance.update = () => effect.run();\n    update.id = instance.uid;\n    toggleRecurse(instance, true);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      effect.onTrack = instance.rtc ? (e) => invokeArrayFns(instance.rtc, e) : void 0;\n      effect.onTrigger = instance.rtg ? (e) => invokeArrayFns(instance.rtg, e) : void 0;\n      update.ownerInstance = instance;\n    }\n    update();\n  };\n  const updateComponentPreRender = (instance, nextVNode, optimized) => {\n    nextVNode.component = instance;\n    const prevProps = instance.vnode.props;\n    instance.vnode = nextVNode;\n    instance.next = null;\n    updateProps(instance, nextVNode.props, prevProps, optimized);\n    updateSlots(instance, nextVNode.children, optimized);\n    pauseTracking();\n    flushPreFlushCbs();\n    resetTracking();\n  };\n  const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {\n    const c1 = n1 && n1.children;\n    const prevShapeFlag = n1 ? n1.shapeFlag : 0;\n    const c2 = n2.children;\n    const { patchFlag, shapeFlag } = n2;\n    if (patchFlag > 0) {\n      if (patchFlag & 128) {\n        patchKeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      } else if (patchFlag & 256) {\n        patchUnkeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      }\n    }\n    if (shapeFlag & 8) {\n      if (prevShapeFlag & 16) {\n        unmountChildren(c1, parentComponent, parentSuspense);\n      }\n      if (c2 !== c1) {\n        hostSetElementText(container, c2);\n      }\n    } else {\n      if (prevShapeFlag & 16) {\n        if (shapeFlag & 16) {\n          patchKeyedChildren(\n            c1,\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else {\n          unmountChildren(c1, parentComponent, parentSuspense, true);\n        }\n      } else {\n        if (prevShapeFlag & 8) {\n          hostSetElementText(container, \"\");\n        }\n        if (shapeFlag & 16) {\n          mountChildren(\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        }\n      }\n    }\n  };\n  const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    c1 = c1 || EMPTY_ARR;\n    c2 = c2 || EMPTY_ARR;\n    const oldLength = c1.length;\n    const newLength = c2.length;\n    const commonLength = Math.min(oldLength, newLength);\n    let i;\n    for (i = 0; i < commonLength; i++) {\n      const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      patch(\n        c1[i],\n        nextChild,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (oldLength > newLength) {\n      unmountChildren(\n        c1,\n        parentComponent,\n        parentSuspense,\n        true,\n        false,\n        commonLength\n      );\n    } else {\n      mountChildren(\n        c2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized,\n        commonLength\n      );\n    }\n  };\n  const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    let i = 0;\n    const l2 = c2.length;\n    let e1 = c1.length - 1;\n    let e2 = l2 - 1;\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[i];\n      const n2 = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      i++;\n    }\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[e1];\n      const n2 = c2[e2] = optimized ? cloneIfMounted(c2[e2]) : normalizeVNode(c2[e2]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      e1--;\n      e2--;\n    }\n    if (i > e1) {\n      if (i <= e2) {\n        const nextPos = e2 + 1;\n        const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\n        while (i <= e2) {\n          patch(\n            null,\n            c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]),\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n          i++;\n        }\n      }\n    } else if (i > e2) {\n      while (i <= e1) {\n        unmount(c1[i], parentComponent, parentSuspense, true);\n        i++;\n      }\n    } else {\n      const s1 = i;\n      const s2 = i;\n      const keyToNewIndexMap = /* @__PURE__ */ new Map();\n      for (i = s2; i <= e2; i++) {\n        const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n        if (nextChild.key != null) {\n          if (!!(process.env.NODE_ENV !== \"production\") && keyToNewIndexMap.has(nextChild.key)) {\n            warn(\n              `Duplicate keys found during update:`,\n              JSON.stringify(nextChild.key),\n              `Make sure keys are unique.`\n            );\n          }\n          keyToNewIndexMap.set(nextChild.key, i);\n        }\n      }\n      let j;\n      let patched = 0;\n      const toBePatched = e2 - s2 + 1;\n      let moved = false;\n      let maxNewIndexSoFar = 0;\n      const newIndexToOldIndexMap = new Array(toBePatched);\n      for (i = 0; i < toBePatched; i++)\n        newIndexToOldIndexMap[i] = 0;\n      for (i = s1; i <= e1; i++) {\n        const prevChild = c1[i];\n        if (patched >= toBePatched) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n          continue;\n        }\n        let newIndex;\n        if (prevChild.key != null) {\n          newIndex = keyToNewIndexMap.get(prevChild.key);\n        } else {\n          for (j = s2; j <= e2; j++) {\n            if (newIndexToOldIndexMap[j - s2] === 0 && isSameVNodeType(prevChild, c2[j])) {\n              newIndex = j;\n              break;\n            }\n          }\n        }\n        if (newIndex === void 0) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n        } else {\n          newIndexToOldIndexMap[newIndex - s2] = i + 1;\n          if (newIndex >= maxNewIndexSoFar) {\n            maxNewIndexSoFar = newIndex;\n          } else {\n            moved = true;\n          }\n          patch(\n            prevChild,\n            c2[newIndex],\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n          patched++;\n        }\n      }\n      const increasingNewIndexSequence = moved ? getSequence(newIndexToOldIndexMap) : EMPTY_ARR;\n      j = increasingNewIndexSequence.length - 1;\n      for (i = toBePatched - 1; i >= 0; i--) {\n        const nextIndex = s2 + i;\n        const nextChild = c2[nextIndex];\n        const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\n        if (newIndexToOldIndexMap[i] === 0) {\n          patch(\n            null,\n            nextChild,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else if (moved) {\n          if (j < 0 || i !== increasingNewIndexSequence[j]) {\n            move(nextChild, container, anchor, 2);\n          } else {\n            j--;\n          }\n        }\n      }\n    }\n  };\n  const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\n    const { el, type, transition, children, shapeFlag } = vnode;\n    if (shapeFlag & 6) {\n      move(vnode.component.subTree, container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 128) {\n      vnode.suspense.move(container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 64) {\n      type.move(vnode, container, anchor, internals);\n      return;\n    }\n    if (type === Fragment) {\n      hostInsert(el, container, anchor);\n      for (let i = 0; i < children.length; i++) {\n        move(children[i], container, anchor, moveType);\n      }\n      hostInsert(vnode.anchor, container, anchor);\n      return;\n    }\n    if (type === Static) {\n      moveStaticNode(vnode, container, anchor);\n      return;\n    }\n    const needTransition2 = moveType !== 2 && shapeFlag & 1 && transition;\n    if (needTransition2) {\n      if (moveType === 0) {\n        transition.beforeEnter(el);\n        hostInsert(el, container, anchor);\n        queuePostRenderEffect(() => transition.enter(el), parentSuspense);\n      } else {\n        const { leave, delayLeave, afterLeave } = transition;\n        const remove2 = () => hostInsert(el, container, anchor);\n        const performLeave = () => {\n          leave(el, () => {\n            remove2();\n            afterLeave && afterLeave();\n          });\n        };\n        if (delayLeave) {\n          delayLeave(el, remove2, performLeave);\n        } else {\n          performLeave();\n        }\n      }\n    } else {\n      hostInsert(el, container, anchor);\n    }\n  };\n  const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\n    const {\n      type,\n      props,\n      ref,\n      children,\n      dynamicChildren,\n      shapeFlag,\n      patchFlag,\n      dirs\n    } = vnode;\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode, true);\n    }\n    if (shapeFlag & 256) {\n      parentComponent.ctx.deactivate(vnode);\n      return;\n    }\n    const shouldInvokeDirs = shapeFlag & 1 && dirs;\n    const shouldInvokeVnodeHook = !isAsyncWrapper(vnode);\n    let vnodeHook;\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeBeforeUnmount)) {\n      invokeVNodeHook(vnodeHook, parentComponent, vnode);\n    }\n    if (shapeFlag & 6) {\n      unmountComponent(vnode.component, parentSuspense, doRemove);\n    } else {\n      if (shapeFlag & 128) {\n        vnode.suspense.unmount(parentSuspense, doRemove);\n        return;\n      }\n      if (shouldInvokeDirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeUnmount\");\n      }\n      if (shapeFlag & 64) {\n        vnode.type.remove(\n          vnode,\n          parentComponent,\n          parentSuspense,\n          optimized,\n          internals,\n          doRemove\n        );\n      } else if (dynamicChildren && // #1153: fast path should not be taken for non-stable (v-for) fragments\n      (type !== Fragment || patchFlag > 0 && patchFlag & 64)) {\n        unmountChildren(\n          dynamicChildren,\n          parentComponent,\n          parentSuspense,\n          false,\n          true\n        );\n      } else if (type === Fragment && patchFlag & (128 | 256) || !optimized && shapeFlag & 16) {\n        unmountChildren(children, parentComponent, parentSuspense);\n      }\n      if (doRemove) {\n        remove(vnode);\n      }\n    }\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        shouldInvokeDirs && invokeDirectiveHook(vnode, null, parentComponent, \"unmounted\");\n      }, parentSuspense);\n    }\n  };\n  const remove = (vnode) => {\n    const { type, el, anchor, transition } = vnode;\n    if (type === Fragment) {\n      if (!!(process.env.NODE_ENV !== \"production\") && vnode.patchFlag > 0 && vnode.patchFlag & 2048 && transition && !transition.persisted) {\n        vnode.children.forEach((child) => {\n          if (child.type === Comment) {\n            hostRemove(child.el);\n          } else {\n            remove(child);\n          }\n        });\n      } else {\n        removeFragment(el, anchor);\n      }\n      return;\n    }\n    if (type === Static) {\n      removeStaticNode(vnode);\n      return;\n    }\n    const performRemove = () => {\n      hostRemove(el);\n      if (transition && !transition.persisted && transition.afterLeave) {\n        transition.afterLeave();\n      }\n    };\n    if (vnode.shapeFlag & 1 && transition && !transition.persisted) {\n      const { leave, delayLeave } = transition;\n      const performLeave = () => leave(el, performRemove);\n      if (delayLeave) {\n        delayLeave(vnode.el, performRemove, performLeave);\n      } else {\n        performLeave();\n      }\n    } else {\n      performRemove();\n    }\n  };\n  const removeFragment = (cur, end) => {\n    let next;\n    while (cur !== end) {\n      next = hostNextSibling(cur);\n      hostRemove(cur);\n      cur = next;\n    }\n    hostRemove(end);\n  };\n  const unmountComponent = (instance, parentSuspense, doRemove) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      unregisterHMR(instance);\n    }\n    const { bum, scope, update, subTree, um } = instance;\n    if (bum) {\n      invokeArrayFns(bum);\n    }\n    scope.stop();\n    if (update) {\n      update.active = false;\n      unmount(subTree, instance, parentSuspense, doRemove);\n    }\n    if (um) {\n      queuePostRenderEffect(um, parentSuspense);\n    }\n    queuePostRenderEffect(() => {\n      instance.isUnmounted = true;\n    }, parentSuspense);\n    if (parentSuspense && parentSuspense.pendingBranch && !parentSuspense.isUnmounted && instance.asyncDep && !instance.asyncResolved && instance.suspenseId === parentSuspense.pendingId) {\n      parentSuspense.deps--;\n      if (parentSuspense.deps === 0) {\n        parentSuspense.resolve();\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentRemoved(instance);\n    }\n  };\n  const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\n    }\n  };\n  const getNextHostNode = (vnode) => {\n    if (vnode.shapeFlag & 6) {\n      return getNextHostNode(vnode.component.subTree);\n    }\n    if (vnode.shapeFlag & 128) {\n      return vnode.suspense.next();\n    }\n    return hostNextSibling(vnode.anchor || vnode.el);\n  };\n  const render = (vnode, container, isSVG) => {\n    if (vnode == null) {\n      if (container._vnode) {\n        unmount(container._vnode, null, null, true);\n      }\n    } else {\n      patch(container._vnode || null, vnode, container, null, null, null, isSVG);\n    }\n    flushPreFlushCbs();\n    flushPostFlushCbs();\n    container._vnode = vnode;\n  };\n  const internals = {\n    p: patch,\n    um: unmount,\n    m: move,\n    r: remove,\n    mt: mountComponent,\n    mc: mountChildren,\n    pc: patchChildren,\n    pbc: patchBlockChildren,\n    n: getNextHostNode,\n    o: options\n  };\n  let hydrate;\n  let hydrateNode;\n  if (createHydrationFns) {\n    [hydrate, hydrateNode] = createHydrationFns(\n      internals\n    );\n  }\n  return {\n    render,\n    hydrate,\n    createApp: createAppAPI(render, hydrate)\n  };\n}\nfunction toggleRecurse({ effect, update }, allowed) {\n  effect.allowRecurse = update.allowRecurse = allowed;\n}\nfunction needTransition(parentSuspense, transition) {\n  return (!parentSuspense || parentSuspense && !parentSuspense.pendingBranch) && transition && !transition.persisted;\n}\nfunction traverseStaticChildren(n1, n2, shallow = false) {\n  const ch1 = n1.children;\n  const ch2 = n2.children;\n  if (isArray(ch1) && isArray(ch2)) {\n    for (let i = 0; i < ch1.length; i++) {\n      const c1 = ch1[i];\n      let c2 = ch2[i];\n      if (c2.shapeFlag & 1 && !c2.dynamicChildren) {\n        if (c2.patchFlag <= 0 || c2.patchFlag === 32) {\n          c2 = ch2[i] = cloneIfMounted(ch2[i]);\n          c2.el = c1.el;\n        }\n        if (!shallow)\n          traverseStaticChildren(c1, c2);\n      }\n      if (c2.type === Text) {\n        c2.el = c1.el;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && c2.type === Comment && !c2.el) {\n        c2.el = c1.el;\n      }\n    }\n  }\n}\nfunction getSequence(arr) {\n  const p = arr.slice();\n  const result = [0];\n  let i, j, u, v, c;\n  const len = arr.length;\n  for (i = 0; i < len; i++) {\n    const arrI = arr[i];\n    if (arrI !== 0) {\n      j = result[result.length - 1];\n      if (arr[j] < arrI) {\n        p[i] = j;\n        result.push(i);\n        continue;\n      }\n      u = 0;\n      v = result.length - 1;\n      while (u < v) {\n        c = u + v >> 1;\n        if (arr[result[c]] < arrI) {\n          u = c + 1;\n        } else {\n          v = c;\n        }\n      }\n      if (arrI < arr[result[u]]) {\n        if (u > 0) {\n          p[i] = result[u - 1];\n        }\n        result[u] = i;\n      }\n    }\n  }\n  u = result.length;\n  v = result[u - 1];\n  while (u-- > 0) {\n    result[u] = v;\n    v = p[v];\n  }\n  return result;\n}\n\nconst isTeleport = (type) => type.__isTeleport;\nconst isTeleportDisabled = (props) => props && (props.disabled || props.disabled === \"\");\nconst isTargetSVG = (target) => typeof SVGElement !== \"undefined\" && target instanceof SVGElement;\nconst resolveTarget = (props, select) => {\n  const targetSelector = props && props.to;\n  if (isString(targetSelector)) {\n    if (!select) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Current renderer does not support string target for Teleports. (missing querySelector renderer option)`\n      );\n      return null;\n    } else {\n      const target = select(targetSelector);\n      if (!target) {\n        !!(process.env.NODE_ENV !== \"production\") && warn(\n          `Failed to locate Teleport target with selector \"${targetSelector}\". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`\n        );\n      }\n      return target;\n    }\n  } else {\n    if (!!(process.env.NODE_ENV !== \"production\") && !targetSelector && !isTeleportDisabled(props)) {\n      warn(`Invalid Teleport target: ${targetSelector}`);\n    }\n    return targetSelector;\n  }\n};\nconst TeleportImpl = {\n  name: \"Teleport\",\n  __isTeleport: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals) {\n    const {\n      mc: mountChildren,\n      pc: patchChildren,\n      pbc: patchBlockChildren,\n      o: { insert, querySelector, createText, createComment }\n    } = internals;\n    const disabled = isTeleportDisabled(n2.props);\n    let { shapeFlag, children, dynamicChildren } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (n1 == null) {\n      const placeholder = n2.el = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport start\") : createText(\"\");\n      const mainAnchor = n2.anchor = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport end\") : createText(\"\");\n      insert(placeholder, container, anchor);\n      insert(mainAnchor, container, anchor);\n      const target = n2.target = resolveTarget(n2.props, querySelector);\n      const targetAnchor = n2.targetAnchor = createText(\"\");\n      if (target) {\n        insert(targetAnchor, target);\n        isSVG = isSVG || isTargetSVG(target);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !disabled) {\n        warn(\"Invalid Teleport target on mount:\", target, `(${typeof target})`);\n      }\n      const mount = (container2, anchor2) => {\n        if (shapeFlag & 16) {\n          mountChildren(\n            children,\n            container2,\n            anchor2,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        }\n      };\n      if (disabled) {\n        mount(container, mainAnchor);\n      } else if (target) {\n        mount(target, targetAnchor);\n      }\n    } else {\n      n2.el = n1.el;\n      const mainAnchor = n2.anchor = n1.anchor;\n      const target = n2.target = n1.target;\n      const targetAnchor = n2.targetAnchor = n1.targetAnchor;\n      const wasDisabled = isTeleportDisabled(n1.props);\n      const currentContainer = wasDisabled ? container : target;\n      const currentAnchor = wasDisabled ? mainAnchor : targetAnchor;\n      isSVG = isSVG || isTargetSVG(target);\n      if (dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          currentContainer,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds\n        );\n        traverseStaticChildren(n1, n2, true);\n      } else if (!optimized) {\n        patchChildren(\n          n1,\n          n2,\n          currentContainer,\n          currentAnchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          false\n        );\n      }\n      if (disabled) {\n        if (!wasDisabled) {\n          moveTeleport(\n            n2,\n            container,\n            mainAnchor,\n            internals,\n            1\n          );\n        } else {\n          if (n2.props && n1.props && n2.props.to !== n1.props.to) {\n            n2.props.to = n1.props.to;\n          }\n        }\n      } else {\n        if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {\n          const nextTarget = n2.target = resolveTarget(\n            n2.props,\n            querySelector\n          );\n          if (nextTarget) {\n            moveTeleport(\n              n2,\n              nextTarget,\n              null,\n              internals,\n              0\n            );\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn(\n              \"Invalid Teleport target on update:\",\n              target,\n              `(${typeof target})`\n            );\n          }\n        } else if (wasDisabled) {\n          moveTeleport(\n            n2,\n            target,\n            targetAnchor,\n            internals,\n            1\n          );\n        }\n      }\n    }\n    updateCssVars(n2);\n  },\n  remove(vnode, parentComponent, parentSuspense, optimized, { um: unmount, o: { remove: hostRemove } }, doRemove) {\n    const { shapeFlag, children, anchor, targetAnchor, target, props } = vnode;\n    if (target) {\n      hostRemove(targetAnchor);\n    }\n    doRemove && hostRemove(anchor);\n    if (shapeFlag & 16) {\n      const shouldRemove = doRemove || !isTeleportDisabled(props);\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        unmount(\n          child,\n          parentComponent,\n          parentSuspense,\n          shouldRemove,\n          !!child.dynamicChildren\n        );\n      }\n    }\n  },\n  move: moveTeleport,\n  hydrate: hydrateTeleport\n};\nfunction moveTeleport(vnode, container, parentAnchor, { o: { insert }, m: move }, moveType = 2) {\n  if (moveType === 0) {\n    insert(vnode.targetAnchor, container, parentAnchor);\n  }\n  const { el, anchor, shapeFlag, children, props } = vnode;\n  const isReorder = moveType === 2;\n  if (isReorder) {\n    insert(el, container, parentAnchor);\n  }\n  if (!isReorder || isTeleportDisabled(props)) {\n    if (shapeFlag & 16) {\n      for (let i = 0; i < children.length; i++) {\n        move(\n          children[i],\n          container,\n          parentAnchor,\n          2\n        );\n      }\n    }\n  }\n  if (isReorder) {\n    insert(anchor, container, parentAnchor);\n  }\n}\nfunction hydrateTeleport(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, {\n  o: { nextSibling, parentNode, querySelector }\n}, hydrateChildren) {\n  const target = vnode.target = resolveTarget(\n    vnode.props,\n    querySelector\n  );\n  if (target) {\n    const targetNode = target._lpa || target.firstChild;\n    if (vnode.shapeFlag & 16) {\n      if (isTeleportDisabled(vnode.props)) {\n        vnode.anchor = hydrateChildren(\n          nextSibling(node),\n          vnode,\n          parentNode(node),\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        vnode.targetAnchor = targetNode;\n      } else {\n        vnode.anchor = nextSibling(node);\n        let targetAnchor = targetNode;\n        while (targetAnchor) {\n          targetAnchor = nextSibling(targetAnchor);\n          if (targetAnchor && targetAnchor.nodeType === 8 && targetAnchor.data === \"teleport anchor\") {\n            vnode.targetAnchor = targetAnchor;\n            target._lpa = vnode.targetAnchor && nextSibling(vnode.targetAnchor);\n            break;\n          }\n        }\n        hydrateChildren(\n          targetNode,\n          vnode,\n          target,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n    updateCssVars(vnode);\n  }\n  return vnode.anchor && nextSibling(vnode.anchor);\n}\nconst Teleport = TeleportImpl;\nfunction updateCssVars(vnode) {\n  const ctx = vnode.ctx;\n  if (ctx && ctx.ut) {\n    let node = vnode.children[0].el;\n    while (node && node !== vnode.targetAnchor) {\n      if (node.nodeType === 1)\n        node.setAttribute(\"data-v-owner\", ctx.uid);\n      node = node.nextSibling;\n    }\n    ctx.ut();\n  }\n}\n\nconst Fragment = Symbol.for(\"v-fgt\");\nconst Text = Symbol.for(\"v-txt\");\nconst Comment = Symbol.for(\"v-cmt\");\nconst Static = Symbol.for(\"v-stc\");\nconst blockStack = [];\nlet currentBlock = null;\nfunction openBlock(disableTracking = false) {\n  blockStack.push(currentBlock = disableTracking ? null : []);\n}\nfunction closeBlock() {\n  blockStack.pop();\n  currentBlock = blockStack[blockStack.length - 1] || null;\n}\nlet isBlockTreeEnabled = 1;\nfunction setBlockTracking(value) {\n  isBlockTreeEnabled += value;\n}\nfunction setupBlock(vnode) {\n  vnode.dynamicChildren = isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;\n  closeBlock();\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nfunction createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {\n  return setupBlock(\n    createBaseVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      shapeFlag,\n      true\n      /* isBlock */\n    )\n  );\n}\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\n  return setupBlock(\n    createVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      true\n      /* isBlock: prevent a block from tracking itself */\n    )\n  );\n}\nfunction isVNode(value) {\n  return value ? value.__v_isVNode === true : false;\n}\nfunction isSameVNodeType(n1, n2) {\n  if (!!(process.env.NODE_ENV !== \"production\") && n2.shapeFlag & 6 && hmrDirtyComponents.has(n2.type)) {\n    n1.shapeFlag &= ~256;\n    n2.shapeFlag &= ~512;\n    return false;\n  }\n  return n1.type === n2.type && n1.key === n2.key;\n}\nlet vnodeArgsTransformer;\nfunction transformVNodeArgs(transformer) {\n  vnodeArgsTransformer = transformer;\n}\nconst createVNodeWithArgsTransform = (...args) => {\n  return _createVNode(\n    ...vnodeArgsTransformer ? vnodeArgsTransformer(args, currentRenderingInstance) : args\n  );\n};\nconst InternalObjectKey = `__vInternal`;\nconst normalizeKey = ({ key }) => key != null ? key : null;\nconst normalizeRef = ({\n  ref,\n  ref_key,\n  ref_for\n}) => {\n  if (typeof ref === \"number\") {\n    ref = \"\" + ref;\n  }\n  return ref != null ? isString(ref) || isRef(ref) || isFunction(ref) ? { i: currentRenderingInstance, r: ref, k: ref_key, f: !!ref_for } : ref : null;\n};\nfunction createBaseVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, shapeFlag = type === Fragment ? 0 : 1, isBlockNode = false, needFullChildrenNormalization = false) {\n  const vnode = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type,\n    props,\n    key: props && normalizeKey(props),\n    ref: props && normalizeRef(props),\n    scopeId: currentScopeId,\n    slotScopeIds: null,\n    children,\n    component: null,\n    suspense: null,\n    ssContent: null,\n    ssFallback: null,\n    dirs: null,\n    transition: null,\n    el: null,\n    anchor: null,\n    target: null,\n    targetAnchor: null,\n    staticCount: 0,\n    shapeFlag,\n    patchFlag,\n    dynamicProps,\n    dynamicChildren: null,\n    appContext: null,\n    ctx: currentRenderingInstance\n  };\n  if (needFullChildrenNormalization) {\n    normalizeChildren(vnode, children);\n    if (shapeFlag & 128) {\n      type.normalize(vnode);\n    }\n  } else if (children) {\n    vnode.shapeFlag |= isString(children) ? 8 : 16;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && vnode.key !== vnode.key) {\n    warn(`VNode created with invalid key (NaN). VNode type:`, vnode.type);\n  }\n  if (isBlockTreeEnabled > 0 && // avoid a block node from tracking itself\n  !isBlockNode && // has current parent block\n  currentBlock && // presence of a patch flag indicates this node needs patching on updates.\n  // component nodes also should always be patched, because even if the\n  // component doesn't need to update, it needs to persist the instance on to\n  // the next vnode so that it can be properly unmounted later.\n  (vnode.patchFlag > 0 || shapeFlag & 6) && // the EVENTS flag is only for hydration and if it is the only flag, the\n  // vnode should not be considered dynamic due to handler caching.\n  vnode.patchFlag !== 32) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nconst createVNode = !!(process.env.NODE_ENV !== \"production\") ? createVNodeWithArgsTransform : _createVNode;\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\n  if (!type || type === NULL_DYNAMIC_COMPONENT) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !type) {\n      warn(`Invalid vnode type when creating vnode: ${type}.`);\n    }\n    type = Comment;\n  }\n  if (isVNode(type)) {\n    const cloned = cloneVNode(\n      type,\n      props,\n      true\n      /* mergeRef: true */\n    );\n    if (children) {\n      normalizeChildren(cloned, children);\n    }\n    if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock) {\n      if (cloned.shapeFlag & 6) {\n        currentBlock[currentBlock.indexOf(type)] = cloned;\n      } else {\n        currentBlock.push(cloned);\n      }\n    }\n    cloned.patchFlag |= -2;\n    return cloned;\n  }\n  if (isClassComponent(type)) {\n    type = type.__vccOpts;\n  }\n  if (props) {\n    props = guardReactiveProps(props);\n    let { class: klass, style } = props;\n    if (klass && !isString(klass)) {\n      props.class = normalizeClass(klass);\n    }\n    if (isObject(style)) {\n      if (isProxy(style) && !isArray(style)) {\n        style = extend({}, style);\n      }\n      props.style = normalizeStyle(style);\n    }\n  }\n  const shapeFlag = isString(type) ? 1 : isSuspense(type) ? 128 : isTeleport(type) ? 64 : isObject(type) ? 4 : isFunction(type) ? 2 : 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && shapeFlag & 4 && isProxy(type)) {\n    type = toRaw(type);\n    warn(\n      `Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with \\`markRaw\\` or using \\`shallowRef\\` instead of \\`ref\\`.`,\n      `\nComponent that was made reactive: `,\n      type\n    );\n  }\n  return createBaseVNode(\n    type,\n    props,\n    children,\n    patchFlag,\n    dynamicProps,\n    shapeFlag,\n    isBlockNode,\n    true\n  );\n}\nfunction guardReactiveProps(props) {\n  if (!props)\n    return null;\n  return isProxy(props) || InternalObjectKey in props ? extend({}, props) : props;\n}\nfunction cloneVNode(vnode, extraProps, mergeRef = false) {\n  const { props, ref, patchFlag, children } = vnode;\n  const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\n  const cloned = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type: vnode.type,\n    props: mergedProps,\n    key: mergedProps && normalizeKey(mergedProps),\n    ref: extraProps && extraProps.ref ? (\n      // #2078 in the case of <component :is=\"vnode\" ref=\"extra\"/>\n      // if the vnode itself already has a ref, cloneVNode will need to merge\n      // the refs so the single vnode can be set on multiple refs\n      mergeRef && ref ? isArray(ref) ? ref.concat(normalizeRef(extraProps)) : [ref, normalizeRef(extraProps)] : normalizeRef(extraProps)\n    ) : ref,\n    scopeId: vnode.scopeId,\n    slotScopeIds: vnode.slotScopeIds,\n    children: !!(process.env.NODE_ENV !== \"production\") && patchFlag === -1 && isArray(children) ? children.map(deepCloneVNode) : children,\n    target: vnode.target,\n    targetAnchor: vnode.targetAnchor,\n    staticCount: vnode.staticCount,\n    shapeFlag: vnode.shapeFlag,\n    // if the vnode is cloned with extra props, we can no longer assume its\n    // existing patch flag to be reliable and need to add the FULL_PROPS flag.\n    // note: preserve flag for fragments since they use the flag for children\n    // fast paths only.\n    patchFlag: extraProps && vnode.type !== Fragment ? patchFlag === -1 ? 16 : patchFlag | 16 : patchFlag,\n    dynamicProps: vnode.dynamicProps,\n    dynamicChildren: vnode.dynamicChildren,\n    appContext: vnode.appContext,\n    dirs: vnode.dirs,\n    transition: vnode.transition,\n    // These should technically only be non-null on mounted VNodes. However,\n    // they *should* be copied for kept-alive vnodes. So we just always copy\n    // them since them being non-null during a mount doesn't affect the logic as\n    // they will simply be overwritten.\n    component: vnode.component,\n    suspense: vnode.suspense,\n    ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\n    ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\n    el: vnode.el,\n    anchor: vnode.anchor,\n    ctx: vnode.ctx,\n    ce: vnode.ce\n  };\n  return cloned;\n}\nfunction deepCloneVNode(vnode) {\n  const cloned = cloneVNode(vnode);\n  if (isArray(vnode.children)) {\n    cloned.children = vnode.children.map(deepCloneVNode);\n  }\n  return cloned;\n}\nfunction createTextVNode(text = \" \", flag = 0) {\n  return createVNode(Text, null, text, flag);\n}\nfunction createStaticVNode(content, numberOfNodes) {\n  const vnode = createVNode(Static, null, content);\n  vnode.staticCount = numberOfNodes;\n  return vnode;\n}\nfunction createCommentVNode(text = \"\", asBlock = false) {\n  return asBlock ? (openBlock(), createBlock(Comment, null, text)) : createVNode(Comment, null, text);\n}\nfunction normalizeVNode(child) {\n  if (child == null || typeof child === \"boolean\") {\n    return createVNode(Comment);\n  } else if (isArray(child)) {\n    return createVNode(\n      Fragment,\n      null,\n      // #3666, avoid reference pollution when reusing vnode\n      child.slice()\n    );\n  } else if (typeof child === \"object\") {\n    return cloneIfMounted(child);\n  } else {\n    return createVNode(Text, null, String(child));\n  }\n}\nfunction cloneIfMounted(child) {\n  return child.el === null && child.patchFlag !== -1 || child.memo ? child : cloneVNode(child);\n}\nfunction normalizeChildren(vnode, children) {\n  let type = 0;\n  const { shapeFlag } = vnode;\n  if (children == null) {\n    children = null;\n  } else if (isArray(children)) {\n    type = 16;\n  } else if (typeof children === \"object\") {\n    if (shapeFlag & (1 | 64)) {\n      const slot = children.default;\n      if (slot) {\n        slot._c && (slot._d = false);\n        normalizeChildren(vnode, slot());\n        slot._c && (slot._d = true);\n      }\n      return;\n    } else {\n      type = 32;\n      const slotFlag = children._;\n      if (!slotFlag && !(InternalObjectKey in children)) {\n        children._ctx = currentRenderingInstance;\n      } else if (slotFlag === 3 && currentRenderingInstance) {\n        if (currentRenderingInstance.slots._ === 1) {\n          children._ = 1;\n        } else {\n          children._ = 2;\n          vnode.patchFlag |= 1024;\n        }\n      }\n    }\n  } else if (isFunction(children)) {\n    children = { default: children, _ctx: currentRenderingInstance };\n    type = 32;\n  } else {\n    children = String(children);\n    if (shapeFlag & 64) {\n      type = 16;\n      children = [createTextVNode(children)];\n    } else {\n      type = 8;\n    }\n  }\n  vnode.children = children;\n  vnode.shapeFlag |= type;\n}\nfunction mergeProps(...args) {\n  const ret = {};\n  for (let i = 0; i < args.length; i++) {\n    const toMerge = args[i];\n    for (const key in toMerge) {\n      if (key === \"class\") {\n        if (ret.class !== toMerge.class) {\n          ret.class = normalizeClass([ret.class, toMerge.class]);\n        }\n      } else if (key === \"style\") {\n        ret.style = normalizeStyle([ret.style, toMerge.style]);\n      } else if (isOn(key)) {\n        const existing = ret[key];\n        const incoming = toMerge[key];\n        if (incoming && existing !== incoming && !(isArray(existing) && existing.includes(incoming))) {\n          ret[key] = existing ? [].concat(existing, incoming) : incoming;\n        }\n      } else if (key !== \"\") {\n        ret[key] = toMerge[key];\n      }\n    }\n  }\n  return ret;\n}\nfunction invokeVNodeHook(hook, instance, vnode, prevVNode = null) {\n  callWithAsyncErrorHandling(hook, instance, 7, [\n    vnode,\n    prevVNode\n  ]);\n}\n\nconst emptyAppContext = createAppContext();\nlet uid = 0;\nfunction createComponentInstance(vnode, parent, suspense) {\n  const type = vnode.type;\n  const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\n  const instance = {\n    uid: uid++,\n    vnode,\n    type,\n    parent,\n    appContext,\n    root: null,\n    // to be immediately set\n    next: null,\n    subTree: null,\n    // will be set synchronously right after creation\n    effect: null,\n    update: null,\n    // will be set synchronously right after creation\n    scope: new EffectScope(\n      true\n      /* detached */\n    ),\n    render: null,\n    proxy: null,\n    exposed: null,\n    exposeProxy: null,\n    withProxy: null,\n    provides: parent ? parent.provides : Object.create(appContext.provides),\n    accessCache: null,\n    renderCache: [],\n    // local resolved assets\n    components: null,\n    directives: null,\n    // resolved props and emits options\n    propsOptions: normalizePropsOptions(type, appContext),\n    emitsOptions: normalizeEmitsOptions(type, appContext),\n    // emit\n    emit: null,\n    // to be set immediately\n    emitted: null,\n    // props default value\n    propsDefaults: EMPTY_OBJ,\n    // inheritAttrs\n    inheritAttrs: type.inheritAttrs,\n    // state\n    ctx: EMPTY_OBJ,\n    data: EMPTY_OBJ,\n    props: EMPTY_OBJ,\n    attrs: EMPTY_OBJ,\n    slots: EMPTY_OBJ,\n    refs: EMPTY_OBJ,\n    setupState: EMPTY_OBJ,\n    setupContext: null,\n    attrsProxy: null,\n    slotsProxy: null,\n    // suspense related\n    suspense,\n    suspenseId: suspense ? suspense.pendingId : 0,\n    asyncDep: null,\n    asyncResolved: false,\n    // lifecycle hooks\n    // not using enums here because it results in computed properties\n    isMounted: false,\n    isUnmounted: false,\n    isDeactivated: false,\n    bc: null,\n    c: null,\n    bm: null,\n    m: null,\n    bu: null,\n    u: null,\n    um: null,\n    bum: null,\n    da: null,\n    a: null,\n    rtg: null,\n    rtc: null,\n    ec: null,\n    sp: null\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    instance.ctx = createDevRenderContext(instance);\n  } else {\n    instance.ctx = { _: instance };\n  }\n  instance.root = parent ? parent.root : instance;\n  instance.emit = emit.bind(null, instance);\n  if (vnode.ce) {\n    vnode.ce(instance);\n  }\n  return instance;\n}\nlet currentInstance = null;\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\nlet internalSetCurrentInstance;\nlet globalCurrentInstanceSetters;\nlet settersKey = \"__VUE_INSTANCE_SETTERS__\";\n{\n  if (!(globalCurrentInstanceSetters = getGlobalThis()[settersKey])) {\n    globalCurrentInstanceSetters = getGlobalThis()[settersKey] = [];\n  }\n  globalCurrentInstanceSetters.push((i) => currentInstance = i);\n  internalSetCurrentInstance = (instance) => {\n    if (globalCurrentInstanceSetters.length > 1) {\n      globalCurrentInstanceSetters.forEach((s) => s(instance));\n    } else {\n      globalCurrentInstanceSetters[0](instance);\n    }\n  };\n}\nconst setCurrentInstance = (instance) => {\n  internalSetCurrentInstance(instance);\n  instance.scope.on();\n};\nconst unsetCurrentInstance = () => {\n  currentInstance && currentInstance.scope.off();\n  internalSetCurrentInstance(null);\n};\nconst isBuiltInTag = /* @__PURE__ */ makeMap(\"slot,component\");\nfunction validateComponentName(name, config) {\n  const appIsNativeTag = config.isNativeTag || NO;\n  if (isBuiltInTag(name) || appIsNativeTag(name)) {\n    warn(\n      \"Do not use built-in or reserved HTML elements as component id: \" + name\n    );\n  }\n}\nfunction isStatefulComponent(instance) {\n  return instance.vnode.shapeFlag & 4;\n}\nlet isInSSRComponentSetup = false;\nfunction setupComponent(instance, isSSR = false) {\n  isInSSRComponentSetup = isSSR;\n  const { props, children } = instance.vnode;\n  const isStateful = isStatefulComponent(instance);\n  initProps(instance, props, isStateful, isSSR);\n  initSlots(instance, children);\n  const setupResult = isStateful ? setupStatefulComponent(instance, isSSR) : void 0;\n  isInSSRComponentSetup = false;\n  return setupResult;\n}\nfunction setupStatefulComponent(instance, isSSR) {\n  var _a;\n  const Component = instance.type;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    if (Component.name) {\n      validateComponentName(Component.name, instance.appContext.config);\n    }\n    if (Component.components) {\n      const names = Object.keys(Component.components);\n      for (let i = 0; i < names.length; i++) {\n        validateComponentName(names[i], instance.appContext.config);\n      }\n    }\n    if (Component.directives) {\n      const names = Object.keys(Component.directives);\n      for (let i = 0; i < names.length; i++) {\n        validateDirectiveName(names[i]);\n      }\n    }\n    if (Component.compilerOptions && isRuntimeOnly()) {\n      warn(\n        `\"compilerOptions\" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.`\n      );\n    }\n  }\n  instance.accessCache = /* @__PURE__ */ Object.create(null);\n  instance.proxy = markRaw(new Proxy(instance.ctx, PublicInstanceProxyHandlers));\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    exposePropsOnRenderContext(instance);\n  }\n  const { setup } = Component;\n  if (setup) {\n    const setupContext = instance.setupContext = setup.length > 1 ? createSetupContext(instance) : null;\n    setCurrentInstance(instance);\n    pauseTracking();\n    const setupResult = callWithErrorHandling(\n      setup,\n      instance,\n      0,\n      [!!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(instance.props) : instance.props, setupContext]\n    );\n    resetTracking();\n    unsetCurrentInstance();\n    if (isPromise(setupResult)) {\n      setupResult.then(unsetCurrentInstance, unsetCurrentInstance);\n      if (isSSR) {\n        return setupResult.then((resolvedResult) => {\n          handleSetupResult(instance, resolvedResult, isSSR);\n        }).catch((e) => {\n          handleError(e, instance, 0);\n        });\n      } else {\n        instance.asyncDep = setupResult;\n        if (!!(process.env.NODE_ENV !== \"production\") && !instance.suspense) {\n          const name = (_a = Component.name) != null ? _a : \"Anonymous\";\n          warn(\n            `Component <${name}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`\n          );\n        }\n      }\n    } else {\n      handleSetupResult(instance, setupResult, isSSR);\n    }\n  } else {\n    finishComponentSetup(instance, isSSR);\n  }\n}\nfunction handleSetupResult(instance, setupResult, isSSR) {\n  if (isFunction(setupResult)) {\n    if (instance.type.__ssrInlineRender) {\n      instance.ssrRender = setupResult;\n    } else {\n      instance.render = setupResult;\n    }\n  } else if (isObject(setupResult)) {\n    if (!!(process.env.NODE_ENV !== \"production\") && isVNode(setupResult)) {\n      warn(\n        `setup() should not return VNodes directly - return a render function instead.`\n      );\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.devtoolsRawSetupState = setupResult;\n    }\n    instance.setupState = proxyRefs(setupResult);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      exposeSetupStateOnRenderContext(instance);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\") && setupResult !== void 0) {\n    warn(\n      `setup() should return an object. Received: ${setupResult === null ? \"null\" : typeof setupResult}`\n    );\n  }\n  finishComponentSetup(instance, isSSR);\n}\nlet compile;\nlet installWithProxy;\nfunction registerRuntimeCompiler(_compile) {\n  compile = _compile;\n  installWithProxy = (i) => {\n    if (i.render._rc) {\n      i.withProxy = new Proxy(i.ctx, RuntimeCompiledPublicInstanceProxyHandlers);\n    }\n  };\n}\nconst isRuntimeOnly = () => !compile;\nfunction finishComponentSetup(instance, isSSR, skipOptions) {\n  const Component = instance.type;\n  if (!instance.render) {\n    if (!isSSR && compile && !Component.render) {\n      const template = Component.template || resolveMergedOptions(instance).template;\n      if (template) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `compile`);\n        }\n        const { isCustomElement, compilerOptions } = instance.appContext.config;\n        const { delimiters, compilerOptions: componentCompilerOptions } = Component;\n        const finalCompilerOptions = extend(\n          extend(\n            {\n              isCustomElement,\n              delimiters\n            },\n            compilerOptions\n          ),\n          componentCompilerOptions\n        );\n        Component.render = compile(template, finalCompilerOptions);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `compile`);\n        }\n      }\n    }\n    instance.render = Component.render || NOOP;\n    if (installWithProxy) {\n      installWithProxy(instance);\n    }\n  }\n  if (__VUE_OPTIONS_API__ && true) {\n    setCurrentInstance(instance);\n    pauseTracking();\n    try {\n      applyOptions(instance);\n    } finally {\n      resetTracking();\n      unsetCurrentInstance();\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !Component.render && instance.render === NOOP && !isSSR) {\n    if (!compile && Component.template) {\n      warn(\n        `Component provided template option but runtime compilation is not supported in this build of Vue.` + (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".` )\n        /* should not happen */\n      );\n    } else {\n      warn(`Component is missing template or render function.`);\n    }\n  }\n}\nfunction getAttrsProxy(instance) {\n  return instance.attrsProxy || (instance.attrsProxy = new Proxy(\n    instance.attrs,\n    !!(process.env.NODE_ENV !== \"production\") ? {\n      get(target, key) {\n        markAttrsAccessed();\n        track(instance, \"get\", \"$attrs\");\n        return target[key];\n      },\n      set() {\n        warn(`setupContext.attrs is readonly.`);\n        return false;\n      },\n      deleteProperty() {\n        warn(`setupContext.attrs is readonly.`);\n        return false;\n      }\n    } : {\n      get(target, key) {\n        track(instance, \"get\", \"$attrs\");\n        return target[key];\n      }\n    }\n  ));\n}\nfunction getSlotsProxy(instance) {\n  return instance.slotsProxy || (instance.slotsProxy = new Proxy(instance.slots, {\n    get(target, key) {\n      track(instance, \"get\", \"$slots\");\n      return target[key];\n    }\n  }));\n}\nfunction createSetupContext(instance) {\n  const expose = (exposed) => {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (instance.exposed) {\n        warn(`expose() should be called only once per setup().`);\n      }\n      if (exposed != null) {\n        let exposedType = typeof exposed;\n        if (exposedType === \"object\") {\n          if (isArray(exposed)) {\n            exposedType = \"array\";\n          } else if (isRef(exposed)) {\n            exposedType = \"ref\";\n          }\n        }\n        if (exposedType !== \"object\") {\n          warn(\n            `expose() should be passed a plain object, received ${exposedType}.`\n          );\n        }\n      }\n    }\n    instance.exposed = exposed || {};\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    return Object.freeze({\n      get attrs() {\n        return getAttrsProxy(instance);\n      },\n      get slots() {\n        return getSlotsProxy(instance);\n      },\n      get emit() {\n        return (event, ...args) => instance.emit(event, ...args);\n      },\n      expose\n    });\n  } else {\n    return {\n      get attrs() {\n        return getAttrsProxy(instance);\n      },\n      slots: instance.slots,\n      emit: instance.emit,\n      expose\n    };\n  }\n}\nfunction getExposeProxy(instance) {\n  if (instance.exposed) {\n    return instance.exposeProxy || (instance.exposeProxy = new Proxy(proxyRefs(markRaw(instance.exposed)), {\n      get(target, key) {\n        if (key in target) {\n          return target[key];\n        } else if (key in publicPropertiesMap) {\n          return publicPropertiesMap[key](instance);\n        }\n      },\n      has(target, key) {\n        return key in target || key in publicPropertiesMap;\n      }\n    }));\n  }\n}\nconst classifyRE = /(?:^|[-_])(\\w)/g;\nconst classify = (str) => str.replace(classifyRE, (c) => c.toUpperCase()).replace(/[-_]/g, \"\");\nfunction getComponentName(Component, includeInferred = true) {\n  return isFunction(Component) ? Component.displayName || Component.name : Component.name || includeInferred && Component.__name;\n}\nfunction formatComponentName(instance, Component, isRoot = false) {\n  let name = getComponentName(Component);\n  if (!name && Component.__file) {\n    const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\n    if (match) {\n      name = match[1];\n    }\n  }\n  if (!name && instance && instance.parent) {\n    const inferFromRegistry = (registry) => {\n      for (const key in registry) {\n        if (registry[key] === Component) {\n          return key;\n        }\n      }\n    };\n    name = inferFromRegistry(\n      instance.components || instance.parent.type.components\n    ) || inferFromRegistry(instance.appContext.components);\n  }\n  return name ? classify(name) : isRoot ? `App` : `Anonymous`;\n}\nfunction isClassComponent(value) {\n  return isFunction(value) && \"__vccOpts\" in value;\n}\n\nconst computed = (getterOrOptions, debugOptions) => {\n  return computed$1(getterOrOptions, debugOptions, isInSSRComponentSetup);\n};\n\nfunction h(type, propsOrChildren, children) {\n  const l = arguments.length;\n  if (l === 2) {\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n      if (isVNode(propsOrChildren)) {\n        return createVNode(type, null, [propsOrChildren]);\n      }\n      return createVNode(type, propsOrChildren);\n    } else {\n      return createVNode(type, null, propsOrChildren);\n    }\n  } else {\n    if (l > 3) {\n      children = Array.prototype.slice.call(arguments, 2);\n    } else if (l === 3 && isVNode(children)) {\n      children = [children];\n    }\n    return createVNode(type, propsOrChildren, children);\n  }\n}\n\nconst ssrContextKey = Symbol.for(\"v-scx\");\nconst useSSRContext = () => {\n  {\n    const ctx = inject(ssrContextKey);\n    if (!ctx) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build.`\n      );\n    }\n    return ctx;\n  }\n};\n\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\n\nfunction initCustomFormatter() {\n  if (!!!(process.env.NODE_ENV !== \"production\") || typeof window === \"undefined\") {\n    return;\n  }\n  const vueStyle = { style: \"color:#3ba776\" };\n  const numberStyle = { style: \"color:#0b1bc9\" };\n  const stringStyle = { style: \"color:#b62e24\" };\n  const keywordStyle = { style: \"color:#9d288c\" };\n  const formatter = {\n    header(obj) {\n      if (!isObject(obj)) {\n        return null;\n      }\n      if (obj.__isVue) {\n        return [\"div\", vueStyle, `VueInstance`];\n      } else if (isRef(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, genRefFlag(obj)],\n          \"<\",\n          formatValue(obj.value),\n          `>`\n        ];\n      } else if (isReactive(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReactive\" : \"Reactive\"],\n          \"<\",\n          formatValue(obj),\n          `>${isReadonly(obj) ? ` (readonly)` : ``}`\n        ];\n      } else if (isReadonly(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReadonly\" : \"Readonly\"],\n          \"<\",\n          formatValue(obj),\n          \">\"\n        ];\n      }\n      return null;\n    },\n    hasBody(obj) {\n      return obj && obj.__isVue;\n    },\n    body(obj) {\n      if (obj && obj.__isVue) {\n        return [\n          \"div\",\n          {},\n          ...formatInstance(obj.$)\n        ];\n      }\n    }\n  };\n  function formatInstance(instance) {\n    const blocks = [];\n    if (instance.type.props && instance.props) {\n      blocks.push(createInstanceBlock(\"props\", toRaw(instance.props)));\n    }\n    if (instance.setupState !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"setup\", instance.setupState));\n    }\n    if (instance.data !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"data\", toRaw(instance.data)));\n    }\n    const computed = extractKeys(instance, \"computed\");\n    if (computed) {\n      blocks.push(createInstanceBlock(\"computed\", computed));\n    }\n    const injected = extractKeys(instance, \"inject\");\n    if (injected) {\n      blocks.push(createInstanceBlock(\"injected\", injected));\n    }\n    blocks.push([\n      \"div\",\n      {},\n      [\n        \"span\",\n        {\n          style: keywordStyle.style + \";opacity:0.66\"\n        },\n        \"$ (internal): \"\n      ],\n      [\"object\", { object: instance }]\n    ]);\n    return blocks;\n  }\n  function createInstanceBlock(type, target) {\n    target = extend({}, target);\n    if (!Object.keys(target).length) {\n      return [\"span\", {}];\n    }\n    return [\n      \"div\",\n      { style: \"line-height:1.25em;margin-bottom:0.6em\" },\n      [\n        \"div\",\n        {\n          style: \"color:#476582\"\n        },\n        type\n      ],\n      [\n        \"div\",\n        {\n          style: \"padding-left:1.25em\"\n        },\n        ...Object.keys(target).map((key) => {\n          return [\n            \"div\",\n            {},\n            [\"span\", keywordStyle, key + \": \"],\n            formatValue(target[key], false)\n          ];\n        })\n      ]\n    ];\n  }\n  function formatValue(v, asRaw = true) {\n    if (typeof v === \"number\") {\n      return [\"span\", numberStyle, v];\n    } else if (typeof v === \"string\") {\n      return [\"span\", stringStyle, JSON.stringify(v)];\n    } else if (typeof v === \"boolean\") {\n      return [\"span\", keywordStyle, v];\n    } else if (isObject(v)) {\n      return [\"object\", { object: asRaw ? toRaw(v) : v }];\n    } else {\n      return [\"span\", stringStyle, String(v)];\n    }\n  }\n  function extractKeys(instance, type) {\n    const Comp = instance.type;\n    if (isFunction(Comp)) {\n      return;\n    }\n    const extracted = {};\n    for (const key in instance.ctx) {\n      if (isKeyOfType(Comp, key, type)) {\n        extracted[key] = instance.ctx[key];\n      }\n    }\n    return extracted;\n  }\n  function isKeyOfType(Comp, key, type) {\n    const opts = Comp[type];\n    if (isArray(opts) && opts.includes(key) || isObject(opts) && key in opts) {\n      return true;\n    }\n    if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\n      return true;\n    }\n    if (Comp.mixins && Comp.mixins.some((m) => isKeyOfType(m, key, type))) {\n      return true;\n    }\n  }\n  function genRefFlag(v) {\n    if (isShallow(v)) {\n      return `ShallowRef`;\n    }\n    if (v.effect) {\n      return `ComputedRef`;\n    }\n    return `Ref`;\n  }\n  if (window.devtoolsFormatters) {\n    window.devtoolsFormatters.push(formatter);\n  } else {\n    window.devtoolsFormatters = [formatter];\n  }\n}\n\nfunction withMemo(memo, render, cache, index) {\n  const cached = cache[index];\n  if (cached && isMemoSame(cached, memo)) {\n    return cached;\n  }\n  const ret = render();\n  ret.memo = memo.slice();\n  return cache[index] = ret;\n}\nfunction isMemoSame(cached, memo) {\n  const prev = cached.memo;\n  if (prev.length != memo.length) {\n    return false;\n  }\n  for (let i = 0; i < prev.length; i++) {\n    if (hasChanged(prev[i], memo[i])) {\n      return false;\n    }\n  }\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(cached);\n  }\n  return true;\n}\n\nconst version = \"3.3.9\";\nconst _ssrUtils = {\n  createComponentInstance,\n  setupComponent,\n  renderComponentRoot,\n  setCurrentRenderingInstance,\n  isVNode: isVNode,\n  normalizeVNode\n};\nconst ssrUtils = _ssrUtils ;\nconst resolveFilter = null;\nconst compatUtils = null;\n\nexport { BaseTransition, BaseTransitionPropsValidators, Comment, Fragment, KeepAlive, Static, Suspense, Teleport, Text, assertNumber, callWithAsyncErrorHandling, callWithErrorHandling, cloneVNode, compatUtils, computed, createBlock, createCommentVNode, createElementBlock, createBaseVNode as createElementVNode, createHydrationRenderer, createPropsRestProxy, createRenderer, createSlots, createStaticVNode, createTextVNode, createVNode, defineAsyncComponent, defineComponent, defineEmits, defineExpose, defineModel, defineOptions, defineProps, defineSlots, devtools, getCurrentInstance, getTransitionRawChildren, guardReactiveProps, h, handleError, hasInjectionContext, initCustomFormatter, inject, isMemoSame, isRuntimeOnly, isVNode, mergeDefaults, mergeModels, mergeProps, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onServerPrefetch, onUnmounted, onUpdated, openBlock, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, renderList, renderSlot, resolveComponent, resolveDirective, resolveDynamicComponent, resolveFilter, resolveTransitionHooks, setBlockTracking, setDevtoolsHook, setTransitionHooks, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useAttrs, useModel, useSSRContext, useSlots, useTransitionState, version, warn, watch, watchEffect, watchPostEffect, watchSyncEffect, withAsyncContext, withCtx, withDefaults, withDirectives, withMemo, withScopeId };\n", "import { h, BaseTransition, BaseTransitionPropsValidators, assertNumber, warn, camelize, callWithAsyncErrorHandling, defineComponent, nextTick, createVNode, getCurrentInstance, watchPostEffect, onMounted, onUnmounted, Fragment, Static, useTransitionState, onUpdated, toRaw, getTransitionRawChildren, setTransitionHooks, resolveTransitionHooks, isRuntimeOnly, createRenderer, createHydrationRenderer } from '@vue/runtime-core';\nexport * from '@vue/runtime-core';\nimport { extend, isObject, toNumber, isArray, isString, hyphenate, capitalize, isSpecialBooleanAttr, includeBooleanAttr, isOn, isModelListener, isFunction, camelize as camelize$1, EMPTY_OBJ, looseToNumber, looseIndexOf, isSet, looseEqual, invokeArrayFns, isHTMLTag, isSVGTag } from '@vue/shared';\n\nconst svgNS = \"http://www.w3.org/2000/svg\";\nconst doc = typeof document !== \"undefined\" ? document : null;\nconst templateContainer = doc && /* @__PURE__ */ doc.createElement(\"template\");\nconst nodeOps = {\n  insert: (child, parent, anchor) => {\n    parent.insertBefore(child, anchor || null);\n  },\n  remove: (child) => {\n    const parent = child.parentNode;\n    if (parent) {\n      parent.removeChild(child);\n    }\n  },\n  createElement: (tag, isSVG, is, props) => {\n    const el = isSVG ? doc.createElementNS(svgNS, tag) : doc.createElement(tag, is ? { is } : void 0);\n    if (tag === \"select\" && props && props.multiple != null) {\n      el.setAttribute(\"multiple\", props.multiple);\n    }\n    return el;\n  },\n  createText: (text) => doc.createTextNode(text),\n  createComment: (text) => doc.createComment(text),\n  setText: (node, text) => {\n    node.nodeValue = text;\n  },\n  setElementText: (el, text) => {\n    el.textContent = text;\n  },\n  parentNode: (node) => node.parentNode,\n  nextSibling: (node) => node.nextSibling,\n  querySelector: (selector) => doc.querySelector(selector),\n  setScopeId(el, id) {\n    el.setAttribute(id, \"\");\n  },\n  // __UNSAFE__\n  // Reason: innerHTML.\n  // Static content here can only come from compiled templates.\n  // As long as the user only uses trusted templates, this is safe.\n  insertStaticContent(content, parent, anchor, isSVG, start, end) {\n    const before = anchor ? anchor.previousSibling : parent.lastChild;\n    if (start && (start === end || start.nextSibling)) {\n      while (true) {\n        parent.insertBefore(start.cloneNode(true), anchor);\n        if (start === end || !(start = start.nextSibling))\n          break;\n      }\n    } else {\n      templateContainer.innerHTML = isSVG ? `<svg>${content}</svg>` : content;\n      const template = templateContainer.content;\n      if (isSVG) {\n        const wrapper = template.firstChild;\n        while (wrapper.firstChild) {\n          template.appendChild(wrapper.firstChild);\n        }\n        template.removeChild(wrapper);\n      }\n      parent.insertBefore(template, anchor);\n    }\n    return [\n      // first\n      before ? before.nextSibling : parent.firstChild,\n      // last\n      anchor ? anchor.previousSibling : parent.lastChild\n    ];\n  }\n};\n\nconst TRANSITION = \"transition\";\nconst ANIMATION = \"animation\";\nconst vtcKey = Symbol(\"_vtc\");\nconst Transition = (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots);\nTransition.displayName = \"Transition\";\nconst DOMTransitionPropsValidators = {\n  name: String,\n  type: String,\n  css: {\n    type: Boolean,\n    default: true\n  },\n  duration: [String, Number, Object],\n  enterFromClass: String,\n  enterActiveClass: String,\n  enterToClass: String,\n  appearFromClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  leaveFromClass: String,\n  leaveActiveClass: String,\n  leaveToClass: String\n};\nconst TransitionPropsValidators = Transition.props = /* @__PURE__ */ extend(\n  {},\n  BaseTransitionPropsValidators,\n  DOMTransitionPropsValidators\n);\nconst callHook = (hook, args = []) => {\n  if (isArray(hook)) {\n    hook.forEach((h2) => h2(...args));\n  } else if (hook) {\n    hook(...args);\n  }\n};\nconst hasExplicitCallback = (hook) => {\n  return hook ? isArray(hook) ? hook.some((h2) => h2.length > 1) : hook.length > 1 : false;\n};\nfunction resolveTransitionProps(rawProps) {\n  const baseProps = {};\n  for (const key in rawProps) {\n    if (!(key in DOMTransitionPropsValidators)) {\n      baseProps[key] = rawProps[key];\n    }\n  }\n  if (rawProps.css === false) {\n    return baseProps;\n  }\n  const {\n    name = \"v\",\n    type,\n    duration,\n    enterFromClass = `${name}-enter-from`,\n    enterActiveClass = `${name}-enter-active`,\n    enterToClass = `${name}-enter-to`,\n    appearFromClass = enterFromClass,\n    appearActiveClass = enterActiveClass,\n    appearToClass = enterToClass,\n    leaveFromClass = `${name}-leave-from`,\n    leaveActiveClass = `${name}-leave-active`,\n    leaveToClass = `${name}-leave-to`\n  } = rawProps;\n  const durations = normalizeDuration(duration);\n  const enterDuration = durations && durations[0];\n  const leaveDuration = durations && durations[1];\n  const {\n    onBeforeEnter,\n    onEnter,\n    onEnterCancelled,\n    onLeave,\n    onLeaveCancelled,\n    onBeforeAppear = onBeforeEnter,\n    onAppear = onEnter,\n    onAppearCancelled = onEnterCancelled\n  } = baseProps;\n  const finishEnter = (el, isAppear, done) => {\n    removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\n    removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\n    done && done();\n  };\n  const finishLeave = (el, done) => {\n    el._isLeaving = false;\n    removeTransitionClass(el, leaveFromClass);\n    removeTransitionClass(el, leaveToClass);\n    removeTransitionClass(el, leaveActiveClass);\n    done && done();\n  };\n  const makeEnterHook = (isAppear) => {\n    return (el, done) => {\n      const hook = isAppear ? onAppear : onEnter;\n      const resolve = () => finishEnter(el, isAppear, done);\n      callHook(hook, [el, resolve]);\n      nextFrame(() => {\n        removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\n        addTransitionClass(el, isAppear ? appearToClass : enterToClass);\n        if (!hasExplicitCallback(hook)) {\n          whenTransitionEnds(el, type, enterDuration, resolve);\n        }\n      });\n    };\n  };\n  return extend(baseProps, {\n    onBeforeEnter(el) {\n      callHook(onBeforeEnter, [el]);\n      addTransitionClass(el, enterFromClass);\n      addTransitionClass(el, enterActiveClass);\n    },\n    onBeforeAppear(el) {\n      callHook(onBeforeAppear, [el]);\n      addTransitionClass(el, appearFromClass);\n      addTransitionClass(el, appearActiveClass);\n    },\n    onEnter: makeEnterHook(false),\n    onAppear: makeEnterHook(true),\n    onLeave(el, done) {\n      el._isLeaving = true;\n      const resolve = () => finishLeave(el, done);\n      addTransitionClass(el, leaveFromClass);\n      forceReflow();\n      addTransitionClass(el, leaveActiveClass);\n      nextFrame(() => {\n        if (!el._isLeaving) {\n          return;\n        }\n        removeTransitionClass(el, leaveFromClass);\n        addTransitionClass(el, leaveToClass);\n        if (!hasExplicitCallback(onLeave)) {\n          whenTransitionEnds(el, type, leaveDuration, resolve);\n        }\n      });\n      callHook(onLeave, [el, resolve]);\n    },\n    onEnterCancelled(el) {\n      finishEnter(el, false);\n      callHook(onEnterCancelled, [el]);\n    },\n    onAppearCancelled(el) {\n      finishEnter(el, true);\n      callHook(onAppearCancelled, [el]);\n    },\n    onLeaveCancelled(el) {\n      finishLeave(el);\n      callHook(onLeaveCancelled, [el]);\n    }\n  });\n}\nfunction normalizeDuration(duration) {\n  if (duration == null) {\n    return null;\n  } else if (isObject(duration)) {\n    return [NumberOf(duration.enter), NumberOf(duration.leave)];\n  } else {\n    const n = NumberOf(duration);\n    return [n, n];\n  }\n}\nfunction NumberOf(val) {\n  const res = toNumber(val);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(res, \"<transition> explicit duration\");\n  }\n  return res;\n}\nfunction addTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.add(c));\n  (el[vtcKey] || (el[vtcKey] = /* @__PURE__ */ new Set())).add(cls);\n}\nfunction removeTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.remove(c));\n  const _vtc = el[vtcKey];\n  if (_vtc) {\n    _vtc.delete(cls);\n    if (!_vtc.size) {\n      el[vtcKey] = void 0;\n    }\n  }\n}\nfunction nextFrame(cb) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(cb);\n  });\n}\nlet endId = 0;\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {\n  const id = el._endId = ++endId;\n  const resolveIfNotStale = () => {\n    if (id === el._endId) {\n      resolve();\n    }\n  };\n  if (explicitTimeout) {\n    return setTimeout(resolveIfNotStale, explicitTimeout);\n  }\n  const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\n  if (!type) {\n    return resolve();\n  }\n  const endEvent = type + \"end\";\n  let ended = 0;\n  const end = () => {\n    el.removeEventListener(endEvent, onEnd);\n    resolveIfNotStale();\n  };\n  const onEnd = (e) => {\n    if (e.target === el && ++ended >= propCount) {\n      end();\n    }\n  };\n  setTimeout(() => {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(endEvent, onEnd);\n}\nfunction getTransitionInfo(el, expectedType) {\n  const styles = window.getComputedStyle(el);\n  const getStyleProperties = (key) => (styles[key] || \"\").split(\", \");\n  const transitionDelays = getStyleProperties(`${TRANSITION}Delay`);\n  const transitionDurations = getStyleProperties(`${TRANSITION}Duration`);\n  const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  const animationDelays = getStyleProperties(`${ANIMATION}Delay`);\n  const animationDurations = getStyleProperties(`${ANIMATION}Duration`);\n  const animationTimeout = getTimeout(animationDelays, animationDurations);\n  let type = null;\n  let timeout = 0;\n  let propCount = 0;\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0 ? transitionTimeout > animationTimeout ? TRANSITION : ANIMATION : null;\n    propCount = type ? type === TRANSITION ? transitionDurations.length : animationDurations.length : 0;\n  }\n  const hasTransform = type === TRANSITION && /\\b(transform|all)(,|$)/.test(\n    getStyleProperties(`${TRANSITION}Property`).toString()\n  );\n  return {\n    type,\n    timeout,\n    propCount,\n    hasTransform\n  };\n}\nfunction getTimeout(delays, durations) {\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n  return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\n}\nfunction toMs(s) {\n  if (s === \"auto\")\n    return 0;\n  return Number(s.slice(0, -1).replace(\",\", \".\")) * 1e3;\n}\nfunction forceReflow() {\n  return document.body.offsetHeight;\n}\n\nfunction patchClass(el, value, isSVG) {\n  const transitionClasses = el[vtcKey];\n  if (transitionClasses) {\n    value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(\" \");\n  }\n  if (value == null) {\n    el.removeAttribute(\"class\");\n  } else if (isSVG) {\n    el.setAttribute(\"class\", value);\n  } else {\n    el.className = value;\n  }\n}\n\nconst vShowOldKey = Symbol(\"_vod\");\nconst vShow = {\n  beforeMount(el, { value }, { transition }) {\n    el[vShowOldKey] = el.style.display === \"none\" ? \"\" : el.style.display;\n    if (transition && value) {\n      transition.beforeEnter(el);\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  mounted(el, { value }, { transition }) {\n    if (transition && value) {\n      transition.enter(el);\n    }\n  },\n  updated(el, { value, oldValue }, { transition }) {\n    if (!value === !oldValue)\n      return;\n    if (transition) {\n      if (value) {\n        transition.beforeEnter(el);\n        setDisplay(el, true);\n        transition.enter(el);\n      } else {\n        transition.leave(el, () => {\n          setDisplay(el, false);\n        });\n      }\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  beforeUnmount(el, { value }) {\n    setDisplay(el, value);\n  }\n};\nfunction setDisplay(el, value) {\n  el.style.display = value ? el[vShowOldKey] : \"none\";\n}\nfunction initVShowForSSR() {\n  vShow.getSSRProps = ({ value }) => {\n    if (!value) {\n      return { style: { display: \"none\" } };\n    }\n  };\n}\n\nfunction patchStyle(el, prev, next) {\n  const style = el.style;\n  const isCssString = isString(next);\n  if (next && !isCssString) {\n    if (prev && !isString(prev)) {\n      for (const key in prev) {\n        if (next[key] == null) {\n          setStyle(style, key, \"\");\n        }\n      }\n    }\n    for (const key in next) {\n      setStyle(style, key, next[key]);\n    }\n  } else {\n    const currentDisplay = style.display;\n    if (isCssString) {\n      if (prev !== next) {\n        style.cssText = next;\n      }\n    } else if (prev) {\n      el.removeAttribute(\"style\");\n    }\n    if (vShowOldKey in el) {\n      style.display = currentDisplay;\n    }\n  }\n}\nconst semicolonRE = /[^\\\\];\\s*$/;\nconst importantRE = /\\s*!important$/;\nfunction setStyle(style, name, val) {\n  if (isArray(val)) {\n    val.forEach((v) => setStyle(style, name, v));\n  } else {\n    if (val == null)\n      val = \"\";\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (semicolonRE.test(val)) {\n        warn(\n          `Unexpected semicolon at the end of '${name}' style value: '${val}'`\n        );\n      }\n    }\n    if (name.startsWith(\"--\")) {\n      style.setProperty(name, val);\n    } else {\n      const prefixed = autoPrefix(style, name);\n      if (importantRE.test(val)) {\n        style.setProperty(\n          hyphenate(prefixed),\n          val.replace(importantRE, \"\"),\n          \"important\"\n        );\n      } else {\n        style[prefixed] = val;\n      }\n    }\n  }\n}\nconst prefixes = [\"Webkit\", \"Moz\", \"ms\"];\nconst prefixCache = {};\nfunction autoPrefix(style, rawName) {\n  const cached = prefixCache[rawName];\n  if (cached) {\n    return cached;\n  }\n  let name = camelize(rawName);\n  if (name !== \"filter\" && name in style) {\n    return prefixCache[rawName] = name;\n  }\n  name = capitalize(name);\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefixed = prefixes[i] + name;\n    if (prefixed in style) {\n      return prefixCache[rawName] = prefixed;\n    }\n  }\n  return rawName;\n}\n\nconst xlinkNS = \"http://www.w3.org/1999/xlink\";\nfunction patchAttr(el, key, value, isSVG, instance) {\n  if (isSVG && key.startsWith(\"xlink:\")) {\n    if (value == null) {\n      el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    const isBoolean = isSpecialBooleanAttr(key);\n    if (value == null || isBoolean && !includeBooleanAttr(value)) {\n      el.removeAttribute(key);\n    } else {\n      el.setAttribute(key, isBoolean ? \"\" : value);\n    }\n  }\n}\n\nfunction patchDOMProp(el, key, value, prevChildren, parentComponent, parentSuspense, unmountChildren) {\n  if (key === \"innerHTML\" || key === \"textContent\") {\n    if (prevChildren) {\n      unmountChildren(prevChildren, parentComponent, parentSuspense);\n    }\n    el[key] = value == null ? \"\" : value;\n    return;\n  }\n  const tag = el.tagName;\n  if (key === \"value\" && tag !== \"PROGRESS\" && // custom elements may use _value internally\n  !tag.includes(\"-\")) {\n    el._value = value;\n    const oldValue = tag === \"OPTION\" ? el.getAttribute(\"value\") : el.value;\n    const newValue = value == null ? \"\" : value;\n    if (oldValue !== newValue) {\n      el.value = newValue;\n    }\n    if (value == null) {\n      el.removeAttribute(key);\n    }\n    return;\n  }\n  let needRemove = false;\n  if (value === \"\" || value == null) {\n    const type = typeof el[key];\n    if (type === \"boolean\") {\n      value = includeBooleanAttr(value);\n    } else if (value == null && type === \"string\") {\n      value = \"\";\n      needRemove = true;\n    } else if (type === \"number\") {\n      value = 0;\n      needRemove = true;\n    }\n  }\n  try {\n    el[key] = value;\n  } catch (e) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !needRemove) {\n      warn(\n        `Failed setting prop \"${key}\" on <${tag.toLowerCase()}>: value ${value} is invalid.`,\n        e\n      );\n    }\n  }\n  needRemove && el.removeAttribute(key);\n}\n\nfunction addEventListener(el, event, handler, options) {\n  el.addEventListener(event, handler, options);\n}\nfunction removeEventListener(el, event, handler, options) {\n  el.removeEventListener(event, handler, options);\n}\nconst veiKey = Symbol(\"_vei\");\nfunction patchEvent(el, rawName, prevValue, nextValue, instance = null) {\n  const invokers = el[veiKey] || (el[veiKey] = {});\n  const existingInvoker = invokers[rawName];\n  if (nextValue && existingInvoker) {\n    existingInvoker.value = nextValue;\n  } else {\n    const [name, options] = parseName(rawName);\n    if (nextValue) {\n      const invoker = invokers[rawName] = createInvoker(nextValue, instance);\n      addEventListener(el, name, invoker, options);\n    } else if (existingInvoker) {\n      removeEventListener(el, name, existingInvoker, options);\n      invokers[rawName] = void 0;\n    }\n  }\n}\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\nfunction parseName(name) {\n  let options;\n  if (optionsModifierRE.test(name)) {\n    options = {};\n    let m;\n    while (m = name.match(optionsModifierRE)) {\n      name = name.slice(0, name.length - m[0].length);\n      options[m[0].toLowerCase()] = true;\n    }\n  }\n  const event = name[2] === \":\" ? name.slice(3) : hyphenate(name.slice(2));\n  return [event, options];\n}\nlet cachedNow = 0;\nconst p = /* @__PURE__ */ Promise.resolve();\nconst getNow = () => cachedNow || (p.then(() => cachedNow = 0), cachedNow = Date.now());\nfunction createInvoker(initialValue, instance) {\n  const invoker = (e) => {\n    if (!e._vts) {\n      e._vts = Date.now();\n    } else if (e._vts <= invoker.attached) {\n      return;\n    }\n    callWithAsyncErrorHandling(\n      patchStopImmediatePropagation(e, invoker.value),\n      instance,\n      5,\n      [e]\n    );\n  };\n  invoker.value = initialValue;\n  invoker.attached = getNow();\n  return invoker;\n}\nfunction patchStopImmediatePropagation(e, value) {\n  if (isArray(value)) {\n    const originalStop = e.stopImmediatePropagation;\n    e.stopImmediatePropagation = () => {\n      originalStop.call(e);\n      e._stopped = true;\n    };\n    return value.map((fn) => (e2) => !e2._stopped && fn && fn(e2));\n  } else {\n    return value;\n  }\n}\n\nconst nativeOnRE = /^on[a-z]/;\nconst patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {\n  if (key === \"class\") {\n    patchClass(el, nextValue, isSVG);\n  } else if (key === \"style\") {\n    patchStyle(el, prevValue, nextValue);\n  } else if (isOn(key)) {\n    if (!isModelListener(key)) {\n      patchEvent(el, key, prevValue, nextValue, parentComponent);\n    }\n  } else if (key[0] === \".\" ? (key = key.slice(1), true) : key[0] === \"^\" ? (key = key.slice(1), false) : shouldSetAsProp(el, key, nextValue, isSVG)) {\n    patchDOMProp(\n      el,\n      key,\n      nextValue,\n      prevChildren,\n      parentComponent,\n      parentSuspense,\n      unmountChildren\n    );\n  } else {\n    if (key === \"true-value\") {\n      el._trueValue = nextValue;\n    } else if (key === \"false-value\") {\n      el._falseValue = nextValue;\n    }\n    patchAttr(el, key, nextValue, isSVG);\n  }\n};\nfunction shouldSetAsProp(el, key, value, isSVG) {\n  if (isSVG) {\n    if (key === \"innerHTML\" || key === \"textContent\") {\n      return true;\n    }\n    if (key in el && nativeOnRE.test(key) && isFunction(value)) {\n      return true;\n    }\n    return false;\n  }\n  if (key === \"spellcheck\" || key === \"draggable\" || key === \"translate\") {\n    return false;\n  }\n  if (key === \"form\") {\n    return false;\n  }\n  if (key === \"list\" && el.tagName === \"INPUT\") {\n    return false;\n  }\n  if (key === \"type\" && el.tagName === \"TEXTAREA\") {\n    return false;\n  }\n  if (nativeOnRE.test(key) && isString(value)) {\n    return false;\n  }\n  return key in el;\n}\n\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction defineCustomElement(options, hydrate2) {\n  const Comp = defineComponent(options);\n  class VueCustomElement extends VueElement {\n    constructor(initialProps) {\n      super(Comp, initialProps, hydrate2);\n    }\n  }\n  VueCustomElement.def = Comp;\n  return VueCustomElement;\n}\n/*! #__NO_SIDE_EFFECTS__ */\nconst defineSSRCustomElement = /* @__NO_SIDE_EFFECTS__ */ (options) => {\n  return /* @__PURE__ */ defineCustomElement(options, hydrate);\n};\nconst BaseClass = typeof HTMLElement !== \"undefined\" ? HTMLElement : class {\n};\nclass VueElement extends BaseClass {\n  constructor(_def, _props = {}, hydrate2) {\n    super();\n    this._def = _def;\n    this._props = _props;\n    /**\n     * @internal\n     */\n    this._instance = null;\n    this._connected = false;\n    this._resolved = false;\n    this._numberProps = null;\n    this._ob = null;\n    if (this.shadowRoot && hydrate2) {\n      hydrate2(this._createVNode(), this.shadowRoot);\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && this.shadowRoot) {\n        warn(\n          `Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use \\`defineSSRCustomElement\\`.`\n        );\n      }\n      this.attachShadow({ mode: \"open\" });\n      if (!this._def.__asyncLoader) {\n        this._resolveProps(this._def);\n      }\n    }\n  }\n  connectedCallback() {\n    this._connected = true;\n    if (!this._instance) {\n      if (this._resolved) {\n        this._update();\n      } else {\n        this._resolveDef();\n      }\n    }\n  }\n  disconnectedCallback() {\n    this._connected = false;\n    if (this._ob) {\n      this._ob.disconnect();\n      this._ob = null;\n    }\n    nextTick(() => {\n      if (!this._connected) {\n        render(null, this.shadowRoot);\n        this._instance = null;\n      }\n    });\n  }\n  /**\n   * resolve inner component definition (handle possible async component)\n   */\n  _resolveDef() {\n    this._resolved = true;\n    for (let i = 0; i < this.attributes.length; i++) {\n      this._setAttr(this.attributes[i].name);\n    }\n    this._ob = new MutationObserver((mutations) => {\n      for (const m of mutations) {\n        this._setAttr(m.attributeName);\n      }\n    });\n    this._ob.observe(this, { attributes: true });\n    const resolve = (def, isAsync = false) => {\n      const { props, styles } = def;\n      let numberProps;\n      if (props && !isArray(props)) {\n        for (const key in props) {\n          const opt = props[key];\n          if (opt === Number || opt && opt.type === Number) {\n            if (key in this._props) {\n              this._props[key] = toNumber(this._props[key]);\n            }\n            (numberProps || (numberProps = /* @__PURE__ */ Object.create(null)))[camelize$1(key)] = true;\n          }\n        }\n      }\n      this._numberProps = numberProps;\n      if (isAsync) {\n        this._resolveProps(def);\n      }\n      this._applyStyles(styles);\n      this._update();\n    };\n    const asyncDef = this._def.__asyncLoader;\n    if (asyncDef) {\n      asyncDef().then((def) => resolve(def, true));\n    } else {\n      resolve(this._def);\n    }\n  }\n  _resolveProps(def) {\n    const { props } = def;\n    const declaredPropKeys = isArray(props) ? props : Object.keys(props || {});\n    for (const key of Object.keys(this)) {\n      if (key[0] !== \"_\" && declaredPropKeys.includes(key)) {\n        this._setProp(key, this[key], true, false);\n      }\n    }\n    for (const key of declaredPropKeys.map(camelize$1)) {\n      Object.defineProperty(this, key, {\n        get() {\n          return this._getProp(key);\n        },\n        set(val) {\n          this._setProp(key, val);\n        }\n      });\n    }\n  }\n  _setAttr(key) {\n    let value = this.getAttribute(key);\n    const camelKey = camelize$1(key);\n    if (this._numberProps && this._numberProps[camelKey]) {\n      value = toNumber(value);\n    }\n    this._setProp(camelKey, value, false);\n  }\n  /**\n   * @internal\n   */\n  _getProp(key) {\n    return this._props[key];\n  }\n  /**\n   * @internal\n   */\n  _setProp(key, val, shouldReflect = true, shouldUpdate = true) {\n    if (val !== this._props[key]) {\n      this._props[key] = val;\n      if (shouldUpdate && this._instance) {\n        this._update();\n      }\n      if (shouldReflect) {\n        if (val === true) {\n          this.setAttribute(hyphenate(key), \"\");\n        } else if (typeof val === \"string\" || typeof val === \"number\") {\n          this.setAttribute(hyphenate(key), val + \"\");\n        } else if (!val) {\n          this.removeAttribute(hyphenate(key));\n        }\n      }\n    }\n  }\n  _update() {\n    render(this._createVNode(), this.shadowRoot);\n  }\n  _createVNode() {\n    const vnode = createVNode(this._def, extend({}, this._props));\n    if (!this._instance) {\n      vnode.ce = (instance) => {\n        this._instance = instance;\n        instance.isCE = true;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          instance.ceReload = (newStyles) => {\n            if (this._styles) {\n              this._styles.forEach((s) => this.shadowRoot.removeChild(s));\n              this._styles.length = 0;\n            }\n            this._applyStyles(newStyles);\n            this._instance = null;\n            this._update();\n          };\n        }\n        const dispatch = (event, args) => {\n          this.dispatchEvent(\n            new CustomEvent(event, {\n              detail: args\n            })\n          );\n        };\n        instance.emit = (event, ...args) => {\n          dispatch(event, args);\n          if (hyphenate(event) !== event) {\n            dispatch(hyphenate(event), args);\n          }\n        };\n        let parent = this;\n        while (parent = parent && (parent.parentNode || parent.host)) {\n          if (parent instanceof VueElement) {\n            instance.parent = parent._instance;\n            instance.provides = parent._instance.provides;\n            break;\n          }\n        }\n      };\n    }\n    return vnode;\n  }\n  _applyStyles(styles) {\n    if (styles) {\n      styles.forEach((css) => {\n        const s = document.createElement(\"style\");\n        s.textContent = css;\n        this.shadowRoot.appendChild(s);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          (this._styles || (this._styles = [])).push(s);\n        }\n      });\n    }\n  }\n}\n\nfunction useCssModule(name = \"$style\") {\n  {\n    const instance = getCurrentInstance();\n    if (!instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`useCssModule must be called inside setup()`);\n      return EMPTY_OBJ;\n    }\n    const modules = instance.type.__cssModules;\n    if (!modules) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS modules injected.`);\n      return EMPTY_OBJ;\n    }\n    const mod = modules[name];\n    if (!mod) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS module named \"${name}\".`);\n      return EMPTY_OBJ;\n    }\n    return mod;\n  }\n}\n\nfunction useCssVars(getter) {\n  const instance = getCurrentInstance();\n  if (!instance) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`useCssVars is called without current active component instance.`);\n    return;\n  }\n  const updateTeleports = instance.ut = (vars = getter(instance.proxy)) => {\n    Array.from(\n      document.querySelectorAll(`[data-v-owner=\"${instance.uid}\"]`)\n    ).forEach((node) => setVarsOnNode(node, vars));\n  };\n  const setVars = () => {\n    const vars = getter(instance.proxy);\n    setVarsOnVNode(instance.subTree, vars);\n    updateTeleports(vars);\n  };\n  watchPostEffect(setVars);\n  onMounted(() => {\n    const ob = new MutationObserver(setVars);\n    ob.observe(instance.subTree.el.parentNode, { childList: true });\n    onUnmounted(() => ob.disconnect());\n  });\n}\nfunction setVarsOnVNode(vnode, vars) {\n  if (vnode.shapeFlag & 128) {\n    const suspense = vnode.suspense;\n    vnode = suspense.activeBranch;\n    if (suspense.pendingBranch && !suspense.isHydrating) {\n      suspense.effects.push(() => {\n        setVarsOnVNode(suspense.activeBranch, vars);\n      });\n    }\n  }\n  while (vnode.component) {\n    vnode = vnode.component.subTree;\n  }\n  if (vnode.shapeFlag & 1 && vnode.el) {\n    setVarsOnNode(vnode.el, vars);\n  } else if (vnode.type === Fragment) {\n    vnode.children.forEach((c) => setVarsOnVNode(c, vars));\n  } else if (vnode.type === Static) {\n    let { el, anchor } = vnode;\n    while (el) {\n      setVarsOnNode(el, vars);\n      if (el === anchor)\n        break;\n      el = el.nextSibling;\n    }\n  }\n}\nfunction setVarsOnNode(el, vars) {\n  if (el.nodeType === 1) {\n    const style = el.style;\n    for (const key in vars) {\n      style.setProperty(`--${key}`, vars[key]);\n    }\n  }\n}\n\nconst positionMap = /* @__PURE__ */ new WeakMap();\nconst newPositionMap = /* @__PURE__ */ new WeakMap();\nconst moveCbKey = Symbol(\"_moveCb\");\nconst enterCbKey = Symbol(\"_enterCb\");\nconst TransitionGroupImpl = {\n  name: \"TransitionGroup\",\n  props: /* @__PURE__ */ extend({}, TransitionPropsValidators, {\n    tag: String,\n    moveClass: String\n  }),\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    let prevChildren;\n    let children;\n    onUpdated(() => {\n      if (!prevChildren.length) {\n        return;\n      }\n      const moveClass = props.moveClass || `${props.name || \"v\"}-move`;\n      if (!hasCSSTransform(\n        prevChildren[0].el,\n        instance.vnode.el,\n        moveClass\n      )) {\n        return;\n      }\n      prevChildren.forEach(callPendingCbs);\n      prevChildren.forEach(recordPosition);\n      const movedChildren = prevChildren.filter(applyTranslation);\n      forceReflow();\n      movedChildren.forEach((c) => {\n        const el = c.el;\n        const style = el.style;\n        addTransitionClass(el, moveClass);\n        style.transform = style.webkitTransform = style.transitionDuration = \"\";\n        const cb = el[moveCbKey] = (e) => {\n          if (e && e.target !== el) {\n            return;\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(\"transitionend\", cb);\n            el[moveCbKey] = null;\n            removeTransitionClass(el, moveClass);\n          }\n        };\n        el.addEventListener(\"transitionend\", cb);\n      });\n    });\n    return () => {\n      const rawProps = toRaw(props);\n      const cssTransitionProps = resolveTransitionProps(rawProps);\n      let tag = rawProps.tag || Fragment;\n      prevChildren = children;\n      children = slots.default ? getTransitionRawChildren(slots.default()) : [];\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        if (child.key != null) {\n          setTransitionHooks(\n            child,\n            resolveTransitionHooks(child, cssTransitionProps, state, instance)\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`<TransitionGroup> children must be keyed.`);\n        }\n      }\n      if (prevChildren) {\n        for (let i = 0; i < prevChildren.length; i++) {\n          const child = prevChildren[i];\n          setTransitionHooks(\n            child,\n            resolveTransitionHooks(child, cssTransitionProps, state, instance)\n          );\n          positionMap.set(child, child.el.getBoundingClientRect());\n        }\n      }\n      return createVNode(tag, null, children);\n    };\n  }\n};\nconst removeMode = (props) => delete props.mode;\n/* @__PURE__ */ removeMode(TransitionGroupImpl.props);\nconst TransitionGroup = TransitionGroupImpl;\nfunction callPendingCbs(c) {\n  const el = c.el;\n  if (el[moveCbKey]) {\n    el[moveCbKey]();\n  }\n  if (el[enterCbKey]) {\n    el[enterCbKey]();\n  }\n}\nfunction recordPosition(c) {\n  newPositionMap.set(c, c.el.getBoundingClientRect());\n}\nfunction applyTranslation(c) {\n  const oldPos = positionMap.get(c);\n  const newPos = newPositionMap.get(c);\n  const dx = oldPos.left - newPos.left;\n  const dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    const s = c.el.style;\n    s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\n    s.transitionDuration = \"0s\";\n    return c;\n  }\n}\nfunction hasCSSTransform(el, root, moveClass) {\n  const clone = el.cloneNode();\n  const _vtc = el[vtcKey];\n  if (_vtc) {\n    _vtc.forEach((cls) => {\n      cls.split(/\\s+/).forEach((c) => c && clone.classList.remove(c));\n    });\n  }\n  moveClass.split(/\\s+/).forEach((c) => c && clone.classList.add(c));\n  clone.style.display = \"none\";\n  const container = root.nodeType === 1 ? root : root.parentNode;\n  container.appendChild(clone);\n  const { hasTransform } = getTransitionInfo(clone);\n  container.removeChild(clone);\n  return hasTransform;\n}\n\nconst getModelAssigner = (vnode) => {\n  const fn = vnode.props[\"onUpdate:modelValue\"] || false;\n  return isArray(fn) ? (value) => invokeArrayFns(fn, value) : fn;\n};\nfunction onCompositionStart(e) {\n  e.target.composing = true;\n}\nfunction onCompositionEnd(e) {\n  const target = e.target;\n  if (target.composing) {\n    target.composing = false;\n    target.dispatchEvent(new Event(\"input\"));\n  }\n}\nconst assignKey = Symbol(\"_assign\");\nconst vModelText = {\n  created(el, { modifiers: { lazy, trim, number } }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    const castToNumber = number || vnode.props && vnode.props.type === \"number\";\n    addEventListener(el, lazy ? \"change\" : \"input\", (e) => {\n      if (e.target.composing)\n        return;\n      let domValue = el.value;\n      if (trim) {\n        domValue = domValue.trim();\n      }\n      if (castToNumber) {\n        domValue = looseToNumber(domValue);\n      }\n      el[assignKey](domValue);\n    });\n    if (trim) {\n      addEventListener(el, \"change\", () => {\n        el.value = el.value.trim();\n      });\n    }\n    if (!lazy) {\n      addEventListener(el, \"compositionstart\", onCompositionStart);\n      addEventListener(el, \"compositionend\", onCompositionEnd);\n      addEventListener(el, \"change\", onCompositionEnd);\n    }\n  },\n  // set value on mounted so it's after min/max for type=\"range\"\n  mounted(el, { value }) {\n    el.value = value == null ? \"\" : value;\n  },\n  beforeUpdate(el, { value, modifiers: { lazy, trim, number } }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    if (el.composing)\n      return;\n    const elValue = number || el.type === \"number\" ? looseToNumber(el.value) : el.value;\n    const newValue = value == null ? \"\" : value;\n    if (elValue === newValue) {\n      return;\n    }\n    if (document.activeElement === el && el.type !== \"range\") {\n      if (lazy) {\n        return;\n      }\n      if (trim && el.value.trim() === newValue) {\n        return;\n      }\n    }\n    el.value = newValue;\n  }\n};\nconst vModelCheckbox = {\n  // #4096 array checkboxes need to be deep traversed\n  deep: true,\n  created(el, _, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      const modelValue = el._modelValue;\n      const elementValue = getValue(el);\n      const checked = el.checked;\n      const assign = el[assignKey];\n      if (isArray(modelValue)) {\n        const index = looseIndexOf(modelValue, elementValue);\n        const found = index !== -1;\n        if (checked && !found) {\n          assign(modelValue.concat(elementValue));\n        } else if (!checked && found) {\n          const filtered = [...modelValue];\n          filtered.splice(index, 1);\n          assign(filtered);\n        }\n      } else if (isSet(modelValue)) {\n        const cloned = new Set(modelValue);\n        if (checked) {\n          cloned.add(elementValue);\n        } else {\n          cloned.delete(elementValue);\n        }\n        assign(cloned);\n      } else {\n        assign(getCheckboxValue(el, checked));\n      }\n    });\n  },\n  // set initial checked on mount to wait for true-value/false-value\n  mounted: setChecked,\n  beforeUpdate(el, binding, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    setChecked(el, binding, vnode);\n  }\n};\nfunction setChecked(el, { value, oldValue }, vnode) {\n  el._modelValue = value;\n  if (isArray(value)) {\n    el.checked = looseIndexOf(value, vnode.props.value) > -1;\n  } else if (isSet(value)) {\n    el.checked = value.has(vnode.props.value);\n  } else if (value !== oldValue) {\n    el.checked = looseEqual(value, getCheckboxValue(el, true));\n  }\n}\nconst vModelRadio = {\n  created(el, { value }, vnode) {\n    el.checked = looseEqual(value, vnode.props.value);\n    el[assignKey] = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      el[assignKey](getValue(el));\n    });\n  },\n  beforeUpdate(el, { value, oldValue }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    if (value !== oldValue) {\n      el.checked = looseEqual(value, vnode.props.value);\n    }\n  }\n};\nconst vModelSelect = {\n  // <select multiple> value need to be deep traversed\n  deep: true,\n  created(el, { value, modifiers: { number } }, vnode) {\n    const isSetModel = isSet(value);\n    addEventListener(el, \"change\", () => {\n      const selectedVal = Array.prototype.filter.call(el.options, (o) => o.selected).map(\n        (o) => number ? looseToNumber(getValue(o)) : getValue(o)\n      );\n      el[assignKey](\n        el.multiple ? isSetModel ? new Set(selectedVal) : selectedVal : selectedVal[0]\n      );\n    });\n    el[assignKey] = getModelAssigner(vnode);\n  },\n  // set value in mounted & updated because <select> relies on its children\n  // <option>s.\n  mounted(el, { value }) {\n    setSelected(el, value);\n  },\n  beforeUpdate(el, _binding, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n  },\n  updated(el, { value }) {\n    setSelected(el, value);\n  }\n};\nfunction setSelected(el, value) {\n  const isMultiple = el.multiple;\n  if (isMultiple && !isArray(value) && !isSet(value)) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(\n      `<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(value).slice(8, -1)}.`\n    );\n    return;\n  }\n  for (let i = 0, l = el.options.length; i < l; i++) {\n    const option = el.options[i];\n    const optionValue = getValue(option);\n    if (isMultiple) {\n      if (isArray(value)) {\n        option.selected = looseIndexOf(value, optionValue) > -1;\n      } else {\n        option.selected = value.has(optionValue);\n      }\n    } else {\n      if (looseEqual(getValue(option), value)) {\n        if (el.selectedIndex !== i)\n          el.selectedIndex = i;\n        return;\n      }\n    }\n  }\n  if (!isMultiple && el.selectedIndex !== -1) {\n    el.selectedIndex = -1;\n  }\n}\nfunction getValue(el) {\n  return \"_value\" in el ? el._value : el.value;\n}\nfunction getCheckboxValue(el, checked) {\n  const key = checked ? \"_trueValue\" : \"_falseValue\";\n  return key in el ? el[key] : checked;\n}\nconst vModelDynamic = {\n  created(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"created\");\n  },\n  mounted(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"mounted\");\n  },\n  beforeUpdate(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"beforeUpdate\");\n  },\n  updated(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"updated\");\n  }\n};\nfunction resolveDynamicModel(tagName, type) {\n  switch (tagName) {\n    case \"SELECT\":\n      return vModelSelect;\n    case \"TEXTAREA\":\n      return vModelText;\n    default:\n      switch (type) {\n        case \"checkbox\":\n          return vModelCheckbox;\n        case \"radio\":\n          return vModelRadio;\n        default:\n          return vModelText;\n      }\n  }\n}\nfunction callModelHook(el, binding, vnode, prevVNode, hook) {\n  const modelToUse = resolveDynamicModel(\n    el.tagName,\n    vnode.props && vnode.props.type\n  );\n  const fn = modelToUse[hook];\n  fn && fn(el, binding, vnode, prevVNode);\n}\nfunction initVModelForSSR() {\n  vModelText.getSSRProps = ({ value }) => ({ value });\n  vModelRadio.getSSRProps = ({ value }, vnode) => {\n    if (vnode.props && looseEqual(vnode.props.value, value)) {\n      return { checked: true };\n    }\n  };\n  vModelCheckbox.getSSRProps = ({ value }, vnode) => {\n    if (isArray(value)) {\n      if (vnode.props && looseIndexOf(value, vnode.props.value) > -1) {\n        return { checked: true };\n      }\n    } else if (isSet(value)) {\n      if (vnode.props && value.has(vnode.props.value)) {\n        return { checked: true };\n      }\n    } else if (value) {\n      return { checked: true };\n    }\n  };\n  vModelDynamic.getSSRProps = (binding, vnode) => {\n    if (typeof vnode.type !== \"string\") {\n      return;\n    }\n    const modelToUse = resolveDynamicModel(\n      // resolveDynamicModel expects an uppercase tag name, but vnode.type is lowercase\n      vnode.type.toUpperCase(),\n      vnode.props && vnode.props.type\n    );\n    if (modelToUse.getSSRProps) {\n      return modelToUse.getSSRProps(binding, vnode);\n    }\n  };\n}\n\nconst systemModifiers = [\"ctrl\", \"shift\", \"alt\", \"meta\"];\nconst modifierGuards = {\n  stop: (e) => e.stopPropagation(),\n  prevent: (e) => e.preventDefault(),\n  self: (e) => e.target !== e.currentTarget,\n  ctrl: (e) => !e.ctrlKey,\n  shift: (e) => !e.shiftKey,\n  alt: (e) => !e.altKey,\n  meta: (e) => !e.metaKey,\n  left: (e) => \"button\" in e && e.button !== 0,\n  middle: (e) => \"button\" in e && e.button !== 1,\n  right: (e) => \"button\" in e && e.button !== 2,\n  exact: (e, modifiers) => systemModifiers.some((m) => e[`${m}Key`] && !modifiers.includes(m))\n};\nconst withModifiers = (fn, modifiers) => {\n  return (event, ...args) => {\n    for (let i = 0; i < modifiers.length; i++) {\n      const guard = modifierGuards[modifiers[i]];\n      if (guard && guard(event, modifiers))\n        return;\n    }\n    return fn(event, ...args);\n  };\n};\nconst keyNames = {\n  esc: \"escape\",\n  space: \" \",\n  up: \"arrow-up\",\n  left: \"arrow-left\",\n  right: \"arrow-right\",\n  down: \"arrow-down\",\n  delete: \"backspace\"\n};\nconst withKeys = (fn, modifiers) => {\n  return (event) => {\n    if (!(\"key\" in event)) {\n      return;\n    }\n    const eventKey = hyphenate(event.key);\n    if (modifiers.some((k) => k === eventKey || keyNames[k] === eventKey)) {\n      return fn(event);\n    }\n  };\n};\n\nconst rendererOptions = /* @__PURE__ */ extend({ patchProp }, nodeOps);\nlet renderer;\nlet enabledHydration = false;\nfunction ensureRenderer() {\n  return renderer || (renderer = createRenderer(rendererOptions));\n}\nfunction ensureHydrationRenderer() {\n  renderer = enabledHydration ? renderer : createHydrationRenderer(rendererOptions);\n  enabledHydration = true;\n  return renderer;\n}\nconst render = (...args) => {\n  ensureRenderer().render(...args);\n};\nconst hydrate = (...args) => {\n  ensureHydrationRenderer().hydrate(...args);\n};\nconst createApp = (...args) => {\n  const app = ensureRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (!container)\n      return;\n    const component = app._component;\n    if (!isFunction(component) && !component.render && !component.template) {\n      component.template = container.innerHTML;\n    }\n    container.innerHTML = \"\";\n    const proxy = mount(container, false, container instanceof SVGElement);\n    if (container instanceof Element) {\n      container.removeAttribute(\"v-cloak\");\n      container.setAttribute(\"data-v-app\", \"\");\n    }\n    return proxy;\n  };\n  return app;\n};\nconst createSSRApp = (...args) => {\n  const app = ensureHydrationRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (container) {\n      return mount(container, true, container instanceof SVGElement);\n    }\n  };\n  return app;\n};\nfunction injectNativeTagCheck(app) {\n  Object.defineProperty(app.config, \"isNativeTag\", {\n    value: (tag) => isHTMLTag(tag) || isSVGTag(tag),\n    writable: false\n  });\n}\nfunction injectCompilerOptionsCheck(app) {\n  if (isRuntimeOnly()) {\n    const isCustomElement = app.config.isCustomElement;\n    Object.defineProperty(app.config, \"isCustomElement\", {\n      get() {\n        return isCustomElement;\n      },\n      set() {\n        warn(\n          `The \\`isCustomElement\\` config option is deprecated. Use \\`compilerOptions.isCustomElement\\` instead.`\n        );\n      }\n    });\n    const compilerOptions = app.config.compilerOptions;\n    const msg = `The \\`compilerOptions\\` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka \"full build\"). Since you are using the runtime-only build, \\`compilerOptions\\` must be passed to \\`@vue/compiler-dom\\` in the build setup instead.\n- For vue-loader: pass it via vue-loader's \\`compilerOptions\\` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc`;\n    Object.defineProperty(app.config, \"compilerOptions\", {\n      get() {\n        warn(msg);\n        return compilerOptions;\n      },\n      set() {\n        warn(msg);\n      }\n    });\n  }\n}\nfunction normalizeContainer(container) {\n  if (isString(container)) {\n    const res = document.querySelector(container);\n    if (!!(process.env.NODE_ENV !== \"production\") && !res) {\n      warn(\n        `Failed to mount app: mount target selector \"${container}\" returned null.`\n      );\n    }\n    return res;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && window.ShadowRoot && container instanceof window.ShadowRoot && container.mode === \"closed\") {\n    warn(\n      `mounting on a ShadowRoot with \\`{mode: \"closed\"}\\` may lead to unpredictable bugs`\n    );\n  }\n  return container;\n}\nlet ssrDirectiveInitialized = false;\nconst initDirectivesForSSR = () => {\n  if (!ssrDirectiveInitialized) {\n    ssrDirectiveInitialized = true;\n    initVModelForSSR();\n    initVShowForSSR();\n  }\n} ;\n\nexport { Transition, TransitionGroup, VueElement, createApp, createSSRApp, defineCustomElement, defineSSRCustomElement, hydrate, initDirectivesForSSR, render, useCssModule, useCssVars, vModelCheckbox, vModelDynamic, vModelRadio, vModelSelect, vModelText, vShow, withKeys, withModifiers };\n", "// mitt - Tiny 200b functional event emitter / pubsub\n// Source: https://github.com/developit/mitt\nexport default function mitt(all) {\n\tall = all || new Map();\n\n\treturn {\n\t\tall,\n\t\ton(type, handler) {\n\t\t\tconst handlers = all.get(type);\n\t\t\tconst added = handlers && handlers.push(handler);\n\t\t\tif (!added) {\n\t\t\t\tall.set(type, [handler]);\n\t\t\t}\n\t\t},\n\t\toff(type, handler) {\n\t\t\tconst handlers = all.get(type);\n\t\t\tif (handlers) {\n\t\t\t\thandlers.splice(handlers.indexOf(handler) >>> 0, 1);\n\t\t\t}\n\t\t},\n\t\temit(type, evt) {\n\t\t\tArray.from(all.get(type) || [])\n\t\t\t\t.slice()\n\t\t\t\t.map((handler) => {\n\t\t\t\t\thandler(evt);\n\t\t\t\t});\n\t\t\tArray.from(all.get('*') || [])\n\t\t\t\t.slice()\n\t\t\t\t.map((handler) => {\n\t\t\t\t\thandler(type, evt);\n\t\t\t\t});\n\t\t},\n\t};\n}\n", "import mitt from '../libs/mitt.js';\n\nexport const evntBus = mitt();\n", "/**\n * POS Awesome API Mapper\n *\n * Central map of all API endpoints actually used in frontend files\n * No invention or addition - just collecting what already exists\n */\n\nconst API_MAP = {\n\t// Sales Invoice APIs (from Invoice.vue)\n\tSALES_INVOICE: {\n\t\tCREATE: 'posawesome.api.sales_invoice.create_invoice',\n\t\tUPDATE: 'posawesome.api.sales_invoice.update_invoice',\n\t\tSUBMIT: 'posawesome.api.sales_invoice.submit_invoice',\n\t\tDELETE: 'posawesome.api.sales_invoice.delete_invoice',\n\t\tGET_INVOICES_FOR_RETURN: 'posawesome.api.sales_invoice.get_invoices_for_return',\n\t\tSAVE_DRAFT: 'posawesome.api.sales_invoice.save_draft_invoice',\n\t\tGET_DRAFTS: 'posawesome.api.sales_invoice.get_draft_invoices',\n\t\tGET_PRINT_INVOICES: 'posawesome.api.sales_invoice.get_print_invoices',\n\t},\n\n\t// Customer APIs (from Customer.vue, UpdateCustomer.vue, Payments.vue, NewAddress.vue)\n\tCUSTOMER: {\n\t\tGET_CUSTOMER: 'posawesome.api.customer.get_customer',\n\t\tGET_MANY_CUSTOMERS: 'posawesome.api.customer.get_many_customers',\n\t\tGET_CUSTOMERS_COUNT: 'posawesome.api.customer.get_customers_count',\n\t\tPOST_CUSTOMER: 'posawesome.api.customer.create_customer',\n\t\tUPDATE_CUSTOMER: 'posawesome.api.customer.update_customer',\n\t\tCREATE_CUSTOMER_ADDRESS: 'posawesome.api.customer.create_customer_address',\n\t\tGET_CUSTOMER_CREDIT: 'posawesome.api.customer.get_customer_credit',\n\t\tGET_ADDRESSES: 'posawesome.api.customer.get_many_customer_addresses',\n\t\tGET_CUSTOMER_OUTSTANDING_BALANCE:\n\t\t\t'posawesome.api.customer.get_customer_outstanding_balance',\n\t},\n\n\t// POS Profile APIs (from Invoice.vue)\n\tPOS_PROFILE: {\n\t\tGET_DEFAULT_PAYMENT: 'posawesome.api.pos_profile.get_default_payment_from_pos_profile',\n\t},\n\n\t// Item APIs (from ItemsSelector.vue, Invoice.vue)\n\tITEM: {\n\t\tGET_ITEMS: 'posawesome.api.item.get_items',\n\t\tGET_ITEMS_GROUPS: 'posawesome.api.item.get_items_groups',\n\t\tGET_BARCODE_ITEM: 'posawesome.api.item.get_barcode_item',\n\t\tPROCESS_BATCH_SELECTION: 'posawesome.api.item.process_batch_selection',\n\t},\n\n\t// POS Offer APIs (from Invoice.vue, Pos.vue)\n\tPOS_OFFER: {\n\t\tGET_APPLICABLE_OFFERS:\n\t\t\t'posawesome.posawesome.doctype.pos_offer.pos_offer.get_applicable_offers',\n\t\tGET_OFFERS_FOR_PROFILE:\n\t\t\t'posawesome.posawesome.doctype.pos_offer.pos_offer.get_offers_for_profile',\n\t\tAPPLY_OFFERS_TO_INVOICE: 'posawesome.posawesome.doctype.pos_offer.pos_offer.get_offers',\n\t},\n\n\t// POS Opening Shift APIs (from OpeningDialog.vue, Pos.vue, Navbar.vue)\n\tPOS_OPENING_SHIFT: {\n\t\tGET_OPENING_DATA: 'posawesome.api.pos_profile.get_opening_dialog_data',\n\t\tCREATE_OPENING_VOUCHER:\n\t\t\t'posawesome.posawesome.doctype.pos_opening_shift.pos_opening_shift.create_opening_voucher',\n\t\tGET_CURRENT_SHIFT_NAME:\n\t\t\t'posawesome.posawesome.doctype.pos_opening_shift.pos_opening_shift.get_current_shift_name',\n\t\tGET_ALL_OPEN_SHIFTS:\n\t\t\t'posawesome.posawesome.doctype.pos_opening_shift.pos_opening_shift.get_all_open_shifts',\n\t\tGET_USER_SHIFT_INVOICE_COUNT:\n\t\t\t'posawesome.posawesome.doctype.pos_opening_shift.pos_opening_shift.get_user_shift_invoice_count',\n\t\tGET_PROFILE_USERS:\n\t\t\t'posawesome.posawesome.doctype.pos_opening_shift.pos_opening_shift.get_profile_users',\n\t\tCHECK_OPENING_TIME_ALLOWED:\n\t\t\t'posawesome.posawesome.doctype.pos_opening_shift.pos_opening_shift.check_opening_time_allowed',\n\t},\n\n\t// POS Closing Shift APIs (from ClosingDialog.vue)\n\tPOS_CLOSING_SHIFT: {\n\t\tCHECK_CLOSING_TIME_ALLOWED:\n\t\t\t'posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.check_closing_time_allowed',\n\t\tGET_CASHIERS:\n\t\t\t'posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.get_cashiers',\n\t\tGET_POS_INVOICES:\n\t\t\t'posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.get_pos_invoices',\n\t\tGET_PAYMENTS_ENTRIES:\n\t\t\t'posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.get_payments_entries',\n\t\tMAKE_CLOSING_SHIFT:\n\t\t\t'posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.make_closing_shift_from_opening',\n\t\tSUBMIT_CLOSING_SHIFT:\n\t\t\t'posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.submit_closing_shift',\n\t\tGET_PAYMENT_TOTALS:\n\t\t\t'posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.get_payment_totals',\n\t\tGET_CURRENT_CASH_TOTAL:\n\t\t\t'posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.get_current_cash_total',\n\t\tGET_CURRENT_NON_CASH_TOTAL:\n\t\t\t'posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.get_current_non_cash_total',\n\t},\n\n\t// POS Awesome APIs\n\tPOSAWESOME: {\n\t\tPING: 'posawesome.api.ping.ping',\n\t},\n\n\t// ERPNext Standard APIs (from Invoice.vue, Returns.vue, Payments.vue, Pos.vue)\n\tFRAPPE: {\n\t\tCLIENT_GET: 'frappe.client.get',\n\t\tCLIENT_DELETE: 'frappe.client.delete',\n\t\tPING: 'frappe.ping',\n\t},\n};\n\n// Export the map\nexport { API_MAP };\n", "// ===== SECTION 1: IMPORTS =====\nimport { evntBus } from '../bus';\n// Frontend logging: Use console.log/error/warn directly\n// Import cache manager utility\n(function () {\n  if (window.clearCacheAndReload) return;\n  window.clearCacheAndReload = function () {\n    try {\n      localStorage.clear();\n    } catch (_) {\n      try {\n        Object.keys(localStorage).forEach((k) => localStorage.removeItem(k));\n      } catch (_) {}\n    }\n    try {\n      sessionStorage.clear();\n    } catch (_) {}\n    try {\n      location.reload(true);\n    } catch (_) {\n      location.reload();\n    }\n  };\n})();\nimport { API_MAP } from '../api_mapper.js';\n\n// ===== SECTION 2: EXPORT DEFAULT =====\nexport default {\n  // components: {MyPopup},\n  // ===== SECTION 3: DATA =====\n  data() {\n    return {\n      drawer: false,\n      mini: true,\n      item: 0,\n\t\t\titems: [{ text: 'POS', icon: 'mdi-network-pos' }],\n\t\t\tpage: '',\n      fav: true,\n      message: false,\n      hints: true,\n      snack: false,\n\t\t\tsnackColor: '',\n\t\t\tsnackText: '',\n\t\t\tcompany_name: '',\n\t\t\tpos_profile: '',\n      freeze: false,\n\t\t\tfreezeTitle: '',\n\t\t\tfreezeMsg: '',\n\t\t\tlast_invoice: '',\n      invoice_doc: null,\n      pos_opening_shift: null,\n      shift_invoice_count: 0,\n      // Ping variables\n\t\t\tpingTime: '000',\n      pingInterval: null,\n      // Payment totals\n      totalCash: 0,\n      totalNonCash: 0,\n      // Quick return mode\n      quick_return_value: false,\n      // Connection state tracking\n      wasConnectionLost: false,\n      // Shift monitoring\n      shiftMonitoringInterval: null,\n      // Print dialog\n      printDialog: false,\n      printInvoicesList: [],\n      selectedPrintInvoice: null,\n      isLoadingInvoices: false,\n    };\n  },\n  computed: {\n    invoiceNumberText() {\n      // Simple logic: check what's active\n      if (this.invoice_doc?.is_return && this.invoice_doc?.return_against) {\n\t\t\t\treturn 'Return_Invoice';\n      }\n      if (this.quick_return_value) {\n\t\t\t\treturn 'Quick_Return';\n      }\n\t\t\treturn 'Sales_Mode';\n    },\n    invoiceNumberClass() {\n      if (!this.invoice_doc || !this.invoice_doc.name) {\n        // Prefer quick return mode when active\n        if (this.quick_return_value) {\n\t\t\t\t\treturn 'quick-return-mode';\n        }\n        if (this.invoice_doc?.is_return) {\n\t\t\t\t\treturn 'return-invoice-mode';\n        }\n\t\t\t\treturn 'sales-invoice-mode';\n      }\n\t\t\treturn this.invoice_doc.is_return ? 'return-invoice' : 'regular-invoice';\n    },\n    invoiceIconColor() {\n      if (!this.invoice_doc || !this.invoice_doc.name) {\n        // Prefer quick return mode when active\n        if (this.quick_return_value) {\n\t\t\t\t\treturn '#9c27b0'; // Purple for Quick Return Mode\n        }\n        if (this.invoice_doc?.is_return) {\n\t\t\t\t\treturn '#607d8b'; // Blue-grey for Return Invoice Mode (same as return button)\n        }\n\t\t\t\treturn '#4caf50'; // Green for Sales Invoice Mode\n      }\n      // Use hex colors even when invoice exists\n\t\t\tif (this.quick_return_value) return '#9c27b0';\n\t\t\treturn this.invoice_doc.is_return ? '#607d8b' : '#4caf50';\n    },\n    shiftNumberText() {\n      if (!this.pos_opening_shift || !this.pos_opening_shift.name) {\n\t\t\t\treturn 'Shift not opened yet';\n      }\n      return this.pos_opening_shift.name;\n    },\n    shiftNumberClass() {\n      if (!this.pos_opening_shift || !this.pos_opening_shift.name) {\n\t\t\t\treturn 'no-shift';\n      }\n\t\t\treturn this.pos_opening_shift.status === 'Open' ? 'open-shift' : 'closed-shift';\n    },\n    shiftIconColor() {\n      if (!this.pos_opening_shift || !this.pos_opening_shift.name) {\n\t\t\t\treturn '#757575';\n      }\n\t\t\treturn this.pos_opening_shift.status === 'Open' ? '#4caf50' : '#ff9800';\n    },\n    currentUserName() {\n\t\t\treturn frappe.session.user || 'Unknown User';\n    },\n    shiftStartText() {\n      if (!this.pos_opening_shift || !this.pos_opening_shift.name) {\n\t\t\t\treturn 'Not opened';\n      }\n      if (!this.pos_opening_shift.period_start_date) {\n\t\t\t\treturn 'Unknown';\n      }\n      const startDate = new Date(this.pos_opening_shift.period_start_date);\n\t\t\tconst timeString = startDate.toLocaleTimeString('en-US', {\n\t\t\t\thour: '2-digit',\n\t\t\t\tminute: '2-digit',\n        hour12: true,\n      });\n      return `${timeString}`;\n    },\n    shiftStartClass() {\n      if (!this.pos_opening_shift || !this.pos_opening_shift.name) {\n\t\t\t\treturn 'no-shift-start';\n      }\n\t\t\treturn this.pos_opening_shift.status === 'Open'\n\t\t\t\t? 'open-shift-start'\n\t\t\t\t: 'closed-shift-start';\n    },\n    shiftStartIconColor() {\n      if (!this.pos_opening_shift || !this.pos_opening_shift.name) {\n\t\t\t\treturn '#757575';\n      }\n\t\t\treturn this.pos_opening_shift.status === 'Open' ? '#4caf50' : '#ff9800';\n    },\n    totalInvoicesQty() {\n      // Get total invoices count for current shift\n\t\t\tif (!this.pos_opening_shift || !this.pos_opening_shift.name || !this.pos_profile) {\n\t\t\t\treturn '000';\n      }\n\t\t\treturn this.shift_invoice_count || '000';\n    },\n    // Ping computed properties\n    pingClass() {\n      const ping = parseInt(this.pingTime);\n\t\t\tif (ping < 100) return 'ping-excellent';\n\t\t\tif (ping < 300) return 'ping-good';\n\t\t\tif (ping < 500) return 'ping-fair';\n\t\t\treturn 'ping-poor';\n    },\n    pingIconColor() {\n      const ping = parseInt(this.pingTime);\n\t\t\tif (ping < 100) return '#4caf50';\n\t\t\tif (ping < 300) return '#1976d2';\n\t\t\tif (ping < 500) return '#ff9800';\n\t\t\treturn '#f44336';\n    },\n  },\n  // ===== SECTION 3.5: WATCHERS =====\n  watch: {},\n  // ===== SECTION 4: METHODS =====\n  methods: {\n    // Format currency values\n    formatCurrency(value) {\n      // Handle null, undefined or NaN values\n      if (value === null || value === undefined || isNaN(value)) {\n        value = 0;\n      }\n\n      // Convert to number if it's a string\n\t\t\tif (typeof value === 'string') {\n        value = parseFloat(value) || 0;\n      }\n\n      // Format the number with comma separators and 2 decimal places\n\t\t\treturn value.toLocaleString('en-US', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n      });\n    },\n\n    // Fetch payment totals (optimized: single API call instead of two)\n    fetchPaymentTotals() {\n      // Only fetch if we have pos_profile\n      if (!this.pos_profile || !this.pos_profile.name) {\n        this.totalCash = 0;\n        this.totalNonCash = 0;\n        return;\n      }\n\n      // Fetch both totals in one API call (optimized for performance)\n      frappe.call({\n        method: API_MAP.POS_CLOSING_SHIFT.GET_PAYMENT_TOTALS,\n        args: {\n          pos_profile: this.pos_profile.name,\n          user: frappe.session.user,\n        },\n        callback: (r) => {\n          if (r.message) {\n            this.totalCash = parseFloat(r.message.cash_total || 0) || 0;\n            this.totalNonCash = parseFloat(r.message.non_cash_total || 0) || 0;\n          } else {\n            this.totalCash = 0;\n            this.totalNonCash = 0;\n          }\n        },\n        error: (err) => {\n          this.totalCash = 0;\n          this.totalNonCash = 0;\n        },\n      });\n    },\n\n    // Set up interval to periodically update payment totals\n    setupCashUpdateInterval() {\n      // Clear existing interval if any\n      if (this.cashUpdateInterval) {\n        clearInterval(this.cashUpdateInterval);\n      }\n\n      // Fetch initial totals\n      this.fetchPaymentTotals();\n\n      // Set up interval to update totals (every 10 seconds - optimized with backend caching)\n      this.cashUpdateInterval = setInterval(() => {\n        this.fetchPaymentTotals();\n      }, 10000); // 10 seconds (backend caches for 5 seconds, so this is optimal)\n    },\n\n    changePage(key) {\n\t\t\tthis.$emit('changePage', key);\n    },\n    go_desk() {\n\t\t\tfrappe.set_route('/');\n      location.reload();\n    },\n    close_shift_dialog() {\n\t\t\tevntBus.emit('open_closing_dialog');\n    },\n    show_mesage(data) {\n      this.snack = true;\n      this.snackColor = data.color;\n      this.snackText = data.text;\n\n      // Auto-hide snackbar after 4 seconds\n      setTimeout(() => {\n        this.snack = false;\n      }, 4000);\n    },\n    logOut() {\n      var me = this;\n      me.logged_out = true;\n      return frappe.call({\n\t\t\t\tmethod: 'logout',\n        callback: function (r) {\n          if (r.exc) {\n            return;\n          }\n          // Instead of automatic reload, let the user manually reload\n          me.show_mesage({\n\t\t\t\t\t\tcolor: 'info',\n\t\t\t\t\t\ttext: 'Logged out successfully. Click to reload.',\n          });\n          // Only reload when user clicks on the message\n\t\t\t\t\tdocument.querySelector('.snackbar').addEventListener('click', function () {\n\t\t\t\t\t\tfrappe.set_route('/login');\n              location.reload();\n            });\n        },\n      });\n    },\n    async openPrintDialog() {\n      if (!this.pos_profile || !this.pos_profile.name) {\n        this.show_mesage({\n\t\t\t\t\tcolor: 'error',\n\t\t\t\t\ttext: '\u0644\u0627 \u064A\u0648\u062C\u062F \u0628\u0631\u0648\u0641\u0627\u064A\u0644 POS \u0645\u062D\u062F\u062F',\n        });\n        return;\n      }\n\n      // Open dialog\n      this.printDialog = true;\n      this.selectedPrintInvoice = null;\n      this.isLoadingInvoices = true;\n\n      try {\n        // Get submitted invoices with invoice type from backend (single query)\n        // FRAPPE STANDARD: Use backend API to fetch invoices with type determination\n        const response = await frappe.call({\n          method: API_MAP.SALES_INVOICE.GET_PRINT_INVOICES,\n          args: {\n            pos_profile: this.pos_profile.name,\n            pos_opening_shift: this.pos_opening_shift?.name || null,\n            user: frappe.session.user,\n          },\n        });\n\n        if (response.message && Array.isArray(response.message)) {\n          this.printInvoicesList = response.message;\n        } else {\n          this.printInvoicesList = [];\n        }\n      } catch (error) {\n        this.show_mesage({\n\t\t\t\t\tcolor: 'error',\n\t\t\t\t\ttext: '\u062E\u0637\u0623 \u0641\u064A \u062C\u0644\u0628 \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631: ' + (error.message || '\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641'),\n        });\n        this.printInvoicesList = [];\n      } finally {\n        this.isLoadingInvoices = false;\n      }\n    },\n    printSelectedInvoice() {\n      if (!this.selectedPrintInvoice) {\n        return;\n      }\n\n      const invoice_name = this.selectedPrintInvoice.name;\n      const print_format =\n\t\t\t\tthis.pos_profile.print_format_for_online || this.pos_profile.posa_print_format;\n      const letter_head = this.pos_profile.letter_head || 0;\n      const url =\n        frappe.urllib.get_base_url() +\n\t\t\t\t'/printview?doctype=Sales%20Invoice&name=' +\n        invoice_name +\n\t\t\t\t'&trigger_print=1' +\n\t\t\t\t'&format=' +\n        print_format +\n\t\t\t\t'&no_letterhead=' +\n        letter_head;\n\t\t\tconst printWindow = window.open(url, 'Print');\n      printWindow.addEventListener(\n\t\t\t\t'load',\n        function () {\n          printWindow.print();\n        },\n\t\t\t\ttrue,\n      );\n\n      // Close dialog after printing\n      this.printDialog = false;\n      this.selectedPrintInvoice = null;\n    },\n    fetch_company_info() {\n      if (this.pos_profile && this.pos_profile.company) {\n        frappe.db\n\t\t\t\t\t.get_doc('Company', this.pos_profile.company)\n          .then((company_doc) => {\n            this.company_name = company_doc.company_name;\n          })\n          .catch((err) => {\n            // Error fetching company info\n          });\n      }\n    },\n    async clearCache() {\n      try {\n        // Show loading message\n        this.show_mesage({\n\t\t\t\t\tcolor: 'info',\n\t\t\t\t\ttext: 'Clearing cache...',\n        });\n\n        // Use the comprehensive cache manager\n        if (window.clearCacheAndReload) {\n          await window.clearCacheAndReload();\n\n          this.show_mesage({\n\t\t\t\t\t\tcolor: 'success',\n\t\t\t\t\t\ttext: 'Cache cleared successfully. Reloading...',\n          });\n\n          // Reload page after short delay\n          setTimeout(() => {\n            location.reload();\n          }, 1000);\n        } else {\n          // Fallback to basic cache clearing\n          localStorage.clear();\n          sessionStorage.clear();\n\n          this.show_mesage({\n\t\t\t\t\t\tcolor: 'success',\n\t\t\t\t\t\ttext: 'Basic cache cleared. Reloading...',\n          });\n\n          setTimeout(() => {\n            location.reload();\n          }, 1000);\n        }\n      } catch (error) {\n        this.show_mesage({\n\t\t\t\t\tcolor: 'error',\n\t\t\t\t\ttext: 'Error clearing cache: ' + error.message,\n        });\n      }\n    },\n    async fetchShiftInvoiceCount() {\n      if (!this.pos_profile || !this.pos_opening_shift) {\n        return;\n      }\n\n      try {\n        const response = await frappe.call({\n          method: API_MAP.POS_OPENING_SHIFT.GET_USER_SHIFT_INVOICE_COUNT,\n          args: {\n            pos_profile: this.pos_profile.name,\n            pos_opening_shift: this.pos_opening_shift.name,\n          },\n        });\n\n        if (response.message !== undefined) {\n          this.shift_invoice_count = response.message;\n        }\n      } catch (error) {\n        this.shift_invoice_count = 0;\n      }\n    },\n    // Ping methods\n    measurePing() {\n      // Check if browser reports offline\n      if (!navigator.onLine) {\n\t\t\t\tthis.pingTime = '999';\n        if (!this.wasConnectionLost) {\n          this.wasConnectionLost = true;\n          this.show_mesage({\n\t\t\t\t\t\tcolor: 'error',\n\t\t\t\t\t\ttext: '\u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A \u0645\u0641\u0635\u0648\u0644',\n          });\n        }\n        return;\n      }\n\n      const startTime = performance.now();\n      let timeoutId = null;\n      let isResolved = false;\n\n      // Timeout: 1 second to detect no response\n      timeoutId = setTimeout(() => {\n        if (!isResolved) {\n          isResolved = true;\n\t\t\t\t\tthis.pingTime = '999';\n          \n          if (!this.wasConnectionLost) {\n            this.wasConnectionLost = true;\n            this.show_mesage({\n\t\t\t\t\t\t\tcolor: 'error',\n\t\t\t\t\t\t\ttext: '\u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A \u0645\u0641\u0635\u0648\u0644',\n            });\n          }\n        }\n      }, 1000);\n\n      frappe.call({\n        method: API_MAP.POSAWESOME.PING,\n        args: {},\n        callback: (r) => {\n          if (timeoutId) {\n            clearTimeout(timeoutId);\n            timeoutId = null;\n          }\n          \n          if (isResolved) return;\n          isResolved = true;\n\n          const endTime = performance.now();\n          const ping = Math.round(endTime - startTime);\n\t\t\t\t\tthis.pingTime = ping.toString().padStart(3, '0');\n\n          // If ping > 1000ms, show weak connection message\n          if (ping > 1000) {\n            this.show_mesage({\n\t\t\t\t\t\t\tcolor: 'warning',\n\t\t\t\t\t\t\ttext: '\u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A \u0636\u0639\u064A\u0641 \u062C\u062F\u0627',\n            });\n          }\n\n          // If connection was lost before and now it's back\n          if (this.wasConnectionLost) {\n            this.wasConnectionLost = false;\n            this.show_mesage({\n\t\t\t\t\t\t\tcolor: 'success',\n\t\t\t\t\t\t\ttext: '\u062A\u0645 \u0631\u062C\u0648\u0639 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A',\n            });\n          }\n        },\n        error: (err) => {\n          if (timeoutId) {\n            clearTimeout(timeoutId);\n            timeoutId = null;\n          }\n          \n          if (isResolved) return;\n          isResolved = true;\n\n\t\t\t\t\tthis.pingTime = '999';\n          \n          if (!this.wasConnectionLost) {\n            this.wasConnectionLost = true;\n            this.show_mesage({\n\t\t\t\t\t\t\tcolor: 'error',\n\t\t\t\t\t\t\ttext: '\u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A \u0645\u0641\u0635\u0648\u0644',\n            });\n          }\n        },\n        freeze: false,\n        show_spinner: false,\n        async: true,\n      });\n    },\n    startPingMonitoring() {\n      if (this.pingInterval) {\n        return;\n      }\n\n      this._wasRunningBeforeHidden = true;\n\n      // Initial ping\n      this.measurePing();\n\n      // Ping every 2 seconds\n      this.pingInterval = setInterval(() => {\n        this.measurePing();\n      }, 2000);\n    },\n    stopPingMonitoring() {\n      if (this.pingInterval) {\n        clearInterval(this.pingInterval);\n        this.pingInterval = null;\n        // Track that monitoring is stopped\n        this._wasRunningBeforeHidden = false;\n      }\n    },\n    // Shift monitoring methods\n    // Smart monitoring: checks if opening shift status changed to \"Closed\" with pos_closing_shift set\n    // This ensures we only reload when closing is complete (not just when status changes)\n    checkShiftStatus() {\n      if (!this.pos_opening_shift || !this.pos_opening_shift.name) {\n        return;\n      }\n\n      const openingShiftName = this.pos_opening_shift.name;\n      console.log('[Navbar.js] Checking shift status:', openingShiftName);\n\n      frappe.call({\n        method: 'frappe.client.get',\n        args: {\n          doctype: 'POS Opening Shift',\n          name: openingShiftName,\n        },\n        callback: (r) => {\n          if (r.message) {\n            const openingShift = r.message;\n            console.log('[Navbar.js] Opening shift status:', openingShift.status);\n            console.log('[Navbar.js] Opening shift pos_closing_shift:', openingShift.pos_closing_shift);\n            \n            // Check if shift is closed AND has pos_closing_shift set\n            // This means closing shift was successfully submitted and linked\n            if (\n              openingShift.status === 'Closed' &&\n              openingShift.pos_closing_shift\n            ) {\n              console.log('[Navbar.js] Shift closed successfully with closing shift linked!');\n              this.show_mesage({\n                color: 'error',\n                text: '\u062A\u0645 \u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0648\u0631\u062F\u064A\u0629. \u0633\u064A\u062A\u0645 \u0625\u0639\u0627\u062F\u0629 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629...',\n              });\n              \n              // Reload after short delay\n              setTimeout(() => {\n                if (window.clearCacheAndReload) {\n                  window.clearCacheAndReload();\n                } else {\n                  location.reload();\n                }\n              }, 2000);\n            } else if (openingShift.status === 'Closed' && !openingShift.pos_closing_shift) {\n              // Shift is closed but no closing shift linked - might be in process\n              console.log('[Navbar.js] Shift closed but no closing shift linked yet - continuing to monitor...');\n            } else {\n              // Shift is still open or status doesn't match - check if different shift opened\n              frappe.call({\n                method: API_MAP.POS_OPENING_SHIFT.GET_CURRENT_SHIFT_NAME,\n                args: {},\n                callback: (shiftResponse) => {\n                  if (shiftResponse.message && shiftResponse.message.success && shiftResponse.message.data) {\n                    const currentShift = shiftResponse.message.data;\n                    // Check if current shift matches our shift\n                    if (currentShift.name !== openingShiftName) {\n                      // Shift was changed (different shift opened)\n                      console.log('[Navbar.js] Shift was changed to:', currentShift.name);\n                      this.show_mesage({\n                        color: 'error',\n                        text: '\u062A\u0645 \u062A\u063A\u064A\u064A\u0631 \u0627\u0644\u0648\u0631\u062F\u064A\u0629. \u0633\u064A\u062A\u0645 \u0625\u0639\u0627\u062F\u0629 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629...',\n                      });\n                      \n                      // Reload after short delay\n                      setTimeout(() => {\n                        if (window.clearCacheAndReload) {\n                          window.clearCacheAndReload();\n                        } else {\n                          location.reload();\n                        }\n                      }, 2000);\n                    }\n                  }\n                },\n                error: (err) => {\n                  // On error, don't reload - might be network issue\n                  if (err && err.message) {\n                    console.error('[Navbar.js] checkShiftStatus error:', err.message);\n                  }\n                },\n                freeze: false,\n                show_spinner: false,\n                async: true,\n              });\n            }\n          }\n        },\n        error: (err) => {\n          // On error, don't reload - might be network issue\n          if (err && err.message) {\n            console.error('[Navbar.js] checkShiftStatus error:', err.message);\n          }\n        },\n        freeze: false,\n        show_spinner: false,\n        async: true,\n      });\n    },\n    \n    startShiftMonitoring() {\n      if (this.shiftMonitoringInterval) {\n        return;\n      }\n\n      if (!this.pos_opening_shift || !this.pos_opening_shift.name) {\n        return;\n      }\n\n      console.log('[Navbar.js] Starting shift monitoring for:', this.pos_opening_shift.name);\n      \n      // Check immediately\n      this.checkShiftStatus();\n\n      // Check every 5 seconds\n      this.shiftMonitoringInterval = setInterval(() => {\n        this.checkShiftStatus();\n      }, 5000);\n    },\n    \n    stopShiftMonitoring() {\n      console.log('[Navbar.js] stopShiftMonitoring called');\n      console.log('[Navbar.js] shiftMonitoringInterval before:', this.shiftMonitoringInterval);\n      if (this.shiftMonitoringInterval) {\n        clearInterval(this.shiftMonitoringInterval);\n        this.shiftMonitoringInterval = null;\n        console.log('[Navbar.js] Shift monitoring stopped');\n      } else {\n        console.log('[Navbar.js] No shift monitoring interval to stop');\n      }\n      console.log('[Navbar.js] shiftMonitoringInterval after:', this.shiftMonitoringInterval);\n    },\n\n    // Toggle ping monitoring (can be called via evntBus)\n    togglePingMonitoring(enable) {\n      if (enable) {\n\t\t\t\tsessionStorage.setItem('pos_enable_ping_monitoring', 'true');\n        this.startPingMonitoring();\n      } else {\n\t\t\t\tsessionStorage.setItem('pos_enable_ping_monitoring', 'false');\n        this.stopPingMonitoring();\n      }\n    },\n    \n    // Handle stop shift monitoring event (called from ClosingDialog when auto-print is enabled)\n    handleStopShiftMonitoring() {\n      // Prevent duplicate calls - if already stopped, return early\n      if (!this.shiftMonitoringInterval) {\n        console.log('[Navbar.js] Shift monitoring already stopped - ignoring duplicate stop_shift_monitoring event');\n        return;\n      }\n      \n      console.log('[Navbar.js] ===== handleStopShiftMonitoring START =====');\n      console.log('[Navbar.js] Received stop_shift_monitoring event - stopping shift monitoring');\n      console.log('[Navbar.js] Current shiftMonitoringInterval:', this.shiftMonitoringInterval);\n      this.stopShiftMonitoring();\n      console.log('[Navbar.js] ===== handleStopShiftMonitoring END =====');\n    },\n  },\n  created: function () {\n    this.$nextTick(function () {\n      try {\n        // Check if ping monitoring should be enabled\n        // We can add a global setting to control this\n        const enablePingMonitoring =\n\t\t\t\t\tsessionStorage.getItem('pos_enable_ping_monitoring') !== 'false';\n\n        if (enablePingMonitoring) {\n          // Start ping monitoring\n          this.startPingMonitoring();\n        }\n\n        // Add page visibility handler to pause/resume ping monitoring for bfcache compatibility\n        // Modified to prevent automatic reloads\n        this.handleVisibilityChange = () => {\n          if (document.hidden) {\n            this.stopPingMonitoring();\n          } else {\n            // Only restart monitoring if it was previously running\n            if (this._wasRunningBeforeHidden) {\n              this.startPingMonitoring();\n            }\n          }\n        };\n        // Track ping monitor state before hiding\n        this._wasRunningBeforeHidden = true;\n\t\t\t\tdocument.addEventListener('visibilitychange', this.handleVisibilityChange);\n\n        // Listen to online/offline events for immediate response\n        this.handleOnline = () => {\n          if (this.wasConnectionLost) {\n            this.wasConnectionLost = false;\n            this.show_mesage({\n\t\t\t\t\t\t\tcolor: 'success',\n\t\t\t\t\t\t\ttext: '\u062A\u0645 \u0631\u062C\u0648\u0639 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A',\n            });\n          }\n          // Restart ping monitoring if it stopped\n          if (!this.pingInterval) {\n            this.startPingMonitoring();\n          } else {\n            // Trigger immediate ping\n            this.measurePing();\n          }\n        };\n\n        this.handleOffline = () => {\n\t\t\t\t\tthis.pingTime = '999';\n          if (!this.wasConnectionLost) {\n            this.wasConnectionLost = true;\n            this.show_mesage({\n\t\t\t\t\t\t\tcolor: 'error',\n\t\t\t\t\t\t\ttext: '\u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A \u0645\u0641\u0635\u0648\u0644',\n            });\n          }\n        };\n\n\t\t\t\twindow.addEventListener('online', this.handleOnline);\n\t\t\t\twindow.addEventListener('offline', this.handleOffline);\n\n\t\t\t\tevntBus.on('show_mesage', (data) => {\n          this.show_mesage(data);\n        });\n\t\t\t\tevntBus.on('set_company', (data) => {\n          this.company_name = data.name;\n        });\n\t\t\t\tevntBus.on('register_pos_profile', (data) => {\n          this.pos_profile = data.pos_profile;\n          this.pos_opening_shift = data.pos_opening_shift;\n          this.fetch_company_info();\n          this.fetchShiftInvoiceCount();\n          this.setupCashUpdateInterval(); // Start auto-refresh interval when POS loads\n          // Shift monitoring moved to ClosingDialog.js\n          // External payments screen disabled - removed payments option\n        });\n\t\t\t\tevntBus.on('set_last_invoice', (data) => {\n          this.last_invoice = data;\n        });\n\t\t\t\tevntBus.on('toggle_quick_return', (value) => {\n          this.quick_return_value = value;\n        });\n\t\t\t\tevntBus.on('update_invoice_doc', (data) => {\n          this.invoice_doc = data;\n        });\n\t\t\t\tevntBus.on('set_pos_opening_shift', (data) => {\n          this.pos_opening_shift = data;\n          this.fetchShiftInvoiceCount();\n          this.setupCashUpdateInterval(); // Restart auto-refresh when shift changes\n          this.startShiftMonitoring(); // Start shift monitoring when shift is set\n        });\n\t\t\t\tevntBus.on('register_pos_data', (data) => {\n          if (data.pos_profile) {\n            this.pos_profile = data.pos_profile;\n          }\n          if (data.pos_opening_shift) {\n            this.pos_opening_shift = data.pos_opening_shift;\n\t\t\t\t\t\tconsole.log('[Navbar.js] Shift registered:', this.pos_opening_shift.name);\n          }\n          this.fetch_company_info();\n          this.fetchShiftInvoiceCount();\n          this.setupCashUpdateInterval(); // Start auto-refresh when POS data registered\n          this.startShiftMonitoring(); // Start shift monitoring when POS data is registered\n        });\n\t\t\t\tevntBus.on('invoice_submitted', () => {\n          // Refresh invoice count when a new invoice is submitted\n          // Immediate refresh for payment totals (backend queries are fast)\n          this.fetchPaymentTotals(); // Immediate update\n\n          // Also schedule a delayed refresh to catch any async updates\n          setTimeout(() => {\n            this.fetchShiftInvoiceCount();\n            this.fetchPaymentTotals(); // Update payment totals after invoice submission\n          }, 1000); // Wait 1 second for any background processing\n        });\n\t\t\t\tevntBus.on('freeze', (data) => {\n          this.freeze = true;\n          this.freezeTitle = data.title;\n          this.freezeMsg = data.msg;\n        });\n\t\t\t\tevntBus.on('unfreeze', () => {\n          this.freeze = false;\n\t\t\t\t\tthis.freezTitle = '';\n\t\t\t\t\tthis.freezeMsg = '';\n        });\n\n        // Add event listener for stopping shift monitoring (when auto-print is enabled)\n\t\t\t\tevntBus.on('stop_shift_monitoring', this.handleStopShiftMonitoring);\n\n        // Add event listener for toggling ping monitoring\n\t\t\t\tevntBus.on('toggle_ping_monitoring', (enable) => {\n          this.togglePingMonitoring(enable);\n        });\n        \n        // Add event listener for stopping shift monitoring (called from ClosingDialog when auto-print is enabled)\n        evntBus.on('stop_shift_monitoring', () => {\n          this.handleStopShiftMonitoring();\n        });\n      } catch (error) {\n        this.show_mesage({\n\t\t\t\t\tcolor: 'error',\n\t\t\t\t\ttext: 'An error occurred while loading the menu.',\n        });\n      }\n    });\n  },\n  beforeUnmount() {\n    // Clean up ping monitoring\n    this.stopPingMonitoring();\n\n    // Clean up shift monitoring\n    this.stopShiftMonitoring();\n\n    // Clean up click outside listener\n\t\tdocument.removeEventListener('click', this.handleClickOutside);\n\n    // Clean up page visibility listener\n\t\tdocument.removeEventListener('visibilitychange', this.handleVisibilityChange);\n\n    // Clean up online/offline listeners\n    if (this.handleOnline) {\n\t\t\twindow.removeEventListener('online', this.handleOnline);\n    }\n    if (this.handleOffline) {\n\t\t\twindow.removeEventListener('offline', this.handleOffline);\n    }\n\n    // Clean up payment totals interval\n    if (this.cashUpdateInterval) {\n      clearInterval(this.cashUpdateInterval);\n      this.cashUpdateInterval = null;\n    }\n\n    // Clean up all event listeners\n\t\tevntBus.off('show_mesage');\n\t\tevntBus.off('set_company');\n\t\tevntBus.off('register_pos_profile');\n\t\tevntBus.off('set_last_invoice');\n\t\tevntBus.off('update_invoice_doc');\n\t\tevntBus.off('set_pos_opening_shift');\n\t\tevntBus.off('register_pos_data');\n\t\tevntBus.off('invoice_submitted');\n\t\tevntBus.off('freeze');\n\t\tevntBus.off('unfreeze');\n\t\tevntBus.off('toggle_ping_monitoring');\n\t\tevntBus.off('stop_shift_monitoring', this.handleStopShiftMonitoring);\n  },\n};\n", "import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, Fragment as _Fragment, renderList as _renderList, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"4px\",\"padding\":\"2px 6px\",\"background\":\"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)\",\"border-bottom\":\"1px solid #e0e0e0\",\"box-shadow\":\"0 1px 3px rgba(0, 0, 0, 0.06)\",\"height\":\"32px\",\"position\":\"sticky\",\"top\":\"0\",\"z-index\":\"1100\"} }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-point-of-sale\",\n  style: {\"font-size\":\"16px\",\"color\":\"var(--primary)\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_3 = [\n  _hoisted_2\n]\nconst _hoisted_4 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"3px\",\"overflow-x\":\"auto\",\"scrollbar-width\":\"none\"} }\nconst _hoisted_5 = { style: {\"color\":\"inherit\",\"font-weight\":\"600\",\"font-size\":\"10px\"} }\nconst _hoisted_6 = { style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"gap\":\"3px\",\"padding\":\"2px 6px\",\"border-radius\":\"4px\",\"border\":\"1px solid rgba(25, 118, 210, 0.5)\",\"background\":\"linear-gradient(135deg, #eaf4ff 0%, #dbeeff 100%)\",\"color\":\"#1976d2\",\"font-size\":\"10px\",\"font-weight\":\"600\",\"white-space\":\"nowrap\",\"line-height\":\"1\",\"height\":\"22px\",\"box-sizing\":\"border-box\"} }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-account\",\n  style: {\"font-size\":\"12px\",\"color\":\"var(--primary)\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_8 = { style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"gap\":\"3px\",\"padding\":\"2px 6px\",\"border-radius\":\"4px\",\"border\":\"1px solid rgba(25, 118, 210, 0.5)\",\"background\":\"linear-gradient(135deg, #eaf4ff 0%, #dbeeff 100%)\",\"color\":\"#1976d2\",\"font-size\":\"10px\",\"font-weight\":\"600\",\"white-space\":\"nowrap\",\"line-height\":\"1\",\"height\":\"22px\",\"box-sizing\":\"border-box\"} }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-counter\",\n  style: {\"font-size\":\"12px\",\"color\":\"var(--primary)\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_10 = { style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"gap\":\"3px\",\"padding\":\"2px 6px\",\"border-radius\":\"4px\",\"border\":\"1px solid rgba(76, 175, 80, 0.5)\",\"background\":\"linear-gradient(135deg, #eefbe7 0%, #def2da 100%)\",\"color\":\"#2e7d32\",\"font-size\":\"10px\",\"font-weight\":\"600\",\"white-space\":\"nowrap\",\"line-height\":\"1\",\"height\":\"22px\",\"box-sizing\":\"border-box\"} }\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-cash-multiple\",\n  style: {\"font-size\":\"12px\",\"color\":\"var(--success)\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_12 = { style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"gap\":\"3px\",\"padding\":\"2px 6px\",\"border-radius\":\"4px\",\"border\":\"1px solid rgba(156, 39, 176, 0.3)\",\"background\":\"linear-gradient(135deg, #f8eefb 0%, #f0e1f6 100%)\",\"color\":\"#9033b7\",\"font-size\":\"10px\",\"font-weight\":\"600\",\"white-space\":\"nowrap\",\"line-height\":\"1\",\"height\":\"22px\",\"box-sizing\":\"border-box\"} }\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-credit-card\",\n  style: {\"font-size\":\"12px\",\"color\":\"var(--primary)\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_14 = { style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"gap\":\"3px\",\"padding\":\"2px 6px\",\"border-radius\":\"4px\",\"border\":\"1px solid rgba(25, 118, 210, 0.5)\",\"background\":\"linear-gradient(135deg, #eaf4ff 0%, #dbeeff 100%)\",\"color\":\"#1976d2\",\"font-size\":\"10px\",\"font-weight\":\"700\",\"white-space\":\"nowrap\",\"line-height\":\"1\",\"height\":\"22px\",\"box-sizing\":\"border-box\"} }\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-briefcase\",\n  style: {\"font-size\":\"12px\",\"color\":\"var(--primary)\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_16 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"3px\"} }\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-printer\",\n  style: {\"font-size\":\"19px\",\"color\":\"#1565c0\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_18 = [\n  _hoisted_17\n]\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-cached\",\n  style: {\"font-size\":\"19px\",\"color\":\"#2264d4\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_20 = [\n  _hoisted_19\n]\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-close-circle\",\n  style: {\"font-size\":\"19px\",\"color\":\"#d32f2f\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_22 = [\n  _hoisted_21\n]\nconst _hoisted_23 = {\n  key: 1,\n  style: {\"position\":\"fixed\",\"top\":\"0\",\"left\":\"0\",\"width\":\"100%\",\"height\":\"100%\",\"background\":\"rgba(0, 0, 0, 0.5)\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"z-index\":\"3000\"}\n}\nconst _hoisted_24 = { style: {\"background\":\"white\",\"border-radius\":\"8px\",\"max-width\":\"500px\",\"width\":\"90%\",\"max-height\":\"80vh\",\"overflow-y\":\"auto\",\"box-shadow\":\"0 8px 32px rgba(0, 0, 0, 0.3)\"} }\nconst _hoisted_25 = { style: {\"padding\":\"20px\",\"border-bottom\":\"1px solid #e0e0e0\"} }\nconst _hoisted_26 = { style: {\"margin\":\"0\",\"color\":\"#333\",\"font-size\":\"18px\",\"font-weight\":\"600\"} }\nconst _hoisted_27 = { style: {\"padding\":\"20px\",\"color\":\"#666\",\"line-height\":\"1.5\"} }\nconst _hoisted_28 = { style: {\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"} }\nconst _hoisted_29 = { style: {\"background\":\"white\",\"border-radius\":\"12px\",\"overflow\":\"hidden\",\"box-shadow\":\"0 4px 12px rgba(0, 0, 0, 0.1)\"} }\nconst _hoisted_30 = { style: {\"background\":\"linear-gradient(135deg, #1565c0 0%, #0d47a1 100%)\",\"color\":\"white\",\"padding\":\"12px 16px\",\"border-bottom\":\"1px solid #e0e0e0\",\"position\":\"relative\"} }\nconst _hoisted_31 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"white\",\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"0\",\"font-size\":\"1.25rem\",\"font-weight\":\"700\"} }, [\n  /*#__PURE__*/_createElementVNode(\"i\", {\n    class: \"mdi mdi-printer\",\n    style: {\"font-size\":\"18px\"}\n  }),\n  /*#__PURE__*/_createTextVNode(\"\u062C\u062F\u0648\u0644 \u0637\u0628\u0627\u0639\u0647 \u0641\u0627\u062A\u0648\u0631\u0629 \")\n], -1 /* HOISTED */)\nconst _hoisted_32 = { style: {\"padding\":\"16px\",\"max-height\":\"60vh\",\"overflow-y\":\"auto\"} }\nconst _hoisted_33 = {\n  key: 0,\n  style: {\"text-align\":\"center\",\"padding\":\"40px\"}\n}\nconst _hoisted_34 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"font-size\":\"1rem\",\"color\":\"#666\"} }, \"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...\", -1 /* HOISTED */)\nconst _hoisted_35 = [\n  _hoisted_34\n]\nconst _hoisted_36 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"text-align\":\"center\",\"padding\":\"40px\"} }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { style: {\"font-size\":\"1rem\",\"color\":\"#666\"} }, \" \u0644\u0627 \u062A\u0648\u062C\u062F \u0641\u0648\u0627\u062A\u064A\u0631 \u0645\u0633\u062C\u0644\u0629 \")\n], -1 /* HOISTED */)\nconst _hoisted_37 = { style: {\"width\":\"100%\",\"border-collapse\":\"collapse\",\"font-size\":\"0.9rem\"} }\nconst _hoisted_38 = /*#__PURE__*/_createElementVNode(\"thead\", null, [\n  /*#__PURE__*/_createElementVNode(\"tr\", { style: {\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t135deg,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t#1565c0 0%,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t#0d47a1 100%\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)\",\"border-bottom\":\"2px solid #e0e0e0\",\"color\":\"white\"} }, [\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"12px\",\"text-align\":\"right\",\"font-weight\":\"600\",\"color\":\"white\"} }, \" \u0627\u0644\u0639\u0645\u064A\u0644 \"),\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"12px\",\"text-align\":\"center\",\"font-weight\":\"600\",\"color\":\"white\"} }, \" \u0627\u0644\u062A\u0627\u0631\u064A\u062E \"),\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"12px\",\"text-align\":\"center\",\"font-weight\":\"600\",\"color\":\"white\"} }, \" \u0627\u0644\u0648\u0642\u062A \"),\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"12px\",\"text-align\":\"right\",\"font-weight\":\"600\",\"color\":\"white\"} }, \" \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \"),\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"12px\",\"text-align\":\"center\",\"font-weight\":\"600\",\"color\":\"white\"} }, \" \u0627\u0644\u062D\u0627\u0644\u0629 \"),\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"12px\",\"text-align\":\"left\",\"font-weight\":\"600\",\"color\":\"white\"} }, \" \u0627\u0644\u0645\u0628\u0644\u063A \")\n  ])\n], -1 /* HOISTED */)\nconst _hoisted_39 = [\"onClick\", \"onMouseleave\"]\nconst _hoisted_40 = { style: {\"padding\":\"12px\",\"text-align\":\"right\"} }\nconst _hoisted_41 = { style: {\"padding\":\"12px\",\"text-align\":\"center\"} }\nconst _hoisted_42 = { style: {\"padding\":\"12px\",\"text-align\":\"center\"} }\nconst _hoisted_43 = { style: {\"padding\":\"12px\",\"text-align\":\"right\",\"font-weight\":\"600\"} }\nconst _hoisted_44 = { style: {\"padding\":\"12px\",\"text-align\":\"center\"} }\nconst _hoisted_45 = { style: {\"padding\":\"12px\",\"text-align\":\"left\",\"font-weight\":\"600\"} }\nconst _hoisted_46 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\",\"gap\":\"8px\",\"padding\":\"16px\",\"border-top\":\"1px solid #e0e0e0\"} }\nconst _hoisted_47 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, null, -1 /* HOISTED */)\nconst _hoisted_48 = [\"disabled\"]\nconst _hoisted_49 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-printer\",\n  style: {\"margin-left\":\"4px\"}\n}, null, -1 /* HOISTED */)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" NAVBAR COMPONENT \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"nav\", null, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createCommentVNode(\" =========================================== \"),\n        _createCommentVNode(\" LOGO/TITLE \"),\n        _createCommentVNode(\" =========================================== \"),\n        _createElementVNode(\"div\", {\n          onClick: _cache[0] || (_cache[0] = (...args) => (_ctx.go_desk && _ctx.go_desk(...args))),\n          style: {\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"4px 8px\",\"cursor\":\"pointer\",\"border-radius\":\"4px\"},\n          title: \"Go to Desk\"\n        }, _hoisted_3),\n        _createCommentVNode(\" =========================================== \"),\n        _createCommentVNode(\" INFO BADGES \"),\n        _createCommentVNode(\" =========================================== \"),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"div\", {\n            style: _normalizeStyle([\n\t\t\t\t\t\t_ctx.invoiceNumberClass === 'regular-invoice'\n\t\t\t\t\t\t\t? 'border-color: rgba(8, 86, 152, 0.85); background: linear-gradient(135deg, #d4e8ff 0%, #93b9ff 100%); color: #043a8b;'\n\t\t\t\t\t\t\t: _ctx.invoiceNumberClass === 'return-invoice' ||\n\t\t\t\t\t\t\t  _ctx.invoiceNumberClass === 'return-invoice-mode'\n\t\t\t\t\t\t\t? `border-color: ${_ctx.invoiceIconColor}; background: ${_ctx.invoiceIconColor}; color: white;`\n\t\t\t\t\t\t\t: _ctx.invoiceNumberClass === 'quick-return-mode'\n\t\t\t\t\t\t\t? `border-color: ${_ctx.invoiceIconColor}; background: ${_ctx.invoiceIconColor}; color: white;`\n\t\t\t\t\t\t\t: _ctx.invoiceNumberClass === 'sales-invoice-mode'\n\t\t\t\t\t\t\t? `border-color: ${_ctx.invoiceIconColor}; background: ${_ctx.invoiceIconColor}; color: white;`\n\t\t\t\t\t\t\t: 'border-color: rgba(63, 81, 181, 0.75); background: linear-gradient(135deg, #eef3ff 0%, #d9e4ff 100%); color: #22314f; font-style: normal;'\n\t\t\t\t\t, {\"display\":\"inline-flex\",\"align-items\":\"center\",\"gap\":\"3px\",\"padding\":\"2px 6px\",\"border-radius\":\"4px\",\"border\":\"1px solid\",\"font-size\":\"10px\",\"font-weight\":\"600\",\"white-space\":\"nowrap\",\"line-height\":\"1\",\"height\":\"22px\",\"box-sizing\":\"border-box\"}])\n          }, [\n            _createElementVNode(\"span\", _hoisted_5, _toDisplayString(_ctx.invoiceNumberText), 1 /* TEXT */)\n          ], 4 /* STYLE */),\n          _createCommentVNode(\" Shift Badge \"),\n          _createElementVNode(\"div\", {\n            style: _normalizeStyle([\n\t\t\t\t\t\t_ctx.shiftNumberClass === 'open-shift'\n\t\t\t\t\t\t\t? 'border-color: rgba(76, 175, 80, 0.50); background: linear-gradient(135deg, #eefbe7 0%, #def2da 100%); color: #2e7d32;'\n\t\t\t\t\t\t\t: _ctx.shiftNumberClass === 'closed-shift'\n\t\t\t\t\t\t\t? 'border-color: rgba(255, 152, 0, 0.30); background: linear-gradient(135deg, #fffaf3 0%, #fff0d6 100%); color: #000000b0;'\n\t\t\t\t\t\t\t: 'border-color: rgba(189, 189, 189, 0.65); background: #f9f9f9; color: #757575; font-style: italic;'\n\t\t\t\t\t, {\"display\":\"inline-flex\",\"align-items\":\"center\",\"gap\":\"3px\",\"padding\":\"2px 6px\",\"border-radius\":\"4px\",\"border\":\"1px solid\",\"background\":\"#fff\",\"font-size\":\"10px\",\"font-weight\":\"600\",\"white-space\":\"nowrap\",\"line-height\":\"1\",\"height\":\"22px\",\"box-sizing\":\"border-box\"}])\n          }, [\n            _createElementVNode(\"i\", {\n              class: \"mdi mdi-clock-outline\",\n              style: _normalizeStyle(`font-size: 12px; color: ${_ctx.shiftIconColor}`)\n            }, null, 4 /* STYLE */),\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.shiftNumberText), 1 /* TEXT */)\n          ], 4 /* STYLE */),\n          _createCommentVNode(\" User Badge \"),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _hoisted_7,\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.currentUserName), 1 /* TEXT */)\n          ]),\n          _createCommentVNode(\" Shift Start Badge \"),\n          _createElementVNode(\"div\", {\n            style: _normalizeStyle([\n\t\t\t\t\t\t_ctx.shiftStartClass === 'shift-active'\n\t\t\t\t\t\t\t? 'border-color: rgba(76, 175, 80, 0.50); background: linear-gradient(135deg, #eefbe7 0%, #def2da 100%); color: #2e7d32;'\n\t\t\t\t\t\t\t: 'border-color: rgba(189, 189, 189, 0.65); background: #f9f9f9; color: #757575;'\n\t\t\t\t\t, {\"display\":\"inline-flex\",\"align-items\":\"center\",\"gap\":\"3px\",\"padding\":\"2px 6px\",\"border-radius\":\"4px\",\"border\":\"1px solid\",\"background\":\"#fff\",\"font-size\":\"10px\",\"font-weight\":\"600\",\"white-space\":\"nowrap\",\"line-height\":\"1\",\"height\":\"22px\",\"box-sizing\":\"border-box\"}])\n          }, [\n            _createElementVNode(\"i\", {\n              class: \"mdi mdi-clock-start\",\n              style: _normalizeStyle(`font-size: 12px; color: ${_ctx.shiftStartIconColor}`)\n            }, null, 4 /* STYLE */),\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.shiftStartText), 1 /* TEXT */)\n          ], 4 /* STYLE */),\n          _createCommentVNode(\" Totals Badge \"),\n          _createElementVNode(\"div\", _hoisted_8, [\n            _hoisted_9,\n            _createElementVNode(\"span\", null, \"QTY: \" + _toDisplayString(_ctx.totalInvoicesQty), 1 /* TEXT */)\n          ]),\n          _createCommentVNode(\" Cash Badge \"),\n          _createElementVNode(\"div\", _hoisted_10, [\n            _hoisted_11,\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.formatCurrency(_ctx.totalCash)), 1 /* TEXT */)\n          ]),\n          _createCommentVNode(\" Card Badge \"),\n          _createElementVNode(\"div\", _hoisted_12, [\n            _hoisted_13,\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.formatCurrency(_ctx.totalNonCash)), 1 /* TEXT */)\n          ]),\n          _createCommentVNode(\" Ping Badge \"),\n          _createElementVNode(\"div\", {\n            style: _normalizeStyle([\n\t\t\t\t\t\t_ctx.pingClass === 'ping-excellent'\n\t\t\t\t\t\t\t? 'border-color: rgba(76, 175, 80, 0.50); background: linear-gradient(135deg, #eefbe7 0%, #def2da 100%); color: #2e7d32;'\n\t\t\t\t\t\t\t: _ctx.pingClass === 'ping-good'\n\t\t\t\t\t\t\t? 'border-color: rgba(33, 150, 243, 0.50); background: linear-gradient(135deg, #eaf4ff 0%, #dbeeff 100%); color: #1976d2;'\n\t\t\t\t\t\t\t: _ctx.pingClass === 'ping-fair'\n\t\t\t\t\t\t\t? 'border-color: rgba(255, 152, 0, 0.50); background: linear-gradient(135deg, #fff9ed 0%, #fff1d6 100%); color: #f57c00;'\n\t\t\t\t\t\t\t: 'border-color: rgba(244, 67, 54, 0.50); background: linear-gradient(135deg, #fff6f6 0%, #ffe6e6 100%); color: #d32f2f;'\n\t\t\t\t\t, {\"display\":\"inline-flex\",\"align-items\":\"center\",\"gap\":\"3px\",\"padding\":\"2px 6px\",\"border-radius\":\"4px\",\"border\":\"1px solid\",\"background\":\"#fff\",\"font-size\":\"10px\",\"font-weight\":\"600\",\"white-space\":\"nowrap\",\"line-height\":\"1\",\"height\":\"22px\",\"box-sizing\":\"border-box\"}])\n          }, [\n            _createElementVNode(\"i\", {\n              class: \"mdi mdi-wifi\",\n              style: _normalizeStyle(`font-size: 12px; color: ${_ctx.pingIconColor}`)\n            }, null, 4 /* STYLE */),\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.pingTime) + \"ms\", 1 /* TEXT */)\n          ], 4 /* STYLE */),\n          _createCommentVNode(\" Profile Badge \"),\n          _createElementVNode(\"div\", _hoisted_14, [\n            _hoisted_15,\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.pos_profile.name), 1 /* TEXT */)\n          ])\n        ]),\n        _createCommentVNode(\" =========================================== \"),\n        _createCommentVNode(\" ACTION BUTTONS \"),\n        _createCommentVNode(\" =========================================== \"),\n        _createElementVNode(\"div\", _hoisted_16, [\n          _createCommentVNode(\" Print Button: Print Invoice Dialog \"),\n          _createElementVNode(\"button\", {\n            onClick: _cache[1] || (_cache[1] = (...args) => (_ctx.openPrintDialog && _ctx.openPrintDialog(...args))),\n            title: \"\u0637\u0628\u0627\u0639\u0629 \u0641\u0627\u062A\u0648\u0631\u0629\",\n            style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"6px\",\"padding\":\"6px 8px\",\"border-radius\":\"6px\",\"border\":\"1px solid rgba(25, 118, 210, 0.12)\",\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t90deg,\\n\\t\\t\\t\\t\\t\\t\\trgba(25, 118, 210, 0.12),\\n\\t\\t\\t\\t\\t\\t\\trgba(30, 136, 229, 0.08)\\n\\t\\t\\t\\t\\t\\t)\",\"font-size\":\"11px\",\"font-weight\":\"600\",\"height\":\"24px\",\"min-width\":\"24px\",\"box-sizing\":\"border-box\",\"cursor\":\"pointer\"},\n            onMouseenter: _cache[2] || (_cache[2] = $event => {\n\t\t\t\t\t\t$event.currentTarget.style.background = 'rgba(25, 118, 210, 0.2)';\n\t\t\t\t\t\t$event.currentTarget.style.borderColor = 'rgba(25, 118, 210, 0.3)';\n\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '0 2px 4px rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t}),\n            onMouseleave: _cache[3] || (_cache[3] = $event => {\n\t\t\t\t\t\t$event.currentTarget.style.background =\n\t\t\t\t\t\t\t'linear-gradient(90deg, rgba(25, 118, 210, 0.12), rgba(30, 136, 229, 0.08))';\n\t\t\t\t\t\t$event.currentTarget.style.borderColor = 'rgba(25, 118, 210, 0.12)';\n\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '';\n\t\t\t\t\t}),\n            \"aria-label\": \"Print last receipt\"\n          }, _hoisted_18, 32 /* NEED_HYDRATION */),\n          _createCommentVNode(\" Cache Button: Clear Cache \"),\n          _createElementVNode(\"button\", {\n            onClick: _cache[4] || (_cache[4] = (...args) => (_ctx.clearCache && _ctx.clearCache(...args))),\n            title: \"\u0645\u0633\u062D \u0627\u0644\u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u0645\u0624\u0642\u062A\u0629\",\n            style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"6px\",\"padding\":\"6px 8px\",\"border-radius\":\"6px\",\"border\":\"1px solid rgba(255, 160, 0, 0.1)\",\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t90deg,\\n\\t\\t\\t\\t\\t\\t\\trgba(255, 193, 7, 0.18),\\n\\t\\t\\t\\t\\t\\t\\trgba(255, 152, 0, 0.12)\\n\\t\\t\\t\\t\\t\\t)\",\"cursor\":\"pointer\",\"font-size\":\"11px\",\"font-weight\":\"600\",\"height\":\"24px\",\"min-width\":\"24px\",\"box-sizing\":\"border-box\"},\n            onMouseenter: _cache[5] || (_cache[5] = $event => {\n\t\t\t\t\t\t$event.currentTarget.style.background = 'rgba(255, 193, 7, 0.25)';\n\t\t\t\t\t\t$event.currentTarget.style.borderColor = 'rgba(255, 152, 0, 0.3)';\n\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '0 2px 4px rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t}),\n            onMouseleave: _cache[6] || (_cache[6] = $event => {\n\t\t\t\t\t\t$event.currentTarget.style.background =\n\t\t\t\t\t\t\t'linear-gradient(90deg, rgba(255, 193, 7, 0.18), rgba(255, 152, 0, 0.12))';\n\t\t\t\t\t\t$event.currentTarget.style.borderColor = 'rgba(255, 160, 0, 0.1)';\n\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '';\n\t\t\t\t\t}),\n            \"aria-label\": \"Clear cache\"\n          }, _hoisted_20, 32 /* NEED_HYDRATION */),\n          _createCommentVNode(\" Close Shift Button: Close POS \"),\n          (!_ctx.pos_profile.posa_hide_closing_shift)\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 0,\n                onClick: _cache[7] || (_cache[7] = (...args) => (_ctx.close_shift_dialog && _ctx.close_shift_dialog(...args))),\n                title: \"\u0625\u063A\u0644\u0627\u0642 \u0646\u0642\u0637\u0629 \u0627\u0644\u0628\u064A\u0639\",\n                style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"6px\",\"padding\":\"6px 8px\",\"border-radius\":\"6px\",\"border\":\"1px solid rgba(244, 67, 54, 0.2)\",\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t90deg,\\n\\t\\t\\t\\t\\t\\t\\trgba(244, 67, 54, 0.15),\\n\\t\\t\\t\\t\\t\\t\\trgba(211, 47, 47, 0.1)\\n\\t\\t\\t\\t\\t\\t)\",\"cursor\":\"pointer\",\"font-size\":\"11px\",\"font-weight\":\"600\",\"height\":\"24px\",\"min-width\":\"24px\",\"box-sizing\":\"border-box\"},\n                onMouseenter: _cache[8] || (_cache[8] = $event => {\n\t\t\t\t\t\t$event.currentTarget.style.background = 'rgba(244, 67, 54, 0.25)';\n\t\t\t\t\t\t$event.currentTarget.style.borderColor = 'rgba(244, 67, 54, 0.4)';\n\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '0 2px 4px rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t}),\n                onMouseleave: _cache[9] || (_cache[9] = $event => {\n\t\t\t\t\t\t$event.currentTarget.style.background =\n\t\t\t\t\t\t\t'linear-gradient(90deg, rgba(244, 67, 54, 0.15), rgba(211, 47, 47, 0.1))';\n\t\t\t\t\t\t$event.currentTarget.style.borderColor = 'rgba(244, 67, 54, 0.2)';\n\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '';\n\t\t\t\t\t}),\n                \"aria-label\": \"Close POS\"\n              }, _hoisted_22, 32 /* NEED_HYDRATION */))\n            : _createCommentVNode(\"v-if\", true)\n        ])\n      ]),\n      _createCommentVNode(\" Snackbar \"),\n      (_ctx.snack)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            style: _normalizeStyle([\n\t\t\t\t_ctx.snackColor === 'success'\n\t\t\t\t\t? 'background: linear-gradient(135deg, #4caf50 0%, #45a049 100%); border: 1px solid #4caf50'\n\t\t\t\t\t: _ctx.snackColor === 'error'\n\t\t\t\t\t? 'background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%); border: 1px solid #f44336'\n\t\t\t\t\t: _ctx.snackColor === 'info'\n\t\t\t\t\t? 'background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%); border: 1px solid #2196f3'\n\t\t\t\t\t: 'background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%); border: 1px solid #ff9800'\n\t\t\t, {\"position\":\"fixed\",\"top\":\"40px\",\"left\":\"50%\",\"transform\":\"translateX(-50%)\",\"min-width\":\"300px\",\"max-width\":\"500px\",\"padding\":\"12px 20px\",\"border-radius\":\"8px\",\"color\":\"white\",\"font-weight\":\"600\",\"font-size\":\"14px\",\"z-index\":\"2000\",\"cursor\":\"pointer\",\"box-shadow\":\"0 4px 12px rgba(0, 0, 0, 0.15)\",\"text-align\":\"center\"}]),\n            onClick: _cache[10] || (_cache[10] = $event => (_ctx.snack = false))\n          }, _toDisplayString(_ctx.snackText), 5 /* TEXT, STYLE */))\n        : _createCommentVNode(\"v-if\", true),\n      _createCommentVNode(\" Modal Overlay \"),\n      (_ctx.freeze)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [\n            _createElementVNode(\"div\", _hoisted_24, [\n              _createElementVNode(\"div\", _hoisted_25, [\n                _createElementVNode(\"h3\", _hoisted_26, _toDisplayString(_ctx.freezeTitle), 1 /* TEXT */)\n              ]),\n              _createElementVNode(\"div\", _hoisted_27, _toDisplayString(_ctx.freezeMsg), 1 /* TEXT */)\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true),\n      _createCommentVNode(\" =========================================== \"),\n      _createCommentVNode(\" PRINT INVOICE DIALOG \"),\n      _createCommentVNode(\" =========================================== \"),\n      _createElementVNode(\"div\", _hoisted_28, [\n        _createCommentVNode(\" Modal Overlay \"),\n        (_ctx.printDialog)\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              onClick: _cache[20] || (_cache[20] = $event => (_ctx.printDialog = false)),\n              style: {\"position\":\"fixed\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background\":\"rgba(0, 0, 0, 0.5)\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"z-index\":\"1000\"}\n            }, [\n              _createCommentVNode(\" Modal \"),\n              _createElementVNode(\"div\", {\n                onClick: _cache[19] || (_cache[19] = _withModifiers(() => {}, [\"stop\"])),\n                style: {\"background\":\"white\",\"border-radius\":\"8px\",\"box-shadow\":\"0 10px 30px rgba(0, 0, 0, 0.3)\",\"max-width\":\"90vw\",\"min-width\":\"600px\",\"width\":\"auto\",\"max-height\":\"90vh\",\"overflow\":\"hidden\"}\n              }, [\n                _createCommentVNode(\" Card \"),\n                _createElementVNode(\"div\", _hoisted_29, [\n                  _createCommentVNode(\" =========================================== \"),\n                  _createCommentVNode(\" CARD HEADER \"),\n                  _createCommentVNode(\" =========================================== \"),\n                  _createElementVNode(\"div\", _hoisted_30, [\n                    _hoisted_31,\n                    _createElementVNode(\"button\", {\n                      onClick: _cache[11] || (_cache[11] = $event => (_ctx.printDialog = false)),\n                      style: {\"position\":\"absolute\",\"top\":\"8px\",\"right\":\"8px\",\"background\":\"none\",\"border\":\"none\",\"font-size\":\"1.5rem\",\"color\":\"white\",\"cursor\":\"pointer\",\"width\":\"32px\",\"height\":\"32px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"border-radius\":\"50%\"}\n                    }, \" \u00D7 \")\n                  ]),\n                  _createCommentVNode(\" =========================================== \"),\n                  _createCommentVNode(\" CARD BODY \"),\n                  _createCommentVNode(\" =========================================== \"),\n                  _createElementVNode(\"div\", _hoisted_32, [\n                    _createCommentVNode(\" Loading State \"),\n                    (_ctx.isLoadingInvoices)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_33, _hoisted_35))\n                      : (!_ctx.printInvoicesList || _ctx.printInvoicesList.length === 0)\n                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                            _createCommentVNode(\" Empty State \"),\n                            _hoisted_36\n                          ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                        : (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                            _createCommentVNode(\" Table \"),\n                            _createElementVNode(\"table\", _hoisted_37, [\n                              _hoisted_38,\n                              _createElementVNode(\"tbody\", null, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.printInvoicesList, (invoice) => {\n                                  return (_openBlock(), _createElementBlock(\"tr\", {\n                                    key: invoice.name,\n                                    onClick: $event => (_ctx.selectedPrintInvoice = invoice),\n                                    style: _normalizeStyle([\n\t\t\t\t\t\t\t\t\t\t\t_ctx.selectedPrintInvoice &&\n\t\t\t\t\t\t\t\t\t\t\t_ctx.selectedPrintInvoice.name === invoice.name\n\t\t\t\t\t\t\t\t\t\t\t\t? 'background: #e3f2fd; cursor: pointer;'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'cursor: pointer;'\n\t\t\t\t\t\t\t\t\t\t, {\"border-bottom\":\"1px solid #e0e0e0\"}]),\n                                    onMouseenter: _cache[12] || (_cache[12] = $event => (\n\t\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.background = '#f5f5f5'\n\t\t\t\t\t\t\t\t\t\t)),\n                                    onMouseleave: $event => (\n\t\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.background =\n\t\t\t\t\t\t\t\t\t\t\t\t_ctx.selectedPrintInvoice &&\n\t\t\t\t\t\t\t\t\t\t\t\t_ctx.selectedPrintInvoice.name === invoice.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t? '#e3f2fd'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'transparent'\n\t\t\t\t\t\t\t\t\t\t)\n                                  }, [\n                                    _createElementVNode(\"td\", _hoisted_40, _toDisplayString(invoice.customer_name || invoice.customer || '-'), 1 /* TEXT */),\n                                    _createElementVNode(\"td\", _hoisted_41, _toDisplayString(invoice.posting_date || '-'), 1 /* TEXT */),\n                                    _createElementVNode(\"td\", _hoisted_42, _toDisplayString(invoice.posting_time\n\t\t\t\t\t\t\t\t\t\t\t\t\t? invoice.posting_time.split('.')[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t: '-'), 1 /* TEXT */),\n                                    _createElementVNode(\"td\", _hoisted_43, _toDisplayString(invoice.name), 1 /* TEXT */),\n                                    _createElementVNode(\"td\", _hoisted_44, [\n                                      _createElementVNode(\"span\", {\n                                        style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: '4px 12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.75rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: '600',\n\t\t\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) === 'Paid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#e8f5e9'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) === 'Unpaid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#ffebee'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Partly Paid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#fff3e0'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) === 'Return'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#f3e5f5'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Credit Note Issued'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#e1bee7'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '#f5f5f5',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) === 'Paid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#2e7d32'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) === 'Unpaid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#c62828'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Partly Paid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#e65100'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) === 'Return'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#6a1b9a'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Credit Note Issued'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#7b1fa2'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '#616161',\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) === 'Paid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '1px solid #4caf50'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) === 'Unpaid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '1px solid #ef5350'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Partly Paid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '1px solid #ff9800'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) === 'Return'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '1px solid #9c27b0'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (invoice.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Credit Note Issued'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '1px solid #ab47bc'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '1px solid #9e9e9e',\n\t\t\t\t\t\t\t\t\t\t\t\t})\n                                      }, _toDisplayString(invoice.invoice_status || invoice.status || '-'), 5 /* TEXT, STYLE */)\n                                    ]),\n                                    _createElementVNode(\"td\", _hoisted_45, _toDisplayString(_ctx.formatCurrency(invoice.grand_total || 0)), 1 /* TEXT */)\n                                  ], 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_39))\n                                }), 128 /* KEYED_FRAGMENT */))\n                              ])\n                            ])\n                          ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                  ]),\n                  _createCommentVNode(\" =========================================== \"),\n                  _createCommentVNode(\" CARD FOOTER \"),\n                  _createCommentVNode(\" =========================================== \"),\n                  _createElementVNode(\"div\", _hoisted_46, [\n                    _hoisted_47,\n                    _createElementVNode(\"button\", {\n                      onClick: _cache[13] || (_cache[13] = $event => (_ctx.printDialog = false)),\n                      style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"8px 16px\",\"border-radius\":\"4px\",\"font-size\":\"13px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #d32f2f\",\"line-height\":\"1.5\",\"margin\":\"0 4px\",\"background\":\"linear-gradient(135deg, #f44336 0%, #e53935 100%)\",\"color\":\"white\"},\n                      onMouseenter: _cache[14] || (_cache[14] = $event => {\n\t\t\t\t\t\t\t\t\t$event.currentTarget.style.background = '#e53935';\n\t\t\t\t\t\t\t\t\t$event.currentTarget.style.borderColor = '#c62828';\n\t\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow =\n\t\t\t\t\t\t\t\t\t\t'0 2px 4px rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t\t\t\t}),\n                      onMouseleave: _cache[15] || (_cache[15] = $event => {\n\t\t\t\t\t\t\t\t\t$event.currentTarget.style.background =\n\t\t\t\t\t\t\t\t\t\t'linear-gradient(135deg, #f44336 0%, #e53935 100%)';\n\t\t\t\t\t\t\t\t\t$event.currentTarget.style.borderColor = '#d32f2f';\n\t\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '';\n\t\t\t\t\t\t\t\t})\n                    }, \" \u0625\u063A\u0644\u0627\u0642 \", 32 /* NEED_HYDRATION */),\n                    _createElementVNode(\"button\", {\n                      onClick: _cache[16] || (_cache[16] = (...args) => (_ctx.printSelectedInvoice && _ctx.printSelectedInvoice(...args))),\n                      disabled: !_ctx.selectedPrintInvoice,\n                      style: _normalizeStyle([{\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"8px 16px\",\"border-radius\":\"4px\",\"font-size\":\"13px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #1565c0\",\"line-height\":\"1.5\",\"margin\":\"0 4px\",\"background\":\"linear-gradient(135deg, #1565c0 0%, #1976d2 100%)\",\"color\":\"white\"}, \n\t\t\t\t\t\t\t\t\t!_ctx.selectedPrintInvoice\n\t\t\t\t\t\t\t\t\t\t? 'background: #e0e0e0; color: #9e9e9e; cursor: not-allowed; border-color: #e0e0e0'\n\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t]),\n                      onMouseenter: _cache[17] || (_cache[17] = $event => {\n\t\t\t\t\t\t\t\t\tif (_ctx.selectedPrintInvoice) {\n\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.background = '#1976d2';\n\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.borderColor = '#0d47a1';\n\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow =\n\t\t\t\t\t\t\t\t\t\t\t'0 2px 4px rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}),\n                      onMouseleave: _cache[18] || (_cache[18] = $event => {\n\t\t\t\t\t\t\t\t\tif (_ctx.selectedPrintInvoice) {\n\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.background =\n\t\t\t\t\t\t\t\t\t\t\t'linear-gradient(135deg, #1565c0 0%, #1976d2 100%)';\n\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.borderColor = '#1565c0';\n\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n                    }, [\n                      _hoisted_49,\n                      _createTextVNode(\" \u0637\u0628\u0627\u0639\u0629 \")\n                    ], 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_48)\n                  ])\n                ])\n              ])\n            ]))\n          : _createCommentVNode(\"v-if\", true)\n      ])\n    ])\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"./Navbar.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/Navbar.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/Navbar.vue\";export default script;", "// Frontend logging: Use console.log/error/warn directly\n\nexport default {\n  data() {\n    return {\n      float_precision: 3, // From your System Settings\n      currency_precision: 2, // From your System Settings\n    };\n  },\n  methods: {\n    flt(value, precision, number_format, rounding_method) {\n      try {\n        if (!precision && precision != 0) {\n          precision = this.currency_precision || 2;\n        }\n        // Use your fixed Banker's Rounding setting\n        rounding_method = \"Banker's Rounding\";\n        return flt(value, precision, number_format, rounding_method);\n      } catch (error) {\n        return parseFloat(value || 0).toFixed(precision || 2);\n      }\n    },\n\n    formatCurrency(value, precision) {\n      try {\n        // Simplified for single currency - no cache needed\n        return format_number(\n          value,\n          null, // Use default number format\n          precision || this.currency_precision || 2\n        );\n      } catch (error) {\n        return parseFloat(value || 0).toFixed(precision || 2);\n      }\n    },\n\n    formatFloat(value, precision) {\n      try {\n        // Simplified for single currency - use your float_precision=3\n        return format_number(\n          value,\n          null,\n          precision || this.float_precision || 3\n        );\n      } catch (error) {\n        return parseFloat(value || 0).toFixed(precision || 3);\n      }\n    },\n\n    setFormatedCurrency(\n      el,\n      field_name,\n      precision,\n      no_negative = false,\n      $event\n    ) {\n      let value = 0;\n      try {\n        let _value = parseFloat($event.target.value);\n        if (!isNaN(_value)) {\n          value = _value;\n        }\n        if (no_negative && value < 0) {\n          value = value * -1;\n        }\n        value = this.formatCurrency($event.target.value, precision);\n      } catch (e) {\n        value = parseFloat($event.target.value || 0).toFixed(precision || 2);\n      }\n\n      if (typeof el === \"object\") {\n        el[field_name] = value;\n      } else {\n        this[field_name] = value;\n      }\n      return value;\n    },\n\n    setFormatedFloat(el, field_name, precision, no_negative = false, $event) {\n      let value = 0;\n      try {\n        value = parseFloat($event.target.value);\n        if (isNaN(value)) {\n          value = 0;\n        } else if (no_negative && value < 0) {\n          value = value * -1;\n        }\n        value = this.formatFloat($event.target.value, precision);\n      } catch (e) {\n        value = parseFloat($event.target.value || 0).toFixed(precision || 3);\n      }\n\n      if (typeof el === \"object\") {\n        el[field_name] = value;\n      } else {\n        this[field_name] = value;\n      }\n      return value;\n    },\n\n    currencySymbol(currency) {\n      return \"\";\n    },\n\n    isNumber(value) {\n      try {\n        const pattern = /^-?(\\d+|\\d{1,3}(\\.\\d{3})*)(,\\d+)?$/;\n        return pattern.test(value) || \"invalid number\";\n      } catch (error) {\n        return false;\n      }\n    },\n  },\n\n  mounted() {\n    // Set fixed precision values\n    // float_precision = 3 for quantities (qty) - 3 decimal places\n    // currency_precision = 2 for currency amounts - 2 decimal places\n    this.float_precision = 3;\n    this.currency_precision = 2;\n  },\n};\n", "// ===== IMPORTS =====\nimport { evntBus } from \"../../bus\";\nimport format from \"../../format\";\nimport { API_MAP } from \"../../api_mapper.js\";\n// Frontend logging: Use console.log/error/warn directly\n\n// Lightweight debounce function (replaces lodash)\n// CRITICAL: Preserve 'this' context for Vue component methods\nfunction debounce(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const context = this; // \u2705 Capture the Vue component context\n    const later = () => {\n      clearTimeout(timeout);\n      func.apply(context, args); // \u2705 Apply with correct context\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\nconst EVENT_NAMES = {\n  // Item Events\n  ADD_ITEM: \"add_item\",\n  SET_ALL_ITEMS: \"set_all_items\",\n  UPDATE_CUR_ITEMS_DETAILS: \"update_cur_items_details\",\n\n  // UI Events\n  SHOW_OFFERS: \"show_offers\",\n  SHOW_MESSAGE: \"show_mesage\",\n\n  // Configuration Events\n  REGISTER_POS_PROFILE: \"register_pos_profile\",\n  UPDATE_CUSTOMER: \"update_customer\",\n  UPDATE_CUSTOMER_PRICE_LIST: \"update_customer_price_list\",\n\n  // Counter Events\n  UPDATE_OFFERS_COUNTERS: \"update_offers_counters\",\n};\n\nconst UI_CONFIG = {\n  SEARCH_MIN_LENGTH: 3,\n  MAX_DISPLAYED_ITEMS: 50,\n  MIN_PANEL_HEIGHT: 180,\n  BOTTOM_PADDING: 16,\n  DEBOUNCE_DELAY: 200,\n};\n\nconst VIEW_MODES = {\n  CARD: \"card\",\n  LIST: \"list\",\n};\n\nconst BARCODE_TYPES = {\n  SCALE: \"scale\",\n  PRIVATE: \"private\",\n  NORMAL: \"normal\",\n};\n\n// ===== COMPONENT =====\nexport default {\n  name: \"ItemsSelector\",\n\n  mixins: [format],\n\n  // ===== DATA =====\n  data() {\n    return {\n      // POS Configuration\n      pos_profile: null,\n      flags: {},\n\n      // View State\n      items_view: VIEW_MODES.LIST,\n      item_group: \"item_group_menu\",\n      loading: false,\n      search_loading: false,\n\n      // Items Data\n      items_group: [\"item_group_menu\"],\n      items: [],\n\n      // Search State\n      search: \"\",\n      first_search: \"\",\n      barcode_search: \"\",\n\n      // Pagination\n      itemsPerPage: 1000,\n\n      // Counters\n      offersCount: 0,\n      appliedOffersCount: 0,\n\n      // Customer Data\n      customer_price_list: null,\n      customer: null,\n\n      // Item Operations\n      qty: 1,\n\n      // UI State\n      itemsScrollHeight: null,\n\n      // Internal Flags\n      _suppressCustomerWatcher: false,\n      _processingBarcode: false, // Track if barcode is being processed by scanner\n\n      // Return Invoice State\n      is_return_invoice: false, // Track if current invoice is a return invoice with return_against\n      _detailsReady: false,\n\n      // Caching & Performance\n      _itemsMap: new Map(),\n    };\n  },\n\n  // ===== WATCH =====\n  watch: {\n    filtred_items(newValue, oldValue) {\n      if (newValue.length !== oldValue.length) {\n        this.update_items_details(newValue);\n      }\n      this.scheduleScrollHeightUpdate();\n    },\n\n    customer(newVal, oldVal) {\n      if (this._suppressCustomerWatcher) {\n        this._suppressCustomerWatcher = false;\n        return;\n      }\n      if (oldVal !== undefined && newVal !== oldVal) {\n        this.get_items();\n      }\n    },\n\n    items_view() {\n      this.scheduleScrollHeightUpdate();\n    },\n  },\n\n  // ===== COMPUTED =====\n  computed: {\n    filtred_items() {\n      this.search = this.get_search(this.first_search);\n\n      // Cache expensive operations\n      const groupFilter = this.item_group !== \"item_group_menu\";\n      const hasSearch =\n        this.search && this.search.length >= UI_CONFIG.SEARCH_MIN_LENGTH;\n\n      let filtred_list = [];\n      let filtred_group_list = [];\n\n      // Filter by group - cache toLowerCase results\n      if (groupFilter) {\n        const lowerGroup = this.item_group.toLowerCase();\n        filtred_group_list = this.items.filter((item) =>\n          item.item_group.toLowerCase().includes(lowerGroup)\n        );\n      } else {\n        filtred_group_list = this.items;\n      }\n\n      // Filter by search term\n      if (!hasSearch) {\n        filtred_list = filtred_group_list.slice(\n          0,\n          UI_CONFIG.MAX_DISPLAYED_ITEMS\n        );\n      } else {\n        // Search in item_code - cache toLowerCase result\n        const lowerSearch = this.search.toLowerCase();\n        filtred_list = filtred_group_list.filter((item) =>\n          item.item_code.toLowerCase().includes(lowerSearch)\n        );\n\n        // Search in item_name if no results\n        if (filtred_list.length === 0) {\n          filtred_list = filtred_group_list.filter((item) =>\n            item.item_name.toLowerCase().includes(lowerSearch)\n          );\n        }\n      }\n\n      return filtred_list.slice(0, UI_CONFIG.MAX_DISPLAYED_ITEMS);\n    },\n\n    itemsScrollStyle() {\n      if (!this.itemsScrollHeight) {\n        return {};\n      }\n      return {\n        maxHeight: `${this.itemsScrollHeight - 80}px`,\n      };\n    },\n\n    debounce_search: {\n      get() {\n        return this.first_search;\n      },\n      set: debounce(function (newValue) {\n        this.first_search = newValue;\n        this.performLiveSearch(newValue);\n      }, UI_CONFIG.DEBOUNCE_DELAY),\n    },\n  },\n\n  methods: {\n    scheduleScrollHeightUpdate() {\n      this.$nextTick(() => {\n        // Use requestAnimationFrame to avoid forced reflow\n        requestAnimationFrame(() => {\n        this.updateScrollableHeight();\n        });\n      });\n    },\n\n    updateScrollableHeight() {\n      const scrollRef = this.$refs.itemsScrollArea;\n      const scrollEl = scrollRef ? scrollRef.$el || scrollRef : null;\n\n      if (!scrollEl || typeof scrollEl.getBoundingClientRect !== \"function\") {\n        return;\n      }\n\n      const viewportHeight =\n        window.innerHeight || document.documentElement?.clientHeight || 0;\n\n      if (!viewportHeight) {\n        return;\n      }\n\n      // Use requestAnimationFrame again to ensure DOM has finished layout\n      requestAnimationFrame(() => {\n      const rect = scrollEl.getBoundingClientRect();\n      const available = viewportHeight - rect.top - UI_CONFIG.BOTTOM_PADDING;\n\n      if (Number.isFinite(available)) {\n        this.itemsScrollHeight = Math.max(\n          UI_CONFIG.MIN_PANEL_HEIGHT,\n          Math.floor(available)\n        );\n      }\n      });\n    },\n\n    handle_barcode_input() {\n      if (!this.barcode_search.trim()) return;\n\n      // Skip if scanner already processed this\n      if (this._processingBarcode) {\n        this._processingBarcode = false;\n        this.barcode_search = \"\";\n        return;\n      }\n\n      this.process_barcode(this.barcode_search.trim());\n      this.barcode_search = \"\";\n\n      const barcodeInput = document.querySelector(\"#barcode-input\");\n      if (barcodeInput) barcodeInput.value = \"\";\n    },\n\n    process_barcode(barcode_value) {\n      // process_barcode called (logged to backend only)\n\n      // Prevent barcode scanning if this is a return invoice with return_against\n      if (this.is_return_invoice) {\n        // BLOCKED: Barcode scanning in return mode (logged to backend only)\n        evntBus.emit(\"show_mesage\", {\n          text: \"Cannot scan items in return mode. Only items from the original invoice can be returned.\",\n          color: \"error\",\n        });\n        return;\n      }\n\n      // FRAPPE API CALL PATTERN:\n      // - Send pos_profile object (only 23 fields loaded in frontend)\n      // - Backend receives as dict, then re-fetches from DB to get barcode config fields\n      // - This is standard Frappe pattern for handling incomplete frontend data\n      frappe.call({\n        method: API_MAP.ITEM.GET_BARCODE_ITEM,\n        args: {\n          pos_profile: this.pos_profile, // \u2190 JS object with 23 fields\n          barcode_value: barcode_value,\n        },\n        callback: (response) => {\n          if (response?.message?.item_code) {\n            // Add item to cart\n            this.add_item_to_cart(response.message);\n          } else {\n            evntBus.emit(\"show_mesage\", {\n              text: \"Item not found with this barcode\",\n              color: \"error\",\n            });\n          }\n        },\n        error: (error) => {\n          evntBus.emit(\"show_mesage\", {\n            text: \"Error processing barcode\",\n            color: \"error\",\n          });\n        },\n      });\n    },\n\n    add_item_to_cart(item) {\n      // add_item_to_cart called (logged to backend only)\n\n      // Prevent adding items if this is a return invoice with return_against\n      if (this.is_return_invoice) {\n        // BLOCKED: Adding item in return mode (logged to backend only)\n        // Cannot add new items to a return invoice. Only items from the original invoice can be returned.\n        evntBus.emit(\"show_mesage\", {\n          text: \"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0625\u0636\u0627\u0641\u0629 \u0623\u0635\u0646\u0627\u0641 \u062C\u062F\u064A\u062F\u0629 \u0625\u0644\u0649 \u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0625\u0631\u062C\u0627\u0639. \u064A\u0645\u0643\u0646 \u0625\u0631\u062C\u0627\u0639 \u0627\u0644\u0623\u0635\u0646\u0627\u0641 \u0645\u0646 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0623\u0635\u0644\u064A\u0629 \u0641\u0642\u0637.\",\n          color: \"error\",\n        });\n        return;\n      }\n\n      evntBus.emit(EVENT_NAMES.ADD_ITEM, item);\n    },\n\n    show_offers() {\n      evntBus.emit(EVENT_NAMES.SHOW_OFFERS, \"true\");\n    },\n\n    onItemGroupChange() {\n      if (this.debounce_search) {\n        this.debounce_search = \"\";\n        this.first_search = \"\";\n      }\n      this.get_items();\n    },\n\n    get_items() {\n      if (!this.pos_profile) {\n        evntBus.emit(\"show_mesage\", {\n          text: \"POS Profile not specified\",\n          color: \"error\",\n        });\n        return;\n      }\n\n      const vm = this;\n      this.loading = true;\n      let search = this.get_search(this.first_search);\n      let gr = \"\";\n      let sr = \"\";\n\n      if (search) {\n        sr = search;\n      }\n      if (vm.item_group != \"item_group_menu\") {\n        gr = vm.item_group.toLowerCase();\n      }\n\n      // FRAPPE API CALL PATTERN:\n      // - frappe.call() automatically serializes JavaScript objects to JSON\n      // - pos_profile object contains only loaded fields (23 fields from register_pos_profile event)\n      // - Backend receives as Python dict (Frappe auto-parses JSON)\n      // - Backend must re-fetch from DB if it needs ALL fields (like barcode settings)\n      frappe.call({\n        method: API_MAP.ITEM.GET_ITEMS,\n        args: {\n          pos_profile: vm.pos_profile, // \u2190 JS object, auto-serialized to JSON, received as dict\n          price_list: vm.customer_price_list,\n          item_group: gr,\n          search_value: sr,\n          customer: vm.customer,\n        },\n        callback: function (r) {\n          if (r.message) {\n            vm.items = (r.message || []).map((it) => ({\n              item_code: it.item_code,\n              item_name: it.item_name,\n              item_group: it.item_group, // \u2705 Added for filtred_items\n              brand: it.brand,\n              rate: it.rate,\n              price_list_rate: it.price_list_rate,\n              base_rate: it.base_rate,\n              currency: it.currency,\n              actual_qty: it.actual_qty,\n              stock_uom: it.stock_uom,\n              image: it.image, // \u2705 Added for card view\n              // Empty arrays for compatibility with barcode/batch/serial features\n              item_barcode: [],\n              serial_no_data: [],\n              batch_no_data: [],\n            }));\n\n            vm._buildItemsMap();\n            evntBus.emit(\"set_all_items\", vm.items);\n            vm.loading = false;\n            vm.search_loading = false;\n            vm.scheduleScrollHeightUpdate();\n          }\n        },\n        error: function (err) {\n          console.log(\"[ItemsSelector.js] get_items error:\", err);\n        },\n      });\n    },\n\n    _buildItemsMap() {\n      this._itemsMap.clear();\n\n      this.items.forEach((item) => {\n        // Add search by item_code\n        this._itemsMap.set(item.item_code.toLowerCase(), item);\n\n        // Add search by item_name\n        this._itemsMap.set(item.item_name.toLowerCase(), item);\n      });\n    },\n\n    get_items_groups() {\n      if (!this.pos_profile) {\n        return;\n      }\n\n      if (\n        this.pos_profile.item_groups &&\n        this.pos_profile.item_groups.length > 0\n      ) {\n        this.pos_profile.item_groups.forEach((element) => {\n          // Handle both formats: string (new) or object with item_group property (old)\n          const groupName =\n            typeof element === \"string\" ? element : element.item_group;\n          if (groupName && groupName !== \"item_group_menu\") {\n            this.items_group.push(groupName);\n          }\n        });\n      } else {\n        const vm = this;\n        frappe.call({\n          method: API_MAP.ITEM.GET_ITEMS_GROUPS,\n          args: {},\n          callback: function (r) {\n            if (r.message) {\n              r.message.forEach((element) => {\n                vm.items_group.push(element.name);\n              });\n            }\n          },\n          error: function (err) {\n            console.log(\"[ItemsSelector.js] get_items_groups error:\", err);\n          },\n        });\n      }\n    },\n\n    getItemsHeaders() {\n      const items_headers = [\n        {\n          title: __(\"Item Name\"),\n          align: \"start\",\n          sortable: true,\n          key: \"item_name\",\n          width: \"40%\",\n        },\n        {\n          title: __(\"Item Code\"),\n          align: \"start\",\n          sortable: true,\n          key: \"item_code\",\n          width: \"35%\",\n        },\n        { title: __(\"Price\"), key: \"rate\", align: \"start\", width: \"5%\" },\n        {\n          title: __(\"Qty\"),\n          value: \"actual_qty\",\n          key: \"actual_qty\",\n          align: \"center\",\n          width: \"15%\",\n        },\n        { title: __(\"UOM\"), key: \"stock_uom\", align: \"center\", width: \"5%\" },\n      ];\n\n      return items_headers;\n    },\n\n    add_item_table(item) {\n      // add_item_table called (logged to backend only)\n\n      // Prevent adding items if this is a return invoice with return_against\n      if (this.is_return_invoice) {\n        // BLOCKED: Adding item from table in return mode (logged to backend only)\n        // Cannot add new items to a return invoice. Only items from the original invoice can be returned.\n        evntBus.emit(\"show_mesage\", {\n          text: \"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0625\u0636\u0627\u0641\u0629 \u0623\u0635\u0646\u0627\u0641 \u062C\u062F\u064A\u062F\u0629 \u0625\u0644\u0649 \u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0625\u0631\u062C\u0627\u0639. \u064A\u0645\u0643\u0646 \u0625\u0631\u062C\u0627\u0639 \u0627\u0644\u0623\u0635\u0646\u0627\u0641 \u0645\u0646 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0623\u0635\u0644\u064A\u0629 \u0641\u0642\u0637.\",\n          color: \"error\",\n        });\n        return;\n      }\n\n      // Add the item from the table - use the item object directly\n      evntBus.emit(\"add_item\", {\n        ...item,\n        qty: this.qty || 1,\n      });\n      this.qty = 1;\n      // Return focus to barcode field\n      this.$nextTick(() => {\n        this.$refs.barcode_search?.focus();\n      });\n    },\n\n    add_item(item) {\n      // add_item called (logged to backend only)\n\n      // Prevent adding items if this is a return invoice with return_against\n      if (this.is_return_invoice) {\n        // BLOCKED: Adding item from card in return mode (logged to backend only)\n        // Cannot add new items to a return invoice. Only items from the original invoice can be returned.\n        evntBus.emit(\"show_mesage\", {\n          text: \"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0625\u0636\u0627\u0641\u0629 \u0623\u0635\u0646\u0627\u0641 \u062C\u062F\u064A\u062F\u0629 \u0625\u0644\u0649 \u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0625\u0631\u062C\u0627\u0639. \u064A\u0645\u0643\u0646 \u0625\u0631\u062C\u0627\u0639 \u0627\u0644\u0623\u0635\u0646\u0627\u0641 \u0645\u0646 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0623\u0635\u0644\u064A\u0629 \u0641\u0642\u0637.\",\n          color: \"error\",\n        });\n        return;\n      }\n\n      // Add item from card view\n      evntBus.emit(\"add_item\", {\n        ...item,\n        qty: this.qty || 1,\n      });\n      this.qty = 1;\n      // Return focus to barcode field\n      this.$nextTick(() => {\n        this.$refs.barcode_search?.focus();\n      });\n    },\n\n    get_search(val) {\n      return val || \"\";\n    },\n\n    esc_event() {\n      this.first_search = \"\";\n      this.debounce_search = \"\";\n    },\n\n    performLiveSearch(searchValue) {\n      const vm = this;\n\n      // Activate search progress bar\n      this.search_loading = true;\n\n      // If search is empty, reload all items\n      if (!searchValue || searchValue.trim() === \"\") {\n        this.get_items();\n        return;\n      }\n\n      const trimmedSearch = searchValue.trim();\n\n      // Check if search value looks like a barcode (all digits, length >= 8)\n      const isBarcode =\n        /^\\d+$/.test(trimmedSearch) && trimmedSearch.length >= 8;\n\n      // If it looks like a barcode, try get_barcode_item first\n      if (isBarcode) {\n        frappe.call({\n          method: API_MAP.ITEM.GET_BARCODE_ITEM,\n          args: {\n            pos_profile: vm.pos_profile,\n            barcode_value: trimmedSearch,\n          },\n          callback: function (r) {\n            vm.search_loading = false;\n\n            if (r?.message?.item_code) {\n              // Barcode found - add item directly to cart\n              vm.add_item_to_cart(r.message);\n              // Clear search field after successful barcode scan\n              vm.debounce_search = \"\";\n              vm.first_search = \"\";\n            } else {\n              // Barcode not found - fall back to normal search\n              vm._performNormalSearch(trimmedSearch);\n            }\n          },\n          error: function (err) {\n            vm.search_loading = false;\n            // Fall back to normal search on error\n            vm._performNormalSearch(trimmedSearch);\n          },\n        });\n        return;\n      }\n\n      // Not a barcode - perform normal search\n      this._performNormalSearch(trimmedSearch);\n    },\n\n    _performNormalSearch(searchValue) {\n      const vm = this;\n\n      // Perform live search using get_items\n      frappe.call({\n        method: API_MAP.ITEM.GET_ITEMS,\n        args: {\n          pos_profile: vm.pos_profile,\n          price_list: vm.customer_price_list,\n          item_group:\n            vm.item_group !== \"item_group_menu\"\n              ? vm.item_group.toLowerCase()\n              : \"\",\n          search_value: searchValue,\n          customer: vm.customer,\n        },\n        callback: function (r) {\n          // Stop search progress bar\n          vm.search_loading = false;\n\n          if (r.message) {\n            vm.items = (r.message || []).map((it) => ({\n              ...it,\n              item_group: it.item_group,\n              price_list_rate: it.price_list_rate || it.rate,\n              base_rate: it.base_rate || it.rate,\n              image: it.image, // \u2705 Added for card view\n              item_barcode: Array.isArray(it.item_barcode)\n                ? it.item_barcode\n                : [],\n              serial_no_data: Array.isArray(it.serial_no_data)\n                ? it.serial_no_data\n                : [],\n              batch_no_data: Array.isArray(it.batch_no_data)\n                ? it.batch_no_data\n                : [],\n            }));\n            vm._buildItemsMap();\n            evntBus.emit(\"set_all_items\", vm.items);\n          }\n        },\n        error: function (err) {\n          // Stop search progress bar\n          vm.search_loading = false;\n          console.log(\"[ItemsSelector.js] _performNormalSearch error:\", err);\n        },\n      });\n    },\n\n    update_items_details(items) {\n      evntBus.emit(\"update_cur_items_details\", items);\n    },\n\n    scan_barcode() {\n      const vm = this;\n\n      // Detach any existing onScan listener first to prevent duplicates\n      try {\n        // Check if scannerDetectionData exists before detaching\n        if (\n          document.scannerDetectionData &&\n          document.scannerDetectionData.options\n        ) {\n          onScan.detachFrom(document);\n        }\n      } catch (e) {\n        console.log(\"[ItemsSelector.js] scan_barcode detachFrom error:\", e);\n      }\n\n      onScan.attachTo(document, {\n        suffixKeyCodes: [13], // Enter key terminates scan\n        reactToKeydown: true,\n        reactToPaste: false,\n        keyCodeMapper: function (oEvent) {\n          oEvent.stopImmediatePropagation();\n          return onScan.decodeKeyEvent(oEvent);\n        },\n        onScan: function (sCode) {\n          // Mark that scanner is processing to prevent manual handler from running\n          vm._processingBarcode = true;\n\n          // Clear the input field (prevents @keyup.enter from triggering)\n          vm.barcode_search = \"\";\n\n          // Process the scanned code\n          vm.trigger_onscan(sCode);\n        },\n      });\n    },\n    trigger_onscan(sCode) {\n      // Direct barcode processing using existing working method\n      this.process_barcode(sCode);\n    },\n  },\n\n  created: function () {\n    this.$nextTick(function () {});\n    evntBus.on(\"register_pos_profile\", (data) => {\n      this.pos_profile = data.pos_profile;\n      // Set customer without triggering watcher for first time\n      this._suppressCustomerWatcher = true;\n      this.customer =\n        this.pos_profile && this.pos_profile.customer\n          ? this.pos_profile.customer\n          : this.customer;\n      this.get_items();\n      this.get_items_groups();\n      this.items_view = this.pos_profile.posa_default_card_view\n        ? \"card\"\n        : \"list\";\n    });\n\n    evntBus.on(\"update_offers_counters\", (data) => {\n      this.offersCount = data.offersCount;\n      this.appliedOffersCount = data.appliedOffersCount;\n    });\n    evntBus.on(\"update_customer_price_list\", (data) => {\n      this.customer_price_list = data;\n    });\n    evntBus.on(\"update_customer\", (data) => {\n      this.customer = data;\n    });\n    evntBus.on(\"clear_search_fields\", () => {\n      this.barcode_search = \"\";\n      this.debounce_search = \"\";\n      this.first_search = \"\";\n      if (this.item_group !== \"item_group_menu\") {\n        this.item_group = \"item_group_menu\";\n        this.get_items();\n      }\n    });\n\n    // Track return invoice mode - when loading a return invoice with return_against\n    evntBus.on(\"load_return_invoice\", (data) => {\n      // load_return_invoice event received (logged to backend only)\n\n      // Only set is_return_invoice=true if return_against exists (prevents adding items to existing invoice returns)\n      this.is_return_invoice = !!(\n        data.invoice_doc && data.invoice_doc.return_against\n      );\n\n      // is_return_invoice set (logged to backend only)\n    });\n\n    // Reset when creating a new invoice (but NOT if it's a return invoice)\n    evntBus.on(\"new_invoice\", (data) => {\n      // new_invoice event received (logged to backend only)\n\n      // Only reset if it's NOT a return invoice\n      if (!data || (!data.is_return && !data.return_against)) {\n        // Resetting return mode (non-return invoice) (logged to backend only)\n        this.is_return_invoice = false;\n      } else {\n        // Keeping return mode (this is a return invoice) (logged to backend only)\n        this.is_return_invoice = !!data.return_against;\n      }\n\n      // is_return_invoice set (logged to backend only)\n    });\n\n    // Clear highlighting after invoice is printed/submitted in Return Invoice mode\n    evntBus.on(\"invoice_submitted\", () => {\n      if (this.is_return_invoice) {\n        // Invoice submitted in return mode, clearing highlighting (logged to backend only)\n        this.is_return_invoice = false;\n      }\n    });\n  },\n\n  // ===== SECTION 6: LIFECYCLE HOOKS =====\n  mounted() {\n    // Delay onScan attachment to prevent double-scan during initialization\n    this.$nextTick(() => {\n      setTimeout(() => {\n        this.scan_barcode();\n      }, 300); // Small delay to ensure component is fully ready\n    });\n\n    // Calculate scrollable area as soon as the card renders\n    this.scheduleScrollHeightUpdate();\n    window.addEventListener(\"resize\", this.scheduleScrollHeightUpdate);\n  },\n\n  // Add beforeUnmount to clean up memory\n  beforeUnmount() {\n    // Clear timer\n    if (this._searchDebounceTimer) {\n      clearTimeout(this._searchDebounceTimer);\n    }\n\n    // Detach onScan listener\n    try {\n      // Check if scannerDetectionData exists before detaching\n      if (\n        document.scannerDetectionData &&\n        document.scannerDetectionData.options\n      ) {\n        onScan.detachFrom(document);\n      }\n    } catch (e) {\n      // Note: beforeUnmount doesn't have access to this.pos_profile\n      // This is a cleanup error, so we can skip logging\n    }\n\n    // Clean up event listeners\n    evntBus.$off(\"register_pos_profile\");\n    evntBus.$off(\"update_cur_items_details\");\n    evntBus.$off(\"update_offers_counters\");\n    evntBus.$off(\"update_customer_price_list\");\n    evntBus.$off(\"update_customer\");\n    evntBus.$off(\"clear_search_fields\");\n    evntBus.$off(\"load_return_invoice\");\n    evntBus.$off(\"new_invoice\");\n    evntBus.$off(\"invoice_submitted\");\n\n    // Remove window listener\n    window.removeEventListener(\"resize\", this.scheduleScrollHeightUpdate);\n  },\n};\n", "import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, withKeys as _withKeys, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"height\":\"100%\",\"background\":\"white\",\"overflow\":\"hidden\"} }\nconst _hoisted_2 = { style: {\"display\":\"flex\",\"gap\":\"4px\",\"padding\":\"4px\",\"background\":\"#c4763d85\",\"border-bottom\":\"1px solid #e0e0e0\"} }\nconst _hoisted_3 = { style: {\"flex\":\"1\",\"min-width\":\"0\"} }\nconst _hoisted_4 = { style: {\"width\":\"100%\",\"height\":\"26px\",\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"4px\",\"padding\":\"0 8px\",\"background\":\"white\",\"border\":\"1px solid #e0e0e0\",\"border-radius\":\"4px\",\"position\":\"relative\"} }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-shape\",\n  style: {\"color\":\"#1976d2\",\"flex-shrink\":\"0\",\"font-size\":\"18px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_6 = [\"value\"]\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"content\":\"'\u25BC'\",\"position\":\"absolute\",\"right\":\"8px\",\"top\":\"50%\",\"transform\":\"translateY(-50%)\",\"font-size\":\"13px\",\"color\":\"#1976d2\",\"pointer-events\":\"none\"} }, \"\u25BC\", -1 /* HOISTED */)\nconst _hoisted_8 = { style: {\"flex\":\"1\",\"min-width\":\"0\"} }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-tag-multiple\",\n  style: {\"font-size\":\"18px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_10 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"overflow\":\"hidden\",\"position\":\"relative\"} }\nconst _hoisted_11 = {\n  key: 0,\n  style: {\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"height\":\"4px\",\"background\":\"#e0e0e0\",\"overflow\":\"hidden\",\"z-index\":\"10\"}\n}\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"height\":\"100%\",\"background\":\"#1976d2\",\"transform-origin\":\"0% 50%\"} }, null, -1 /* HOISTED */)\nconst _hoisted_13 = [\n  _hoisted_12\n]\nconst _hoisted_14 = { style: {\"display\":\"flex\",\"gap\":\"3px\",\"padding\":\"4px\",\"background\":\"#c4763d85\",\"border-bottom\":\"1px solid #e0e0e0\"} }\nconst _hoisted_15 = { style: {\"flex\":\"1\",\"min-width\":\"0\"} }\nconst _hoisted_16 = { style: {\"position\":\"relative\",\"display\":\"flex\",\"align-items\":\"center\",\"background\":\"white\",\"border\":\"1px solid #e0e0e0\",\"border-radius\":\"4px\",\"height\":\"28px\",\"overflow\":\"hidden\"} }\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"display\":\"flex\",\"align-items\":\"center\",\"padding\":\"0 6px\",\"height\":\"100%\"} }, [\n  /*#__PURE__*/_createElementVNode(\"i\", {\n    class: \"mdi mdi-barcode\",\n    style: {\"color\":\"#4caf50\",\"font-size\":\"20px\"}\n  })\n], -1 /* HOISTED */)\nconst _hoisted_18 = [\"placeholder\", \"disabled\"]\nconst _hoisted_19 = { style: {\"flex\":\"1\",\"min-width\":\"0\"} }\nconst _hoisted_20 = { style: {\"position\":\"relative\",\"display\":\"flex\",\"align-items\":\"center\",\"background\":\"white\",\"border\":\"1px solid #e0e0e0\",\"border-radius\":\"4px\",\"height\":\"28px\",\"overflow\":\"hidden\"} }\nconst _hoisted_21 = {\n  key: 0,\n  style: {\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"height\":\"2px\",\"background\":\"#e0e0e0\",\"overflow\":\"hidden\",\"z-index\":\"10\"}\n}\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"height\":\"100%\",\"background\":\"#1976d2\",\"transform-origin\":\"0% 50%\"} }, null, -1 /* HOISTED */)\nconst _hoisted_23 = [\n  _hoisted_22\n]\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"display\":\"flex\",\"align-items\":\"center\",\"padding\":\"0 6px\",\"height\":\"100%\"} }, [\n  /*#__PURE__*/_createElementVNode(\"i\", {\n    class: \"mdi mdi-magnify\",\n    style: {\"color\":\"#1976d2\",\"font-size\":\"20px\"}\n  })\n], -1 /* HOISTED */)\nconst _hoisted_25 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"overflow\":\"hidden\",\"min-height\":\"0\"} }\nconst _hoisted_26 = {\n  key: 0,\n  style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"overflow\":\"hidden\",\"min-height\":\"0\"}\n}\nconst _hoisted_27 = [\"onClick\", \"title\"]\nconst _hoisted_28 = {\n  key: 1,\n  style: {\"flex\":\"1\",\"min-height\":\"140px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"background\":\"#f5f5f5\",\"border-bottom\":\"1px solid #e0e0e0\",\"overflow\":\"hidden\"}\n}\nconst _hoisted_29 = [\"src\", \"alt\"]\nconst _hoisted_30 = {\n  key: 2,\n  style: {\"flex\":\"1\",\"min-height\":\"140px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"background\":\"linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)\",\"border-bottom\":\"1px solid #e0e0e0\",\"font-size\":\"2.5rem\",\"font-weight\":\"700\",\"color\":\"#9e9e9e\"}\n}\nconst _hoisted_31 = { style: {\"padding\":\"8px\",\"background\":\"white\",\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"2px\"} }\nconst _hoisted_32 = { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"600\",\"color\":\"#333\",\"margin-bottom\":\"4px\",\"overflow\":\"hidden\",\"white-space\":\"nowrap\",\"text-overflow\":\"ellipsis\"} }\nconst _hoisted_33 = { style: {\"font-size\":\"0.85rem\",\"font-weight\":\"700\",\"color\":\"#1976d2\"} }\nconst _hoisted_34 = {\n  key: 1,\n  style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"overflow\":\"hidden\",\"min-height\":\"0\"}\n}\nconst _hoisted_35 = { style: {\"width\":\"100%\",\"max-width\":\"100%\",\"border-collapse\":\"collapse\",\"font-size\":\"0.75rem\",\"background\":\"white\",\"table-layout\":\"auto\"} }\nconst _hoisted_36 = { style: {\"border-bottom\":\"1px solid #e0e0e0\"} }\nconst _hoisted_37 = [\"onClick\", \"title\"]\nconst _hoisted_38 = {\n  key: 0,\n  style: {\"color\":\"#1976d2\",\"font-weight\":\"600\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"}\n}\nconst _hoisted_39 = {\n  key: 1,\n  style: {\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"}\n}\nconst _hoisted_40 = {\n  key: 2,\n  style: {\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"}\n}\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" ITEMS SELECTOR COMPONENT \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createCommentVNode(\" =========================================== \"),\n      _createCommentVNode(\" COMPACT HEADER WITH FILTERS AND COUNTERS \"),\n      _createCommentVNode(\" =========================================== \"),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _hoisted_5,\n            _withDirectives(_createElementVNode(\"select\", {\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => ((_ctx.item_group) = $event)),\n              onChange: _cache[1] || (_cache[1] = (...args) => (_ctx.onItemGroupChange && _ctx.onItemGroupChange(...args))),\n              style: {\"flex\":\"1\",\"height\":\"100%\",\"border\":\"none\",\"background\":\"transparent\",\"font-size\":\"0.7rem\",\"font-weight\":\"600\",\"color\":\"#1976d2\",\"cursor\":\"pointer\",\"outline\":\"none\",\"padding-right\":\"16px\",\"appearance\":\"none\",\"-webkit-appearance\":\"none\",\"-moz-appearance\":\"none\",\"text-align\":\"center\"}\n            }, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.items_group, (group) => {\n                return (_openBlock(), _createElementBlock(\"option\", {\n                  key: group,\n                  value: group\n                }, _toDisplayString(group === \"item_group_menu\" ? \"\u0645\u062C\u0645\u0648\u0639\u0627\u062A \u0627\u0644\u0623\u0635\u0646\u0627\u0641\" : group), 9 /* TEXT, PROPS */, _hoisted_6))\n              }), 128 /* KEYED_FRAGMENT */))\n            ], 544 /* NEED_HYDRATION, NEED_PATCH */), [\n              [_vModelSelect, _ctx.item_group]\n            ]),\n            _createCommentVNode(\" Dropdown arrow \"),\n            _hoisted_7\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createElementVNode(\"button\", {\n            onClick: _cache[2] || (_cache[2] = (...args) => (_ctx.show_offers && _ctx.show_offers(...args))),\n            style: {\"width\":\"100%\",\"height\":\"26px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"4px\",\"border\":\"1px solid #e0e0e0\",\"border-radius\":\"4px\",\"font-size\":\"0.7rem\",\"font-weight\":\"600\",\"cursor\":\"pointer\",\"background\":\"white\",\"color\":\"#1976d2\"}\n          }, [\n            _hoisted_9,\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.offersCount) + \" \u0627\u0644\u0639\u0631\u0648\u0636\", 1 /* TEXT */)\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_10, [\n        _createCommentVNode(\" Loading Progress \"),\n        (_ctx.loading)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _hoisted_13))\n          : _createCommentVNode(\"v-if\", true),\n        _createCommentVNode(\" =========================================== \"),\n        _createCommentVNode(\" SEARCH FIELDS \"),\n        _createCommentVNode(\" =========================================== \"),\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createCommentVNode(\" Barcode Search \"),\n          _createElementVNode(\"div\", _hoisted_15, [\n            _createElementVNode(\"div\", _hoisted_16, [\n              _hoisted_17,\n              _createCommentVNode(\" Barcode disabled in return mode or Scan Barcode \"),\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                placeholder: \n                _ctx.is_return_invoice\n                  ? '\u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062F \u0645\u0639\u0637\u0644 \u0641\u064A \u0648\u0636\u0639 \u0627\u0644\u0645\u0631\u062A\u062C\u0639'\n                  : '\u0645\u0633\u062D \u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062F'\n              ,\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => ((_ctx.barcode_search) = $event)),\n                onKeyup: _cache[4] || (_cache[4] = _withKeys((...args) => (_ctx.handle_barcode_input && _ctx.handle_barcode_input(...args)), [\"enter\"])),\n                ref: \"barcode_search\",\n                disabled: _ctx.is_return_invoice,\n                autofocus: \"\",\n                style: _normalizeStyle({\n                flex: 1,\n                border: 'none',\n                outline: 'none',\n                background: 'transparent',\n                padding: '4px 6px',\n                fontSize: '0.8rem',\n                color: _ctx.is_return_invoice ? '#999' : '#0f172a',\n                fontWeight: '700',\n                height: '100%',\n                cursor: _ctx.is_return_invoice ? 'not-allowed' : 'text',\n                textAlign: 'center',\n              })\n              }, null, 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_18), [\n                [_vModelText, _ctx.barcode_search]\n              ]),\n              (_ctx.barcode_search)\n                ? (_openBlock(), _createElementBlock(\"button\", {\n                    key: 0,\n                    onClick: _cache[5] || (_cache[5] = $event => (_ctx.barcode_search = '')),\n                    type: \"button\",\n                    style: {\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"width\":\"20px\",\"height\":\"20px\",\"border\":\"none\",\"background\":\"transparent\",\"color\":\"#999\",\"font-size\":\"18px\",\"cursor\":\"pointer\",\"margin-right\":\"2px\",\"border-radius\":\"50%\",\"padding\":\"0\",\"line-height\":\"1\"}\n                  }, \" \u00D7 \"))\n                : _createCommentVNode(\"v-if\", true)\n            ])\n          ]),\n          _createCommentVNode(\" Name Search \"),\n          _createElementVNode(\"div\", _hoisted_19, [\n            _createElementVNode(\"div\", _hoisted_20, [\n              (_ctx.search_loading)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, _hoisted_23))\n                : _createCommentVNode(\"v-if\", true),\n              _hoisted_24,\n              _createCommentVNode(\" Search Item \"),\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                placeholder: \"\u0628\u062D\u062B \u0639\u0646 \u0635\u0646\u0641\",\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => ((_ctx.debounce_search) = $event)),\n                onKeydown: _cache[7] || (_cache[7] = _withKeys((...args) => (_ctx.esc_event && _ctx.esc_event(...args)), [\"esc\"])),\n                ref: \"debounce_search\",\n                style: {\"flex\":\"1\",\"border\":\"none\",\"outline\":\"none\",\"background\":\"transparent\",\"padding\":\"4px 6px\",\"font-size\":\"0.8rem\",\"color\":\"#0f172a\",\"font-weight\":\"700\",\"height\":\"100%\",\"text-align\":\"center\"}\n              }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [\n                [_vModelText, _ctx.debounce_search]\n              ]),\n              (_ctx.debounce_search)\n                ? (_openBlock(), _createElementBlock(\"button\", {\n                    key: 1,\n                    onClick: _cache[8] || (_cache[8] = $event => (_ctx.debounce_search = '')),\n                    type: \"button\",\n                    style: {\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"width\":\"20px\",\"height\":\"20px\",\"border\":\"none\",\"background\":\"transparent\",\"color\":\"#999\",\"font-size\":\"18px\",\"cursor\":\"pointer\",\"margin-right\":\"2px\",\"border-radius\":\"50%\",\"padding\":\"0\",\"line-height\":\"1\"}\n                  }, \" \u00D7 \"))\n                : _createCommentVNode(\"v-if\", true)\n            ])\n          ])\n        ]),\n        _createCommentVNode(\" =========================================== \"),\n        _createCommentVNode(\" ITEMS DISPLAY AREA \"),\n        _createCommentVNode(\" =========================================== \"),\n        _createElementVNode(\"div\", _hoisted_25, [\n          _createCommentVNode(\" Card View \"),\n          (_ctx.items_view == 'card')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_26, [\n                _createElementVNode(\"div\", {\n                  ref: \"itemsScrollArea\",\n                  style: _normalizeStyle([_ctx.itemsScrollStyle, {\"display\":\"grid\",\"grid-template-columns\":\"repeat(auto-fill, minmax(150px, 1fr))\",\"gap\":\"8px\",\"padding\":\"8px\",\"overflow-y\":\"auto\"}])\n                }, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.filtred_items, (item, idx) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      key: idx,\n                      onClick: $event => (_ctx.add_item(item)),\n                      title: \n                _ctx.is_return_invoice\n                  ? 'Cannot add items in return mode'\n                  : item.item_name\n              ,\n                      style: _normalizeStyle({\n                position: 'relative',\n                borderRadius: '8px',\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.12)',\n                cursor: _ctx.is_return_invoice ? 'not-allowed' : 'pointer',\n                userSelect: 'none',\n                overflow: 'hidden',\n                background: 'white',\n                display: 'flex',\n                flexDirection: 'column',\n                height: '200px',\n                minHeight: '200px',\n                opacity: _ctx.is_return_invoice ? 0.5 : 1,\n                filter: _ctx.is_return_invoice ? 'grayscale(50%)' : 'none',\n              })\n                    }, [\n                      _createCommentVNode(\" Quantity Pill \"),\n                      (item.actual_qty !== undefined)\n                        ? (_openBlock(), _createElementBlock(\"div\", {\n                            key: 0,\n                            style: _normalizeStyle([{\"position\":\"absolute\",\"top\":\"8px\",\"right\":\"8px\",\"z-index\":\"2\",\"display\":\"flex\",\"align-items\":\"center\",\"padding\":\"2px 8px\",\"border-radius\":\"12px\",\"font-size\":\"11px\",\"font-weight\":\"600\",\"backdrop-filter\":\"blur(4px)\"}, {\n                  background:\n                    item.actual_qty > 10\n                      ? 'rgba(76, 175, 80, 0.9)'\n                      : item.actual_qty <= 0\n                      ? 'rgba(244, 67, 54, 0.9)'\n                      : 'rgba(255, 152, 0, 0.9)',\n                  color: 'white',\n                }])\n                          }, _toDisplayString(_ctx.formatFloat(item.actual_qty)), 5 /* TEXT, STYLE */))\n                        : _createCommentVNode(\"v-if\", true),\n                      _createCommentVNode(\" Image or Abbreviation \"),\n                      (item.image)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_28, [\n                            _createElementVNode(\"img\", {\n                              src: item.image,\n                              alt: item.item_name,\n                              onError: _cache[9] || (_cache[9] = $event => ($event.target.style.display = 'none')),\n                              style: {\"width\":\"100%\",\"height\":\"100%\",\"object-fit\":\"cover\"}\n                            }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_29)\n                          ]))\n                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_30, _toDisplayString(item.item_name.substring(0, 2).toUpperCase()), 1 /* TEXT */)),\n                      _createCommentVNode(\" Item Details \"),\n                      _createElementVNode(\"div\", _hoisted_31, [\n                        _createElementVNode(\"div\", _hoisted_32, _toDisplayString(item.item_name), 1 /* TEXT */),\n                        _createElementVNode(\"div\", _hoisted_33, _toDisplayString(_ctx.formatCurrency(item.rate)) + \" / \" + _toDisplayString(item.stock_uom), 1 /* TEXT */)\n                      ])\n                    ], 12 /* STYLE, PROPS */, _hoisted_27))\n                  }), 128 /* KEYED_FRAGMENT */))\n                ], 4 /* STYLE */)\n              ]))\n            : _createCommentVNode(\"v-if\", true),\n          _createCommentVNode(\" List View \"),\n          (_ctx.items_view == 'list')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_34, [\n                _createElementVNode(\"div\", {\n                  ref: \"itemsScrollArea\",\n                  style: _normalizeStyle([_ctx.itemsScrollStyle, {\"flex\":\"1\",\"min-height\":\"0\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\",\"padding\":\"0\",\"display\":\"block\"}])\n                }, [\n                  _createElementVNode(\"table\", _hoisted_35, [\n                    _createElementVNode(\"thead\", null, [\n                      _createElementVNode(\"tr\", _hoisted_36, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getItemsHeaders(), (header) => {\n                          return (_openBlock(), _createElementBlock(\"th\", {\n                            key: header.value,\n                            style: _normalizeStyle([{ textAlign: header.align || 'left' }, {\"padding\":\"8px 12px\",\"font-size\":\"0.75rem\",\"font-weight\":\"600\",\"color\":\"#424242\",\"background\":\"linear-gradient(\\n                        180deg,\\n                        rgba(255, 174, 0, 1) 0%,\\n                        rgba(255, 174, 0, 0.33) 50%\\n                      )\",\"border-bottom\":\"1px solid #e0e0e0\",\"position\":\"sticky\",\"top\":\"0\",\"z-index\":\"1\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"}])\n                          }, _toDisplayString(header.title || header.text), 5 /* TEXT, STYLE */))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ])\n                    ]),\n                    _createElementVNode(\"tbody\", null, [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.filtred_items, (item) => {\n                        return (_openBlock(), _createElementBlock(\"tr\", {\n                          key: item.item_code,\n                          onClick: $event => (_ctx.add_item_table(item)),\n                          title: \n                    _ctx.is_return_invoice\n                      ? 'Cannot add items in return mode'\n                      : item.item_name\n                  ,\n                          style: _normalizeStyle({\n                    borderBottom: '1px solid #f0f0f0',\n                    cursor: _ctx.is_return_invoice ? 'not-allowed' : 'pointer',\n                    opacity: _ctx.is_return_invoice ? 0.5 : 1,\n                  })\n                        }, [\n                          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getItemsHeaders(), (header) => {\n                            return (_openBlock(), _createElementBlock(\"td\", {\n                              key: header.value,\n                              style: _normalizeStyle([{ textAlign: header.align || 'left' }, {\"padding\":\"13px 12px\",\"font-size\":\"0.75rem\",\"color\":\"#424242\",\"vertical-align\":\"middle\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"min-width\":\"0\"}])\n                            }, [\n                              (header.key === 'rate')\n                                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_38, _toDisplayString(_ctx.formatCurrency(item.rate)), 1 /* TEXT */))\n                                : (header.key === 'actual_qty')\n                                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_39, _toDisplayString(_ctx.formatFloat(item.actual_qty)), 1 /* TEXT */))\n                                  : (_openBlock(), _createElementBlock(\"span\", _hoisted_40, _toDisplayString(item[header.key]), 1 /* TEXT */))\n                            ], 4 /* STYLE */))\n                          }), 128 /* KEYED_FRAGMENT */))\n                        ], 12 /* STYLE, PROPS */, _hoisted_37))\n                      }), 128 /* KEYED_FRAGMENT */))\n                    ])\n                  ])\n                ], 4 /* STYLE */)\n              ]))\n            : _createCommentVNode(\"v-if\", true)\n        ])\n      ])\n    ])\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"./ItemsSelector.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/ItemsSelector.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/ItemsSelector.vue\";export default script;", "import { evntBus } from \"../../bus\";\nimport { API_MAP } from \"../../api_mapper.js\";\n// Frontend logging: Use console.log/error/warn directly\n\nconst EVENT_NAMES = {\n  SHOW_MESSAGE: \"show_mesage\",\n  ADD_CUSTOMER_TO_LIST: \"add_customer_to_list\",\n  UPDATE_CUSTOMER_IN_LIST: \"update_customer_in_list\",\n  SET_CUSTOMER: \"set_customer\",\n  FETCH_CUSTOMER_DETAILS: \"fetch_customer_details\",\n  SET_CUSTOMER_INFO_TO_EDIT: \"set_customer_info_to_edit\",\n\n  OPEN_UPDATE_CUSTOMER: \"open_update_customer\",\n  REGISTER_POS_PROFILE: \"register_pos_profile\",\n  PAYMENTS_REGISTER_POS_PROFILE: \"payments_register_pos_profile\",\n};\n\nconst VALIDATION_MESSAGES = {\n  CUSTOMER_NAME_REQUIRED: \"Customer name is required.\",\n  CUSTOMER_GROUP_REQUIRED: \"Customer group name is required.\",\n  TERRITORY_REQUIRED: \"Territory name is required.\",\n};\n\nconst SUCCESS_MESSAGES = {\n  CUSTOMER_CREATED: \"Customer created successfully.\",\n  CUSTOMER_UPDATED: \"Customer data updated successfully.\",\n};\n\nconst ERROR_MESSAGES = {\n  FAILED_TO_CREATE: \"Failed to create customer.\",\n  FAILED_TO_LOAD_GROUPS: \"Error loading customer groups\",\n  FAILED_TO_LOAD_TERRITORIES: \"Error loading territories\",\n  FAILED_TO_LOAD_GENDERS: \"Error loading genders\",\n};\n\nconst CUSTOMER_TYPE = {\n  INDIVIDUAL: \"Individual\",\n};\n\nconst DB_LIMITS = {\n  CUSTOMER_GROUPS: 1000,\n  TERRITORIES: 5000,\n  GENDERS: 10,\n};\n\nconst DEFAULT_VALUES = {\n  CUSTOMER_GROUP: \"Individual\",\n  TERRITORY: \"Rest Of The World\",\n};\n\nexport default {\n  name: \"UpdateCustomer\",\n  data() {\n    return {\n      customerDialog: false,\n      pos_profile: null,\n      customer_id: \"\",\n      customer_name: \"\",\n      tax_id: \"\",\n      mobile_no: \"\",\n      email_id: \"\",\n      posa_referral_code: \"\",\n      posa_discount: 0,\n      customer_type: CUSTOMER_TYPE.INDIVIDUAL,\n      gender: \"\",\n      loyalty_points: null,\n      loyalty_program: null,\n      group: \"\",\n      groups: [],\n      territory: \"\",\n      territorys: [],\n      genders: [],\n    };\n  },\n\n  methods: {\n    close_dialog() {\n      this.customerDialog = false;\n      this.clear_customer();\n    },\n    clear_customer() {\n      this.customer_name = \"\";\n      this.tax_id = \"\";\n      this.mobile_no = \"\";\n      this.email_id = \"\";\n      this.posa_referral_code = \"\";\n      this.posa_discount = 0;\n      this.group = frappe.defaults.get_user_default(\"Customer Group\");\n      this.territory = frappe.defaults.get_user_default(\"Territory\");\n      this.customer_id = \"\";\n      this.customer_type = CUSTOMER_TYPE.INDIVIDUAL;\n      this.gender = \"\";\n      this.loyalty_points = null;\n      this.loyalty_program = null;\n    },\n\n    getCustomerGroups() {\n      if (this.groups.length > 0) return;\n\n      frappe.db\n        .get_list(\"Customer Group\", {\n          fields: [\"name\"],\n          filters: { is_group: 0 },\n          limit: DB_LIMITS.CUSTOMER_GROUPS,\n          order_by: \"name\",\n        })\n        .then((data) => {\n          if (data.length > 0) {\n            this.groups = data.map((el) => el.name);\n          }\n        })\n        .catch((err) => {\n          console.log(\"[UpdateCustomer.js] getCustomerGroups error:\", err);\n          this.showMessage(ERROR_MESSAGES.FAILED_TO_LOAD_GROUPS, \"error\");\n        });\n    },\n\n    getCustomerTerritorys() {\n      if (this.territorys.length > 0) return;\n\n      frappe.db\n        .get_list(\"Territory\", {\n          fields: [\"name\"],\n          filters: { is_group: 0 },\n          limit: DB_LIMITS.TERRITORIES,\n          order_by: \"name\",\n        })\n        .then((data) => {\n          if (data.length > 0) {\n            this.territorys = data.map((el) => el.name);\n          }\n        })\n        .catch((err) => {\n          console.log(\"[UpdateCustomer.js] getCustomerTerritorys error:\", err);\n          this.showMessage(ERROR_MESSAGES.FAILED_TO_LOAD_TERRITORIES, \"error\");\n        });\n    },\n\n    getGenders() {\n      frappe.db\n        .get_list(\"Gender\", {\n          fields: [\"name\"],\n          page_length: DB_LIMITS.GENDERS,\n        })\n        .then((data) => {\n          if (data.length > 0) {\n            this.genders = data.map((el) => el.name);\n          }\n        })\n        .catch((err) => {\n          console.log(\"[UpdateCustomer.js] getGenders error:\", err);\n          this.showMessage(ERROR_MESSAGES.FAILED_TO_LOAD_GENDERS, \"error\");\n        });\n    },\n\n    validateForm() {\n      if (!this.customer_name) {\n        this.showMessage(VALIDATION_MESSAGES.CUSTOMER_NAME_REQUIRED, \"error\");\n        return false;\n      }\n      if (!this.group) {\n        this.showMessage(VALIDATION_MESSAGES.CUSTOMER_GROUP_REQUIRED, \"error\");\n        return false;\n      }\n      if (!this.territory) {\n        this.showMessage(VALIDATION_MESSAGES.TERRITORY_REQUIRED, \"error\");\n        return false;\n      }\n      return true;\n    },\n\n    submit_dialog() {\n      if (!this.validateForm()) {\n        return;\n      }\n\n      const args = {\n        customer_id: this.customer_id,\n        customer_name: this.customer_name,\n        company: this.pos_profile.company,\n        tax_id: this.tax_id,\n        mobile_no: this.mobile_no,\n        email_id: this.email_id,\n        posa_referral_code: this.posa_referral_code,\n        posa_discount: this.posa_discount,\n        customer_group: this.group,\n        territory: this.territory,\n        customer_type: this.customer_type,\n        gender: this.gender,\n        method: this.customer_id ? \"update\" : \"create\",\n        pos_profile_doc: JSON.stringify(this.pos_profile),\n      };\n\n      frappe.call({\n        method: this.customer_id\n          ? API_MAP.CUSTOMER.UPDATE_CUSTOMER\n          : API_MAP.CUSTOMER.POST_CUSTOMER,\n        args: args,\n        callback: (r) => {\n          if (!r.exc && r.message.name) {\n            this.handleCustomerSuccess(r.message.name, args);\n          } else {\n            this.handleCustomerError();\n          }\n        },\n        error: (err) => {\n          console.log(\"[UpdateCustomer.js] submit_dialog error:\", err);\n          this.handleCustomerError();\n        },\n      });\n\n      this.customerDialog = false;\n    },\n\n    handleCustomerSuccess(customerName, args) {\n      const isUpdate = !!this.customer_id;\n      const message = isUpdate\n        ? SUCCESS_MESSAGES.CUSTOMER_UPDATED\n        : SUCCESS_MESSAGES.CUSTOMER_CREATED;\n\n      args.name = customerName;\n\n      if (!isUpdate) {\n        evntBus.emit(EVENT_NAMES.ADD_CUSTOMER_TO_LIST, args);\n        evntBus.emit(EVENT_NAMES.SET_CUSTOMER, customerName);\n        evntBus.emit(EVENT_NAMES.FETCH_CUSTOMER_DETAILS);\n      } else {\n        // Fetch updated customer data from server and update customer_info\n        frappe.call({\n          method: API_MAP.CUSTOMER.GET_CUSTOMER,\n          args: { customer_id: customerName },\n          callback: (r) => {\n            if (!r.exc && r.message) {\n              // Update customer_info with fresh data from server\n              evntBus.emit(EVENT_NAMES.SET_CUSTOMER_INFO_TO_EDIT, r.message);\n              // Also update the customer in the customers list\n              evntBus.emit(EVENT_NAMES.UPDATE_CUSTOMER_IN_LIST, r.message);\n            }\n          },\n          error: (err) => {\n            // Error handling\n          },\n        });\n      }\n\n      this.close_dialog();\n    },\n\n    handleCustomerError() {\n      this.showMessage(ERROR_MESSAGES.FAILED_TO_CREATE, \"error\");\n    },\n\n    showMessage(text, color) {\n      evntBus.emit(EVENT_NAMES.SHOW_MESSAGE, { text, color });\n    },\n\n    populateCustomerData(data) {\n      if (!data) return;\n\n      this.customer_name = data.customer_name;\n      this.customer_id = data.name;\n      this.tax_id = data.tax_id || \"\";\n      this.mobile_no = data.mobile_no || \"\";\n      this.email_id = data.email_id || \"\";\n      this.posa_referral_code = data.posa_referral_code || \"\";\n      this.posa_discount = data.posa_discount || 0;\n      this.group = data.customer_group;\n      this.territory = data.territory;\n      this.customer_type = data.customer_type || \"Individual\";\n      this.loyalty_points = data.loyalty_points;\n      this.loyalty_program = data.loyalty_program;\n      this.gender = data.gender || \"\";\n    },\n\n    registerEventListeners() {\n      evntBus.on(\n        EVENT_NAMES.OPEN_UPDATE_CUSTOMER,\n        this.handleOpenUpdateCustomer\n      );\n      evntBus.on(\n        EVENT_NAMES.REGISTER_POS_PROFILE,\n        this.handleRegisterPosProfile\n      );\n      evntBus.on(\n        EVENT_NAMES.PAYMENTS_REGISTER_POS_PROFILE,\n        this.handlePaymentsRegisterPosProfile\n      );\n    },\n\n    handleOpenUpdateCustomer(data) {\n      this.customerDialog = true;\n      this.populateCustomerData(data);\n\n      this.getCustomerGroups();\n      this.getCustomerTerritorys();\n      this.getGenders();\n    },\n\n    handleRegisterPosProfile(data) {\n      this.pos_profile = data.pos_profile;\n    },\n\n    handlePaymentsRegisterPosProfile(data) {\n      this.pos_profile = data.pos_profile;\n    },\n  },\n\n  created() {\n    this.registerEventListeners();\n\n    this.group =\n      frappe.defaults.get_user_default(\"Customer Group\") ||\n      DEFAULT_VALUES.CUSTOMER_GROUP;\n    this.territory =\n      frappe.defaults.get_user_default(\"Territory\") || DEFAULT_VALUES.TERRITORY;\n  },\n\n  beforeDestroy() {\n    // Clean up all event listeners\n    evntBus.$off(\n      EVENT_NAMES.OPEN_UPDATE_CUSTOMER,\n      this.handleOpenUpdateCustomer\n    );\n    evntBus.$off(\n      EVENT_NAMES.REGISTER_POS_PROFILE,\n      this.handleRegisterPosProfile\n    );\n    evntBus.$off(\n      EVENT_NAMES.PAYMENTS_REGISTER_POS_PROFILE,\n      this.handlePaymentsRegisterPosProfile\n    );\n  },\n};\n", "import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, createTextVNode as _createTextVNode, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"} }\nconst _hoisted_2 = { style: {\"background\":\"#fff\",\"border-radius\":\"12px\",\"overflow\":\"hidden\",\"box-shadow\":\"0 6px 16px rgba(0, 0, 0, 0.08)\"} }\nconst _hoisted_3 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"8px\",\"padding\":\"6px 10px\",\"background\":\"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)\",\"color\":\"white\"} }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-account-circle\",\n  style: {\"color\":\"white\",\"font-size\":\"20px\",\"filter\":\"drop-shadow(0 6px 16px rgba(33, 150, 243, 0.1))\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_5 = { style: {\"flex\":\"1\",\"font-size\":\"13px\",\"font-weight\":\"600\",\"letter-spacing\":\"0.3px\"} }\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-close\",\n  style: {\"color\":\"white\",\"font-size\":\"18px\",\"filter\":\"drop-shadow(0 6px 14px rgba(244, 67, 54, 0.1))\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_7 = [\n  _hoisted_6\n]\nconst _hoisted_8 = { style: {\"padding\":\"8px 10px\"} }\nconst _hoisted_9 = { style: {\"margin-bottom\":\"6px\"} }\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"color\":\"#555\",\"margin-bottom\":\"2px\",\"font-weight\":\"500\"} }, \" \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 * \", -1 /* HOISTED */)\nconst _hoisted_11 = { style: {\"display\":\"flex\",\"gap\":\"6px\",\"margin-bottom\":\"6px\"} }\nconst _hoisted_12 = { style: {\"flex\":\"1\",\"min-width\":\"0\",\"margin-bottom\":\"6px\"} }\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"color\":\"#555\",\"margin-bottom\":\"2px\",\"font-weight\":\"500\"} }, \" \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u064A \", -1 /* HOISTED */)\nconst _hoisted_14 = { style: {\"flex\":\"1\",\"min-width\":\"0\",\"margin-bottom\":\"6px\"} }\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"color\":\"#555\",\"margin-bottom\":\"2px\",\"font-weight\":\"500\"} }, \" \u0627\u0644\u062C\u0648\u0627\u0644 \", -1 /* HOISTED */)\nconst _hoisted_16 = { style: {\"display\":\"flex\",\"gap\":\"6px\",\"margin-bottom\":\"6px\"} }\nconst _hoisted_17 = { style: {\"flex\":\"1\",\"min-width\":\"0\",\"margin-bottom\":\"6px\"} }\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"color\":\"#555\",\"margin-bottom\":\"2px\",\"font-weight\":\"500\"} }, \" \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \", -1 /* HOISTED */)\nconst _hoisted_19 = { style: {\"flex\":\"1\",\"min-width\":\"0\",\"margin-bottom\":\"6px\"} }\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"color\":\"#555\",\"margin-bottom\":\"2px\",\"font-weight\":\"500\"} }, \" \u0627\u0644\u062C\u0646\u0633 \", -1 /* HOISTED */)\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"option\", { value: \"\" }, \"\u0627\u062E\u062A\u0631\", -1 /* HOISTED */)\nconst _hoisted_22 = [\"value\"]\nconst _hoisted_23 = { style: {\"display\":\"flex\",\"gap\":\"6px\",\"margin-bottom\":\"6px\"} }\nconst _hoisted_24 = { style: {\"flex\":\"1\",\"min-width\":\"0\",\"margin-bottom\":\"6px\"} }\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"color\":\"#555\",\"margin-bottom\":\"2px\",\"font-weight\":\"500\"} }, \" \u0643\u0648\u062F \u0627\u0644\u0625\u062D\u0627\u0644\u0629 \", -1 /* HOISTED */)\nconst _hoisted_26 = { style: {\"flex\":\"1\",\"min-width\":\"0\",\"margin-bottom\":\"6px\"} }\nconst _hoisted_27 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"color\":\"#555\",\"margin-bottom\":\"2px\",\"font-weight\":\"500\"} }, \" \u0646\u0633\u0628\u0629 \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0633\u0645\u0648\u062D\u0647 \", -1 /* HOISTED */)\nconst _hoisted_28 = { style: {\"display\":\"flex\",\"gap\":\"6px\",\"margin-bottom\":\"6px\"} }\nconst _hoisted_29 = { style: {\"flex\":\"1\",\"min-width\":\"0\",\"margin-bottom\":\"6px\"} }\nconst _hoisted_30 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"color\":\"#555\",\"margin-bottom\":\"2px\",\"font-weight\":\"500\"} }, \" \u0645\u062C\u0645\u0648\u0639\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 * \", -1 /* HOISTED */)\nconst _hoisted_31 = /*#__PURE__*/_createElementVNode(\"option\", { value: \"\" }, \"\u0627\u062E\u062A\u0631\", -1 /* HOISTED */)\nconst _hoisted_32 = [\"value\"]\nconst _hoisted_33 = { style: {\"flex\":\"1\",\"min-width\":\"0\",\"margin-bottom\":\"6px\"} }\nconst _hoisted_34 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"color\":\"#555\",\"margin-bottom\":\"2px\",\"font-weight\":\"500\"} }, \" \u0627\u0644\u0645\u0646\u0637\u0642\u0629 * \", -1 /* HOISTED */)\nconst _hoisted_35 = /*#__PURE__*/_createElementVNode(\"option\", { value: \"\" }, \"\u0627\u062E\u062A\u0631\", -1 /* HOISTED */)\nconst _hoisted_36 = [\"value\"]\nconst _hoisted_37 = {\n  key: 0,\n  style: {\"display\":\"flex\",\"gap\":\"6px\",\"margin-bottom\":\"6px\"}\n}\nconst _hoisted_38 = {\n  key: 0,\n  style: {\"flex\":\"1\",\"min-width\":\"0\",\"margin-bottom\":\"6px\"}\n}\nconst _hoisted_39 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"color\":\"#555\",\"margin-bottom\":\"2px\",\"font-weight\":\"500\"} }, \" \u0628\u0631\u0646\u0627\u0645\u062C \u0627\u0644\u0648\u0644\u0627\u0621 \", -1 /* HOISTED */)\nconst _hoisted_40 = {\n  key: 1,\n  style: {\"flex\":\"1\",\"min-width\":\"0\",\"margin-bottom\":\"6px\"}\n}\nconst _hoisted_41 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"color\":\"#555\",\"margin-bottom\":\"2px\",\"font-weight\":\"500\"} }, \" \u0627\u0644\u0646\u0642\u0627\u0637 \", -1 /* HOISTED */)\nconst _hoisted_42 = { style: {\"display\":\"flex\",\"justify-content\":\"flex-end\",\"gap\":\"6px\",\"padding\":\"6px 10px\",\"background\":\"#f9fafb\",\"border-top\":\"1px solid #e5e7eb\"} }\nconst _hoisted_43 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-close\",\n  style: {\"font-size\":\"13px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_44 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-check\",\n  style: {\"font-size\":\"13px\"}\n}, null, -1 /* HOISTED */)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" UPDATE CUSTOMER DIALOG \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createCommentVNode(\" Modal Overlay \"),\n      (_ctx.customerDialog)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            onClick: _cache[15] || (_cache[15] = (...args) => (_ctx.close_dialog && _ctx.close_dialog(...args))),\n            style: {\"position\":\"fixed\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background\":\"rgba(0, 0, 0, 0.5)\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"z-index\":\"1000\"}\n          }, [\n            _createCommentVNode(\" Modal \"),\n            _createElementVNode(\"div\", {\n              onClick: _cache[14] || (_cache[14] = _withModifiers(() => {}, [\"stop\"])),\n              style: {\"background\":\"white\",\"border-radius\":\"8px\",\"box-shadow\":\"0 10px 30px rgba(0, 0, 0, 0.3)\",\"max-width\":\"400px\",\"width\":\"90%\",\"max-height\":\"90vh\",\"overflow\":\"hidden\"}\n            }, [\n              _createCommentVNode(\" Modal Content \"),\n              _createElementVNode(\"div\", _hoisted_2, [\n                _createCommentVNode(\" =========================================== \"),\n                _createCommentVNode(\" MODAL HEADER \"),\n                _createCommentVNode(\" =========================================== \"),\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _hoisted_4,\n                  _createCommentVNode(\" Update Customer / New Customer \"),\n                  _createElementVNode(\"span\", _hoisted_5, _toDisplayString(_ctx.customer_id ? \"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0639\u0645\u064A\u0644\" : \"\u0639\u0645\u064A\u0644 \u062C\u062F\u064A\u062F\"), 1 /* TEXT */),\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[0] || (_cache[0] = (...args) => (_ctx.close_dialog && _ctx.close_dialog(...args))),\n                    style: {\"background\":\"rgba(255, 255, 255, 0.15)\",\"border\":\"none\",\"border-radius\":\"3px\",\"padding\":\"2px\",\"cursor\":\"pointer\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"}\n                  }, _hoisted_7)\n                ]),\n                _createCommentVNode(\" =========================================== \"),\n                _createCommentVNode(\" MODAL BODY \"),\n                _createCommentVNode(\" =========================================== \"),\n                _createElementVNode(\"div\", _hoisted_8, [\n                  _createCommentVNode(\" Customer Name \"),\n                  _createElementVNode(\"div\", _hoisted_9, [\n                    _createCommentVNode(\" Customer Name \"),\n                    _hoisted_10,\n                    _withDirectives(_createElementVNode(\"input\", {\n                      type: \"text\",\n                      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => ((_ctx.customer_name) = $event)),\n                      placeholder: \"\u0623\u062F\u062E\u0644 \u0627\u0644\u0627\u0633\u0645\",\n                      style: {\"width\":\"100%\",\"padding\":\"5px 8px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"4px\",\"font-size\":\"12px\",\"color\":\"#1f2937\",\"background\":\"#fff\",\"outline\":\"none\",\"height\":\"28px\"}\n                    }, null, 512 /* NEED_PATCH */), [\n                      [_vModelText, _ctx.customer_name]\n                    ])\n                  ]),\n                  _createCommentVNode(\" Tax ID & Mobile \"),\n                  _createElementVNode(\"div\", _hoisted_11, [\n                    _createElementVNode(\"div\", _hoisted_12, [\n                      _createCommentVNode(\" Tax ID \"),\n                      _hoisted_13,\n                      _withDirectives(_createElementVNode(\"input\", {\n                        type: \"text\",\n                        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => ((_ctx.tax_id) = $event)),\n                        placeholder: \"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u064A\",\n                        style: {\"width\":\"100%\",\"padding\":\"5px 8px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"4px\",\"font-size\":\"12px\",\"color\":\"#1f2937\",\"background\":\"#fff\",\"outline\":\"none\",\"height\":\"28px\"}\n                      }, null, 512 /* NEED_PATCH */), [\n                        [_vModelText, _ctx.tax_id]\n                      ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_14, [\n                      _createCommentVNode(\" Mobile \"),\n                      _hoisted_15,\n                      _withDirectives(_createElementVNode(\"input\", {\n                        type: \"text\",\n                        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => ((_ctx.mobile_no) = $event)),\n                        placeholder: \"\u0627\u0644\u062C\u0648\u0627\u0644\",\n                        style: {\"width\":\"100%\",\"padding\":\"5px 8px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"4px\",\"font-size\":\"12px\",\"color\":\"#1f2937\",\"background\":\"#fff\",\"outline\":\"none\",\"height\":\"28px\"}\n                      }, null, 512 /* NEED_PATCH */), [\n                        [_vModelText, _ctx.mobile_no]\n                      ])\n                    ])\n                  ]),\n                  _createCommentVNode(\" Email & Gender \"),\n                  _createElementVNode(\"div\", _hoisted_16, [\n                    _createElementVNode(\"div\", _hoisted_17, [\n                      _createCommentVNode(\" Email \"),\n                      _hoisted_18,\n                      _withDirectives(_createElementVNode(\"input\", {\n                        type: \"email\",\n                        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => ((_ctx.email_id) = $event)),\n                        placeholder: \"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A\",\n                        style: {\"width\":\"100%\",\"padding\":\"5px 8px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"4px\",\"font-size\":\"12px\",\"color\":\"#1f2937\",\"background\":\"#fff\",\"outline\":\"none\",\"height\":\"28px\"}\n                      }, null, 512 /* NEED_PATCH */), [\n                        [_vModelText, _ctx.email_id]\n                      ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_19, [\n                      _createCommentVNode(\" Gender \"),\n                      _hoisted_20,\n                      _withDirectives(_createElementVNode(\"select\", {\n                        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => ((_ctx.gender) = $event)),\n                        style: {\"width\":\"100%\",\"padding\":\"5px 8px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"4px\",\"font-size\":\"12px\",\"color\":\"#1f2937\",\"background\":\"#fff\",\"outline\":\"none\",\"height\":\"28px\",\"cursor\":\"pointer\",\"appearance\":\"none\",\"background-image\":\"url('data:image/svg+xml,%3Csvg width=%2212%22 height=%2212%22 viewBox=%220 0 12 12%22%3E%3Cpath fill=%22%23666%22 d=%22M6 9L1 4h10z%22/%3E%3C/svg%3E')\",\"background-repeat\":\"no-repeat\",\"background-position\":\"right 6px center\",\"padding-right\":\"24px\"}\n                      }, [\n                        _createCommentVNode(\" Select \"),\n                        _hoisted_21,\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.genders, (g) => {\n                          return (_openBlock(), _createElementBlock(\"option\", {\n                            key: g,\n                            value: g\n                          }, _toDisplayString(g), 9 /* TEXT, PROPS */, _hoisted_22))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ], 512 /* NEED_PATCH */), [\n                        [_vModelSelect, _ctx.gender]\n                      ])\n                    ])\n                  ]),\n                  _createCommentVNode(\" Referral Code & Date of Birth \"),\n                  _createElementVNode(\"div\", _hoisted_23, [\n                    _createElementVNode(\"div\", _hoisted_24, [\n                      _createCommentVNode(\" Referral Code \"),\n                      _hoisted_25,\n                      _withDirectives(_createElementVNode(\"input\", {\n                        type: \"text\",\n                        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => ((_ctx.posa_referral_code) = $event)),\n                        placeholder: \"\u0627\u0644\u0643\u0648\u062F\",\n                        style: {\"width\":\"100%\",\"padding\":\"5px 8px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"4px\",\"font-size\":\"12px\",\"color\":\"#1f2937\",\"background\":\"#fff\",\"outline\":\"none\",\"height\":\"28px\"}\n                      }, null, 512 /* NEED_PATCH */), [\n                        [_vModelText, _ctx.posa_referral_code]\n                      ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_26, [\n                      _createCommentVNode(\" Discount \"),\n                      _hoisted_27,\n                      _withDirectives(_createElementVNode(\"input\", {\n                        type: \"number\",\n                        \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => ((_ctx.posa_discount) = $event)),\n                        placeholder: \"\u0646\u0633\u0628\u0629 \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0633\u0645\u0648\u062D\u0647\",\n                        min: \"0\",\n                        max: \"100\",\n                        step: \"0.01\",\n                        style: {\"width\":\"100%\",\"padding\":\"5px 8px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"4px\",\"font-size\":\"12px\",\"color\":\"#1f2937\",\"background\":\"#fff\",\"outline\":\"none\",\"height\":\"28px\"}\n                      }, null, 512 /* NEED_PATCH */), [\n                        [_vModelText, _ctx.posa_discount]\n                      ])\n                    ])\n                  ]),\n                  _createCommentVNode(\" Customer Group & Territory \"),\n                  _createElementVNode(\"div\", _hoisted_28, [\n                    _createElementVNode(\"div\", _hoisted_29, [\n                      _createCommentVNode(\" Customer Group \"),\n                      _hoisted_30,\n                      _withDirectives(_createElementVNode(\"select\", {\n                        \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => ((_ctx.group) = $event)),\n                        required: \"\",\n                        style: {\"width\":\"100%\",\"padding\":\"5px 8px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"4px\",\"font-size\":\"12px\",\"color\":\"#1f2937\",\"background\":\"#fff\",\"outline\":\"none\",\"height\":\"28px\",\"cursor\":\"pointer\",\"appearance\":\"none\",\"background-image\":\"url('data:image/svg+xml,%3Csvg width=%2712%22 height=%2212%22 viewBox=%220 0 12 12%22%3E%3Cpath fill=%22%23666%22 d=%22M6 9L1 4h10z%22/%3E%3C/svg%3E')\",\"background-repeat\":\"no-repeat\",\"background-position\":\"right 6px center\",\"padding-right\":\"24px\"}\n                      }, [\n                        _createCommentVNode(\" Select \"),\n                        _hoisted_31,\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.groups, (g) => {\n                          return (_openBlock(), _createElementBlock(\"option\", {\n                            key: g,\n                            value: g\n                          }, _toDisplayString(g), 9 /* TEXT, PROPS */, _hoisted_32))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ], 512 /* NEED_PATCH */), [\n                        [_vModelSelect, _ctx.group]\n                      ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_33, [\n                      _createCommentVNode(\" Territory \"),\n                      _hoisted_34,\n                      _withDirectives(_createElementVNode(\"select\", {\n                        \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => ((_ctx.territory) = $event)),\n                        required: \"\",\n                        style: {\"width\":\"100%\",\"padding\":\"5px 8px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"4px\",\"font-size\":\"12px\",\"color\":\"#1f2937\",\"background\":\"#fff\",\"outline\":\"none\",\"height\":\"28px\",\"cursor\":\"pointer\",\"appearance\":\"none\",\"background-image\":\"url('data:image/svg+xml,%3Csvg width=%2212%22 height=%2212%22 viewBox=%220 0 12 12%22%3E%3Cpath fill=%22%23666%22 d=%22M6 9L1 4h10z%22/%3E%3C/svg%3E')\",\"background-repeat\":\"no-repeat\",\"background-position\":\"right 6px center\",\"padding-right\":\"24px\"}\n                      }, [\n                        _createCommentVNode(\" Select \"),\n                        _hoisted_35,\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.territorys, (t) => {\n                          return (_openBlock(), _createElementBlock(\"option\", {\n                            key: t,\n                            value: t\n                          }, _toDisplayString(t), 9 /* TEXT, PROPS */, _hoisted_36))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ], 512 /* NEED_PATCH */), [\n                        [_vModelSelect, _ctx.territory]\n                      ])\n                    ])\n                  ]),\n                  _createCommentVNode(\" Loyalty Program & Points (if available) \"),\n                  (_ctx.loyalty_program || _ctx.loyalty_points)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_37, [\n                        (_ctx.loyalty_program)\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_38, [\n                              _createCommentVNode(\" Loyalty Program \"),\n                              _hoisted_39,\n                              _withDirectives(_createElementVNode(\"input\", {\n                                type: \"text\",\n                                \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => ((_ctx.loyalty_program) = $event)),\n                                readonly: \"\",\n                                style: {\"width\":\"100%\",\"padding\":\"5px 8px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"4px\",\"font-size\":\"12px\",\"background\":\"#f9fafb\",\"color\":\"#6b7280\",\"outline\":\"none\",\"height\":\"28px\",\"cursor\":\"not-allowed\"}\n                              }, null, 512 /* NEED_PATCH */), [\n                                [_vModelText, _ctx.loyalty_program]\n                              ])\n                            ]))\n                          : _createCommentVNode(\"v-if\", true),\n                        (_ctx.loyalty_points)\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_40, [\n                              _createCommentVNode(\" Points \"),\n                              _hoisted_41,\n                              _withDirectives(_createElementVNode(\"input\", {\n                                type: \"text\",\n                                \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => ((_ctx.loyalty_points) = $event)),\n                                readonly: \"\",\n                                style: {\"width\":\"100%\",\"padding\":\"5px 8px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"4px\",\"font-size\":\"12px\",\"background\":\"#f9fafb\",\"color\":\"#6b7280\",\"outline\":\"none\",\"height\":\"28px\",\"cursor\":\"not-allowed\"}\n                              }, null, 512 /* NEED_PATCH */), [\n                                [_vModelText, _ctx.loyalty_points]\n                              ])\n                            ]))\n                          : _createCommentVNode(\"v-if\", true)\n                      ]))\n                    : _createCommentVNode(\"v-if\", true)\n                ])\n              ]),\n              _createCommentVNode(\" =========================================== \"),\n              _createCommentVNode(\" MODAL FOOTER \"),\n              _createCommentVNode(\" =========================================== \"),\n              _createElementVNode(\"div\", _hoisted_42, [\n                _createCommentVNode(\" Cancel Button \"),\n                _createElementVNode(\"button\", {\n                  onClick: _cache[12] || (_cache[12] = (...args) => (_ctx.close_dialog && _ctx.close_dialog(...args))),\n                  style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"gap\":\"4px\",\"padding\":\"4px 10px\",\"border-radius\":\"4px\",\"border\":\"1px solid #d1d5db\",\"font-size\":\"12px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"transition\":\"all 0.2s\",\"height\":\"26px\",\"background\":\"white\",\"color\":\"#374151\"}\n                }, [\n                  _createCommentVNode(\" Cancel \"),\n                  _hoisted_43,\n                  _createTextVNode(\" \u0625\u0644\u063A\u0627\u0621 \")\n                ]),\n                _createCommentVNode(\" Submit Button \"),\n                _createElementVNode(\"button\", {\n                  onClick: _cache[13] || (_cache[13] = (...args) => (_ctx.submit_dialog && _ctx.submit_dialog(...args))),\n                  style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"gap\":\"4px\",\"padding\":\"4px 10px\",\"border-radius\":\"4px\",\"border\":\"1px solid #1565c0\",\"font-size\":\"12px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"transition\":\"all 0.2s\",\"height\":\"26px\",\"background\":\"linear-gradient(135deg, #1976d2 0%, #1e88e5 100%)\",\"color\":\"white\"}\n                }, [\n                  _createCommentVNode(\" Update / Register \"),\n                  _hoisted_44,\n                  _createTextVNode(\" \" + _toDisplayString(_ctx.customer_id ? \"\u062A\u062D\u062F\u064A\u062B\" : \"\u062A\u0633\u062C\u064A\u0644\"), 1 /* TEXT */)\n                ])\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n    ])\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"./UpdateCustomer.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/UpdateCustomer.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/UpdateCustomer.vue\";export default script;", "import { evntBus } from '../../bus';\nimport UpdateCustomer from './UpdateCustomer.vue';\nimport { API_MAP } from '../../api_mapper.js';\n// Frontend logging: Use console.log/error/warn directly\n\nconst EVENT_NAMES = {\n\tUPDATE_CUSTOMER: 'update_customer',\n\tSHOW_MESSAGE: 'show_mesage',\n\tOPEN_UPDATE_CUSTOMER: 'open_update_customer',\n\tTOGGLE_QUICK_RETURN: 'toggle_quick_return',\n\tREGISTER_POS_PROFILE: 'register_pos_profile',\n\tPAYMENTS_REGISTER_POS_PROFILE: 'payments_register_pos_profile',\n\tSET_CUSTOMER: 'set_customer',\n\tADD_CUSTOMER_TO_LIST: 'add_customer_to_list',\n\tUPDATE_CUSTOMER_IN_LIST: 'update_customer_in_list',\n\tSET_CUSTOMER_READONLY: 'set_customer_readonly',\n\tSET_CUSTOMER_INFO_TO_EDIT: 'set_customer_info_to_edit',\n\tFETCH_CUSTOMER_DETAILS: 'fetch_customer_details',\n\tCUSTOMER_DROPDOWN_OPENED: 'customer_dropdown_opened',\n};\n\nconst ERROR_MESSAGES = {\n\t// An unexpected error occurred while fetching customers\n\tUNEXPECTED_ERROR: '\u062D\u062F\u062B \u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u062A\u0648\u0642\u0639 \u0623\u062B\u0646\u0627\u0621 \u062C\u0644\u0628 \u0627\u0644\u0639\u0645\u0644\u0627\u0621',\n\t// POS Profile not loaded\n\tPOS_PROFILE_NOT_LOADED: '\u0645\u0644\u0641 \u0646\u0642\u0637\u0629 \u0627\u0644\u0628\u064A\u0639 \u063A\u064A\u0631 \u0645\u062D\u0645\u0651\u0644',\n\t// Default customer not defined in POS Profile\n\tDEFAULT_CUSTOMER_NOT_DEFINED: '\u0627\u0644\u0639\u0645\u064A\u0644 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A \u063A\u064A\u0631 \u0645\u062D\u062F\u062F \u0641\u064A \u0645\u0644\u0641 \u0646\u0642\u0637\u0629 \u0627\u0644\u0628\u064A\u0639',\n\t// Failed to fetch customers\n\tFAILED_TO_FETCH: '\u0641\u0634\u0644 \u062C\u0644\u0628 \u0627\u0644\u0639\u0645\u0644\u0627\u0621',\n\t// Error opening new customer form\n\tNEW_CUSTOMER_ERROR: '\u062E\u0637\u0623 \u0641\u064A \u0641\u062A\u062D \u0646\u0645\u0648\u0630\u062C \u0639\u0645\u064A\u0644 \u062C\u062F\u064A\u062F',\n\t// Error opening customer edit form\n\tEDIT_CUSTOMER_ERROR: '\u062E\u0637\u0623 \u0641\u064A \u0641\u062A\u062D \u0646\u0645\u0648\u0630\u062C \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0639\u0645\u064A\u0644',\n\t// An error occurred during component initialization\n\tINITIALIZATION_ERROR: '\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0647\u064A\u0626\u0629 \u0627\u0644\u0645\u0643\u0648\u0646',\n};\n\nexport default {\n\tname: 'Customer',\n\tcomponents: { UpdateCustomer },\n\tdata() {\n\t\treturn {\n\t\t\tpos_profile: null,\n\t\t\tcustomers: [],\n\t\t\tcustomer: '',\n\t\t\treadonly: false,\n\t\t\tcustomer_info: {},\n\t\t\tquick_return: false,\n\t\t\tsearchTimeout: null,\n\t\t\tloading: false,\n\t\t\tcustomer_search: '',\n\t\t\tshowDropdown: false,\n\t\t\tselectedIndex: -1,\n\t\t\tfilteredCustomers: [],\n\t\t\tdefaultLoaded: false, // \u2705 New flag\n\t\t};\n\t},\n\n\tmethods: {\n\t\tget_many_customers() {\n\t\t\ttry {\n\t\t\t\tif (this.customers.length > 0) return;\n\t\t\t\t// Load customers first, then default customer will be set in the callback\n\t\t\t\tthis.load_all_customers('');\n\t\t\t\t// Set the default customer name immediately for API calls, UI will update after customers load\n\t\t\t\t// Check both possible paths: pos_profile.customer (from register_pos_profile event) or pos_profile.pos_profile.customer (from SET_POS_SETTINGS event)\n\t\t\t\tconst default_customer =\n\t\t\t\t\tthis.pos_profile?.customer || this.pos_profile?.pos_profile?.customer;\n\t\t\t\tif (default_customer) {\n\t\t\t\t\tthis.customer = default_customer;\n\t\t\t\t\tevntBus.emit(EVENT_NAMES.UPDATE_CUSTOMER, this.customer);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[Customer.js] get_many_customers error:', error);\n\t\t\t\tthis.showMessage(ERROR_MESSAGES.UNEXPECTED_ERROR, 'error');\n\t\t\t}\n\t\t},\n\n\t\thandleCustomerFocus() {\n\t\t\tthis.load_all_customers('');\n\t\t\tthis.showDropdown = true;\n\t\t},\n\n\t\tload_all_customers(searchTerm = '') {\n\t\t\tif (!this.pos_profile) {\n\t\t\t\tthis.showMessage(ERROR_MESSAGES.POS_PROFILE_NOT_LOADED, 'error');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Handle both possible structures: pos_profile (from register_pos_profile) or pos_profile.pos_profile (from SET_POS_SETTINGS)\n\t\t\tconst pos_profile_for_api = this.pos_profile.pos_profile || this.pos_profile;\n\n\t\t\tconst args = {\n\t\t\t\tpos_profile: pos_profile_for_api,\n\t\t\t\tlimit: 100,\n\t\t\t};\n\t\t\tif (searchTerm.trim()) args.search_term = searchTerm.trim();\n\n\t\t\tthis.loading = true;\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: API_MAP.CUSTOMER.GET_MANY_CUSTOMERS,\n\t\t\t\targs,\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tif (r.message) {\n\t\t\t\t\t\tthis.customers = r.message;\n\t\t\t\t\t\tthis.filteredCustomers = r.message;\n\n\t\t\t\t\t\t// \u2705 After customers loaded, if default not yet shown, show it now\n\t\t\t\t\t\tif (!this.defaultLoaded && this.customer) {\n\t\t\t\t\t\t\tconst selected = this.customers.find((c) => c.name === this.customer);\n\t\t\t\t\t\t\tif (selected) {\n\t\t\t\t\t\t\t\tthis.customer_search = selected.customer_name;\n\t\t\t\t\t\t\t\tthis.customer_info = selected;\n\t\t\t\t\t\t\t\tthis.defaultLoaded = true;\n\t\t\t\t\t\t\t\t// Default customer loaded (logged to backend only)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\t'[Customer.js] Default customer not found in list:',\n\t\t\t\t\t\t\t\t\tthis.customer,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t// If default customer not in list, fetch it directly\n\t\t\t\t\t\t\t\tif (this.customer && !this.customer_info.name) {\n\t\t\t\t\t\t\t\t\tthis.fetch_customer_details_for_default(this.customer);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t},\n\t\t\t\terror: (err) => {\n\t\t\t\t\tconsole.log('[Customer.js] load_all_customers error:', err);\n\t\t\t\t\tthis.showMessage(ERROR_MESSAGES.FAILED_TO_FETCH, 'error');\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\tperformSearch(event) {\n\t\t\tconst searchTerm = event?.target?.value || '';\n\t\t\tthis.customer_search = searchTerm;\n\t\t\tthis.showDropdown = true;\n\t\t\tthis.selectedIndex = -1;\n\n\t\t\tif (this.searchTimeout) clearTimeout(this.searchTimeout);\n\t\t\tthis.searchTimeout = setTimeout(() => {\n\t\t\t\tthis.load_all_customers(searchTerm);\n\t\t\t}, 300);\n\t\t},\n\n\t\tselectCustomer(customer) {\n\t\t\tthis.customer = customer.name;\n\t\t\tthis.customer_search = customer.customer_name;\n\t\t\tthis.customer_info = customer;\n\t\t\tthis.showDropdown = false;\n\t\t\tthis.selectedIndex = -1;\n\t\t\tevntBus.emit(EVENT_NAMES.UPDATE_CUSTOMER, customer.name);\n\t\t},\n\n\t\thandleEnter() {\n\t\t\tif (!this.showDropdown) return;\n\t\t\tif (this.filteredCustomers.length > 0 && this.selectedIndex >= 0) {\n\t\t\t\tthis.selectCustomer(this.filteredCustomers[this.selectedIndex]);\n\t\t\t} else if (this.filteredCustomers.length > 0) {\n\t\t\t\tthis.selectCustomer(this.filteredCustomers[0]);\n\t\t\t}\n\t\t},\n\n\t\tnavigateDown() {\n\t\t\tif (this.selectedIndex < this.filteredCustomers.length - 1) {\n\t\t\t\tthis.selectedIndex++;\n\t\t\t}\n\t\t},\n\n\t\tnavigateUp() {\n\t\t\tif (this.selectedIndex > 0) {\n\t\t\t\tthis.selectedIndex--;\n\t\t\t}\n\t\t},\n\n\t\tnew_customer() {\n\t\t\ttry {\n\t\t\t\tevntBus.emit(EVENT_NAMES.OPEN_UPDATE_CUSTOMER, null);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log('[Customer.js] new_customer error:', err);\n\t\t\t\tthis.showMessage(ERROR_MESSAGES.NEW_CUSTOMER_ERROR, 'error');\n\t\t\t}\n\t\t},\n\n\t\tedit_customer() {\n\t\t\ttry {\n\t\t\t\tevntBus.emit(EVENT_NAMES.OPEN_UPDATE_CUSTOMER, this.customer_info);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log('[Customer.js] edit_customer error:', err);\n\t\t\t\tthis.showMessage(ERROR_MESSAGES.EDIT_CUSTOMER_ERROR, 'error');\n\t\t\t}\n\t\t},\n\n\t\tshowMessage(message, color) {\n\t\t\tevntBus.emit(EVENT_NAMES.SHOW_MESSAGE, { message, color });\n\t\t},\n\n\t\t// avatar helpers moved to Customer.vue (visual helpers belong with template)\n\n\t\thandleClickOutside(e) {\n\t\t\ttry {\n\t\t\t\t// Prefer composedPath for Shadow DOM / web components compatibility\n\t\t\t\tconst path =\n\t\t\t\t\t(typeof e.composedPath === 'function' && e.composedPath()) || e.path || [];\n\n\t\t\t\t// Resolve the component root element safely (some test harnesses can wrap $el)\n\t\t\t\tconst root =\n\t\t\t\t\tthis.$el instanceof HTMLElement\n\t\t\t\t\t\t? this.$el\n\t\t\t\t\t\t: this.$el && this.$el.$el instanceof HTMLElement\n\t\t\t\t\t\t? this.$el.$el\n\t\t\t\t\t\t: null;\n\n\t\t\t\t// Find the autocomplete wrapper starting from component root if possible,\n\t\t\t\t// otherwise fall back to querying the document (safe fallback).\n\t\t\t\tconst wrapper = root\n\t\t\t\t\t? root.querySelector('.autocomplete')\n\t\t\t\t\t: document.querySelector('.autocomplete');\n\t\t\t\tif (!wrapper) return;\n\n\t\t\t\t// If event path exists, check whether any node in the path is the wrapper (or inside it).\n\t\t\t\tif (path && path.length) {\n\t\t\t\t\tfor (let i = 0; i < path.length; i++) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tpath[i] === wrapper ||\n\t\t\t\t\t\t\t(path[i] instanceof Node && wrapper.contains(path[i]))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn; // click occurred inside the wrapper -> do nothing\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// not inside: close\n\t\t\t\t\tthis.showDropdown = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Fallback: use contains with event.target\n\t\t\t\tif (!wrapper.contains(e.target)) {\n\t\t\t\t\tthis.showDropdown = false;\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log('[Customer.js] handleClickOutside error:', err);\n\t\t\t\tthis.showDropdown = false;\n\t\t\t}\n\t\t},\n\n\t\tregisterEventListeners() {\n\t\t\ttry {\n\t\t\t\tevntBus.on(EVENT_NAMES.TOGGLE_QUICK_RETURN, this.handleToggleQuickReturn);\n\t\t\t\tevntBus.on(EVENT_NAMES.REGISTER_POS_PROFILE, this.handleRegisterPosProfile);\n\t\t\t\tevntBus.on(\n\t\t\t\t\tEVENT_NAMES.PAYMENTS_REGISTER_POS_PROFILE,\n\t\t\t\t\tthis.handlePaymentsRegisterPosProfile,\n\t\t\t\t);\n\t\t\t\tevntBus.on(EVENT_NAMES.SET_CUSTOMER, this.handleSetCustomer);\n\t\t\t\tevntBus.on(EVENT_NAMES.ADD_CUSTOMER_TO_LIST, this.handleAddCustomerToList);\n\t\t\t\tevntBus.on(EVENT_NAMES.UPDATE_CUSTOMER_IN_LIST, this.handleUpdateCustomerInList);\n\t\t\t\tevntBus.on(EVENT_NAMES.SET_CUSTOMER_READONLY, this.handleSetCustomerReadonly);\n\t\t\t\tevntBus.on(\n\t\t\t\t\tEVENT_NAMES.SET_CUSTOMER_INFO_TO_EDIT,\n\t\t\t\t\tthis.handleSetCustomerInfoToEdit,\n\t\t\t\t);\n\t\t\t\tevntBus.on(EVENT_NAMES.FETCH_CUSTOMER_DETAILS, this.handleFetchCustomerDetails);\n\t\t\t\tevntBus.on(\n\t\t\t\t\tEVENT_NAMES.CUSTOMER_DROPDOWN_OPENED,\n\t\t\t\t\tthis.handleCustomerDropdownOpened,\n\t\t\t\t);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log('[Customer.js] registerEventListeners error:', err);\n\t\t\t\tthis.showMessage(ERROR_MESSAGES.INITIALIZATION_ERROR, 'error');\n\t\t\t}\n\t\t},\n\n\t\thandleToggleQuickReturn(value) {\n\t\t\tthis.quick_return = value;\n\t\t},\n\t\thandleRegisterPosProfile(event_data) {\n\t\t\t// event_data structure: { pos_profile: {...}, pos_opening_shift: {...}, company: {...} }\n\t\t\tthis.pos_profile = event_data;\n\t\t\t// Set default customer immediately if available\n\t\t\t// Check pos_profile.pos_profile.customer (actual POS Profile object) or pos_profile.customer (direct access)\n\t\t\tconst default_customer = event_data?.pos_profile?.customer;\n\t\t\tif (default_customer) {\n\t\t\t\tthis.customer = default_customer;\n\t\t\t\t// Fetch customer details immediately to display in UI\n\t\t\t\tthis.fetch_customer_details_for_default(default_customer);\n\t\t\t\tevntBus.emit(EVENT_NAMES.UPDATE_CUSTOMER, this.customer);\n\t\t\t}\n\t\t\tthis.get_many_customers();\n\t\t},\n\t\thandlePaymentsRegisterPosProfile(pos_profile) {\n\t\t\tthis.pos_profile = pos_profile;\n\t\t\tthis.get_many_customers();\n\t\t},\n\t\thandleSetCustomer(customer) {\n\t\t\tthis.customer = customer;\n\t\t},\n\t\thandleAddCustomerToList(customer) {\n\t\t\tthis.customers.push(customer);\n\t\t},\n\t\thandleUpdateCustomerInList(updatedCustomer) {\n\t\t\tconst index = this.customers.findIndex((c) => c.name === updatedCustomer.name);\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.customers[index] = {\n\t\t\t\t\t...this.customers[index],\n\t\t\t\t\t...updatedCustomer,\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\thandleSetCustomerReadonly(value) {\n\t\t\tthis.readonly = value;\n\t\t},\n\t\thandleSetCustomerInfoToEdit(data) {\n\t\t\tthis.customer_info = data;\n\t\t},\n\t\thandleFetchCustomerDetails() {\n\t\t\tthis.get_many_customers();\n\t\t},\n\t\thandleCustomerDropdownOpened() {\n\t\t\tthis.load_all_customers('');\n\t\t},\n\n\t\t// Fetch customer details for default customer when not found in list\n\t\tfetch_customer_details_for_default(customer_name) {\n\t\t\tif (!customer_name) return;\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: API_MAP.CUSTOMER.GET_CUSTOMER,\n\t\t\t\targs: {\n\t\t\t\t\tcustomer_id: customer_name,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tif (r.message) {\n\t\t\t\t\t\tthis.customer_info = r.message;\n\t\t\t\t\t\tthis.customer_search = r.message.customer_name || customer_name;\n\t\t\t\t\t\tthis.defaultLoaded = true;\n\t\t\t\t\t\t// Add to customers list if not already present\n\t\t\t\t\t\tif (!this.customers.find((c) => c.name === customer_name)) {\n\t\t\t\t\t\t\tthis.customers.unshift(r.message);\n\t\t\t\t\t\t\tthis.filteredCustomers = this.customers;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: (err) => {\n\t\t\t\t\tconsole.log('[Customer.js] fetch_customer_details_for_default error:', err);\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t},\n\n\tmounted() {\n\t\t// ensure we install a single document click listener and remove it on unmount\n\t\t// bound so we can remove exactly the same reference later\n\t\tthis._boundHandleClickOutside = (e) => this.handleClickOutside(e);\n\t\t// use capture to reliably catch outside clicks even if other handlers stopPropagation\n\t\tdocument.addEventListener('click', this._boundHandleClickOutside, true);\n\t},\n\n\tbeforeUnmount() {\n\t\tif (this._boundHandleClickOutside) {\n\t\t\tdocument.removeEventListener('click', this._boundHandleClickOutside, true);\n\t\t\tthis._boundHandleClickOutside = null;\n\t\t}\n\t},\n\n\tcreated() {\n\t\tthis.$nextTick(() => {\n\t\t\tthis.registerEventListeners();\n\t\t});\n\t},\n\n\twatch: {\n\t\tcustomer(newVal) {\n\t\t\tconst selected = this.customers.find((c) => c.name === newVal);\n\t\t\tif (selected) this.customer_search = selected.customer_name;\n\t\t\tevntBus.emit(EVENT_NAMES.UPDATE_CUSTOMER, newVal);\n\t\t},\n\t},\n};\n", "<!-- @ngrie -->\n<template>\n\t<!-- =========================================== -->\n\t<!-- CUSTOMER COMPONENT -->\n\t<!-- =========================================== -->\n\t<div style=\"font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue, Arial\">\n\t\t<!-- =========================================== -->\n\t\t<!-- AUT G\u00FCMplete Container -->\n\t\t<!-- =========================================== -->\n\t\t<div\n\t\t\t:style=\"{\n\t\t\t\tbackgroundColor: quick_return ? '#fff1f0' : 'white',\n\t\t\t}\"\n\t\t\tstyle=\"position: relative; width: 100%; --input-height: 51px\"\n\t\t>\n\t\t\t<!-- =========================================== -->\n\t\t\t<!-- Input Wrapper -->\n\t\t\t<!-- =========================================== -->\n\t\t\t<div style=\"position: relative; display: flex; align-items: center; padding: 6px 0\">\n\t\t\t\t<!-- Customer Search Input -->\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t:placeholder=\"'\u0627\u0628\u062D\u062B \u0639\u0646 \u0639\u0645\u064A\u0644...'\"\n\t\t\t\t\tv-model=\"customer_search\"\n\t\t\t\t\t:disabled=\"readonly\"\n\t\t\t\t\t@focus=\"handleCustomerFocus\"\n\t\t\t\t\t@input=\"performSearch\"\n\t\t\t\t\t@keydown.enter=\"handleEnter\"\n\t\t\t\t\t@keydown.down=\"navigateDown\"\n\t\t\t\t\t@keydown.up=\"navigateUp\"\n\t\t\t\t\t@keydown.esc=\"showDropdown = false\"\n\t\t\t\t\taria-autocomplete=\"list\"\n\t\t\t\t\taria-expanded=\"showDropdown\"\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\tstyle=\"\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 13px 46px 13px 12px;\n\t\t\t\t\t\theight: var(--input-height);\n\t\t\t\t\t\tborder: 1px solid rgba(60, 60, 67, 0.1);\n\t\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\tbackground: #fff;\n\t\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\t\toutline: none;\n\t\t\t\t\t\"\n\t\t\t\t\t:style=\"\n\t\t\t\t\t\treadonly ? 'background: #f6f7f8; color: #8e8e93; cursor: not-allowed' : ''\n\t\t\t\t\t\"\n\t\t\t\t/>\n\n\t\t\t\t<!-- Action Buttons (Edit & New) -->\n\t\t\t\t<div\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tstyle=\"\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tright: 8px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\t<!-- Edit Customer Button -->\n\t\t\t\t\t<button\n\t\t\t\t\t\t@click=\"edit_customer\"\n\t\t\t\t\t\t:disabled=\"readonly\"\n\t\t\t\t\t\ttitle=\"Edit Customer\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t@mouseenter=\"\n\t\t\t\t\t\t\tif (!readonly) {\n\t\t\t\t\t\t\t\t$event.currentTarget.style.background = 'rgba(25, 118, 210, 0.1)';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.border =\n\t\t\t\t\t\t\t\t\t'1px solid rgba(25, 118, 210, 0.3)';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow =\n\t\t\t\t\t\t\t\t\t'0 2px 4px rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t@mouseleave=\"\n\t\t\t\t\t\t\tif (!readonly) {\n\t\t\t\t\t\t\t\t$event.currentTarget.style.background = 'transparent';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.border = 'none';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tstyle=\"\n              background: transparent;\n              border: none;\n              padding: 6px;\n              cursor: pointer;\n              color: #6b7280;\n              border-radius: 8px;\n              display: inline-flex;\n              align-items: center;\n              justify-content: center;\n                box-shadow 120ms ease;\n              height: 32px;\n              width: 32px;\n              font-size: 25px;\n            \"\n\t\t\t\t\t\t:style=\"readonly ? 'color: #c1c1c6; cursor: not-allowed' : ''\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i class=\"mdi mdi-account-edit\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<!-- New Customer Button -->\n\t\t\t\t\t<button\n\t\t\t\t\t\t@click=\"new_customer\"\n\t\t\t\t\t\t:disabled=\"readonly\"\n\t\t\t\t\t\ttitle=\"New Customer\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t@mouseenter=\"\n\t\t\t\t\t\t\tif (!readonly) {\n\t\t\t\t\t\t\t\t$event.currentTarget.style.background = 'rgba(25, 118, 210, 0.1)';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.border =\n\t\t\t\t\t\t\t\t\t'1px solid rgba(25, 118, 210, 0.3)';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow =\n\t\t\t\t\t\t\t\t\t'0 2px 4px rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t@mouseleave=\"\n\t\t\t\t\t\t\tif (!readonly) {\n\t\t\t\t\t\t\t\t$event.currentTarget.style.background = 'transparent';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.border = 'none';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tstyle=\"\n              background: transparent;\n              border: none;\n              padding: 6px;\n              cursor: pointer;\n              color: #6b7280;\n              border-radius: 8px;\n              display: inline-flex;\n              align-items: center;\n              justify-content: center;\n                box-shadow 120ms ease;\n              height: 32px;\n              width: 32px;\n              font-size: 25px;\n            \"\n\t\t\t\t\t\t:style=\"readonly ? 'color: #c1c1c6; cursor: not-allowed' : ''\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i class=\"mdi mdi-plus\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- =========================================== -->\n\t\t\t<!-- Customer Dropdown -->\n\t\t\t<!-- =========================================== -->\n\t\t\t<div\n\t\t\t\tv-if=\"showDropdown && filteredCustomers.length > 0\"\n\t\t\t\trole=\"listbox\"\n\t\t\t\tstyle=\"\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: calc(100% + 9px);\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\tbackground: #fff;\n\t\t\t\t\tborder: 1px solid rgba(60, 60, 67, 0.08);\n\t\t\t\t\tborder-radius: 12px;\n\t\t\t\t\tbox-shadow: 0 16px 40px rgba(12, 24, 40, 0.08);\n\t\t\t\t\tz-index: 1200;\n\t\t\t\t\tmax-height: 300px;\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\tpadding: 8px;\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"(item, index) in filteredCustomers\"\n\t\t\t\t\t:key=\"item.name\"\n\t\t\t\t\trole=\"option\"\n\t\t\t\t\t:aria-selected=\"index === selectedIndex\"\n\t\t\t\t\t@click=\"selectCustomer(item)\"\n\t\t\t\t\t@mouseenter=\"selectedIndex = index\"\n\t\t\t\t\tclass=\"customer-item\"\n\t\t\t\t\t:data-index=\"index\"\n\t\t\t\t\t:data-selected=\"index === selectedIndex\"\n\t\t\t\t\tstyle=\"\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 12px;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\t\tbackground-color: var(--row-bg, rgba(255, 255, 255, 1));\n\t\t\t\t\t\"\n\t\t\t\t\t:data-even=\"index % 2 === 0\"\n\t\t\t\t>\n\t\t\t\t\t<!-- Avatar Placeholder -->\n\t\t\t\t\t<div aria-hidden=\"true\">\n\t\t\t\t\t\t<!-- lightweight SVG faceless avatar with subtle gradient background (fast) -->\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t:width=\"40\"\n\t\t\t\t\t\t\t:height=\"40\"\n\t\t\t\t\t\t\tviewBox=\"0 0 40 40\"\n\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\t\t\t\toverflow: visible;\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\t\t:aria-label=\"\n\t\t\t\t\t\t\t\t(item.customer_name || '?').charAt(0).toUpperCase() + ' avatar'\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t:id=\"`g${avatarHue(item.customer_name)}`\"\n\t\t\t\t\t\t\t\t\tx1=\"0\"\n\t\t\t\t\t\t\t\t\tx2=\"1\"\n\t\t\t\t\t\t\t\t\ty1=\"0\"\n\t\t\t\t\t\t\t\t\ty2=\"1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<stop\n\t\t\t\t\t\t\t\t\t\toffset=\"0\"\n\t\t\t\t\t\t\t\t\t\t:stop-color=\"`hsl(${avatarHue(\n\t\t\t\t\t\t\t\t\t\t\titem.customer_name,\n\t\t\t\t\t\t\t\t\t\t)} 72% 86%)`\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<stop\n\t\t\t\t\t\t\t\t\t\toffset=\"1\"\n\t\t\t\t\t\t\t\t\t\t:stop-color=\"`hsl(${avatarHue(\n\t\t\t\t\t\t\t\t\t\t\titem.customer_name,\n\t\t\t\t\t\t\t\t\t\t)} 66% 74%)`\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t</defs>\n\n\t\t\t\t\t\t\t<!-- gradient background -->\n\t\t\t\t\t\t\t<rect\n\t\t\t\t\t\t\t\tx=\"0\"\n\t\t\t\t\t\t\t\ty=\"0\"\n\t\t\t\t\t\t\t\twidth=\"40\"\n\t\t\t\t\t\t\t\theight=\"40\"\n\t\t\t\t\t\t\t\t:fill=\"`url(#g${avatarHue(item.customer_name)})`\"\n\t\t\t\t\t\t\t\trx=\"8\"\n\t\t\t\t\t\t\t\try=\"8\"\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<!-- simple faceless silhouette (circle head + ellipse shoulders) -->\n\t\t\t\t\t\t\t<g fill=\"rgba(255,255,255,0.92)\" transform=\"translate(0,0)\">\n\t\t\t\t\t\t\t\t<circle cx=\"20\" cy=\"13\" r=\"6\" />\n\t\t\t\t\t\t\t\t<ellipse cx=\"20\" cy=\"28\" rx=\"11\" ry=\"5.2\" />\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Customer Info -->\n\t\t\t\t\t<div style=\"display: flex; flex-direction: column; min-width: 0\">\n\t\t\t\t\t\t<!-- Customer Name -->\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t\t\t\tcolor: #0f172a;\n\t\t\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ item.customer_name }}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Mobile Number -->\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"item.mobile_no\"\n\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t\t\tcolor: #6b7280;\n\t\t\t\t\t\t\t\tmargin-top: 4px;\n\t\t\t\t\t\t\t\tline-height: 1;\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ item.mobile_no }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t\t\tcolor: #9ca3af;\n\t\t\t\t\t\t\t\tmargin-top: 4px;\n\t\t\t\t\t\t\t\tline-height: 1;\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNo number\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- =========================================== -->\n\t\t\t<!-- Loading Indicator -->\n\t\t\t<!-- =========================================== -->\n\t\t\t<div\n\t\t\t\tv-if=\"showDropdown && loading\"\n\t\t\t\trole=\"status\"\n\t\t\t\taria-live=\"polite\"\n\t\t\t\tstyle=\"\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: calc(100% + 8px);\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\tbackground: #fff;\n\t\t\t\t\tborder: 1px solid rgba(60, 60, 67, 0.08);\n\t\t\t\t\tborder-radius: 12px;\n\t\t\t\t\tpadding: 12px;\n\t\t\t\t\tbox-shadow: 0 12px 32px rgba(12, 24, 40, 0.06);\n\t\t\t\t\tz-index: 1200;\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle=\"\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 6px;\n\t\t\t\t\t\tbackground: #eef2f7;\n\t\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tbackground: linear-gradient(\n\t\t\t\t\t\t\t\t90deg,\n\t\t\t\t\t\t\t\trgba(25, 118, 210, 1),\n\t\t\t\t\t\t\t\trgba(33, 150, 243, 1)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\t\t\"\n\t\t\t\t\t></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- =========================================== -->\n\t\t<!-- UpdateCustomer Wrapper -->\n\t\t<!-- =========================================== -->\n\t\t<UpdateCustomer />\n\t</div>\n</template>\n\n<script>\nimport comp from './Customer.js';\n// Frontend logging: Use console.log/error/warn directly\n\ncomp.methods = {\n\t...comp.methods,\n\n\tavatarColor(name) {\n\t\tconst s = (name || '').toString();\n\t\tlet h = 0;\n\t\tfor (let i = 0; i < s.length; i++) {\n\t\t\th = (h << 5) - h + s.charCodeAt(i);\n\t\t\th |= 0;\n\t\t}\n\t\tconst hue = Math.abs(h) % 360;\n\t\treturn `hsl(${hue} 65% 78%)`;\n\t},\n\n\t// return the hue (0..359) used to build per-name gradients (cheap, deterministic)\n\tavatarHue(name) {\n\t\tconst s = (name || '').toString();\n\t\tlet h = 0;\n\t\tfor (let i = 0; i < s.length; i++) {\n\t\t\th = (h << 5) - h + s.charCodeAt(i);\n\t\t\th |= 0;\n\t\t}\n\t\treturn Math.abs(h) % 360;\n\t},\n\n\tavatarTextColor() {\n\t\treturn '#0f172a';\n\t},\n};\n\nexport default comp;\n</script>\n", "import { createCommentVNode as _createCommentVNode, vModelText as _vModelText, withKeys as _withKeys, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { style: {\"font-family\":\"system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue, Arial\"} }\nconst _hoisted_2 = { style: {\"position\":\"relative\",\"display\":\"flex\",\"align-items\":\"center\",\"padding\":\"6px 0\"} }\nconst _hoisted_3 = [\"placeholder\", \"disabled\"]\nconst _hoisted_4 = {\n  \"aria-hidden\": \"true\",\n  style: {\"position\":\"absolute\",\"right\":\"8px\",\"display\":\"flex\",\"gap\":\"8px\",\"align-items\":\"center\",\"height\":\"100%\"}\n}\nconst _hoisted_5 = [\"disabled\"]\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"i\", { class: \"mdi mdi-account-edit\" }, null, -1 /* HOISTED */)\nconst _hoisted_7 = [\n  _hoisted_6\n]\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"i\", { class: \"mdi mdi-plus\" }, null, -1 /* HOISTED */)\nconst _hoisted_10 = [\n  _hoisted_9\n]\nconst _hoisted_11 = {\n  key: 0,\n  role: \"listbox\",\n  style: {\"position\":\"absolute\",\"top\":\"calc(100% + 9px)\",\"left\":\"0\",\"right\":\"0\",\"background\":\"#fff\",\"border\":\"1px solid rgba(60, 60, 67, 0.08)\",\"border-radius\":\"12px\",\"box-shadow\":\"0 16px 40px rgba(12, 24, 40, 0.08)\",\"z-index\":\"1200\",\"max-height\":\"300px\",\"overflow-y\":\"auto\",\"padding\":\"8px\"}\n}\nconst _hoisted_12 = [\"aria-selected\", \"onClick\", \"onMouseenter\", \"data-index\", \"data-selected\", \"data-even\"]\nconst _hoisted_13 = { \"aria-hidden\": \"true\" }\nconst _hoisted_14 = [\"aria-label\"]\nconst _hoisted_15 = [\"id\"]\nconst _hoisted_16 = [\"stop-color\"]\nconst _hoisted_17 = [\"stop-color\"]\nconst _hoisted_18 = [\"fill\"]\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"g\", {\n  fill: \"rgba(255,255,255,0.92)\",\n  transform: \"translate(0,0)\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"circle\", {\n    cx: \"20\",\n    cy: \"13\",\n    r: \"6\"\n  }),\n  /*#__PURE__*/_createElementVNode(\"ellipse\", {\n    cx: \"20\",\n    cy: \"28\",\n    rx: \"11\",\n    ry: \"5.2\"\n  })\n], -1 /* HOISTED */)\nconst _hoisted_20 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"min-width\":\"0\"} }\nconst _hoisted_21 = { style: {\"font-weight\":\"bold\",\"color\":\"#0f172a\",\"font-size\":\"14px\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"} }\nconst _hoisted_22 = {\n  key: 0,\n  style: {\"font-size\":\"12px\",\"color\":\"#6b7280\",\"margin-top\":\"4px\",\"line-height\":\"1\"}\n}\nconst _hoisted_23 = {\n  key: 1,\n  style: {\"font-size\":\"12px\",\"color\":\"#9ca3af\",\"margin-top\":\"4px\",\"line-height\":\"1\"}\n}\nconst _hoisted_24 = {\n  key: 1,\n  role: \"status\",\n  \"aria-live\": \"polite\",\n  style: {\"position\":\"absolute\",\"top\":\"calc(100% + 8px)\",\"left\":\"0\",\"right\":\"0\",\"background\":\"#fff\",\"border\":\"1px solid rgba(60, 60, 67, 0.08)\",\"border-radius\":\"12px\",\"padding\":\"12px\",\"box-shadow\":\"0 12px 32px rgba(12, 24, 40, 0.06)\",\"z-index\":\"1200\"}\n}\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"100%\",\"height\":\"6px\",\"background\":\"#eef2f7\",\"border-radius\":\"6px\",\"overflow\":\"hidden\"} }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { style: {\"height\":\"100%\",\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t\\t90deg,\\n\\t\\t\\t\\t\\t\\t\\t\\trgba(25, 118, 210, 1),\\n\\t\\t\\t\\t\\t\\t\\t\\trgba(33, 150, 243, 1)\\n\\t\\t\\t\\t\\t\\t\\t)\",\"border-radius\":\"6px\"} })\n], -1 /* HOISTED */)\nconst _hoisted_26 = [\n  _hoisted_25\n]\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_UpdateCustomer = _resolveComponent(\"UpdateCustomer\")\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" CUSTOMER COMPONENT \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createCommentVNode(\" =========================================== \"),\n      _createCommentVNode(\" AUT G\u00FCMplete Container \"),\n      _createCommentVNode(\" =========================================== \"),\n      _createElementVNode(\"div\", {\n        style: _normalizeStyle([{\n\t\t\t\tbackgroundColor: _ctx.quick_return ? '#fff1f0' : 'white',\n\t\t\t}, {\"position\":\"relative\",\"width\":\"100%\",\"--input-height\":\"51px\"}])\n      }, [\n        _createCommentVNode(\" =========================================== \"),\n        _createCommentVNode(\" Input Wrapper \"),\n        _createCommentVNode(\" =========================================== \"),\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createCommentVNode(\" Customer Search Input \"),\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            placeholder: '\u0627\u0628\u062D\u062B \u0639\u0646 \u0639\u0645\u064A\u0644...',\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => ((_ctx.customer_search) = $event)),\n            disabled: _ctx.readonly,\n            onFocus: _cache[1] || (_cache[1] = (...args) => (_ctx.handleCustomerFocus && _ctx.handleCustomerFocus(...args))),\n            onInput: _cache[2] || (_cache[2] = (...args) => (_ctx.performSearch && _ctx.performSearch(...args))),\n            onKeydown: [\n              _cache[3] || (_cache[3] = _withKeys((...args) => (_ctx.handleEnter && _ctx.handleEnter(...args)), [\"enter\"])),\n              _cache[4] || (_cache[4] = _withKeys((...args) => (_ctx.navigateDown && _ctx.navigateDown(...args)), [\"down\"])),\n              _cache[5] || (_cache[5] = _withKeys((...args) => (_ctx.navigateUp && _ctx.navigateUp(...args)), [\"up\"])),\n              _cache[6] || (_cache[6] = _withKeys($event => (_ctx.showDropdown = false), [\"esc\"]))\n            ],\n            \"aria-autocomplete\": \"list\",\n            \"aria-expanded\": \"showDropdown\",\n            role: \"combobox\",\n            style: _normalizeStyle([{\"width\":\"100%\",\"padding\":\"13px 46px 13px 12px\",\"height\":\"var(--input-height)\",\"border\":\"1px solid rgba(60, 60, 67, 0.1)\",\"border-radius\":\"10px\",\"font-size\":\"14px\",\"background\":\"#fff\",\"box-sizing\":\"border-box\",\"outline\":\"none\"}, \n\t\t\t\t\t\t_ctx.readonly ? 'background: #f6f7f8; color: #8e8e93; cursor: not-allowed' : ''\n\t\t\t\t\t])\n          }, null, 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_3), [\n            [_vModelText, _ctx.customer_search]\n          ]),\n          _createCommentVNode(\" Action Buttons (Edit & New) \"),\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createCommentVNode(\" Edit Customer Button \"),\n            _createElementVNode(\"button\", {\n              onClick: _cache[7] || (_cache[7] = (...args) => (_ctx.edit_customer && _ctx.edit_customer(...args))),\n              disabled: _ctx.readonly,\n              title: \"Edit Customer\",\n              type: \"button\",\n              onMouseenter: _cache[8] || (_cache[8] = $event => {\n\t\t\t\t\t\t\tif (!_ctx.readonly) {\n\t\t\t\t\t\t\t\t$event.currentTarget.style.background = 'rgba(25, 118, 210, 0.1)';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.border =\n\t\t\t\t\t\t\t\t\t'1px solid rgba(25, 118, 210, 0.3)';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow =\n\t\t\t\t\t\t\t\t\t'0 2px 4px rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}),\n              onMouseleave: _cache[9] || (_cache[9] = $event => {\n\t\t\t\t\t\t\tif (!_ctx.readonly) {\n\t\t\t\t\t\t\t\t$event.currentTarget.style.background = 'transparent';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.border = 'none';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}),\n              style: _normalizeStyle([{\"background\":\"transparent\",\"border\":\"none\",\"padding\":\"6px\",\"cursor\":\"pointer\",\"color\":\"#6b7280\",\"border-radius\":\"8px\",\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"height\":\"32px\",\"width\":\"32px\",\"font-size\":\"25px\"}, _ctx.readonly ? 'color: #c1c1c6; cursor: not-allowed' : ''])\n            }, _hoisted_7, 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_5),\n            _createCommentVNode(\" New Customer Button \"),\n            _createElementVNode(\"button\", {\n              onClick: _cache[10] || (_cache[10] = (...args) => (_ctx.new_customer && _ctx.new_customer(...args))),\n              disabled: _ctx.readonly,\n              title: \"New Customer\",\n              type: \"button\",\n              onMouseenter: _cache[11] || (_cache[11] = $event => {\n\t\t\t\t\t\t\tif (!_ctx.readonly) {\n\t\t\t\t\t\t\t\t$event.currentTarget.style.background = 'rgba(25, 118, 210, 0.1)';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.border =\n\t\t\t\t\t\t\t\t\t'1px solid rgba(25, 118, 210, 0.3)';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow =\n\t\t\t\t\t\t\t\t\t'0 2px 4px rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}),\n              onMouseleave: _cache[12] || (_cache[12] = $event => {\n\t\t\t\t\t\t\tif (!_ctx.readonly) {\n\t\t\t\t\t\t\t\t$event.currentTarget.style.background = 'transparent';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.border = 'none';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}),\n              style: _normalizeStyle([{\"background\":\"transparent\",\"border\":\"none\",\"padding\":\"6px\",\"cursor\":\"pointer\",\"color\":\"#6b7280\",\"border-radius\":\"8px\",\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"height\":\"32px\",\"width\":\"32px\",\"font-size\":\"25px\"}, _ctx.readonly ? 'color: #c1c1c6; cursor: not-allowed' : ''])\n            }, _hoisted_10, 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_8)\n          ])\n        ]),\n        _createCommentVNode(\" =========================================== \"),\n        _createCommentVNode(\" Customer Dropdown \"),\n        _createCommentVNode(\" =========================================== \"),\n        (_ctx.showDropdown && _ctx.filteredCustomers.length > 0)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.filteredCustomers, (item, index) => {\n                return (_openBlock(), _createElementBlock(\"div\", {\n                  key: item.name,\n                  role: \"option\",\n                  \"aria-selected\": index === _ctx.selectedIndex,\n                  onClick: $event => (_ctx.selectCustomer(item)),\n                  onMouseenter: $event => (_ctx.selectedIndex = index),\n                  class: \"customer-item\",\n                  \"data-index\": index,\n                  \"data-selected\": index === _ctx.selectedIndex,\n                  style: {\"display\":\"flex\",\"gap\":\"12px\",\"align-items\":\"center\",\"padding\":\"10px\",\"cursor\":\"pointer\",\"border-radius\":\"8px\",\"background-color\":\"var(--row-bg, rgba(255, 255, 255, 1))\"},\n                  \"data-even\": index % 2 === 0\n                }, [\n                  _createCommentVNode(\" Avatar Placeholder \"),\n                  _createElementVNode(\"div\", _hoisted_13, [\n                    _createCommentVNode(\" lightweight SVG faceless avatar with subtle gradient background (fast) \"),\n                    (_openBlock(), _createElementBlock(\"svg\", {\n                      width: 40,\n                      height: 40,\n                      viewBox: \"0 0 40 40\",\n                      style: {\"flex-shrink\":\"0\",\"display\":\"block\",\"border-radius\":\"8px\",\"overflow\":\"visible\"},\n                      role: \"img\",\n                      \"aria-label\": \n\t\t\t\t\t\t\t\t(item.customer_name || '?').charAt(0).toUpperCase() + ' avatar'\n\t\t\t\t\t\t\t\n                    }, [\n                      _createElementVNode(\"defs\", null, [\n                        _createElementVNode(\"linearGradient\", {\n                          id: `g${_ctx.avatarHue(item.customer_name)}`,\n                          x1: \"0\",\n                          x2: \"1\",\n                          y1: \"0\",\n                          y2: \"1\"\n                        }, [\n                          _createElementVNode(\"stop\", {\n                            offset: \"0\",\n                            \"stop-color\": `hsl(${_ctx.avatarHue(\n\t\t\t\t\t\t\t\t\t\t\titem.customer_name,\n\t\t\t\t\t\t\t\t\t\t)} 72% 86%)`\n                          }, null, 8 /* PROPS */, _hoisted_16),\n                          _createElementVNode(\"stop\", {\n                            offset: \"1\",\n                            \"stop-color\": `hsl(${_ctx.avatarHue(\n\t\t\t\t\t\t\t\t\t\t\titem.customer_name,\n\t\t\t\t\t\t\t\t\t\t)} 66% 74%)`\n                          }, null, 8 /* PROPS */, _hoisted_17)\n                        ], 8 /* PROPS */, _hoisted_15)\n                      ]),\n                      _createCommentVNode(\" gradient background \"),\n                      _createElementVNode(\"rect\", {\n                        x: \"0\",\n                        y: \"0\",\n                        width: \"40\",\n                        height: \"40\",\n                        fill: `url(#g${_ctx.avatarHue(item.customer_name)})`,\n                        rx: \"8\",\n                        ry: \"8\"\n                      }, null, 8 /* PROPS */, _hoisted_18),\n                      _createCommentVNode(\" simple faceless silhouette (circle head + ellipse shoulders) \"),\n                      _hoisted_19\n                    ], 8 /* PROPS */, _hoisted_14))\n                  ]),\n                  _createCommentVNode(\" Customer Info \"),\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _createCommentVNode(\" Customer Name \"),\n                    _createElementVNode(\"div\", _hoisted_21, _toDisplayString(item.customer_name), 1 /* TEXT */),\n                    _createCommentVNode(\" Mobile Number \"),\n                    (item.mobile_no)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, _toDisplayString(item.mobile_no), 1 /* TEXT */))\n                      : (_openBlock(), _createElementBlock(\"div\", _hoisted_23, \" No number \"))\n                  ])\n                ], 40 /* PROPS, NEED_HYDRATION */, _hoisted_12))\n              }), 128 /* KEYED_FRAGMENT */))\n            ]))\n          : _createCommentVNode(\"v-if\", true),\n        _createCommentVNode(\" =========================================== \"),\n        _createCommentVNode(\" Loading Indicator \"),\n        _createCommentVNode(\" =========================================== \"),\n        (_ctx.showDropdown && _ctx.loading)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, _hoisted_26))\n          : _createCommentVNode(\"v-if\", true)\n      ], 4 /* STYLE */),\n      _createCommentVNode(\" =========================================== \"),\n      _createCommentVNode(\" UpdateCustomer Wrapper \"),\n      _createCommentVNode(\" =========================================== \"),\n      _createVNode(_component_UpdateCustomer)\n    ])\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Customer.vue?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Customer.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/Customer.vue\";export default script;", "// ===== IMPORTS =====\nimport { evntBus } from '../../bus';\nimport format from '../../format';\nimport Customer from './Customer.vue';\nimport { API_MAP } from '../../api_mapper.js';\n// Frontend logging: Use console.log/error/warn directly\n\nconst UI_CONFIG = {\n\tSEARCH_MIN_LENGTH: 3,\n\tMAX_DISPLAYED_ITEMS: 50,\n\tMIN_PANEL_HEIGHT: 180,\n\tBOTTOM_PADDING: 16,\n\tDEBOUNCE_DELAY: 200,\n};\n\n// ===== COMPONENT =====\nexport default {\n\tname: 'Invoice',\n\n\tmixins: [format],\n\n\tcomponents: {\n\t\tCustomer,\n\t},\n\n\tprops: {\n\t\tis_payment: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tofferApplied: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\tofferRemoved: {\n\t\t\ttype: [Boolean, Object], // Allow both Boolean and Object\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\t// ===== DATA =====\n\tdata() {\n\t\treturn {\n\t\t\t// UI State\n\t\t\titemsScrollHeight: null,\n\n\t\t\tpos_profile: null,\n\t\t\tpos_opening_shift: null,\n\t\t\tinvoice_doc: null,\n\t\t\treturn_doc: null,\n\t\t\tcustomer: '',\n\t\t\tcustomer_info: {},\n\t\t\tadditional_discount_percentage: 0,\n\t\t\toffer_discount_percentage: 0,\n\t\t\ttotal_tax: 0,\n\t\t\titems: [],\n\t\t\tposa_offers: [],\n\t\t\tdiscount_percentage_offer_name: null,\n\t\t\tfloat_precision: 3, // For quantities (qty) - 3 decimal places\n\t\t\tcurrency_precision: 2, // For currency amounts - 2 decimal places\n\t\t\tinvoice_posting_date: false,\n\t\t\tposting_date: frappe.datetime.nowdate(),\n\t\t\tquick_return_value: false,\n\t\t\tposa_use_customer_credit_switch: false,\n\n\t\t\tisUpdatingTotals: false,\n\t\t\tisPrinting: false, // Flag to prevent double-click on print button\n\t\t\t// Simple State Management\n\t\t\t_itemOperationTimer: null,\n\t\t\t_updatingFromAPI: false,\n\n\t\t\t// ===== OFFER CACHING (Simple) =====\n\t\t\t_sessionOffers: [], // All offers from Pos.js\n\t\t\t_lastCustomer: null, // Track customer changes\n\n\t\t\t// ===== ERPNext STANDARD DISCOUNT FIELDS =====\n\t\t\tapply_discount_on: null, // Read from POS Profile (not hardcoded)\n\t\t\tdiscount_amount: 0, // Calculated from additional_discount_percentage\n\t\t\tbase_discount_amount: 0, // Multi-currency support\n\n\t\t\t// POS-specific: track which discount type is active\n\t\t\tactive_discount_type: null, // 'invoice' or 'item' or null\n\n\t\t\t// Optional fields (not critical for POS)\n\t\t\tis_cash_or_non_trade_discount: 0,\n\t\t\tadditional_discount_account: '',\n\n\t\t\t// Table Headers Configuration\n\t\t\titems_headers: [\n\t\t\t\t{\n\t\t\t\t\t// Item Name\n\t\t\t\t\ttitle: '\u0627\u0633\u0645 \u0627\u0644\u0635\u0646\u0641',\n\t\t\t\t\talign: 'start',\n\t\t\t\t\tsortable: true,\n\t\t\t\t\tkey: 'item_name',\n\t\t\t\t\twidth: '35%',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// Item Code\n\t\t\t\t\ttitle: '\u0643\u0648\u062F \u0627\u0644\u0635\u0646\u0641',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\tsortable: true,\n\t\t\t\t\tkey: 'item_code',\n\t\t\t\t\twidth: '12%',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// Qty\n\t\t\t\t\ttitle: '\u0627\u0644\u0643\u0645\u064A\u0629',\n\t\t\t\t\tkey: 'qty',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\twidth: '15%',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// UOM\n\t\t\t\t\ttitle: '\u0627\u0644\u0648\u062D\u062F\u0629',\n\t\t\t\t\tkey: 'uom',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\twidth: '3%',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// List Price\n\t\t\t\t\ttitle: '\u0633\u0639\u0631 \u0627\u0644\u0642\u0627\u0626\u0645\u0629',\n\t\t\t\t\tkey: 'price_list_rate',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\twidth: '5%',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// Price\n\t\t\t\t\ttitle: '\u0627\u0644\u0633\u0639\u0631',\n\t\t\t\t\tkey: 'rate',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\twidth: '6%',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// Discount %\n\t\t\t\t\ttitle: '\u0646\u0633\u0628\u0629 \u0627\u0644\u062E\u0635\u0645 %',\n\t\t\t\t\tkey: 'discount_percentage',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\twidth: '8%',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// Discount Amount\n\t\t\t\t\ttitle: '\u0642\u064A\u0645\u0629 \u0627\u0644\u062E\u0635\u0645',\n\t\t\t\t\tkey: 'discount_amount',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\twidth: '18%',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// Total\n\t\t\t\t\ttitle: '\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A',\n\t\t\t\t\tkey: 'amount',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\twidth: '5%',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tkey: 'actions',\n\t\t\t\t\talign: 'end',\n\t\t\t\t\tsortable: false,\n\t\t\t\t\twidth: '5%',\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t},\n\n\t// ===== COMPUTED =====\n\tcomputed: {\n\t\t// Check if there's excess payment\n\t\thasExcessNonCashPayment() {\n\t\t\tif (!this.invoice_doc?.payments || !this.pos_profile) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Use grand_total only, no rounding\n\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\tconst targetAmount = this.flt(this.invoice_doc.grand_total || 0);\n\t\t\tconst cash_mode = this.pos_profile?.posa_cash_mode_of_payment || 'Cash';\n\t\t\tconst isReturn = this.invoice_doc?.is_return || this.quick_return_value;\n\n\t\t\tif (isReturn) {\n\t\t\t\t// For returns: check total of ALL payment methods combined (absolute values)\n\t\t\t\t// In returns, amounts are negative, so we use absolute values for comparison\n\t\t\t\tconst totalPayments = this.invoice_doc.payments.reduce((sum, p) => {\n\t\t\t\t\treturn sum + Math.abs(this.flt(p.amount || 0));\n\t\t\t\t}, 0);\n\n\t\t\t\t// Add loyalty and customer credit if they exist\n\t\t\t\tconst loyaltyAmount = Math.abs(this.flt(this.invoice_doc.loyalty_amount || 0));\n\t\t\t\tconst customerCredit = Math.abs(this.flt(this.redeemed_customer_credit || 0));\n\t\t\t\tconst totalAllPayments = totalPayments + loyaltyAmount + customerCredit;\n\n\t\t\t\tconst absTargetAmount = Math.abs(targetAmount);\n\n\t\t\t\t// In returns, total payments cannot exceed invoice total\n\t\t\t\tif (totalAllPayments > absTargetAmount) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// For Sales_Mode: check each non-cash payment separately\n\t\t\t\tfor (const payment of this.invoice_doc.payments) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tpayment.mode_of_payment !== cash_mode &&\n\t\t\t\t\t\tthis.flt(payment.amount || 0) > targetAmount\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\t// Check if partial payment is not allowed\n\t\t// Returns true if posa_allow_partial_payment = 0 and paid amount is less than grand total\n\t\thasPartialPaymentNotAllowed() {\n\t\t\tif (!this.invoice_doc?.payments || !this.pos_profile) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Skip validation for return invoices\n\t\t\tconst isReturn = this.invoice_doc?.is_return || this.quick_return_value;\n\t\t\tif (isReturn) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Check if partial payment is allowed in POS Profile\n\t\t\tif (this.pos_profile.posa_allow_partial_payment === 1) {\n\t\t\t\treturn false; // Partial payment is allowed\n\t\t\t}\n\n\t\t\t// Calculate paid_amount: payments + loyalty_amount + redeemed_customer_credit\n\t\t\tlet paidAmount = this.flt(this.invoice_doc?.loyalty_amount || 0, 2);\n\t\t\tif (this.invoice_doc?.payments && Array.isArray(this.invoice_doc.payments)) {\n\t\t\t\tthis.invoice_doc.payments.forEach((payment) => {\n\t\t\t\t\tpaidAmount += this.flt(payment.amount || 0, 2);\n\t\t\t\t});\n\t\t\t}\n\t\t\tpaidAmount += this.flt(this.redeemed_customer_credit || 0, 2);\n\t\t\tpaidAmount = this.flt(paidAmount, 2);\n\n\t\t\t// Use grand_total with precision = 2\n\t\t\tconst grandTotal = this.flt(this.invoice_doc?.grand_total || 0, 2);\n\n\t\t\t// Credit sale: if paidAmount is zero or near zero, check if credit sale is allowed\n\t\t\t// Credit sale is only allowed if posa_allow_credit_sale = 1\n\t\t\tif (paidAmount <= 0.01) {\n\t\t\t\t// If credit sale is not allowed, return true (not allowed)\n\t\t\t\tif (!this.pos_profile.posa_allow_credit_sale) {\n\t\t\t\t\treturn true; // Credit sale is not allowed\n\t\t\t\t}\n\t\t\t\t// Credit sale is allowed - not a partial payment issue\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Partial payment is not allowed - check if paid amount is less than grand total\n\t\t\t// Allow small rounding differences using tolerance (0.01)\n\t\t\tif (paidAmount < grandTotal - 0.01) {\n\t\t\t\treturn true; // Partial payment detected and not allowed\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\titemsScrollStyle() {\n\t\t\tif (!this.itemsScrollHeight) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tmaxHeight: `${this.itemsScrollHeight - 80}px`,\n\t\t\t};\n\t\t},\n\t\tdynamicHeaders() {\n\t\t\tlet headers = [...this.items_headers];\n\n\t\t\tif (!this.pos_profile?.posa_display_discount_percentage) {\n\t\t\t\theaders = headers.filter((header) => header.key !== 'discount_percentage');\n\t\t\t}\n\n\t\t\tif (!this.pos_profile?.posa_display_discount_amount) {\n\t\t\t\theaders = headers.filter((header) => header.key !== 'discount_amount');\n\t\t\t}\n\n\t\t\t// Hide rate column if user cannot edit item discounts\n\t\t\tif (!this.pos_profile?.posa_allow_user_to_edit_item_discount) {\n\t\t\t\theaders = headers.filter((header) => header.key !== 'rate');\n\t\t\t}\n\n\t\t\treturn headers;\n\t\t},\n\t\treadonly() {\n\t\t\treturn this.invoice_doc?.is_return || false;\n\t\t},\n\t\tdefaultPaymentMode() {\n\t\t\tconst invoicePayments =\n\t\t\t\tthis.invoice_doc && Array.isArray(this.invoice_doc?.payments)\n\t\t\t\t\t? this.invoice_doc?.payments\n\t\t\t\t\t: [];\n\t\t\tconst profilePayments =\n\t\t\t\tthis.pos_profile && Array.isArray(this.pos_profile?.payments)\n\t\t\t\t\t? this.pos_profile?.payments\n\t\t\t\t\t: [];\n\t\t\tconst payments = invoicePayments.length ? invoicePayments : profilePayments;\n\n\t\t\t// First try to find a payment marked as default\n\t\t\tlet defaultRow = payments.find((payment) => payment.default == 1);\n\n\t\t\t// If no default payment is found, use the first payment as default\n\t\t\tif (!defaultRow && payments.length > 0) {\n\t\t\t\tdefaultRow = payments[0];\n\t\t\t}\n\n\t\t\treturn defaultRow ? defaultRow.mode_of_payment : null;\n\t\t},\n\t\tcanPrintInvoice() {\n\t\t\t// Check items first - must have items to print\n\t\t\tif (!this.items?.length) return false;\n\n\t\t\t// For return invoices: check if \"return from customer credit\" is enabled\n\t\t\t// This switch allows printing return invoices without payments when original invoice was unpaid\n\t\t\t// The amount will be deducted from customer outstanding balance automatically\n\t\t\t// This check must come BEFORE readonly check\n\t\t\tif (this.invoice_doc?.is_return && this.posa_use_customer_credit_switch) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// For return invoices: check if original invoice was unpaid (fallback check)\n\t\t\t// If unpaid, payments will be 0 and disabled, but printing should still be allowed\n\t\t\tif (this.invoice_doc?.is_return && this.invoice_doc?._original_invoice_payment_info) {\n\t\t\t\tconst origPaid = Math.abs(\n\t\t\t\t\tthis.flt(this.invoice_doc._original_invoice_payment_info.paid_amount || 0),\n\t\t\t\t);\n\t\t\t\t// If original invoice was unpaid (paid_amount <= 0.01), allow printing without payments\n\t\t\t\tif (origPaid <= 0.01) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Check readonly after checking return invoice unpaid case\n\t\t\t// For return invoices that were paid, still allow if readonly but has valid payments\n\t\t\tif (this.readonly && !this.invoice_doc?.is_return) return false;\n\n\t\t\t// Allow printing if credit sale is enabled, otherwise check for valid payments\n\t\t\tconst isCreditSale =\n\t\t\t\tthis.invoice_doc?.is_credit_sale === true || this.invoice_doc?.is_credit_sale == 1;\n\t\t\tif (isCreditSale) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Requires valid payments only - defaultPaymentMode is not enough\n\t\t\treturn this.hasValidPayments();\n\t\t},\n\t\thasItems() {\n\t\t\treturn this.items && this.items.length > 0;\n\t\t},\n\t\thasChosenPayment() {\n\t\t\t// Allow printing if there are valid payments OR default payment mode is available\n\t\t\treturn this.hasValidPayments() || !!this.defaultPaymentMode;\n\t\t},\n\n\t\t// Computed property for real-time tax amount display\n\t\t// Return exact value without rounding to preserve precision\n\t\t// Following user requirement: no rounding logic at all\n\t\t// formatCurrency will handle display formatting\n\t\tcomputedTaxAmount() {\n\t\t\treturn flt(this.invoice_doc?.total_taxes_and_charges || 0);\n\t\t},\n\n\t\t// Computed property for net total (before tax)\n\t\t// Return exact value without rounding to preserve precision\n\t\t// Following user requirement: no rounding logic at all\n\t\t// formatCurrency will handle display formatting\n\t\tcomputedNetTotal() {\n\t\t\treturn flt(this.invoice_doc?.net_total || 0);\n\t\t},\n\n\t\t// Computed property for grand total (after tax)\n\t\t// Return exact value without rounding to preserve precision\n\t\t// Following user requirement: no rounding logic at all\n\t\t// formatCurrency will handle display formatting\n\t\tcomputedGrandTotalWithTax() {\n\t\t\treturn flt(this.invoice_doc?.grand_total || 0);\n\t\t},\n\n\t\t// Computed property for discount amount (calculated from percentage)\n\t\tcomputedDiscountAmount() {\n\t\t\tconst total = flt(this.invoice_doc?.total || 0);\n\t\t\tconst percentage = flt(this.additional_discount_percentage || 0);\n\t\t\treturn flt((total * percentage) / 100, this.currency_precision);\n\t\t},\n\t},\n\n\tmethods: {\n\t\tscheduleScrollHeightUpdate() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\t// Use requestAnimationFrame to avoid forced reflow\n\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\tthis.updateScrollableHeight();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tupdateScrollableHeight() {\n\t\t\tconst scrollRef = this.$refs.itemsScrollArea;\n\t\t\tconst scrollEl = scrollRef ? scrollRef.$el || scrollRef : null;\n\n\t\t\tif (!scrollEl || typeof scrollEl.getBoundingClientRect !== 'function') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst viewportHeight =\n\t\t\t\twindow.innerHeight || document.documentElement?.clientHeight || 0;\n\n\t\t\tif (!viewportHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Use requestAnimationFrame again to ensure DOM has finished layout\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tconst rect = scrollEl.getBoundingClientRect();\n\t\t\t\tconst available = viewportHeight - rect.top - UI_CONFIG.BOTTOM_PADDING;\n\n\t\t\t\tif (Number.isFinite(available)) {\n\t\t\t\t\tthis.itemsScrollHeight = Math.max(\n\t\t\t\t\t\tUI_CONFIG.MIN_PANEL_HEIGHT,\n\t\t\t\t\t\tMath.floor(available),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// ===== BLUR HANDLERS =====\n\t\thandleQtyBlur(item, event) {\n\t\t\t// Handle business logic\n\t\t\tthis.onQtyChange(item, event);\n\t\t},\n\n\t\thandleRateBlur(item, event) {\n\t\t\t// Handle business logic\n\t\t\tthis.setItemRate(item, event);\n\t\t},\n\n\t\thandleDiscountBlur(item, event) {\n\t\t\t// Handle business logic\n\t\t\tthis.setDiscountPercentage(item, event);\n\t\t},\n\n\t\t// Shared tax calculation utility - ensures consistency between frontend and backend\n\t\tcalculateTax(subtotal, taxType, taxPercent) {\n\t\t\tif (!taxPercent || taxPercent === 0) return 0;\n\n\t\t\tlet taxAmount = 0;\n\t\t\tif (taxType === 'Inclusive') {\n\t\t\t\t// For inclusive tax: extract tax from the total\n\t\t\t\ttaxAmount = subtotal - subtotal / (1 + taxPercent / 100);\n\t\t\t} else if (taxType === 'Exclusive') {\n\t\t\t\t// For exclusive tax: add tax to the total\n\t\t\t\ttaxAmount = subtotal * (taxPercent / 100);\n\t\t\t}\n\n\t\t\treturn flt(taxAmount, this.currency_precision);\n\t\t},\n\n\t\t// ERPNext precision helper - matches standard implementation\n\t\t// Returns appropriate precision based on field type:\n\t\t// - qty, stock_qty, actual_qty: float_precision (3 decimal places)\n\t\t// - All currency/amount fields: currency_precision (2 decimal places)\n\t\tgetPrecision(fieldname, item = null) {\n\t\t\t// Use frappe's precision() if available\n\t\t\tif (typeof precision === 'function') {\n\t\t\t\treturn precision(fieldname, item);\n\t\t\t}\n\n\t\t\t// Quantity fields use float_precision (3 decimal places)\n\t\t\tconst quantityFields = ['qty', 'stock_qty', 'actual_qty', 'conversion_factor'];\n\t\t\tif (quantityFields.includes(fieldname)) {\n\t\t\t\treturn this.float_precision || 3;\n\t\t\t}\n\n\t\t\t// All currency/amount fields use currency_precision (2 decimal places)\n\t\t\treturn this.currency_precision || 2;\n\t\t},\n\n\t\tonQtyChange(item, event) {\n\t\t\t// Get the value from the input (always positive in display)\n\t\t\tlet displayValue =\n\t\t\t\tevent?.target?.value !== undefined ? Number(event.target.value) : Number(item.qty);\n\n\t\t\t// Convert to absolute value in case user types negative\n\t\t\tconst absQty = Math.abs(displayValue) || 0;\n\n\t\t\t// Check if this is a return item with max quantity limit\n\t\t\tif (item.max_qty && absQty > item.max_qty) {\n\t\t\t\t// Quantity cannot exceed original return quantity\n\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\ttext: `\u0644\u0627 \u064A\u0645\u0643\u0646 \u0623\u0646 \u062A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u0643\u0645\u064A\u0629 \u0643\u0645\u064A\u0629 \u0627\u0644\u0625\u0631\u062C\u0627\u0639 \u0627\u0644\u0623\u0635\u0644\u064A\u0629: ${item.max_qty}`,\n\t\t\t\t\tcolor: 'warning',\n\t\t\t\t});\n\t\t\t\t// Reset to max allowed quantity (apply sign based on invoice type)\n\t\t\t\titem.qty = this.invoice_doc?.is_return ? -item.max_qty : item.max_qty;\n\t\t\t} else {\n\t\t\t\t// Apply correct sign: negative for returns, positive for regular invoices\n\t\t\t\titem.qty = this.invoice_doc?.is_return ? -absQty : absQty;\n\t\t\t}\n\n\t\t\titem.amount = this.calculateItemAmount(item);\n\t\t\tthis.updateInvoiceDocLocally();\n\n\t\t\t// Item field change (logged to backend only)\n\t\t},\n\n\t\tonQtyInput(item, event) {\n\t\t\t// Handle input events - use same logic as onQtyChange\n\t\t\tthis.onQtyChange(item, event);\n\t\t},\n\n\t\tincreaseQuantity(item) {\n\t\t\tconst currentQty = Math.abs(Number(item.qty) || 0);\n\n\t\t\t// Check if this is a return item with max quantity limit\n\t\t\tif (item.max_qty && currentQty >= item.max_qty) {\n\t\t\t\t// Cannot increase quantity beyond original return quantity\n\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\ttext: `\u0644\u0627 \u064A\u0645\u0643\u0646 \u0632\u064A\u0627\u062F\u0629 \u0627\u0644\u0643\u0645\u064A\u0629 \u0639\u0646 \u0643\u0645\u064A\u0629 \u0627\u0644\u0625\u0631\u062C\u0627\u0639 \u0627\u0644\u0623\u0635\u0644\u064A\u0629: ${item.max_qty}`,\n\t\t\t\t\tcolor: 'warning',\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For return invoices, qty is negative\n\t\t\tif (this.invoice_doc?.is_return) {\n\t\t\t\titem.qty = -(currentQty + 1);\n\t\t\t} else {\n\t\t\t\titem.qty = currentQty + 1;\n\t\t\t}\n\n\t\t\titem.amount = this.calculateItemAmount(item);\n\t\t\tevntBus.emit('item_updated', item);\n\t\t\tthis.updateInvoiceDocLocally();\n\t\t},\n\n\t\tdecreaseQuantity(item) {\n\t\t\tconst currentQty = Math.abs(Number(item.qty) || 0);\n\t\t\tconst newQty = Math.max(0, currentQty - 1);\n\n\t\t\tif (newQty === 0) {\n\t\t\t\tthis.remove_item(item);\n\t\t\t} else {\n\t\t\t\t// For return invoices, qty is negative\n\t\t\t\tif (this.invoice_doc?.is_return) {\n\t\t\t\t\titem.qty = -newQty;\n\t\t\t\t} else {\n\t\t\t\t\titem.qty = newQty;\n\t\t\t\t}\n\t\t\t\titem.amount = this.calculateItemAmount(item);\n\t\t\t\tevntBus.emit('item_updated', item);\n\t\t\t\tthis.updateInvoiceDocLocally();\n\t\t\t}\n\t\t},\n\n\t\tgetDiscountAmount(item) {\n\t\t\tif (!item) return 0;\n\t\t\tif (item.discount_amount) return flt(item.discount_amount) || 0;\n\n\t\t\tconst basePrice = flt(item.price_list_rate) || flt(item.rate) || 0;\n\t\t\tconst discountPercentage = flt(item.discount_percentage) || 0;\n\t\t\treturn discountPercentage > 0 && basePrice > 0\n\t\t\t\t? flt((basePrice * discountPercentage) / 100) || 0\n\t\t\t\t: 0;\n\t\t},\n\n\t\tquick_return() {\n\t\t\t// Quick Return button clicked (logged to backend only)\n\t\t\t// Enable Quick Return Mode - creates return invoice without linking to previous invoice\n\t\t\tevntBus.emit('set_customer_readonly', true);\n\t\t\tthis.invoiceType = 'Return';\n\t\t\tthis.invoiceTypes = ['Return'];\n\t\t\tevntBus.emit('update_invoice_type', this.invoiceType);\n\t\t\tthis.quick_return_value = true;\n\t\t\tevntBus.emit('toggle_quick_return', this.quick_return_value);\n\n\t\t\t// Create new invoice_doc with is_return flag\n\t\t\tif (!this.invoice_doc) {\n\t\t\t\tthis.invoice_doc = {\n\t\t\t\t\tis_return: 1,\n\t\t\t\t\t__islocal: 1,\n\t\t\t\t};\n\t\t\t\tevntBus.emit('update_invoice_doc', this.invoice_doc);\n\t\t\t} else {\n\t\t\t\t// Update existing invoice_doc\n\t\t\t\tthis.invoice_doc.is_return = 1;\n\t\t\t\tevntBus.emit('update_invoice_doc', this.invoice_doc);\n\t\t\t}\n\t\t},\n\n\t\tremove_item(item) {\n\t\t\tconst index = this.items.findIndex((el) => el.posa_row_id == item.posa_row_id);\n\t\t\tif (index >= 0) {\n\t\t\t\tthis.items.splice(index, 1);\n\t\t\t\tthis.updateInvoiceDocLocally();\n\t\t\t\t// In __islocal approach: if no items remain, reset the session\n\t\t\t\tif (this.items.length === 0) {\n\t\t\t\t\tthis.reset_invoice_session();\n\t\t\t\t} else {\n\t\t\t\t\tevntBus.emit('item_removed', item);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tasync add_item(item) {\n\t\t\tif (!item?.item_code) return;\n\n\t\t\tconst new_item = Object.assign({}, item);\n\t\t\tnew_item.uom = new_item.uom || new_item.stock_uom || 'Nos';\n\n\t\t\tconst existing_item = this.items.find(\n\t\t\t\t(existing) =>\n\t\t\t\t\texisting.item_code === new_item.item_code && existing.uom === new_item.uom,\n\t\t\t);\n\n\t\t\tif (existing_item) {\n\t\t\t\texisting_item.qty = flt(existing_item.qty) + flt(new_item.qty);\n\t\t\t\texisting_item.amount = this.calculateItemAmount(existing_item);\n\t\t\t} else {\n\t\t\t\tnew_item.posa_row_id = this.generateRowId();\n\t\t\t\tnew_item.posa_offers = '[]';\n\t\t\t\tnew_item.posa_offer_applied = 0;\n\t\t\t\tnew_item.posa_is_offer = 0;\n\t\t\t\tnew_item.posa_is_replace = 0;\n\t\t\t\tnew_item.is_free_item = 0;\n\t\t\t\tnew_item.amount = this.calculateItemAmount(new_item);\n\t\t\t\tthis.items.push(new_item);\n\t\t\t}\n\n\t\t\t// Update invoice_doc locally when items change\n\t\t\tthis.updateInvoiceDocLocally();\n\n\t\t\tif (this.items.length === 1 && !this.invoice_doc?.name) {\n\t\t\t\tthis.create_draft_invoice();\n\t\t\t\t// Call calculateAndApplyOffers for first item to apply auto offers\n\t\t\t\tthis.calculateAndApplyOffers();\n\t\t\t} else {\n\t\t\t\tevntBus.emit('item_added', existing_item || new_item);\n\t\t\t}\n\t\t},\n\n\t\tupdateInvoiceDocLocally() {\n\t\t\t// Update invoice_doc totals locally\n\t\t\tif (!this.invoice_doc) {\n\t\t\t\tthis.invoice_doc = {};\n\t\t\t}\n\n\t\t\t// Use get_invoice_doc to get current data\n\t\t\tconst doc = this.get_invoice_doc('auto');\n\n\t\t\t// Calculate totals locally\n\t\t\tthis.calculateTotalsLocally(doc);\n\n\t\t\t// Update invoice_doc with calculated totals\n\t\t\tthis.invoice_doc.total = doc.total;\n\t\t\tthis.invoice_doc.total_qty = doc.total_qty;\n\t\t\tthis.invoice_doc.posa_item_discount_total = doc.posa_item_discount_total;\n\t\t\tthis.invoice_doc.discount_amount = doc.discount_amount;\n\t\t\tthis.invoice_doc.net_total = doc.net_total;\n\t\t\tthis.invoice_doc.total_taxes_and_charges = doc.total_taxes_and_charges;\n\t\t\tthis.invoice_doc.grand_total = doc.grand_total;\n\t\t\t// Do not set rounded_total - following user requirement: no rounded_total dependency\n\t\t\t// Do not set rounding_adjustment - following user requirement: no rounding logic\n\n\t\t\tthis.isUpdatingTotals = false;\n\t\t},\n\t\tgenerateRowId() {\n\t\t\treturn Date.now().toString(36) + Math.random().toString(36).substr(2);\n\t\t},\n\n\t\tcalculateItemAmount(item) {\n\t\t\tconst qty = flt(item.qty) || 0;\n\t\t\tconst priceListRate = flt(item.price_list_rate) || 0;\n\n\t\t\t// ERPNext standard: discount_percentage \u2192 discount_amount \u2192 rate\n\t\t\tif (priceListRate > 0) {\n\t\t\t\tconst discountPercent = flt(item.discount_percentage) || 0;\n\n\t\t\t\tif (discountPercent > 0) {\n\t\t\t\t\t// Calculate discount_amount from percentage\n\t\t\t\t\titem.discount_amount = flt(\n\t\t\t\t\t\t(priceListRate * discountPercent) / 100,\n\t\t\t\t\t\tthis.getPrecision('discount_amount', item),\n\t\t\t\t\t);\n\n\t\t\t\t\t// Calculate rate from price_list_rate - discount_amount\n\t\t\t\t\titem.rate = flt(\n\t\t\t\t\t\tpriceListRate - item.discount_amount,\n\t\t\t\t\t\tthis.getPrecision('rate', item),\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t// No discount\n\t\t\t\t\titem.discount_amount = 0;\n\t\t\t\t\titem.rate = priceListRate;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\titem.rate = priceListRate;\n\t\t\t\titem.discount_amount = 0;\n\t\t\t}\n\n\t\t\t// Calculate final amount\n\t\t\treturn flt(item.rate * qty, this.getPrecision('amount', item));\n\t\t},\n\n\t\t// DEPRECATED: Use calculateItemAmount() instead\n\t\t// Kept for backward compatibility with legacy code\n\t\tcalculateDiscountedPrice(item, discountPercent) {\n\t\t\t// calculateDiscountedPrice is deprecated, use calculateItemAmount (logged to backend only)\n\n\t\t\tconst priceListRate = flt(item.price_list_rate) || 0;\n\t\t\tif (priceListRate <= 0 || discountPercent <= 0) return priceListRate;\n\n\t\t\t// Use ERPNext logic\n\t\t\tconst discountAmount = flt(\n\t\t\t\t(priceListRate * discountPercent) / 100,\n\t\t\t\tthis.getPrecision('discount_amount', item),\n\t\t\t);\n\t\t\treturn flt(priceListRate - discountAmount, this.getPrecision('rate', item));\n\t\t},\n\n\t\tresetInvoiceState() {\n\t\t\tthis.invoiceType = 'Invoice';\n\t\t\tthis.invoiceTypes = ['Invoice'];\n\t\t\tthis.posting_date = frappe.datetime.nowdate();\n\t\t\tthis.items = [];\n\t\t\tthis.posa_offers = [];\n\t\t\tthis.additional_discount_percentage = 0;\n\t\t\tthis.offer_discount_percentage = 0; // Reset offer discount\n\t\t\tevntBus.emit('update_invoice_type', this.invoiceType);\n\t\t\t// Clear invoice doc display in navbar\n\t\t\tevntBus.emit('update_invoice_doc', null);\n\t\t\t// Reset offers in PosOffers component\n\t\t\tevntBus.emit('reset_manual_offers');\n\t\t},\n\n\t\thasValidPayments(invoice_doc = null) {\n\t\t\tconst doc = invoice_doc || this.invoice_doc;\n\n\t\t\t// If credit sale is enabled, allow printing without payments\n\t\t\t// Check for both boolean (true) and number (1) formats for compatibility\n\t\t\tif (doc?.is_credit_sale === true || doc?.is_credit_sale == 1) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// For return invoices: check if \"return from customer credit\" is enabled\n\t\t\t// This switch allows printing return invoices without payments when original invoice was unpaid\n\t\t\t// The amount will be deducted from customer outstanding balance automatically\n\t\t\tif (doc?.is_return && this.posa_use_customer_credit_switch === true) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// For return invoices: check if original invoice was unpaid\n\t\t\t// If unpaid, payments will be 0 and disabled, but printing should still be allowed\n\t\t\tif (doc?.is_return && doc?._original_invoice_payment_info) {\n\t\t\t\tconst origPaid = Math.abs(\n\t\t\t\t\tthis.flt(doc._original_invoice_payment_info.paid_amount || 0),\n\t\t\t\t);\n\t\t\t\t// If original invoice was unpaid (paid_amount <= 0.01), allow printing without payments\n\t\t\t\tif (origPaid <= 0.01) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst hasValid = doc?.payments?.some((p) => Math.abs(this.flt(p.amount)) > 0) || false;\n\t\t\treturn hasValid;\n\t\t},\n\t\tasync create_draft_invoice() {\n\t\t\t// DISABLED: All operations stay __islocal - no auto-saving\n\t\t\tthis.isUpdatingTotals = false;\n\t\t\treturn null;\n\t\t},\n\t\tcreate_invoice(doc) {\n\t\t\t// DISABLED: All operations stay __islocal - no auto-saving\n\t\t\treturn Promise.resolve(null);\n\t\t},\n\n\t\tasync auto_update_invoice(doc = null, reason = 'auto') {\n\t\t\t// DISABLED: All operations stay __islocal - no auto-saving\n\t\t\treturn null;\n\t\t},\n\n\t\tqueue_auto_save(reason = 'auto') {\n\t\t\tif (this.invoice_doc?.submitted_for_payment) {\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\n\t\t\t// Skip auto-save if no items and no invoice doc\n\t\t\tif (this.items.length === 0 && !this.invoice_doc?.name) {\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\n\t\t\t// Simple: just send update immediately\n\t\t\tconst doc = this.get_invoice_doc(reason);\n\t\t\treturn this.auto_update_invoice(doc, reason);\n\t\t},\n\n\t\tasync reload_invoice() {\n\t\t\tif (this.invoice_doc && this.invoice_doc?.name) {\n\t\t\t\ttry {\n\t\t\t\t\tconst result = await frappe.call({\n\t\t\t\t\t\tmethod: 'frappe.client.get',\n\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\tdoctype: 'Sales Invoice',\n\t\t\t\t\t\t\tname: this.invoice_doc?.name,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tif (result.message) {\n\t\t\t\t\t\tthis.invoice_doc = result.message;\n\t\t\t\t\t\tif (result.message.items) {\n\t\t\t\t\t\t\tthis.items = result.message.items;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log('[Invoice.js] loadInvoiceDoc error:', error);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tcancel_invoice() {\n\t\t\t// Cancel Invoice button clicked (logged to backend only)\n\t\t\t// Emit event to clear return invoice highlighting\n\t\t\tevntBus.emit('invoice_submitted');\n\n\t\t\tthis.reset_invoice_session();\n\t\t\tevntBus.emit('show_payment', 'false');\n\t\t},\n\n\t\t// Smart Draft Button Handler\n\t\tasync handleDraftButton() {\n\t\t\tif (this.hasItems) {\n\t\t\t\t// Save current invoice as draft\n\t\t\t\tawait this.save_draft_invoice();\n\t\t\t} else {\n\t\t\t\t// Load draft invoice\n\t\t\t\tawait this.load_draft_invoice();\n\t\t\t}\n\t\t},\n\n\t\t// Save current invoice as draft\n\t\tasync save_draft_invoice() {\n\t\t\tif (!this.items || this.items.length === 0) {\n\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\ttext: '\u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0635\u0646\u0627\u0641 \u0644\u0644\u062D\u0641\u0638',\n\t\t\t\t\tcolor: 'warning',\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst doc = this.get_invoice_doc('draft');\n\t\t\t\tthis.calculateTotalsLocally(doc);\n\n\t\t\t\t// Mark as draft (not submitted)\n\t\t\t\tdoc.__islocal = 1;\n\t\t\t\tdoc.docstatus = 0;\n\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: API_MAP.SALES_INVOICE.SAVE_DRAFT,\n\t\t\t\t\targs: {\n\t\t\t\t\t\tinvoice_doc: doc,\n\t\t\t\t\t},\n\t\t\t\t\tcallback: (r) => {\n\t\t\t\t\t\tif (r.message) {\n\t\t\t\t\t\t\tconsole.log('[Invoice.js] Draft saved:', r.message.name);\n\t\t\t\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\t\t\t\ttext: `\u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629: ${r.message.name}`,\n\t\t\t\t\t\t\t\tcolor: 'success',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// Clear current invoice after saving\n\t\t\t\t\t\t\tthis.reset_invoice_session();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror: (err) => {\n\t\t\t\t\t\tconsole.log('[Invoice.js] save_draft_invoice error:', err);\n\t\t\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\t\t\ttext: '\u0641\u0634\u0644 \u062D\u0641\u0638 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629',\n\t\t\t\t\t\t\tcolor: 'error',\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[Invoice.js] save_draft_invoice error:', error);\n\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\ttext: '\u0641\u0634\u0644 \u062D\u0641\u0638 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629',\n\t\t\t\t\tcolor: 'error',\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t// Load draft invoice\n\t\tasync load_draft_invoice() {\n\t\t\ttry {\n\t\t\t\tconst pos_opening_shift_name = this.pos_opening_shift?.name;\n\t\t\t\tconsole.log(\n\t\t\t\t\t'[Invoice.js] Loading draft invoices, pos_opening_shift:',\n\t\t\t\t\tpos_opening_shift_name,\n\t\t\t\t);\n\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: API_MAP.SALES_INVOICE.GET_DRAFTS,\n\t\t\t\t\targs: {\n\t\t\t\t\t\tpos_opening_shift: pos_opening_shift_name,\n\t\t\t\t\t},\n\t\t\t\t\tcallback: (r) => {\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t'[Invoice.js] Draft invoices response:',\n\t\t\t\t\t\t\tr.message?.length || 0,\n\t\t\t\t\t\t\t'invoices',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (r.message && r.message.length > 0) {\n\t\t\t\t\t\t\t// Open drafts dialog with fresh data from server\n\t\t\t\t\t\t\tevntBus.emit('open_drafts_dialog', r.message);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\t\t\t\ttext: '\u0644\u0627 \u062A\u0648\u062C\u062F \u0641\u0648\u0627\u062A\u064A\u0631 \u0645\u0633\u0648\u062F\u0629',\n\t\t\t\t\t\t\t\tcolor: 'info',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror: (err) => {\n\t\t\t\t\t\tconsole.log('[Invoice.js] load_draft_invoice error:', err);\n\t\t\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\t\t\ttext: '\u0641\u0634\u0644 \u062C\u0644\u0628 \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0633\u0648\u062F\u0629',\n\t\t\t\t\t\t\tcolor: 'error',\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[Invoice.js] load_draft_invoice error:', error);\n\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\ttext: '\u0641\u0634\u0644 \u062C\u0644\u0628 \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0633\u0648\u062F\u0629',\n\t\t\t\t\tcolor: 'error',\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\treset_invoice_session() {\n\t\t\tthis.resetInvoiceState();\n\t\t\tthis.return_doc = null;\n\t\t\tthis.invoice_doc = '';\n\t\t\tthis.quick_return_value = false;\n\t\t\tthis.invoiceType = 'Invoice';\n\t\t\tthis.invoiceTypes = ['Invoice'];\n\n\t\t\t// Reset all UI states\n\t\t\tevntBus.emit('set_customer_readonly', false);\n\t\t\tevntBus.emit('update_invoice_type', this.invoiceType);\n\t\t\tevntBus.emit('toggle_quick_return', false);\n\t\t\tevntBus.emit('update_invoice_doc', null);\n\n\t\t\tthis.customer = this.pos_profile?.customer || this.customer;\n\t\t\tthis._lastCustomer = null; // Clear customer cache\n\t\t\tthis.posa_use_customer_credit_switch = false; // Reset switch\n\n\t\t\t// Recalculate offers for new session with default customer\n\t\t\tthis.calculateAndApplyOffers();\n\t\t},\n\n\t\tnew_invoice(data = {}) {\n\t\t\t// Emit event to notify other components (e.g., ItemsSelector) that a new invoice is being created\n\t\t\tevntBus.emit('new_invoice', data);\n\n\t\t\tevntBus.emit('set_customer_readonly', false);\n\t\t\tthis.posa_offers = [];\n\t\t\tthis.return_doc = '';\n\n\t\t\t// previous invoice is automatically discarded\n\t\t\tif (!data.name && !data.is_return) {\n\t\t\t\tthis.items = [];\n\t\t\t\tthis.customer = this.pos_profile?.customer;\n\t\t\t\tthis.invoice_doc = '';\n\t\t\t\tthis.additional_discount_percentage = 0;\n\t\t\t\tthis.invoiceType = 'Invoice';\n\t\t\t\tthis.invoiceTypes = ['Invoice'];\n\t\t\t\tevntBus.emit('update_invoice_type', this.invoiceType);\n\t\t\t} else {\n\t\t\t\tif (data.is_return) {\n\t\t\t\t\tevntBus.emit('set_customer_readonly', true);\n\t\t\t\t\tthis.invoiceType = 'Return';\n\t\t\t\t\tthis.invoiceTypes = ['Return'];\n\t\t\t\t\tevntBus.emit('update_invoice_type', this.invoiceType);\n\t\t\t\t}\n\t\t\t\tthis.invoice_doc = data;\n\t\t\t\tthis.items = data.items || [];\n\n\t\t\t\t// Emit invoice_doc to Navbar for display\n\t\t\t\tevntBus.emit('update_invoice_doc', data);\n\n\t\t\t\t// Update items with POS-specific fields if needed\n\t\t\t\tthis.items.forEach((item) => {\n\t\t\t\t\tif (!item.posa_row_id) {\n\t\t\t\t\t\titem.posa_row_id = this.makeid(20);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Store original return quantity to prevent increasing beyond it\n\t\t\t\t\tif (data.is_return && item.qty) {\n\t\t\t\t\t\titem.original_return_qty = Math.abs(item.qty); // Store as positive number\n\t\t\t\t\t\titem.max_qty = Math.abs(item.qty); // Maximum allowed quantity\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.posa_offers = (data.posa_offers || []).map((offer) => ({\n\t\t\t\t\t...offer,\n\t\t\t\t\toffer_applied: true,\n\t\t\t\t}));\n\t\t\t\tthis.items.forEach((item) => {\n\t\t\t\t\titem.base_rate = item.base_rate || item.price_list_rate;\n\t\t\t\t\tif (!item.posa_row_id) {\n\t\t\t\t\t\titem.posa_row_id = this.makeid(20);\n\t\t\t\t\t}\n\t\t\t\t\tif (item.batch_no) {\n\t\t\t\t\t\tthis.set_batch_qty(item, item.batch_no);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.setCustomer(data.customer);\n\t\t\t\tthis.posting_date = data.posting_date || frappe.datetime.nowdate();\n\n\t\t\t\tthis.additional_discount_percentage = data.additional_discount_percentage;\n\t\t\t\tthis.items.forEach((item) => {\n\t\t\t\t\tif (item.serial_no) {\n\t\t\t\t\t\titem.serial_no_selected = [];\n\t\t\t\t\t\tconst serial_list = item.serial_no.split('\\n');\n\t\t\t\t\t\tserial_list.forEach((element) => {\n\t\t\t\t\t\t\tif (element.length) {\n\t\t\t\t\t\t\t\titem.serial_no_selected.push(element);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\titem.serial_no_selected_count = item.serial_no_selected.length;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tget_invoice_doc(reason = 'auto') {\n\t\t\tconst isPaymentFlow = reason === 'payment' || reason === 'print';\n\t\t\tconst doc = {};\n\n\t\t\t// Always create a new invoice if no invoice exists or if we have items but no invoice name\n\t\t\tif (\n\t\t\t\tthis.invoice_doc &&\n\t\t\t\tthis.invoice_doc?.name &&\n\t\t\t\t!this.invoice_doc?.submitted_for_payment\n\t\t\t) {\n\t\t\t\tdoc.name = this.invoice_doc?.name;\n\t\t\t\t// Include docstatus if available (for draft invoices)\n\t\t\t\tif (this.invoice_doc?.docstatus !== undefined) {\n\t\t\t\t\tdoc.docstatus = this.invoice_doc.docstatus;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdoc.doctype = 'Sales Invoice';\n\t\t\tdoc.is_pos = 1;\n\t\t\tdoc.ignore_pricing_rule = 1;\n\t\t\tdoc.company = this.pos_profile?.company;\n\t\t\tdoc.pos_profile = this.pos_profile?.name;\n\t\t\tdoc.currency = this.pos_profile?.currency;\n\t\t\tdoc.naming_series = this.pos_profile?.naming_series;\n\t\t\tdoc.customer = this.customer;\n\t\t\tdoc.posting_date = this.posting_date;\n\t\t\tdoc.posa_pos_opening_shift = this.pos_opening_shift\n\t\t\t\t? this.pos_opening_shift.name\n\t\t\t\t: null;\n\n\t\t\tdoc.items = this.get_invoice_items_minimal();\n\n\t\t\t// Discount fields (ERPNext standard)\n\t\t\tdoc.additional_discount_percentage = flt(this.additional_discount_percentage);\n\t\t\t// Read apply_discount_on from POS Profile\n\t\t\tdoc.apply_discount_on = this.pos_profile?.apply_discount_on || 'Net Total';\n\n\t\t\t// Let backend calculate discount_amount (or send calculated value)\n\t\t\tif (this.discount_amount) {\n\t\t\t\tdoc.discount_amount = flt(this.discount_amount);\n\t\t\t}\n\n\t\t\t// Optional fields\n\t\t\tif (this.is_cash_or_non_trade_discount) {\n\t\t\t\tdoc.is_cash_or_non_trade_discount = this.is_cash_or_non_trade_discount;\n\t\t\t}\n\t\t\tif (this.additional_discount_account) {\n\t\t\t\tdoc.additional_discount_account = this.additional_discount_account;\n\t\t\t}\n\n\t\t\tdoc.posa_offers = this.posa_offers;\n\t\t\tif (isPaymentFlow) {\n\t\t\t\tdoc.payments = this.get_payments();\n\t\t\t}\n\n\t\t\tif (this.invoice_doc) {\n\t\t\t\tdoc.is_return = this.invoice_doc?.is_return;\n\t\t\t\tdoc.return_against = this.invoice_doc?.return_against;\n\t\t\t\t// Copy credit sale status if it exists\n\t\t\t\tif (this.invoice_doc?.is_credit_sale !== undefined) {\n\t\t\t\t\tdoc.is_credit_sale =\n\t\t\t\t\t\tthis.invoice_doc.is_credit_sale === true ||\n\t\t\t\t\t\tthis.invoice_doc.is_credit_sale == 1;\n\t\t\t\t}\n\t\t\t\t// Copy due_date if credit sale is enabled\n\t\t\t\tif (doc.is_credit_sale && this.invoice_doc?.due_date) {\n\t\t\t\t\tdoc.due_date = this.invoice_doc.due_date;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn doc;\n\t\t},\n\n\t\tget_invoice_items_minimal() {\n\t\t\treturn this.items.map((item) => {\n\t\t\t\tlet qty = item.qty || 1;\n\n\t\t\t\tif (this.invoice_doc?.is_return || this.quick_return_value) {\n\t\t\t\t\tqty = -Math.abs(qty);\n\t\t\t\t}\n\n\t\t\t\tconst payload = {\n\t\t\t\t\titem_code: item.item_code,\n\t\t\t\t\tqty,\n\t\t\t\t\trate: flt(item.rate, this.getPrecision('rate', item)),\n\t\t\t\t\tprice_list_rate: flt(\n\t\t\t\t\t\titem.price_list_rate,\n\t\t\t\t\t\tthis.getPrecision('price_list_rate', item),\n\t\t\t\t\t),\n\t\t\t\t\tdiscount_percentage: flt(\n\t\t\t\t\t\titem.discount_percentage || 0,\n\t\t\t\t\t\tthis.getPrecision('discount_percentage', item),\n\t\t\t\t\t),\n\t\t\t\t\tdiscount_amount: flt(\n\t\t\t\t\t\titem.discount_amount || 0,\n\t\t\t\t\t\tthis.getPrecision('discount_amount', item),\n\t\t\t\t\t),\n\t\t\t\t\tuom: item.uom || item.stock_uom,\n\t\t\t\t\tserial_no: item.serial_no,\n\t\t\t\t\tbatch_no: item.batch_no,\n\t\t\t\t};\n\n\t\t\t\tif (item.sales_invoice_item) {\n\t\t\t\t\tpayload.sales_invoice_item = item.sales_invoice_item;\n\t\t\t\t\tpayload.si_detail = item.si_detail || item.sales_invoice_item;\n\t\t\t\t}\n\n\t\t\t\treturn payload;\n\t\t\t});\n\t\t},\n\n\t\tget_payments() {\n\t\t\tlet payments = [];\n\n\t\t\t// If there are existing payments in the current invoice\n\t\t\tif (\n\t\t\t\tthis.invoice_doc &&\n\t\t\t\tArray.isArray(this.invoice_doc?.payments) &&\n\t\t\t\tthis.invoice_doc?.payments.length\n\t\t\t) {\n\t\t\t\tpayments = this.invoice_doc.payments.map((p) => ({\n\t\t\t\t\tamount: this.flt(p.amount),\n\t\t\t\t\tmode_of_payment: p.mode_of_payment,\n\t\t\t\t\tdefault: p.default,\n\t\t\t\t\taccount: p.account || '',\n\t\t\t\t\tidx: p.idx,\n\t\t\t\t}));\n\t\t\t} else if (this.pos_profile && Array.isArray(this.pos_profile?.payments)) {\n\t\t\t\tlet hasDefault = false;\n\n\t\t\t\tthis.pos_profile?.payments.forEach((payment, index) => {\n\t\t\t\t\tif (payment.default) hasDefault = true;\n\t\t\t\t\tpayments.push({\n\t\t\t\t\t\tamount: 0,\n\t\t\t\t\t\tmode_of_payment: payment.mode_of_payment,\n\t\t\t\t\t\tdefault: payment.default,\n\t\t\t\t\t\taccount: payment.account || '',\n\t\t\t\t\t\tidx: index + 1,\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tif (!hasDefault && payments.length > 0) payments[0].default = 1;\n\t\t\t}\n\n\t\t\t// --- Payment validation using grand_total only ---\n\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\tconst totalTarget = this.invoice_doc?.grand_total;\n\t\t\tlet totalPayments = payments.reduce((sum, p) => sum + p.amount, 0);\n\t\t\tlet diff = totalPayments - totalTarget;\n\n\t\t\t// Adjust first payment to match rounded total (within reasonable tolerance)\n\t\t\tif (Math.abs(diff) >= 0.01 && Math.abs(diff) <= 1.0 && payments.length > 0) {\n\t\t\t\tpayments[0].amount = this.flt(payments[0].amount - diff);\n\t\t\t}\n\n\t\t\treturn payments;\n\t\t},\n\n\t\tupdate_invoice(doc) {\n\t\t\tconst vm = this;\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t// Ensure we have an invoice name for updates\n\t\t\t\tif (!doc.name) {\n\t\t\t\t\treject(new Error('Invoice name required for updates'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: API_MAP.SALES_INVOICE.UPDATE,\n\t\t\t\t\targs: {\n\t\t\t\t\t\tdata: doc,\n\t\t\t\t\t},\n\t\t\t\t\tasync: true,\n\t\t\t\t\tcallback: function (r) {\n\t\t\t\t\t\tif (r.message !== undefined) {\n\t\t\t\t\t\t\tif (r.message === null) {\n\t\t\t\t\t\t\t\tvm.invoice_doc = null;\n\t\t\t\t\t\t\t\tvm.items = [];\n\t\t\t\t\t\t\t\tresolve(null);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvm.invoice_doc = r.message;\n\n\t\t\t\t\t\t\t\t// Update posa_offers from backend response\n\t\t\t\t\t\t\t\tif (r.message.posa_offers) {\n\t\t\t\t\t\t\t\t\t// Mark all offers from backend as applied since they are saved in the invoice\n\t\t\t\t\t\t\t\t\tvm.posa_offers = r.message.posa_offers.map((offer) => ({\n\t\t\t\t\t\t\t\t\t\t...offer,\n\t\t\t\t\t\t\t\t\t\toffer_applied: true,\n\t\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t\t// Handle Transaction-level Percentage Discount Offers\n\t\t\t\t\t\t\t\t\tlet transactionDiscount = 0;\n\t\t\t\t\t\t\t\t\tconst appliedTransactionOffer = vm.posa_offers.find(\n\t\t\t\t\t\t\t\t\t\t(offer) => offer.offer_applied,\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tif (appliedTransactionOffer) {\n\t\t\t\t\t\t\t\t\t\ttransactionDiscount = flt(\n\t\t\t\t\t\t\t\t\t\t\tappliedTransactionOffer.discount_percentage,\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tvm.additional_discount_percentage = transactionDiscount;\n\t\t\t\t\t\t\t\t\t\t// Store the origin of the discount\n\t\t\t\t\t\t\t\t\t\tvm.offer_discount_percentage = transactionDiscount;\n\t\t\t\t\t\t\t\t\t} else if (vm.offer_discount_percentage > 0) {\n\t\t\t\t\t\t\t\t\t\t// If the offer was applied but is now removed, clear it.\n\t\t\t\t\t\t\t\t\t\tvm.offer_discount_percentage = 0;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Emit event for navbar to update invoice display\n\t\t\t\t\t\t\t\t\tevntBus.emit('update_invoice_doc', vm.invoice_doc);\n\n\t\t\t\t\t\t\t\t\tconst appliedOffers = vm.posa_offers.filter(\n\t\t\t\t\t\t\t\t\t\t(offer) => offer.offer_applied,\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tif (appliedOffers.length > 0) {\n\t\t\t\t\t\t\t\t\t\tevntBus.emit('update_pos_offers', appliedOffers);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tresolve(vm.invoice_doc);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(new Error('Failed to update invoice'));\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror: function (err) {\n\t\t\t\t\t\tif (err.message && err.message.includes('Document has been modified')) {\n\t\t\t\t\t\t\tvm.reload_invoice()\n\t\t\t\t\t\t\t\t.then(() => resolve(vm.invoice_doc))\n\t\t\t\t\t\t\t\t.catch((reloadError) => {\n\t\t\t\t\t\t\t\t\treject(reloadError);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tasync process_invoice() {\n\t\t\t// Use get_invoice_doc to build the complete document\n\t\t\tconst doc = this.get_invoice_doc('payment');\n\n\t\t\t// Calculate totals locally\n\t\t\tthis.calculateTotalsLocally(doc);\n\n\t\t\t// Copy totals to invoice_doc to preserve them\n\t\t\tif (!this.invoice_doc) {\n\t\t\t\tthis.invoice_doc = {};\n\t\t\t}\n\t\t\tthis.invoice_doc.total = doc.total;\n\t\t\tthis.invoice_doc.total_qty = doc.total_qty;\n\t\t\tthis.invoice_doc.posa_item_discount_total = doc.posa_item_discount_total;\n\t\t\tthis.invoice_doc.discount_amount = doc.discount_amount;\n\t\t\tthis.invoice_doc.net_total = doc.net_total;\n\t\t\tthis.invoice_doc.grand_total = doc.grand_total;\n\t\t\t// Do not set rounded_total - following user requirement: no rounded_total dependency\n\t\t\t// Do not set rounding_adjustment - following user requirement: no rounding logic\n\t\t\tthis.invoice_doc.items = doc.items;\n\n\t\t\treturn doc;\n\t\t},\n\n\t\tasync show_payment() {\n\t\t\t// Pay button clicked (logged to backend only)\n\t\t\t// Loading...\n\t\t\tevntBus.emit('show_loading', { text: '\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...', color: 'info' });\n\n\t\t\ttry {\n\t\t\t\t// Force fresh calculation of all totals before opening payment window\n\t\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\t\tthis.updateInvoiceDocLocally();\n\n\t\t\t\tconst invoice_doc = await this.process_invoice();\n\n\t\t\t\t// Invoice totals (logged to backend only)\n\n\t\t\t\t// Add default payment method if no payments exist\n\t\t\t\tif (!invoice_doc?.payments || invoice_doc?.payments.length === 0) {\n\t\t\t\t\t// Adding default payment\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst defaultPayment = await frappe.call({\n\t\t\t\t\t\t\tmethod: API_MAP.POS_PROFILE.GET_DEFAULT_PAYMENT,\n\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\tpos_profile: this.pos_profile?.name,\n\t\t\t\t\t\t\t\tcompany:\n\t\t\t\t\t\t\t\t\tthis.pos_profile?.company ||\n\t\t\t\t\t\t\t\t\tfrappe.defaults.get_user_default('Company'),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (defaultPayment.message) {\n\t\t\t\t\t\t\tinvoice_doc.payments = [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmode_of_payment: defaultPayment.message.mode_of_payment,\n\t\t\t\t\t\t\t\t\t// Use grand_total only, no rounding\n\t\t\t\t\t\t\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\t\t\t\t\t\t\tamount: flt(invoice_doc?.grand_total),\n\t\t\t\t\t\t\t\t\taccount: defaultPayment.message.account,\n\t\t\t\t\t\t\t\t\tdefault: 1,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t// Default payment added\n\n\t\t\t\t\t\t\t// In __islocal approach: do not save on server\n\t\t\t\t\t\t\t// Payment stays local until Print\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.log('[Invoice.js] getDefaultPayment error:', error);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tevntBus.emit('send_invoice_doc_payment', invoice_doc);\n\t\t\t\tevntBus.emit('show_payment', 'true');\n\n\t\t\t\tthis.posa_offers = [];\n\n\t\t\t\tif (this.pos_profile?.posa_clear_customer_after_payment) {\n\t\t\t\t\tthis.setCustomer(this.pos_profile?.customer);\n\t\t\t\t}\n\n\t\t\t\tevntBus.emit('invoice_session_reset');\n\t\t\t\tevntBus.emit('hide_loading');\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[Invoice.js] prepareInvoice error:', error);\n\t\t\t\tevntBus.emit('hide_loading');\n\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\ttext: '\u062E\u0637\u0623 \u0641\u064A \u0625\u0639\u062F\u0627\u062F \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629: ' + error.message,\n\t\t\t\t\tcolor: 'error',\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\topen_returns() {\n\t\t\t// Return button clicked (logged to backend only)\n\t\t\tif (!this.pos_profile?.posa_allow_return) return;\n\n\t\t\tevntBus.emit('open_returns', {\n\t\t\t\tpos_profile: this.pos_profile,\n\t\t\t\tpos_opening_shift: this.pos_opening_shift || null,\n\t\t\t});\n\t\t},\n\n\t\tclose_payments() {\n\t\t\tevntBus.emit('show_payment', 'false');\n\t\t},\n\n\t\tsetCustomer(customer) {\n\t\t\tthis.customer = customer;\n\t\t\tthis.close_payments();\n\t\t\tevntBus.emit('set_customer', this.customer);\n\t\t\tif (this.invoice_doc) {\n\t\t\t\tthis.invoice_doc.contact_person = '';\n\t\t\t\tthis.invoice_doc.contact_email = '';\n\t\t\t\tthis.invoice_doc.contact_mobile = '';\n\t\t\t}\n\t\t\tthis.fetch_customer_details();\n\t\t},\n\n\t\tfetch_customer_details() {\n\t\t\tconst vm = this;\n\t\t\tif (this.customer) {\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: API_MAP.CUSTOMER.GET_CUSTOMER,\n\t\t\t\t\targs: {\n\t\t\t\t\t\tcustomer_id: vm.customer,\n\t\t\t\t\t},\n\t\t\t\t\tasync: false,\n\t\t\t\t\tcallback: (r) => {\n\t\t\t\t\t\tconst message = r.message;\n\t\t\t\t\t\tif (!r.exc) {\n\t\t\t\t\t\t\tvm.customer_info = {\n\t\t\t\t\t\t\t\t...message,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tevntBus.emit('set_customer_info_to_edit', vm.customer_info);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvm.update_price_list();\n\n\t\t\t\t\t\t// ===== RECALCULATE OFFERS WITH CUSTOMER INFO =====\n\t\t\t\t\t\tvm.calculateAndApplyOffers();\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tget_price_list() {\n\t\t\tlet price_list = this.pos_profile?.selling_price_list;\n\t\t\tif (this.customer_info && this.pos_profile) {\n\t\t\t\tconst { customer_price_list, customer_group_price_list } = this.customer_info;\n\t\t\t\tconst pos_price_list = this.pos_profile?.selling_price_list;\n\t\t\t\tif (customer_price_list && customer_price_list != pos_price_list) {\n\t\t\t\t\tprice_list = customer_price_list;\n\t\t\t\t} else if (\n\t\t\t\t\tcustomer_group_price_list &&\n\t\t\t\t\tcustomer_group_price_list != pos_price_list\n\t\t\t\t) {\n\t\t\t\t\tprice_list = customer_group_price_list;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn price_list;\n\t\t},\n\n\t\tsetDiscountPercentage(item, event) {\n\t\t\t// Check permission to edit item discounts\n\t\t\tif (!this.pos_profile?.posa_allow_user_to_edit_item_discount) {\n\t\t\t\t// Item discount editing is not allowed in this POS Profile\n\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\ttext: '\u062A\u0639\u062F\u064A\u0644 \u062E\u0635\u0645 \u0627\u0644\u0635\u0646\u0641 \u063A\u064A\u0631 \u0645\u0633\u0645\u0648\u062D \u0641\u064A \u0645\u0644\u0641 \u0646\u0642\u0637\u0629 \u0627\u0644\u0628\u064A\u0639 \u0647\u0630\u0627',\n\t\t\t\t\tcolor: 'warning',\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet dis_percent = parseFloat(event.target.value) || 0;\n\t\t\tconst maxDiscount = this.pos_profile?.posa_item_max_discount_allowed || 100;\n\n\t\t\tif (dis_percent < 0) dis_percent = 0;\n\t\t\tif (dis_percent > maxDiscount) {\n\t\t\t\tdis_percent = maxDiscount;\n\t\t\t\t// Maximum discount applied\n\t\t\t}\n\n\t\t\titem.discount_percentage = dis_percent;\n\n\t\t\t// ERPNext logic: percentage \u2192 discount_amount \u2192 rate\n\t\t\tconst priceListRate = flt(item.price_list_rate) || 0;\n\t\t\tif (priceListRate > 0) {\n\t\t\t\tif (dis_percent > 0) {\n\t\t\t\t\titem.discount_amount = flt(\n\t\t\t\t\t\t(priceListRate * dis_percent) / 100,\n\t\t\t\t\t\tthis.getPrecision('discount_amount', item),\n\t\t\t\t\t);\n\t\t\t\t\titem.rate = flt(\n\t\t\t\t\t\tpriceListRate - item.discount_amount,\n\t\t\t\t\t\tthis.getPrecision('rate', item),\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\titem.discount_amount = 0;\n\t\t\t\t\titem.rate = priceListRate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.amount = this.calculateItemAmount(item);\n\t\t\tthis.updateInvoiceDocLocally();\n\t\t},\n\n\t\tsetItemRate(item, event) {\n\t\t\t// Check permission to edit item discounts\n\t\t\tif (!this.pos_profile?.posa_allow_user_to_edit_item_discount) {\n\t\t\t\t// Item rate editing is not allowed in this POS Profile\n\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\ttext: '\u062A\u0639\u062F\u064A\u0644 \u0633\u0639\u0631 \u0627\u0644\u0635\u0646\u0641 \u063A\u064A\u0631 \u0645\u0633\u0645\u0648\u062D \u0641\u064A \u0645\u0644\u0641 \u0646\u0642\u0637\u0629 \u0627\u0644\u0628\u064A\u0639 \u0647\u0630\u0627',\n\t\t\t\t\tcolor: 'warning',\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Parse input value from text field\n\t\t\t// Remove commas and parse as float to preserve exact decimal precision\n\t\t\t// Following user requirement: no rounding logic at all\n\t\t\tlet inputValue = event.target.value.toString().replace(/,/g, '');\n\t\t\tlet newRate = parseFloat(inputValue) || 0;\n\t\t\tconst priceListRate = flt(item.price_list_rate) || 0;\n\n\t\t\tif (newRate < 0) newRate = 0;\n\t\t\tif (newRate > priceListRate) {\n\t\t\t\tnewRate = priceListRate;\n\t\t\t\t// Price exceeds list price\n\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\ttext: '\u0627\u0644\u0633\u0639\u0631 \u064A\u062A\u062C\u0627\u0648\u0632 \u0633\u0639\u0631 \u0627\u0644\u0642\u0627\u0626\u0645\u0629',\n\t\t\t\t\tcolor: 'error',\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// ERPNext reverse logic: rate \u2192 discount_amount \u2192 percentage\n\t\t\tif (priceListRate > 0) {\n\t\t\t\titem.discount_amount = flt(\n\t\t\t\t\tpriceListRate - newRate,\n\t\t\t\t\tthis.getPrecision('discount_amount', item),\n\t\t\t\t);\n\t\t\t\titem.discount_percentage = flt(\n\t\t\t\t\t(100 * item.discount_amount) / priceListRate,\n\t\t\t\t\tthis.getPrecision('discount_percentage', item),\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\titem.discount_amount = 0;\n\t\t\t\titem.discount_percentage = 0;\n\t\t\t}\n\n\t\t\t// Validate max discount\n\t\t\tconst maxDiscount = this.pos_profile?.posa_item_max_discount_allowed || 100;\n\t\t\tif (item.discount_percentage > maxDiscount) {\n\t\t\t\titem.discount_percentage = maxDiscount;\n\t\t\t\titem.discount_amount = flt(\n\t\t\t\t\t(priceListRate * maxDiscount) / 100,\n\t\t\t\t\tthis.getPrecision('discount_amount', item),\n\t\t\t\t);\n\t\t\t\tnewRate = flt(\n\t\t\t\t\tpriceListRate - item.discount_amount,\n\t\t\t\t\tthis.getPrecision('rate', item),\n\t\t\t\t);\n\t\t\t\t// Maximum discount applied\n\t\t\t}\n\n\t\t\titem.rate = newRate;\n\t\t\titem.amount = this.calculateItemAmount(item);\n\t\t\tthis.updateInvoiceDocLocally();\n\n\t\t\t// Item field change (logged to backend only)\n\t\t},\n\n\t\tupdate_price_list() {\n\t\t\tlet price_list = this.get_price_list();\n\t\t\tif (price_list == this.pos_profile?.selling_price_list) {\n\t\t\t\tprice_list = null;\n\t\t\t}\n\t\t\tevntBus.emit('update_customer_price_list', price_list);\n\t\t},\n\n\t\tonDiscountInput(event) {\n\t\t\t// Only allow input if user has permission to edit Invoice_discount\n\t\t\tif (!this.pos_profile?.posa_allow_user_to_edit_additional_discount) {\n\t\t\t\treturn; // User not allowed to edit manually\n\t\t\t}\n\n\t\t\t// Handle input as user types - update the value immediately\n\t\t\tconst value = flt(event.target.value) || 0;\n\t\t\tthis.additional_discount_percentage = value;\n\n\t\t\tthis.update_discount_umount();\n\t\t},\n\n\t\tonDiscountBlur() {\n\t\t\t// Validate and sync when focus leaves the field\n\t\t\tthis.update_discount_umount();\n\t\t},\n\n\t\tupdate_discount_umount() {\n\t\t\t// If user is not allowed to edit, but we have an offer discount, use it\n\t\t\tif (!this.pos_profile?.posa_allow_user_to_edit_additional_discount) {\n\t\t\t\t// Allow automatic offers to set discount even if manual edit is disabled\n\t\t\t\tif (\n\t\t\t\t\tthis.offer_discount_percentage > 0 &&\n\t\t\t\t\tthis.additional_discount_percentage > 0\n\t\t\t\t) {\n\t\t\t\t\t// Keep discount\n\t\t\t\t} else {\n\t\t\t\t\t// No active offer - reset to invoice default\n\t\t\t\t\tthis.additional_discount_percentage =\n\t\t\t\t\t\tthis.invoice_doc?.additional_discount_percentage || 0;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst value = flt(this.additional_discount_percentage) || 0;\n\t\t\tconst maxDiscount = this.pos_profile?.posa_invoice_max_discount_allowed || 100;\n\n\t\t\tif (value < 0) {\n\t\t\t\tthis.additional_discount_percentage = 0;\n\t\t\t} else if (value > maxDiscount) {\n\t\t\t\tthis.additional_discount_percentage = maxDiscount;\n\t\t\t}\n\n\t\t\t// Clear offer tracking if manually changed\n\t\t\tif (\n\t\t\t\tthis.offer_discount_percentage > 0 &&\n\t\t\t\tthis.additional_discount_percentage !== this.offer_discount_percentage\n\t\t\t) {\n\t\t\t\tthis.offer_discount_percentage = 0;\n\t\t\t}\n\n\t\t\tthis.updateInvoiceDocLocally();\n\t\t},\n\n\t\tset_serial_no(item) {\n\t\t\tif (!item.has_serial_no) return;\n\t\t\titem.serial_no = '';\n\t\t\titem.serial_no_selected.forEach((element) => {\n\t\t\t\titem.serial_no += element + '\\n';\n\t\t\t});\n\t\t\titem.serial_no_selected_count = item.serial_no_selected.length;\n\t\t\tif (item.serial_no_selected_count != item.stock_qty) {\n\t\t\t\titem.qty = item.serial_no_selected_count;\n\t\t\t\t// Vue 3 reactive update - no need for $set\n\t\t\t\tthis.$forceUpdate();\n\t\t\t}\n\t\t},\n\n\t\tset_batch_qty(item, value, update = true) {\n\t\t\tif (!item.batch_no_data || !Array.isArray(item.batch_no_data)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst vm = this;\n\t\t\tfrappe.call({\n\t\t\t\tmethod: API_MAP.ITEM.PROCESS_BATCH_SELECTION,\n\t\t\t\targs: {\n\t\t\t\t\titem_code: item.item_code,\n\t\t\t\t\tcurrent_item_row_id: item.posa_row_id,\n\t\t\t\t\texisting_items_data: this.items,\n\t\t\t\t\tbatch_no_data: item.batch_no_data,\n\t\t\t\t\tpreferred_batch_no: value || null,\n\t\t\t\t},\n\t\t\t\tasync: false,\n\t\t\t\tcallback: function (r) {\n\t\t\t\t\tif (r.message && r.message.success) {\n\t\t\t\t\t\tconst result = r.message;\n\t\t\t\t\t\tconst selectedBatch = result.selected_batch;\n\n\t\t\t\t\t\titem.batch_no = selectedBatch.batch_no;\n\t\t\t\t\t\titem.actual_batch_qty = selectedBatch.actual_batch_qty;\n\t\t\t\t\t\titem.batch_no_expiry_date = selectedBatch.expiry_date;\n\t\t\t\t\t\titem.batch_no_data = result.batch_data;\n\n\t\t\t\t\t\tif (selectedBatch.batch_price) {\n\t\t\t\t\t\t\titem.batch_price = selectedBatch.batch_price;\n\t\t\t\t\t\t\titem.price_list_rate = selectedBatch.batch_price;\n\t\t\t\t\t\t\titem.rate = selectedBatch.batch_price;\n\t\t\t\t\t\t} else if (update) {\n\t\t\t\t\t\t\titem.batch_price = null;\n\t\t\t\t\t\t\tvm.update_item_detail(item);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Trigger reactivity without full re-render\n\t\t\t\t\t\tvm.$nextTick();\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.batch_no = null;\n\t\t\t\t\t\titem.actual_batch_qty = null;\n\t\t\t\t\t\titem.batch_no_expiry_date = null;\n\t\t\t\t\t\titem.batch_price = null;\n\t\t\t\t\t\titem.batch_no_data = r.message?.batch_data || [];\n\n\t\t\t\t\t\tif (r.message?.message) {\n\t\t\t\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\t\t\t\ttext: r.message.message,\n\t\t\t\t\t\t\t\tcolor: 'warning',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Use nextTick instead of forceUpdate\n\t\t\t\t\t\tvm.$nextTick();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function (err) {\n\t\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\t\ttext: '\u062E\u0637\u0623 \u0641\u064A \u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0628\u0627\u062A\u0634: ' + (err.message || '\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641'),\n\t\t\t\t\t\tcolor: 'error',\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\tshortOpenPayment(e) {\n\t\t\tif (e.key === 's' && (e.ctrlKey || e.metaKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.show_payment();\n\t\t\t}\n\t\t},\n\n\t\tshortDeleteFirstItem(e) {\n\t\t\tif (e.key === 'd' && (e.ctrlKey || e.metaKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.remove_item(this.items[0]);\n\t\t\t}\n\t\t},\n\n\t\tshortOpenFirstItem(e) {\n\t\t\tif (e.key === 'a' && (e.ctrlKey || e.metaKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.expanded = [];\n\t\t\t\tthis.expanded.push(this.items[0]);\n\t\t\t}\n\t\t},\n\n\t\tshortSelectDiscount(e) {\n\t\t\tif (e.key === 'z' && (e.ctrlKey || e.metaKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.$refs.discount.focus();\n\t\t\t}\n\t\t},\n\n\t\tmakeid(length) {\n\t\t\treturn crypto.randomUUID\n\t\t\t\t? crypto.randomUUID().substring(0, length)\n\t\t\t\t: Math.random()\n\t\t\t\t\t\t.toString(36)\n\t\t\t\t\t\t.substring(2, 2 + length);\n\t\t},\n\n\t\tcheckOfferIsAppley(item, offer) {\n\t\t\tlet applied = false;\n\n\t\t\t// Handle null or undefined posa_offers\n\t\t\tif (!item.posa_offers) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst item_offers = JSON.parse(item.posa_offers);\n\t\t\t\tif (!Array.isArray(item_offers)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tfor (const row_id of item_offers) {\n\t\t\t\t\tconst exist_offer = this.posa_offers.find((el) => row_id == el.row_id);\n\t\t\t\t\tif (exist_offer && exist_offer.offer_name == offer.name) {\n\t\t\t\t\t\tapplied = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[Invoice.js] checkOfferApplied error:', error);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn applied;\n\t\t},\n\n\t\tmergeItemsFromAPI(apiItems) {\n\t\t\t// Preserve price_list_rate and other display fields when merging API response\n\t\t\tif (apiItems && Array.isArray(apiItems) && apiItems.length > 0) {\n\t\t\t\t// Create a simple map by item_code (since item_code never repeats in invoice)\n\t\t\t\tconst localItemsByCode = new Map();\n\n\t\t\t\tthis.items.forEach((item) => {\n\t\t\t\t\tlocalItemsByCode.set(item.item_code, item);\n\t\t\t\t});\n\n\t\t\t\t// Merge API items with local items, preserving price_list_rate\n\t\t\t\tthis.items = apiItems.map((apiItem) => {\n\t\t\t\t\t// Find local item by item_code (simple & reliable)\n\t\t\t\t\tconst localItem = localItemsByCode.get(apiItem.item_code);\n\n\t\t\t\t\t// If local item exists, preserve price_list_rate from it\n\t\t\t\t\tif (localItem?.price_list_rate && !apiItem.price_list_rate) {\n\t\t\t\t\t\tapiItem.price_list_rate = localItem.price_list_rate;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Also preserve base_rate if needed\n\t\t\t\t\tif (localItem?.base_rate && !apiItem.base_rate) {\n\t\t\t\t\t\tapiItem.base_rate = localItem.base_rate;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Preserve posa_row_id from local if API doesn't have it\n\t\t\t\t\tif (localItem?.posa_row_id && !apiItem.posa_row_id) {\n\t\t\t\t\t\tapiItem.posa_row_id = localItem.posa_row_id;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn apiItem;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tsendInvoiceUpdate() {\n\t\t\t// DISABLED: No auto-saving - everything stays local\n\t\t\tthis.isUpdatingTotals = false;\n\t\t},\n\n\t\tcalculateTotalsLocally(doc) {\n\t\t\tif (!doc || !doc.items) return;\n\n\t\t\t// Step 1: Calculate item totals with item-level discounts\n\t\t\tlet total = 0;\n\t\t\tlet total_qty = 0;\n\t\t\tlet item_discount_total = 0;\n\n\t\t\tdoc.items.forEach((item) => {\n\t\t\t\t// CRITICAL FIX: Round qty to proper precision BEFORE calculations (ERPNext behavior)\n\t\t\t\t// This ensures 0.167727 becomes 0.168, making amount = 110 \u00D7 0.168 = 18.48\n\t\t\t\titem.qty = flt(item.qty, this.getPrecision('qty', item));\n\n\t\t\t\tconst qty = item.qty || 0;\n\t\t\t\tconst priceListRate = flt(item.price_list_rate) || 0;\n\t\t\t\tconst discountPercent = flt(item.discount_percentage) || 0;\n\n\t\t\t\t// Calculate item discount (ERPNext logic)\n\t\t\t\tif (discountPercent > 0 && priceListRate > 0) {\n\t\t\t\t\titem.discount_amount = flt(\n\t\t\t\t\t\t(priceListRate * discountPercent) / 100,\n\t\t\t\t\t\tthis.getPrecision('discount_amount', item),\n\t\t\t\t\t);\n\t\t\t\t\titem.rate = flt(\n\t\t\t\t\t\tpriceListRate - item.discount_amount,\n\t\t\t\t\t\tthis.getPrecision('rate', item),\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\titem.rate = priceListRate;\n\t\t\t\t\titem.discount_amount = 0;\n\t\t\t\t}\n\n\t\t\t\t// Calculate amount using ROUNDED qty (matches ERPNext)\n\t\t\t\titem.amount = flt(item.rate * qty, this.getPrecision('amount', item));\n\n\t\t\t\ttotal += item.amount;\n\t\t\t\ttotal_qty += qty;\n\t\t\t\titem_discount_total += item.discount_amount * Math.abs(qty);\n\t\t\t});\n\n\t\t\tdoc.total = flt(total, this.getPrecision('total'));\n\t\t\tdoc.total_qty = total_qty;\n\t\t\tdoc.posa_item_discount_total = flt(\n\t\t\t\titem_discount_total,\n\t\t\t\tthis.getPrecision('posa_item_discount_total'),\n\t\t\t);\n\n\t\t\t// Step 2: Set net_total (before tax, after item discounts)\n\t\t\t// Use precision = 2 for all currency amounts\n\t\t\tdoc.net_total = flt(doc.total, this.getPrecision('net_total'));\n\n\t\t\t// Step 3: Calculate taxes (ERPNext approach)\n\t\t\tconst applyTax = this.pos_profile?.posa_apply_tax;\n\t\t\tconst taxType = this.pos_profile?.posa_tax_type;\n\t\t\tconst taxPercent = flt(this.pos_profile?.posa_tax_percent) || 0;\n\t\t\tconst normalizedTaxType = taxType?.replace(/^Tax\\s*/i, '').trim();\n\n\t\t\tif (applyTax) {\n\t\t\t\tconsole.log('[Invoice.js] Tax calculation:', flt(doc.net_total));\n\t\t\t}\n\n\t\t\tif (applyTax && normalizedTaxType && taxPercent > 0) {\n\t\t\t\t// Round net_total first to ensure all calculations use 2 decimal places\n\t\t\t\tdoc.net_total = flt(doc.net_total, this.getPrecision('net_total'));\n\t\t\t\t\n\t\t\t\tif (normalizedTaxType === 'Inclusive') {\n\t\t\t\t\t// Tax included: extract tax from net_total\n\t\t\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t\t\tdoc.grand_total = flt(doc.net_total, this.getPrecision('grand_total'));\n\t\t\t\t\tdoc.net_total = flt(\n\t\t\t\t\t\tdoc.net_total / (1 + taxPercent / 100),\n\t\t\t\t\t\tthis.getPrecision('net_total'),\n\t\t\t\t\t);\n\t\t\t\t\tdoc.total_taxes_and_charges = flt(\n\t\t\t\t\t\tdoc.grand_total - doc.net_total,\n\t\t\t\t\t\tthis.getPrecision('total_taxes_and_charges'),\n\t\t\t\t\t);\n\t\t\t\t} else if (normalizedTaxType === 'Exclusive') {\n\t\t\t\t\t// Tax added: add tax to net_total\n\t\t\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t\t\t// Calculate tax on rounded net_total\n\t\t\t\t\tdoc.total_taxes_and_charges = flt(\n\t\t\t\t\t\tdoc.net_total * (taxPercent / 100),\n\t\t\t\t\t\tthis.getPrecision('total_taxes_and_charges'),\n\t\t\t\t\t);\n\t\t\t\t\t// Round total_taxes_and_charges before adding to net_total\n\t\t\t\t\tdoc.total_taxes_and_charges = flt(doc.total_taxes_and_charges, this.getPrecision('total_taxes_and_charges'));\n\t\t\t\t\tdoc.grand_total = flt(\n\t\t\t\t\t\tdoc.net_total + doc.total_taxes_and_charges,\n\t\t\t\t\t\tthis.getPrecision('grand_total'),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdoc.total_taxes_and_charges = 0;\n\t\t\t\t// Use precision = 2 for grand_total\n\t\t\t\tdoc.grand_total = flt(doc.net_total, this.getPrecision('grand_total'));\n\t\t\t}\n\n\t\t\t// Step 4: Apply invoice-level discount (if set)\n\t\t\t// NOTE: In POSAwesome, this is typically from offers, not manual entry\n\t\t\tthis.setDiscountAmount(doc);\n\t\t\tthis.applyDiscountAmount(doc);\n\n\t\t\t// Step 5: Recalculate tax if discount applied to net_total\n\t\t\t// This is required when apply_discount_on = 'Net Total' and tax is Exclusive\n\t\t\tconst applyDiscountOn = doc.apply_discount_on || 'Net Total';\n\t\t\tif (applyTax && doc.discount_amount > 0 && applyDiscountOn === 'Net Total') {\n\t\t\t\t// Round net_total first to ensure all calculations use 2 decimal places\n\t\t\t\tdoc.net_total = flt(doc.net_total, this.getPrecision('net_total'));\n\t\t\t\t\n\t\t\t\t// Tax must be recalculated on discounted net_total\n\t\t\t\tif (normalizedTaxType === 'Exclusive') {\n\t\t\t\t\tdoc.total_taxes_and_charges = flt(\n\t\t\t\t\t\tdoc.net_total * (taxPercent / 100),\n\t\t\t\t\t\tthis.getPrecision('total_taxes_and_charges'),\n\t\t\t\t\t);\n\t\t\t\t\t// Round total_taxes_and_charges before adding to net_total\n\t\t\t\t\tdoc.total_taxes_and_charges = flt(doc.total_taxes_and_charges, this.getPrecision('total_taxes_and_charges'));\n\t\t\t\t\tdoc.grand_total = flt(\n\t\t\t\t\t\tdoc.net_total + doc.total_taxes_and_charges,\n\t\t\t\t\t\tthis.getPrecision('grand_total'),\n\t\t\t\t\t);\n\t\t\t\t} else if (normalizedTaxType === 'Inclusive') {\n\t\t\t\t\t// For Inclusive tax, add tax back to discounted net_total\n\t\t\t\t\tdoc.grand_total = flt(\n\t\t\t\t\t\tdoc.net_total * (1 + taxPercent / 100),\n\t\t\t\t\t\tthis.getPrecision('grand_total'),\n\t\t\t\t\t);\n\t\t\t\t\tdoc.total_taxes_and_charges = flt(\n\t\t\t\t\t\tdoc.grand_total - doc.net_total,\n\t\t\t\t\t\tthis.getPrecision('total_taxes_and_charges'),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Step 6: No rounding - Following user requirement: no rounded_total dependency at all\n\t\t\t// Do not calculate rounded_total or rounding_adjustment\n\t\t\t// Use grand_total directly without any rounding logic\n\n\t\t\t// Final precision formatting\n\t\t\tdoc.grand_total = flt(doc.grand_total, this.getPrecision('grand_total'));\n\t\t\tdoc.net_total = flt(doc.net_total, this.getPrecision('net_total'));\n\t\t},\n\n\t\t// ERPNext-compliant invoice discount calculation methods\n\t\tsetDiscountAmount(doc) {\n\t\t\t// Only calculate if additional_discount_percentage is set\n\t\t\tif (!doc.additional_discount_percentage || doc.additional_discount_percentage <= 0) {\n\t\t\t\tdoc.discount_amount = 0;\n\t\t\t\tdoc.base_discount_amount = 0;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst applyDiscountOn = doc.apply_discount_on || 'Net Total';\n\t\t\tlet discountBase = 0;\n\n\t\t\t// Determine base for discount calculation\n\t\t\tif (applyDiscountOn === 'Grand Total') {\n\t\t\t\tdiscountBase = flt(doc.grand_total) || 0;\n\t\t\t} else if (applyDiscountOn === 'Net Total') {\n\t\t\t\tdiscountBase = flt(doc.net_total) || 0;\n\t\t\t} else {\n\t\t\t\tdiscountBase = flt(doc.total) || 0; // Items Total\n\t\t\t}\n\n\t\t\tdoc.discount_amount = flt(\n\t\t\t\t(discountBase * doc.additional_discount_percentage) / 100,\n\t\t\t\tthis.getPrecision('discount_amount'),\n\t\t\t);\n\n\t\t\t// Single currency: POS Profile.currency only - base_discount_amount equals discount_amount\n\t\t\tdoc.base_discount_amount = flt(\n\t\t\t\tdoc.discount_amount || 0,\n\t\t\t\tthis.getPrecision('base_discount_amount'),\n\t\t\t);\n\t\t},\n\n\t\tapplyDiscountAmount(doc) {\n\t\t\tif (!doc.discount_amount || doc.discount_amount <= 0) return;\n\n\t\t\tconst applyDiscountOn = doc.apply_discount_on || 'Net Total';\n\n\t\t\t// For POS: Simple subtraction from grand_total\n\t\t\t// (ERPNext distributes across items, but for POS we keep it simple)\n\t\t\tif (applyDiscountOn === 'Grand Total') {\n\t\t\t\tdoc.grand_total = flt(\n\t\t\t\t\tdoc.grand_total - doc.discount_amount,\n\t\t\t\t\tthis.getPrecision('grand_total'),\n\t\t\t\t);\n\t\t\t} else if (applyDiscountOn === 'Net Total') {\n\t\t\t\t// Apply before final grand_total calculation\n\t\t\t\tdoc.net_total = flt(\n\t\t\t\t\tdoc.net_total - doc.discount_amount,\n\t\t\t\t\tthis.getPrecision('net_total'),\n\t\t\t\t);\n\t\t\t\t// Recalculate grand_total with tax\n\t\t\t\tif (doc.total_taxes_and_charges > 0) {\n\t\t\t\t\tdoc.grand_total = flt(\n\t\t\t\t\t\tdoc.net_total + doc.total_taxes_and_charges,\n\t\t\t\t\t\tthis.getPrecision('grand_total'),\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t// Use precision = 2 for grand_total\n\t\t\t\t\tdoc.grand_total = flt(doc.net_total, this.getPrecision('grand_total'));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Validation method to ensure calculations match ERPNext\n\t\tvalidateDiscountCalculation(doc) {\n\t\t\tif (!doc || !doc.items) return true;\n\n\t\t\tlet hasItemDiscounts = false;\n\t\t\tlet hasInvoiceDiscount = false;\n\n\t\t\t// Check item-level discounts\n\t\t\tdoc.items.forEach((item) => {\n\t\t\t\tif (flt(item.discount_percentage) > 0) {\n\t\t\t\t\thasItemDiscounts = true;\n\n\t\t\t\t\t// Validate ERPNext formula\n\t\t\t\t\tconst priceListRate = flt(item.price_list_rate);\n\t\t\t\t\tconst expectedDiscountAmount = flt(\n\t\t\t\t\t\t(priceListRate * item.discount_percentage) / 100,\n\t\t\t\t\t\tthis.getPrecision('discount_amount', item),\n\t\t\t\t\t);\n\t\t\t\t\tconst expectedRate = flt(\n\t\t\t\t\t\tpriceListRate - expectedDiscountAmount,\n\t\t\t\t\t\tthis.getPrecision('rate', item),\n\t\t\t\t\t);\n\n\t\t\t\t\tif (Math.abs(item.discount_amount - expectedDiscountAmount) > 0.01) {\n\t\t\t\t\t\t// Discount mismatch detected (logged to backend only)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Math.abs(item.rate - expectedRate) > 0.01) {\n\t\t\t\t\t\t// Rate mismatch detected (logged to backend only)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Check invoice-level discount\n\t\t\tif (flt(doc.additional_discount_percentage) > 0) {\n\t\t\t\thasInvoiceDiscount = true;\n\n\t\t\t\tconst applyOn = doc.apply_discount_on || 'Net Total';\n\t\t\t\tconst base = doc[frappe.scrub(applyOn)] || 0;\n\t\t\t\tconst expectedDiscount = flt(\n\t\t\t\t\t(base * doc.additional_discount_percentage) / 100,\n\t\t\t\t\tthis.getPrecision('discount_amount'),\n\t\t\t\t);\n\n\t\t\t\tif (Math.abs(doc.discount_amount - expectedDiscount) > 0.01) {\n\t\t\t\t\t// Invoice discount mismatch detected (logged to backend only)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Warn if both types are active (should not happen in POSAwesome)\n\t\t\tif (hasItemDiscounts && hasInvoiceDiscount) {\n\t\t\t\t// Both item and invoice discounts active (logged to backend only)\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\thandleOffers() {\n\t\t\tif (this.invoice_doc?.name && this.items && this.items.length >= 1) {\n\t\t\t\tthis._processOffers();\n\t\t\t}\n\t\t},\n\n\t\t_processOffers() {\n\t\t\tif (!this.invoice_doc?.name) return;\n\n\t\t\t// Skip processing if offers are already applied from backend response\n\t\t\tif (this.posa_offers && this.posa_offers.length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Check if offers are enabled in POS Profile (handle different value types)\n\t\t\tconst offersEnabled =\n\t\t\t\tthis.pos_profile?.posa_auto_fetch_offers !== 0 &&\n\t\t\t\tthis.pos_profile?.posa_auto_fetch_offers !== '0' &&\n\t\t\t\tthis.pos_profile?.posa_auto_fetch_offers !== false &&\n\t\t\t\tthis.pos_profile?.posa_auto_fetch_offers !== null &&\n\t\t\t\tthis.pos_profile?.posa_auto_fetch_offers !== undefined;\n\n\t\t\tif (!offersEnabled) {\n\t\t\t\treturn; // Skip offers processing\n\t\t\t}\n\n\t\t\t// Skip offers processing if no items\n\t\t\tif (!this.items || this.items.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Check cache first (cache for 30 seconds)\n\t\t\tconst cacheKey = `${this.invoice_doc?.name}_${this.items.length}`;\n\t\t\tconst now = Date.now();\n\n\t\t\tif (\n\t\t\t\tthis._offersCache &&\n\t\t\t\tthis._offersCache.key === cacheKey &&\n\t\t\t\tnow - this._offersCache.timestamp < 30000\n\t\t\t) {\n\t\t\t\t// Using cached offers\n\t\t\t\tthis.updatePosOffers(this._offersCache.data);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Prevent multiple simultaneous calls\n\t\t\tif (this._offersProcessing) {\n\t\t\t\t// Already processing offers\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._offersProcessing = true;\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: API_MAP.POS_OFFER.GET_APPLICABLE_OFFERS,\n\t\t\t\targs: {\n\t\t\t\t\tinvoice_name: this.invoice_doc?.name,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tthis._offersProcessing = false;\n\n\t\t\t\t\tif (r.message) {\n\t\t\t\t\t\t// Cache the results\n\t\t\t\t\t\tthis._offersCache = {\n\t\t\t\t\t\t\tkey: cacheKey,\n\t\t\t\t\t\t\tdata: r.message,\n\t\t\t\t\t\t\ttimestamp: now,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.updatePosOffers(r.message);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: (r) => {\n\t\t\t\t\tthis._offersProcessing = false;\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\tgetItemFromRowID(row_id) {\n\t\t\tconst item = this.items.find((el) => el.posa_row_id == row_id);\n\t\t\treturn item;\n\t\t},\n\n\t\tgetItemOffer(offer) {\n\t\t\t// Deprecated: item-level offer processing is handled server-side automatically\n\t\t\treturn null;\n\t\t},\n\n\t\tupdatePosOffers(offers) {\n\t\t\tevntBus.emit('update_pos_offers', offers);\n\t\t},\n\n\t\tupdateInvoiceOffers(offers) {\n\t\t\t// Normalize -> keep only valid offers; avoid { offer_name: null }\n\t\t\tconst arr = Array.isArray(offers) ? offers : offers ? [offers] : [];\n\n\t\t\t// If offers array is empty, force clear all offer discounts\n\t\t\tif (arr.length === 0) {\n\t\t\t\t// Clear transaction-level offer discounts\n\t\t\t\tif (\n\t\t\t\t\tthis.additional_discount_percentage > 0 ||\n\t\t\t\t\tthis.offer_discount_percentage > 0\n\t\t\t\t) {\n\t\t\t\t\tthis.additional_discount_percentage = 0;\n\t\t\t\t\tthis.offer_discount_percentage = 0;\n\t\t\t\t}\n\t\t\t\t// Clear item-level offer discounts\n\t\t\t\tthis.clearItemOfferDiscounts();\n\t\t\t\tthis.posa_offers = [];\n\t\t\t\tthis.updateInvoiceDocLocally();\n\t\t\t\treturn; // Exit early\n\t\t\t}\n\n\t\t\tconst cleaned = arr\n\t\t\t\t.filter((o) => o && (o.offer_name || o.name || o.title))\n\t\t\t\t.map((o) => {\n\t\t\t\t\tconst name = (o.offer_name || o.name || '').toString().trim();\n\t\t\t\t\tconst title = (o.title || '').toString().trim();\n\t\t\t\t\tconst row_id = o.row_id; // keep if present for UI remove-by-row_id\n\t\t\t\t\tif (name) return { offer_name: name, row_id, offer_applied: true };\n\t\t\t\t\treturn { title, row_id, offer_applied: true };\n\t\t\t\t});\n\n\t\t\tthis.posa_offers = cleaned; // backend reads posa_offers\n\n\t\t\t// ===== APPLY MANUALLY TOGGLED OFFERS =====\n\t\t\tthis.applyManuallyToggledOffers(cleaned);\n\t\t},\n\n\t\t/**\n\t\t * Apply manually toggled offers from PosOffers component\n\t\t */\n\t\tapplyManuallyToggledOffers(offers) {\n\t\t\tif (!offers || offers.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Separate transaction and item offers\n\t\t\tconst transactionOffers = offers.filter(\n\t\t\t\t(o) =>\n\t\t\t\t\t['grand_total', 'customer', 'customer_group', ''].includes(\n\t\t\t\t\t\to.offer_type || '',\n\t\t\t\t\t) && o.discount_percentage,\n\t\t\t);\n\n\t\t\tconst itemOffers = offers.filter(\n\t\t\t\t(o) =>\n\t\t\t\t\t['item_code', 'item_group', 'brand'].includes(o.offer_type) &&\n\t\t\t\t\to.discount_percentage,\n\t\t\t);\n\n\t\t\t// Apply ONLY ONE type (POSAwesome constraint)\n\t\t\tif (transactionOffers.length > 0) {\n\t\t\t\t// Transaction-level wins (typical in POS)\n\t\t\t\ttransactionOffers.sort(\n\t\t\t\t\t(a, b) => flt(b.discount_percentage) - flt(a.discount_percentage),\n\t\t\t\t);\n\t\t\t\tconst bestOffer = transactionOffers[0];\n\n\t\t\t\tthis.additional_discount_percentage = flt(bestOffer.discount_percentage);\n\t\t\t\tthis.offer_discount_percentage = flt(bestOffer.discount_percentage);\n\n\t\t\t\t// Clear any item-level discounts\n\t\t\t\tthis.items.forEach((item) => {\n\t\t\t\t\tif (item._offer_discount_applied) {\n\t\t\t\t\t\titem.discount_percentage = 0;\n\t\t\t\t\t\titem.discount_amount = 0;\n\t\t\t\t\t\titem.rate = item.price_list_rate;\n\t\t\t\t\t\tdelete item._offer_discount_applied;\n\t\t\t\t\t\tdelete item._offer_name;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (itemOffers.length > 0) {\n\t\t\t\t// Item-level discounts\n\t\t\t\t// Clear transaction discount\n\t\t\t\tthis.additional_discount_percentage = 0;\n\t\t\t\tthis.offer_discount_percentage = 0;\n\n\t\t\t\t// Apply item offers using ERPNext logic\n\t\t\t\titemOffers.forEach((offer) => {\n\t\t\t\t\tconst discountPercent = flt(offer.discount_percentage);\n\t\t\t\t\tconst offerName = offer.offer_name || offer.name;\n\n\t\t\t\t\tthis.items.forEach((item) => {\n\t\t\t\t\t\tlet shouldApply = false;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\toffer.offer_type === 'item_code' &&\n\t\t\t\t\t\t\titem.item_code === offer.item_code\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tshouldApply = true;\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\toffer.offer_type === 'item_group' &&\n\t\t\t\t\t\t\titem.item_group === offer.item_group\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tshouldApply = true;\n\t\t\t\t\t\t} else if (offer.offer_type === 'brand' && item.brand === offer.brand) {\n\t\t\t\t\t\t\tshouldApply = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (shouldApply) {\n\t\t\t\t\t\t\tconst priceListRate = flt(item.price_list_rate);\n\t\t\t\t\t\t\titem.discount_percentage = discountPercent;\n\t\t\t\t\t\t\titem.discount_amount = flt(\n\t\t\t\t\t\t\t\t(priceListRate * discountPercent) / 100,\n\t\t\t\t\t\t\t\tthis.getPrecision('discount_amount', item),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\titem.rate = flt(\n\t\t\t\t\t\t\t\tpriceListRate - item.discount_amount,\n\t\t\t\t\t\t\t\tthis.getPrecision('rate', item),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\titem._offer_discount_applied = true;\n\t\t\t\t\t\t\titem._offer_name = offerName;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.updateInvoiceDocLocally();\n\t\t},\n\n\t\t/**\n\t\t * Apply offer to specific items (called from watchers)\n\t\t */\n\t\tapplyItemOffer(offer) {\n\t\t\tconst discountPercent = flt(offer.discount_percentage);\n\t\t\tconst offerType = offer.offer_type;\n\n\t\t\tif (!discountPercent || !offerType) return;\n\n\t\t\tconst offerName = offer.name || offer.offer_name;\n\t\t\tlet offerAddedToPosAOffers = false;\n\n\t\t\tthis.items.forEach((item) => {\n\t\t\t\tlet shouldApply = false;\n\n\t\t\t\tif (offerType === 'item_code' && item.item_code === offer.item_code) {\n\t\t\t\t\tshouldApply = true;\n\t\t\t\t} else if (offerType === 'item_group' && item.item_group === offer.item_group) {\n\t\t\t\t\tshouldApply = true;\n\t\t\t\t} else if (offerType === 'brand' && item.brand === offer.brand) {\n\t\t\t\t\tshouldApply = true;\n\t\t\t\t}\n\n\t\t\t\t// Allow reapplication if no offer applied OR if it's a different offer\n\t\t\t\tconst canApply =\n\t\t\t\t\tshouldApply &&\n\t\t\t\t\t(!item._offer_discount_applied || item._offer_name !== offerName);\n\n\t\t\t\tif (canApply) {\n\t\t\t\t\t// Store original discount before applying offer (for restoration when offer is removed)\n\t\t\t\t\tif (!item._original_discount_percentage) {\n\t\t\t\t\t\titem._original_discount_percentage = flt(item.discount_percentage || 0);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Mark that this discount came from an offer\n\t\t\t\t\titem._offer_discount_applied = true;\n\t\t\t\t\titem._offer_name = offerName;\n\n\t\t\t\t\titem.discount_percentage = discountPercent; // Apply as-is from offer\n\n\t\t\t\t\t// Recalculate item price using centralized helper\n\t\t\t\t\titem.rate = this.calculateDiscountedPrice(item, discountPercent);\n\t\t\t\t\titem.amount = this.calculateItemAmount(item);\n\n\t\t\t\t\t// Add to posa_offers if not already added\n\t\t\t\t\tif (!offerAddedToPosAOffers) {\n\t\t\t\t\t\tif (!this.posa_offers) {\n\t\t\t\t\t\t\tthis.posa_offers = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Check if this offer is already in posa_offers\n\t\t\t\t\t\tconst offerExists = this.posa_offers.some(\n\t\t\t\t\t\t\t(o) => o.offer_name === offerName && o.offer_type === offerType,\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (!offerExists) {\n\t\t\t\t\t\t\tthis.posa_offers.push({\n\t\t\t\t\t\t\t\toffer_name: offerName,\n\t\t\t\t\t\t\t\toffer_type: offerType,\n\t\t\t\t\t\t\t\tdiscount_percentage: discountPercent,\n\t\t\t\t\t\t\t\toffer_applied: true,\n\t\t\t\t\t\t\t\trow_id: item.posa_row_id || item.name || '',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tofferAddedToPosAOffers = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Update totals\n\t\t\tthis.updateInvoiceDocLocally();\n\t\t},\n\n\t\tremoveApplyOffer(invoiceOffer) {\n\t\t\tconst index = this.posa_offers.findIndex((el) => el.row_id === invoiceOffer.row_id);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.posa_offers.splice(index, 1);\n\t\t\t}\n\t\t},\n\n\t\tapplyNewOffer(offer) {\n\t\t\tconst newOffer = {\n\t\t\t\toffer_name: offer.name,\n\t\t\t\trow_id: offer.row_id,\n\t\t\t\tapply_on: offer.apply_on,\n\t\t\t\toffer: offer.offer,\n\t\t\t\titems: JSON.stringify(offer.items),\n\t\t\t\tgive_item: offer.give_item,\n\t\t\t\tgive_item_row_id: offer.give_item_row_id,\n\t\t\t\toffer_applied: offer.offer_applied,\n\t\t\t};\n\t\t\tthis.posa_offers.push(newOffer);\n\t\t},\n\n\t\t/**\n\t\t * Calculate and apply offers based on current invoice state\n\t\t * Called directly when items/customer change\n\t\t */\n\t\tcalculateAndApplyOffers() {\n\t\t\t// Exit early if offers disabled\n\t\t\tif (!this.pos_profile?.posa_auto_fetch_offers) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Exit if no offers cached\n\t\t\tif (!this._sessionOffers || this._sessionOffers.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Exit if no items\n\t\t\tif (!this.items || this.items.length === 0) {\n\t\t\t\tthis.clearOfferDiscounts();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Calculate totals\n\t\t\tconst totalQty = this.items.reduce((sum, item) => sum + flt(item.qty || 0), 0);\n\t\t\tconst totalAmount = this.items.reduce(\n\t\t\t\t(sum, item) => sum + flt(item.qty || 0) * flt(item.rate || 0),\n\t\t\t\t0,\n\t\t\t);\n\n\t\t\t// Filter applicable offers\n\t\t\tconst applicableOffers = this._sessionOffers.filter((offer) => {\n\t\t\t\t// Check date validity\n\t\t\t\tconst today = frappe.datetime.nowdate();\n\t\t\t\tif (offer.valid_from && today < offer.valid_from) return false;\n\t\t\t\tif (offer.valid_upto && today > offer.valid_upto) return false;\n\n\t\t\t\t// Check qty thresholds\n\t\t\t\tif (offer.min_qty && totalQty < flt(offer.min_qty)) return false;\n\t\t\t\tif (offer.max_qty && totalQty > flt(offer.max_qty)) return false;\n\n\t\t\t\t// Check amount thresholds\n\t\t\t\tif (offer.min_amt && totalAmount < flt(offer.min_amt)) return false;\n\t\t\t\tif (offer.max_amt && totalAmount > flt(offer.max_amt)) return false;\n\n\t\t\t\t// Check customer match\n\t\t\t\tif (offer.offer_type === 'customer' && offer.customer !== this.customer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Check customer group match\n\t\t\t\tif (offer.offer_type === 'customer_group') {\n\t\t\t\t\tif (\n\t\t\t\t\t\t!this.customer_info?.customer_group ||\n\t\t\t\t\t\tthis.customer_info.customer_group !== offer.customer_group\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Check item-specific applicability\n\t\t\t\tif (offer.offer_type === 'item_code') {\n\t\t\t\t\treturn this.items.some((item) => item.item_code === offer.item_code);\n\t\t\t\t}\n\n\t\t\t\tif (offer.offer_type === 'item_group') {\n\t\t\t\t\treturn this.items.some((item) => item.item_group === offer.item_group);\n\t\t\t\t}\n\n\t\t\t\tif (offer.offer_type === 'brand') {\n\t\t\t\t\treturn this.items.some((item) => item.brand === offer.brand);\n\t\t\t\t}\n\n\t\t\t\treturn true; // General offer or grand_total offer\n\t\t\t});\n\n\t\t\t// Apply offers\n\t\t\tthis.applyOffersToInvoice(applicableOffers);\n\t\t},\n\n\t\t/**\n\t\t * Apply filtered offers to invoice\n\t\t */\n\t\tapplyOffersToInvoice(offers) {\n\t\t\tif (!offers || offers.length === 0) {\n\t\t\t\tthis.clearOfferDiscounts();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Sort by priority: auto offers first, then by discount percentage\n\t\t\tconst sortedOffers = offers.sort((a, b) => {\n\t\t\t\tif (a.auto && !b.auto) return -1;\n\t\t\t\tif (!a.auto && b.auto) return 1;\n\t\t\t\treturn flt(b.discount_percentage) - flt(a.discount_percentage);\n\t\t\t});\n\n\t\t\t// Apply transaction-level offer (can coexist with item offers)\n\t\t\tconst transactionOffer = sortedOffers.find(\n\t\t\t\t(offer) =>\n\t\t\t\t\toffer.auto &&\n\t\t\t\t\toffer.discount_percentage &&\n\t\t\t\t\t['grand_total', 'customer', 'customer_group', ''].includes(\n\t\t\t\t\t\toffer.offer_type || '',\n\t\t\t\t\t),\n\t\t\t);\n\n\t\t\tif (transactionOffer) {\n\t\t\t\tthis.additional_discount_percentage = flt(transactionOffer.discount_percentage);\n\t\t\t\tthis.offer_discount_percentage = flt(transactionOffer.discount_percentage);\n\n\t\t\t\t// Initialize posa_offers array\n\t\t\t\tthis.posa_offers = [\n\t\t\t\t\t{\n\t\t\t\t\t\toffer_name: transactionOffer.name,\n\t\t\t\t\t\toffer_type: transactionOffer.offer_type,\n\t\t\t\t\t\tdiscount_percentage: transactionOffer.discount_percentage,\n\t\t\t\t\t\toffer_applied: true,\n\t\t\t\t\t\trow_id: '',\n\t\t\t\t\t},\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\t// No transaction offer, but keep posa_offers for item offers\n\t\t\t\tthis.posa_offers = [];\n\t\t\t}\n\n\t\t\t// Apply item-level offers (works alongside transaction offer)\n\t\t\tconst appliedItemOffers = new Set(); // Track item offers to avoid duplicates\n\n\t\t\tsortedOffers.forEach((offer) => {\n\t\t\t\tif (!offer.auto || !offer.discount_percentage) return;\n\n\t\t\t\tconst offerName = offer.offer_name || offer.name;\n\t\t\t\tthis.items.forEach((item) => {\n\t\t\t\t\tlet shouldApply = false;\n\n\t\t\t\t\tif (offer.offer_type === 'item_code' && item.item_code === offer.item_code) {\n\t\t\t\t\t\tshouldApply = true;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\toffer.offer_type === 'item_group' &&\n\t\t\t\t\t\titem.item_group === offer.item_group\n\t\t\t\t\t) {\n\t\t\t\t\t\tshouldApply = true;\n\t\t\t\t\t} else if (offer.offer_type === 'brand' && item.brand === offer.brand) {\n\t\t\t\t\t\tshouldApply = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Allow reapplication if no offer applied OR if it's a different offer\n\t\t\t\t\tconst canApply =\n\t\t\t\t\t\tshouldApply &&\n\t\t\t\t\t\t(!item._offer_discount_applied || item._offer_name !== offerName);\n\n\t\t\t\t\tif (canApply) {\n\t\t\t\t\t\t// Track this offer in posa_offers array\n\t\t\t\t\t\tconst offerKey = `${offerName}_${offer.offer_type}`;\n\t\t\t\t\t\tif (!appliedItemOffers.has(offerKey)) {\n\t\t\t\t\t\t\tappliedItemOffers.add(offerKey);\n\n\t\t\t\t\t\t\t// Add to posa_offers array (append to existing transaction offers)\n\t\t\t\t\t\t\tif (!this.posa_offers) {\n\t\t\t\t\t\t\t\tthis.posa_offers = [];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.posa_offers.push({\n\t\t\t\t\t\t\t\toffer_name: offerName,\n\t\t\t\t\t\t\t\toffer_type: offer.offer_type,\n\t\t\t\t\t\t\t\tdiscount_percentage: offer.discount_percentage,\n\t\t\t\t\t\t\t\toffer_applied: true,\n\t\t\t\t\t\t\t\trow_id: item.name || item.idx || '',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Store original discount before applying offer (for restoration when offer is removed)\n\t\t\t\t\t\tif (!item._original_discount_percentage) {\n\t\t\t\t\t\t\titem._original_discount_percentage = flt(\n\t\t\t\t\t\t\t\titem.discount_percentage || 0,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Mark that this discount came from an offer\n\t\t\t\t\t\titem._offer_discount_applied = true;\n\t\t\t\t\t\titem._offer_name = offerName;\n\n\t\t\t\t\t\titem.discount_percentage = flt(offer.discount_percentage); // Apply as-is\n\n\t\t\t\t\t\t// Recalculate item price using centralized helper\n\t\t\t\t\t\titem.rate = this.calculateDiscountedPrice(\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\tflt(offer.discount_percentage),\n\t\t\t\t\t\t);\n\t\t\t\t\t\titem.amount = this.calculateItemAmount(item);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Update totals\n\t\t\tthis.updateInvoiceDocLocally();\n\t\t},\n\n\t\t/**\n\t\t * Clear offer-based discounts\n\t\t */\n\t\tclearOfferDiscounts() {\n\t\t\t// Always clear both if either has a value - check BOTH fields\n\t\t\tif (this.additional_discount_percentage > 0 || this.offer_discount_percentage > 0) {\n\t\t\t\tthis.additional_discount_percentage = 0;\n\t\t\t\tthis.offer_discount_percentage = 0;\n\t\t\t}\n\t\t\tif (!this.posa_offers || this.posa_offers.length === 0) {\n\t\t\t\tthis.posa_offers = [];\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Clear item-level offer discounts and restore original values\n\t\t * @param {string|null} offerName - Specific offer to clear, or null to clear all\n\t\t */\n\t\tclearItemOfferDiscounts(offerName = null) {\n\t\t\tlet itemsModified = false;\n\n\t\t\tthis.items.forEach((item) => {\n\t\t\t\t// Check if this item has an offer-applied discount\n\t\t\t\tif (item._offer_discount_applied) {\n\t\t\t\t\t// If specific offer name provided, only clear that offer\n\t\t\t\t\tif (offerName && item._offer_name !== offerName) {\n\t\t\t\t\t\treturn; // Skip this item\n\t\t\t\t\t}\n\n\t\t\t\t\t// Restore original discount percentage\n\t\t\t\t\tconst originalDiscount = flt(item._original_discount_percentage || 0);\n\t\t\t\t\titem.discount_percentage = originalDiscount;\n\n\t\t\t\t\t// Recalculate item price based on restored discount\n\t\t\t\t\tconst list_price = flt(item.price_list_rate) || 0;\n\t\t\t\t\tif (list_price > 0) {\n\t\t\t\t\t\tif (originalDiscount > 0) {\n\t\t\t\t\t\t\tconst discount_amount = (list_price * originalDiscount) / 100;\n\t\t\t\t\t\t\t// Set item rate to exact value without rounding to preserve precision\n\t\t\t\t\t\t\t// Following user requirement: no rounding logic at all\n\t\t\t\t\t\t\titem.rate = flt(list_price - discount_amount);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// No discount - restore to list price\n\t\t\t\t\t\t\titem.rate = list_price;\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.amount = this.calculateItemAmount(item);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Clear offer tracking flags\n\t\t\t\t\tdelete item._offer_discount_applied;\n\t\t\t\t\tdelete item._offer_name;\n\t\t\t\t\tdelete item._original_discount_percentage;\n\n\t\t\t\t\titemsModified = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// If any items were modified, recalculate invoice totals\n\t\t\tif (itemsModified) {\n\t\t\t\tthis.updateInvoiceDocLocally();\n\t\t\t}\n\n\t\t\treturn itemsModified;\n\t\t},\n\n\t\tprintInvoice() {\n\t\t\t// Print button clicked (logged to backend only)\n\t\t\tif (!this.invoice_doc || this.isPrinting) return;\n\n\t\t\t// Check for valid payments - if none, do nothing\n\t\t\tconst doc = this.get_invoice_doc('print');\n\t\t\tthis.calculateTotalsLocally(doc);\n\n\t\t\t// Invoice totals (logged to backend only)\n\n\t\t\t// Allow printing if credit sale is enabled, otherwise check for valid payments\n\t\t\t// Check for both boolean (true) and number (1) formats for compatibility\n\t\t\tconst isCreditSale = doc.is_credit_sale === true || doc.is_credit_sale == 1;\n\t\t\t// For return invoices with unpaid original invoices, allow printing without payments\n\t\t\tconst isReturnUnpaid =\n\t\t\t\tdoc?.is_return &&\n\t\t\t\tdoc?._original_invoice_payment_info &&\n\t\t\t\tMath.abs(this.flt(doc._original_invoice_payment_info.paid_amount || 0)) <= 0.01;\n\t\t\t// Allow printing if posa_use_customer_credit_switch is enabled (allows printing without payments)\n\t\t\tconst isReturnFromCredit = this.posa_use_customer_credit_switch === true;\n\t\t\tif (\n\t\t\t\t!isCreditSale &&\n\t\t\t\t!isReturnUnpaid &&\n\t\t\t\t!isReturnFromCredit &&\n\t\t\t\t!this.hasValidPayments(doc)\n\t\t\t) {\n\t\t\t\t// Do not open payment window - just show warning message\n\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\ttext: \"\u064A\u062C\u0628 \u0627\u062E\u062A\u064A\u0627\u0631 \u0637\u0631\u064A\u0642\u0629 \u062F\u0641\u0639 \u0623\u0648\u0644\u0627\u064B \u0639\u0646 \u0637\u0631\u064A\u0642 \u0627\u0644\u0636\u063A\u0637 \u0639\u0644\u0649 \u0632\u0631 '\u062F\u0641\u0639'\",\n\t\t\t\t\tcolor: 'warning',\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isPrinting = true; // Disable print button\n\t\t\t// Processing...\n\t\t\tevntBus.emit('show_loading', { text: '\u062C\u0627\u0631\u064A \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629...', color: 'info' });\n\n\t\t\t// If this is an existing draft invoice (has name), don't mark as __islocal\n\t\t\t// This allows the backend to update the existing draft instead of creating a new one\n\t\t\tif (!doc.name || doc.docstatus !== 0) {\n\t\t\t\tdoc.__islocal = 1; // Mark as local document only for new invoices\n\t\t\t}\n\n\t\t\t// Determine invoice type for logging\n\t\t\tconst invoiceType = doc.is_return\n\t\t\t\t? doc.return_against\n\t\t\t\t\t? 'Return_Invoice'\n\t\t\t\t\t: 'Quick_Return'\n\t\t\t\t: 'Sales_Mode';\n\t\t\tconst invoiceStatus = doc.name\n\t\t\t\t? `Updating draft: ${doc.name}`\n\t\t\t\t: 'Creating new invoice';\n\t\t\tconsole.log(`[Invoice.js] printInvoice: ${invoiceStatus}, type: ${invoiceType}`);\n\n\t\t\t// Send to server for update + submit (if draft exists) or insert + submit (if new)\n\t\t\tfrappe.call({\n\t\t\t\tmethod: 'posawesome.api.sales_invoice.create_and_submit_invoice',\n\t\t\t\targs: {\n\t\t\t\t\tinvoice_doc: doc,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tevntBus.emit('hide_loading');\n\t\t\t\t\tthis.isPrinting = false; // Re-enable print button\n\n\t\t\t\t\tif (r.message?.name) {\n\t\t\t\t\t\tconst print_format = this.pos_profile?.posa_print_format;\n\n\t\t\t\t\t\t// Open print window directly\n\t\t\t\t\t\tconst print_url = frappe.urllib.get_full_url(\n\t\t\t\t\t\t\t`/printview?doctype=Sales%20Invoice&name=${r.message.name}&format=${print_format}&trigger_print=1&no_letterhead=0`,\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\twindow.open(print_url);\n\n\t\t\t\t\t\tevntBus.emit('set_last_invoice', r.message.name);\n\n\t\t\t\t\t\t// Emit event to clear return invoice highlighting\n\t\t\t\t\t\tevntBus.emit('invoice_submitted');\n\n\t\t\t\t\t\t// Reset session after successful print (all cases: normal, return, quick return)\n\t\t\t\t\t\tthis.reset_invoice_session();\n\n\t\t\t\t\t\t// Close payment window\n\t\t\t\t\t\tevntBus.emit('show_payment', 'false');\n\n\t\t\t\t\t\tevntBus.emit('invoice_submitted');\n\n\t\t\t\t\t\t// Clear search fields in ItemsSelector\n\t\t\t\t\t\tevntBus.emit('clear_search_fields');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\t\t\t// Submit failed\n\t\t\t\t\t\t\ttext: '\u0641\u0634\u0644 \u0627\u0644\u0625\u0631\u0633\u0627\u0644',\n\t\t\t\t\t\t\tcolor: 'error',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: (err) => {\n\t\t\t\t\tevntBus.emit('hide_loading');\n\t\t\t\t\tthis.isPrinting = false; // Re-enable print button on error\n\t\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\t\ttext: err?.message || 'Failed to submit',\n\t\t\t\t\t\tcolor: 'error',\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\tupdate_item_detail(item) {\n\t\t\t// Update item details from allItems data when customer changes\n\t\t\tif (!item || !item.item_code || !this.allItems) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Find updated item data from allItems\n\t\t\t\tconst updatedItem = this.allItems.find(\n\t\t\t\t\t(allItem) => allItem.item_code === item.item_code,\n\t\t\t\t);\n\n\t\t\t\tif (updatedItem) {\n\t\t\t\t\t// Update relevant fields while preserving POS-specific data\n\t\t\t\t\tconst fieldsToUpdate = [\n\t\t\t\t\t\t'price_list_rate',\n\t\t\t\t\t\t'rate',\n\t\t\t\t\t\t'base_rate',\n\t\t\t\t\t\t'currency',\n\t\t\t\t\t\t'actual_qty',\n\t\t\t\t\t\t'item_name',\n\t\t\t\t\t\t'stock_uom',\n\t\t\t\t\t\t'item_group',\n\t\t\t\t\t\t'serial_no_data',\n\t\t\t\t\t\t'batch_no_data',\n\t\t\t\t\t\t'item_uoms',\n\t\t\t\t\t];\n\n\t\t\t\t\tfieldsToUpdate.forEach((field) => {\n\t\t\t\t\t\tif (updatedItem.hasOwnProperty(field)) {\n\t\t\t\t\t\t\titem[field] = updatedItem[field];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Mark as detail synced to avoid repeated updates\n\t\t\t\t\titem._detailSynced = true;\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[Invoice.js] Item detail update failed:', error);\n\t\t\t}\n\t\t},\n\t},\n\n\tcreated() {\n\t\t// Listen for payment amount changes to update computed property\n\t\tevntBus.on('payment_amount_changed', () => {\n\t\t\tthis.$forceUpdate();\n\t\t});\n\n\t\t// Register event listeners in created() to avoid duplicate registrations\n\n\t\tevntBus.on('register_pos_profile', (data) => {\n\t\t\tthis.pos_profile = data.pos_profile;\n\t\t\tthis.setCustomer(data.pos_profile?.customer);\n\t\t\tthis.pos_opening_shift = data.pos_opening_shift;\n\t\t\t// Set float_precision to 3 for quantities (qty) - following user requirement\n\t\t\t// Set currency_precision to 2 for currency amounts - following user requirement\n\t\t\t// Set fixed precision values\n\t\t\t// float_precision = 3 for quantities (qty) - 3 decimal places\n\t\t\t// currency_precision = 2 for currency amounts - 2 decimal places\n\t\t\tthis.float_precision = 3;\n\t\t\tthis.currency_precision = 2;\n\t\t\tthis.invoiceType = 'Invoice';\n\t\t\tevntBus.emit('update_invoice_type', this.invoiceType);\n\n\t\t\tconsole.log('[Invoice.js] POS Profile registered:', data.pos_profile?.name);\n\t\t});\n\t\tevntBus.on('add_item', (item) => {\n\t\t\tthis.add_item(item);\n\t\t});\n\t\tevntBus.on('update_customer', (customer) => {\n\t\t\tthis.setCustomer(customer);\n\t\t\t// Recalculate offers when customer changes\n\t\t\tif (this._lastCustomer !== customer) {\n\t\t\t\tthis._lastCustomer = customer;\n\t\t\t\tthis.calculateAndApplyOffers();\n\t\t\t}\n\t\t});\n\t\tevntBus.on('fetch_customer_details', () => {\n\t\t\tthis.fetch_customer_details();\n\t\t});\n\t\tevntBus.on('new_invoice', () => {\n\t\t\t// In __islocal approach: just reset the session without deleting\n\t\t\tthis.reset_invoice_session();\n\t\t\tevntBus.emit('show_payment', 'false');\n\t\t});\n\t\tevntBus.on('load_invoice', (data) => {\n\t\t\tthis.new_invoice(data);\n\n\t\t\tif (this.invoice_doc?.is_return) {\n\t\t\t\tthis.additional_discount_percentage = -data.additional_discount_percentage;\n\t\t\t\tthis.return_doc = data;\n\t\t\t} else {\n\t\t\t\t// Additional processing if needed\n\t\t\t}\n\t\t});\n\n\t\tevntBus.on('set_offers', (data) => {\n\t\t\tthis.posOffers = data;\n\t\t\t// ===== CACHE SESSION OFFERS =====\n\t\t\tthis._sessionOffers = data || [];\n\t\t\t// Recalculate when session offers are loaded/updated\n\t\t\tif (this.items && this.items.length > 0) {\n\t\t\t\tthis.calculateAndApplyOffers();\n\t\t\t}\n\t\t});\n\t\tevntBus.on('update_invoice_offers', (data) => {\n\t\t\tthis.updateInvoiceOffers(data);\n\t\t});\n\t\tevntBus.on('set_all_items', (data) => {\n\t\t\tthis.allItems = data;\n\t\t\tthis.items.forEach((item) => {\n\t\t\t\tthis.update_item_detail(item);\n\t\t\t});\n\t\t});\n\t\tevntBus.on('load_return_invoice', (data) => {\n\t\t\t// Attach original invoice payment info to invoice_doc for Payments.js to use\n\t\t\tif (data.original_invoice_payment_info) {\n\t\t\t\tdata.invoice_doc._original_invoice_payment_info =\n\t\t\t\t\tdata.original_invoice_payment_info;\n\t\t\t}\n\n\t\t\tthis.new_invoice(data.invoice_doc);\n\n\t\t\t// Simple: if it's a regular return invoice (has return_against), disable quick_return\n\t\t\tif (data.invoice_doc?.is_return && data.return_doc) {\n\t\t\t\tthis.quick_return_value = false;\n\t\t\t\tevntBus.emit('toggle_quick_return', false);\n\t\t\t}\n\n\t\t\t// Handle return_doc data only if it exists (for returns against specific invoices)\n\t\t\tif (data.return_doc) {\n\t\t\t\tthis.additional_discount_percentage =\n\t\t\t\t\t-data.return_doc.additional_discount_percentage || 0;\n\t\t\t\tthis.return_doc = data.return_doc;\n\t\t\t} else {\n\t\t\t\t// Free return without reference invoice\n\t\t\t\tthis.additional_discount_percentage = 0;\n\t\t\t\tthis.return_doc = null;\n\t\t\t}\n\n\t\t\t// Force update to ensure computed properties are recalculated\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$forceUpdate();\n\t\t\t});\n\t\t});\n\n\t\t// Load draft invoice event\n\t\tevntBus.on('load_draft_invoice', (draft_invoice) => {\n\t\t\tif (draft_invoice && draft_invoice.name) {\n\t\t\t\t// Prevent duplicate loading by checking if already loaded\n\t\t\t\tif (this.invoice_doc?.name === draft_invoice.name) {\n\t\t\t\t\tconsole.log('[Invoice.js] Draft invoice already loaded:', draft_invoice.name);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Load the draft invoice as a new invoice\n\t\t\t\tthis.new_invoice(draft_invoice);\n\t\t\t\tconsole.log('[Invoice.js] Draft invoice loaded:', draft_invoice.name);\n\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\ttext: `\u062A\u0645 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629: ${draft_invoice.name}`,\n\t\t\t\t\tcolor: 'success',\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// Event-driven approach for items changes\n\t\tevntBus.on('item_added', (item) => {\n\t\t\t// Item added event\n\t\t\tthis.calculateAndApplyOffers();\n\t\t});\n\n\t\tevntBus.on('item_removed', (item) => {\n\t\t\t// Item removed event\n\t\t\tthis.calculateAndApplyOffers();\n\t\t});\n\n\t\tevntBus.on('item_updated', (item) => {\n\t\t\t// Item updated event\n\t\t\tthis.calculateAndApplyOffers();\n\t\t});\n\n\t\tthis.$nextTick(() => {\n\t\t\t// Component mounted\n\t\t});\n\t\tevntBus.on('send_invoice_doc_payment', (doc) => {\n\t\t\tthis.invoice_doc = doc;\n\t\t});\n\t\tevntBus.on('payments_updated', (payments) => {\n\t\t\tif (this.invoice_doc) {\n\t\t\t\tthis.invoice_doc.payments = payments || [];\n\t\t\t\tthis.$forceUpdate();\n\t\t\t}\n\t\t});\n\t\tevntBus.on('request_invoice_print', () => {\n\t\t\t// Check credit sale status before validation\n\t\t\tconst isCreditSale =\n\t\t\t\tthis.invoice_doc?.is_credit_sale === true || this.invoice_doc?.is_credit_sale == 1;\n\t\t\t// Check if posa_use_customer_credit_switch is enabled (allows printing without payments)\n\t\t\tconst isReturnFromCredit = this.posa_use_customer_credit_switch === true;\n\t\t\tif (!isCreditSale && !isReturnFromCredit && !this.canPrintInvoice()) {\n\t\t\t\tevntBus.emit('show_mesage', {\n\t\t\t\t\ttext: 'Please select a payment method before printing',\n\t\t\t\t\tcolor: 'warning',\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.printInvoice();\n\t\t});\n\n\t\t// Listen for credit sale and return from customer credit status changes from Payments component\n\t\t// Unified event name: posa_use_customer_credit_switch_changed\n\t\tevntBus.on('posa_use_customer_credit_switch_changed', (value) => {\n\t\t\tif (this.invoice_doc) {\n\t\t\t\t// Update credit sale status (for is_credit_sale watcher)\n\t\t\t\tthis.invoice_doc.is_credit_sale = value ? true : false;\n\t\t\t\t// Update posa_use_customer_credit_switch (for posa_use_customer_credit_switch watcher)\n\t\t\t\tthis.posa_use_customer_credit_switch = value ? true : false;\n\t\t\t\t// Force Vue to react to the change\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// If no invoice_doc, just update posa_use_customer_credit_switch\n\t\t\t\tthis.posa_use_customer_credit_switch = value ? true : false;\n\t\t\t\t// Force Vue to react to the change\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tmounted() {\n\t\t// DOM-related initialization (keyboard shortcuts)\n\n\t\t// Store bound function references so we can remove them later\n\t\tthis._boundShortOpenPayment = this.shortOpenPayment.bind(this);\n\t\tthis._boundShortDeleteFirstItem = this.shortDeleteFirstItem.bind(this);\n\t\tthis._boundShortOpenFirstItem = this.shortOpenFirstItem.bind(this);\n\t\tthis._boundShortSelectDiscount = this.shortSelectDiscount.bind(this);\n\n\t\t// Add event listeners with stored bound functions\n\t\tdocument.addEventListener('keydown', this._boundShortOpenPayment);\n\t\tdocument.addEventListener('keydown', this._boundShortDeleteFirstItem);\n\t\tdocument.addEventListener('keydown', this._boundShortOpenFirstItem);\n\t\tdocument.addEventListener('keydown', this._boundShortSelectDiscount);\n\n\t\tthis.scheduleScrollHeightUpdate();\n\t\twindow.addEventListener('resize', this.scheduleScrollHeightUpdate);\n\t},\n\tbeforeUnmount() {\n\t\t// Clean up ALL event listeners to prevent memory leaks\n\n\t\t// Remove window listener\n\t\twindow.removeEventListener('resize', this.scheduleScrollHeightUpdate);\n\t\t// Clean up document event listeners using stored bound functions\n\t\tdocument.removeEventListener('keydown', this._boundShortOpenPayment);\n\t\tdocument.removeEventListener('keydown', this._boundShortDeleteFirstItem);\n\t\tdocument.removeEventListener('keydown', this._boundShortOpenFirstItem);\n\t\tdocument.removeEventListener('keydown', this._boundShortSelectDiscount);\n\n\t\t// Clean up event bus listeners\n\t\tevntBus.off('register_pos_profile');\n\t\tevntBus.off('add_item');\n\t\tevntBus.off('update_customer');\n\t\tevntBus.off('fetch_customer_details');\n\t\tevntBus.off('new_invoice');\n\t\tevntBus.off('load_invoice');\n\t\tevntBus.off('set_offers');\n\t\tevntBus.off('update_invoice_offers');\n\t\tevntBus.off('set_all_items');\n\t\tevntBus.off('load_return_invoice');\n\t\tevntBus.off('load_draft_invoice');\n\t\tevntBus.off('item_added');\n\t\tevntBus.off('item_removed');\n\t\tevntBus.off('item_updated');\n\t\tevntBus.off('send_invoice_doc_payment');\n\t\tevntBus.off('payments_updated');\n\t\tevntBus.off('request_invoice_print');\n\t\tevntBus.off('payment_amount_changed');\n\t\tevntBus.off('posa_use_customer_credit_switch_changed');\n\n\t\t// Clear ALL timers to prevent memory leaks\n\t\tif (this._itemOperationTimer) {\n\t\t\tclearTimeout(this._itemOperationTimer);\n\t\t\tthis._itemOperationTimer = null;\n\t\t}\n\t\tif (this._autoUpdateTimer) {\n\t\t\tclearTimeout(this._autoUpdateTimer);\n\t\t\tthis._autoUpdateTimer = null;\n\t\t}\n\n\t\t// Clear offer cache\n\t\tthis._sessionOffers = [];\n\t\tthis._lastCustomer = null;\n\t},\n\t// ===== SECTION 6: WATCH =====\n\twatch: {\n\t\t'invoice_doc.grand_total'(newVal, oldVal) {\n\t\t\tif (newVal !== oldVal && this.invoice_doc) {\n\t\t\t\t// Invoice totals changed (logged to backend only)\n\t\t\t}\n\t\t},\n\t\tdiscount_amount() {\n\t\t\t// No auto-saving - everything stays local\n\t\t},\n\t\tofferApplied: {\n\t\t\thandler(newVal, oldVal) {\n\t\t\t\tif (!newVal) return;\n\n\t\t\t\tconst offer = newVal;\n\n\t\t\t\t// Transaction-level offer (grand_total, customer, customer_group)\n\t\t\t\tif (\n\t\t\t\t\toffer.discount_percentage &&\n\t\t\t\t\t['grand_total', 'customer', 'customer_group', ''].includes(\n\t\t\t\t\t\toffer.offer_type || '',\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t// Update both discount fields\n\t\t\t\t\tthis.additional_discount_percentage = flt(offer.discount_percentage);\n\t\t\t\t\tthis.offer_discount_percentage = flt(offer.discount_percentage);\n\n\t\t\t\t\t// Trigger backend sync\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tthis.update_discount_umount();\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Item-level offer\n\t\t\t\tif (\n\t\t\t\t\toffer.offer_type &&\n\t\t\t\t\t['item_code', 'item_group', 'brand'].includes(offer.offer_type) &&\n\t\t\t\t\toffer.discount_percentage\n\t\t\t\t) {\n\t\t\t\t\tthis.applyItemOffer(offer);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Other offer types or when reset to null\n\t\t\t\tif (newVal === null && oldVal !== null) {\n\t\t\t\t\t// Offer was reset to null (preparing for new application)\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true,\n\t\t\timmediate: false,\n\t\t},\n\t\tofferRemoved: {\n\t\t\thandler(removedOffer) {\n\t\t\t\t// Handle both boolean (legacy) and object (new) values\n\t\t\t\tif (!removedOffer || removedOffer === false) return;\n\n\t\t\t\t// If boolean true (all offers removed), clear everything\n\t\t\t\tif (removedOffer === true) {\n\t\t\t\t\t// Clear transaction-level discounts\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.additional_discount_percentage > 0 ||\n\t\t\t\t\t\tthis.offer_discount_percentage > 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.additional_discount_percentage = 0;\n\t\t\t\t\t\tthis.offer_discount_percentage = 0;\n\t\t\t\t\t}\n\t\t\t\t\t// Clear all item discounts\n\t\t\t\t\tthis.clearItemOfferDiscounts();\n\n\t\t\t\t\t// Recalculate totals\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tthis.updateInvoiceDocLocally();\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Handle specific offer removal (object)\n\t\t\t\tconst offerType = removedOffer.offer_type || '';\n\t\t\t\tconst offerName = removedOffer.name || removedOffer.offer_name;\n\n\t\t\t\t// Check if it's a transaction-level offer\n\t\t\t\tconst isTransactionOffer = [\n\t\t\t\t\t'grand_total',\n\t\t\t\t\t'customer',\n\t\t\t\t\t'customer_group',\n\t\t\t\t\t'',\n\t\t\t\t].includes(offerType);\n\n\t\t\t\t// Check if it's an item-level offer\n\t\t\t\tconst isItemOffer = ['item_code', 'item_group', 'brand'].includes(offerType);\n\n\t\t\t\t// Clear transaction-level discounts if it's a transaction offer\n\t\t\t\tif (isTransactionOffer) {\n\t\t\t\t\t// Always clear both if either has a value - check BOTH fields\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.additional_discount_percentage > 0 ||\n\t\t\t\t\t\tthis.offer_discount_percentage > 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.additional_discount_percentage = 0;\n\t\t\t\t\t\tthis.offer_discount_percentage = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Clear item-level discounts if it's an item offer\n\t\t\t\tif (isItemOffer) {\n\t\t\t\t\tthis.clearItemOfferDiscounts(offerName);\n\t\t\t\t}\n\n\t\t\t\t// Fallback: If offer_type is missing but we have an offer name, try to clear it anyway\n\t\t\t\t// This handles cases where backend doesn't send offer_type properly\n\t\t\t\tif (!isTransactionOffer && !isItemOffer && offerName) {\n\t\t\t\t\t// Attempt to clear by name - if it was an item offer, this will work\n\t\t\t\t\tconst itemsCleared = this.clearItemOfferDiscounts(offerName);\n\n\t\t\t\t\t// If no items were cleared, it might have been a transaction offer\n\t\t\t\t\t// Check if current discount matches the removed offer's discount\n\t\t\t\t\tif (!itemsCleared && removedOffer.discount_percentage) {\n\t\t\t\t\t\tconst removedDiscount = flt(removedOffer.discount_percentage);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tthis.additional_discount_percentage === removedDiscount ||\n\t\t\t\t\t\t\tthis.offer_discount_percentage === removedDiscount\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis.additional_discount_percentage = 0;\n\t\t\t\t\t\t\tthis.offer_discount_percentage = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Always recalculate totals after removing any offer\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.updateInvoiceDocLocally();\n\t\t\t\t});\n\t\t\t},\n\t\t\timmediate: false,\n\t\t},\n\t},\n};\n", "import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withKeys as _withKeys, withModifiers as _withModifiers, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { style: {\"position\":\"relative\",\"min-height\":\"0\",\"display\":\"flex\",\"flex-direction\":\"column\",\"flex-grow\":\"1\",\"height\":\"100%\"} }\nconst _hoisted_2 = { style: {\"width\":\"100%\",\"border-collapse\":\"collapse\",\"background\":\"white\",\"font-size\":\"0.75rem\",\"table-layout\":\"auto\",\"white-space\":\"nowrap\"} }\nconst _hoisted_3 = {\n  key: 0,\n  style: {\"padding\":\"12px 0px 12px 3px\",\"vertical-align\":\"middle\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"min-width\":\"0\"}\n}\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = {\n  key: 1,\n  style: {\"padding\":\"12px 0px\",\"vertical-align\":\"middle\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"min-width\":\"0\",\"text-align\":\"center\"}\n}\nconst _hoisted_6 = [\"title\"]\nconst _hoisted_7 = {\n  key: 2,\n  style: {\"padding\":\"12px 0px\",\"vertical-align\":\"middle\",\"max-width\":\"80px\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"min-width\":\"0\"}\n}\nconst _hoisted_8 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"space-between\",\"gap\":\"0px\",\"padding\":\"0px\",\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t135deg,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t#f8f9fa 0%,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t#ffffff 100%\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)\",\"border-radius\":\"4px\",\"width\":\"100%\",\"min-width\":\"0\",\"box-sizing\":\"border-box\",\"overflow\":\"hidden\"} }\nconst _hoisted_9 = [\"onClick\", \"disabled\"]\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"700\",\"line-height\":\"1\"} }, \"\u2212\", -1 /* HOISTED */)\nconst _hoisted_11 = [\n  _hoisted_10\n]\nconst _hoisted_12 = [\"value\", \"onInput\", \"onChange\", \"onBlur\"]\nconst _hoisted_13 = [\"onClick\"]\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"700\",\"line-height\":\"1\"} }, \"+\", -1 /* HOISTED */)\nconst _hoisted_15 = [\n  _hoisted_14\n]\nconst _hoisted_16 = {\n  key: 3,\n  style: {\"padding\":\"12px 0px\",\"vertical-align\":\"middle\",\"text-align\":\"center\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"min-width\":\"0\"}\n}\nconst _hoisted_17 = {\n  key: 4,\n  style: {\"padding\":\"12px 0px\",\"vertical-align\":\"middle\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"min-width\":\"0\",\"max-width\":\"80px\"}\n}\nconst _hoisted_18 = {\n  key: 5,\n  style: {\"padding\":\"12px 0px\",\"vertical-align\":\"middle\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"min-width\":\"0\",\"max-width\":\"75px\",\"justify-items\":\"center\"}\n}\nconst _hoisted_19 = [\"value\", \"onChange\", \"onKeyup\", \"onBlur\", \"disabled\"]\nconst _hoisted_20 = {\n  key: 6,\n  style: {\"padding\":\"12px 0px\",\"vertical-align\":\"middle\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"min-width\":\"0\",\"max-width\":\"85px\"}\n}\nconst _hoisted_21 = [\"value\", \"onChange\", \"onKeyup\", \"onBlur\", \"disabled\", \"max\"]\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.65rem\",\"font-weight\":\"700\",\"color\":\"#f57c00\",\"white-space\":\"nowrap\",\"flex-shrink\":\"0\"} }, \"%\", -1 /* HOISTED */)\nconst _hoisted_23 = {\n  key: 0,\n  style: {\"position\":\"absolute\",\"top\":\"-2px\",\"right\":\"-2px\",\"background\":\"#4caf50\",\"color\":\"white\",\"font-size\":\"0.5rem\",\"font-weight\":\"600\",\"padding\":\"1px 3px\",\"border-radius\":\"2px\",\"line-height\":\"1\"}\n}\nconst _hoisted_24 = {\n  key: 7,\n  style: {\"padding\":\"12px 1px\",\"vertical-align\":\"middle\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"min-width\":\"0\",\"max-width\":\"80px\",\"justify-items\":\"center\"}\n}\nconst _hoisted_25 = {\n  key: 0,\n  style: {\"position\":\"absolute\",\"top\":\"-2px\",\"right\":\"-2px\",\"background\":\"#4caf50\",\"color\":\"white\",\"font-size\":\"0.5rem\",\"font-weight\":\"600\",\"padding\":\"1px 2px\",\"border-radius\":\"2px\",\"line-height\":\"1\"}\n}\nconst _hoisted_26 = {\n  key: 8,\n  style: {\"padding\":\"12px 0px\",\"vertical-align\":\"middle\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"min-width\":\"0\"}\n}\nconst _hoisted_27 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"3px\",\"padding\":\"0px 6px\",\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t135deg,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t#e8f5e9 0%,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t#c8e6c9 100%\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)\",\"border-radius\":\"4px\",\"min-width\":\"0\",\"justify-content\":\"center\",\"overflow\":\"hidden\"} }\nconst _hoisted_28 = { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"700\",\"color\":\"#1b5e20\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"} }\nconst _hoisted_29 = {\n  key: 9,\n  style: {\"padding\":\"12px 0px\",\"vertical-align\":\"middle\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"min-width\":\"0\"}\n}\nconst _hoisted_30 = { style: {\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"} }\nconst _hoisted_31 = [\"disabled\", \"onClick\"]\nconst _hoisted_32 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-delete\",\n  style: {\"font-size\":\"18px\",\"color\":\"#b71c1c\",\"line-height\":\"1\",\"display\":\"block\",\"pointer-events\":\"none\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_33 = [\n  _hoisted_32\n]\nconst _hoisted_34 = { style: {\"position\":\"fixed\",\"bottom\":\"0\",\"left\":\"0\",\"right\":\"0\",\"background\":\"#c4763d85\",\"border-radius\":\"8px 8px 0 0\",\"padding\":\"8px\",\"border\":\"1px solid #e0e0e0\",\"border-bottom\":\"none\",\"box-shadow\":\"0 -2px 8px rgba(0, 0, 0, 0.12)\",\"z-index\":\"100\"} }\nconst _hoisted_35 = { style: {\"display\":\"grid\",\"grid-template-columns\":\"repeat(auto-fit, minmax(120px, 1fr))\",\"gap\":\"6px\",\"margin-bottom\":\"3px\",\"padding\":\"0px\",\"background\":\"linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%)\",\"border-radius\":\"4px\"} }\nconst _hoisted_36 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"padding\":\"4px 6px\",\"background\":\"white\",\"border-radius\":\"3px\",\"border\":\"1px solid #e0e0e0\"} }\nconst _hoisted_37 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.65rem\",\"margin-bottom\":\"0\",\"font-weight\":\"600\",\"color\":\"#666\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.3px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Total_Qty \"),\n  /*#__PURE__*/_createTextVNode(\" \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0643\u0645\u064A\u0629\")\n], -1 /* HOISTED */)\nconst _hoisted_38 = { style: {\"font-size\":\"0.9rem\",\"font-weight\":\"700\",\"color\":\"#1976d2\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"line-height\":\"1.2\"} }\nconst _hoisted_39 = [\"value\", \"max\", \"disabled\"]\nconst _hoisted_40 = {\n  key: 0,\n  style: {\"position\":\"absolute\",\"top\":\"-2px\",\"right\":\"-2px\",\"background\":\"#4caf50\",\"color\":\"white\",\"font-size\":\"0.5rem\",\"font-weight\":\"600\",\"padding\":\"1px 3px\",\"border-radius\":\"2px\",\"line-height\":\"1\"}\n}\nconst _hoisted_41 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"padding\":\"4px 6px\",\"background\":\"white\",\"border-radius\":\"3px\",\"border\":\"1px solid #ffcc02\"} }\nconst _hoisted_42 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.65rem\",\"margin-bottom\":\"0\",\"font-weight\":\"600\",\"color\":\"#666\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.3px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" items_discount \"),\n  /*#__PURE__*/_createTextVNode(\" \u062E\u0635\u0645 \u0627\u0644\u0623\u0635\u0646\u0627\u0641\")\n], -1 /* HOISTED */)\nconst _hoisted_43 = { style: {\"font-size\":\"0.9rem\",\"font-weight\":\"700\",\"color\":\"#f57c00\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"line-height\":\"1.2\"} }\nconst _hoisted_44 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"padding\":\"4px 6px\",\"background\":\"white\",\"border-radius\":\"3px\",\"border\":\"1px solid #e0e0e0\"} }\nconst _hoisted_45 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.65rem\",\"margin-bottom\":\"0\",\"font-weight\":\"600\",\"color\":\"#666\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.3px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" list_price_total \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0642\u0628\u0644 \u0627\u0644\u062E\u0635\u0645\")\n], -1 /* HOISTED */)\nconst _hoisted_46 = { style: {\"font-size\":\"0.9rem\",\"font-weight\":\"700\",\"color\":\"#1976d2\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"line-height\":\"1.2\"} }\nconst _hoisted_47 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"padding\":\"4px 6px\",\"background\":\"white\",\"border-radius\":\"3px\",\"border\":\"1px solid #e0e0e0\"} }\nconst _hoisted_48 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.65rem\",\"margin-bottom\":\"0\",\"font-weight\":\"600\",\"color\":\"#666\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.3px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" net_total \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0635\u0627\u0641\u064A\")\n], -1 /* HOISTED */)\nconst _hoisted_49 = { style: {\"font-size\":\"0.9rem\",\"font-weight\":\"700\",\"color\":\"#1976d2\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"line-height\":\"1.2\"} }\nconst _hoisted_50 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"padding\":\"4px 6px\",\"background\":\"white\",\"border-radius\":\"3px\",\"border\":\"1px solid #03a9f4\"} }\nconst _hoisted_51 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.65rem\",\"margin-bottom\":\"0\",\"font-weight\":\"600\",\"color\":\"#666\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.3px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Tax \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0636\u0631\u064A\u0628\u0629\")\n], -1 /* HOISTED */)\nconst _hoisted_52 = { style: {\"font-size\":\"0.9rem\",\"font-weight\":\"700\",\"color\":\"#0288d1\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"line-height\":\"1.2\"} }\nconst _hoisted_53 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"padding\":\"4px 6px\",\"background\":\"white\",\"border-radius\":\"3px\",\"border\":\"1px solid #2e7d32\"} }\nconst _hoisted_54 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.65rem\",\"margin-bottom\":\"0\",\"font-weight\":\"600\",\"color\":\"#2e7d32\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.3px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" grand_total \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0643\u0644\u064A\")\n], -1 /* HOISTED */)\nconst _hoisted_55 = { style: {\"font-size\":\"0.9rem\",\"font-weight\":\"800\",\"color\":\"#2e7d32\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"line-height\":\"1.2\"} }\nconst _hoisted_56 = { style: {\"display\":\"flex\",\"gap\":\"1px\",\"background\":\"white\",\"padding\":\"0px\",\"border-radius\":\"6px\",\"width\":\"100%\",\"box-shadow\":\"inset 0 1px 3px rgba(0, 0, 0, 0.05)\"} }\nconst _hoisted_57 = [\"disabled\"]\nconst _hoisted_58 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-printer\",\n  style: {\"font-size\":\"16px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_59 = { style: {\"font-size\":\"0.85rem\"} }\nconst _hoisted_60 = {\n  key: 1,\n  style: {\"flex\":\"1\",\"padding\":\"8px 4px\",\"border-radius\":\"5px\",\"background\":\"linear-gradient(135deg, #ff9800 0%, #f57c00 100%)\",\"color\":\"white\",\"font-size\":\"0.85rem\",\"font-weight\":\"600\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"4px\",\"text-align\":\"center\"}\n}\nconst _hoisted_61 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-alert\",\n  style: {\"font-size\":\"16px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_62 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.85rem\"} }, \"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0632\u0627\u0626\u062F \u063A\u064A\u0631 \u0645\u0633\u0645\u0648\u062D\", -1 /* HOISTED */)\nconst _hoisted_63 = [\n  _hoisted_61,\n  _hoisted_62\n]\nconst _hoisted_64 = {\n  key: 2,\n  style: {\"flex\":\"1\",\"padding\":\"8px 4px\",\"border-radius\":\"5px\",\"background\":\"linear-gradient(135deg, #ff9800 0%, #f57c00 100%)\",\"color\":\"white\",\"font-size\":\"0.85rem\",\"font-weight\":\"600\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"4px\",\"text-align\":\"center\"}\n}\nconst _hoisted_65 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-alert\",\n  style: {\"font-size\":\"16px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_66 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.85rem\"} }, \"\u0627\u0644\u062F\u0641\u0639 \u0627\u0644\u062C\u0632\u0626\u064A \u063A\u064A\u0631 \u0645\u0633\u0645\u0648\u062D\", -1 /* HOISTED */)\nconst _hoisted_67 = [\n  _hoisted_65,\n  _hoisted_66\n]\nconst _hoisted_68 = [\"disabled\"]\nconst _hoisted_69 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-cash-multiple\",\n  style: {\"font-size\":\"16px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_70 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.85rem\"} }, \"\u062F\u0641\u0639\", -1 /* HOISTED */)\nconst _hoisted_71 = [\"disabled\"]\nconst _hoisted_72 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-keyboard-return\",\n  style: {\"font-size\":\"16px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_73 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.85rem\"} }, \"\u0625\u0631\u062C\u0627\u0639 \u0641\u0627\u062A\u0648\u0631\u0629\", -1 /* HOISTED */)\nconst _hoisted_74 = [\"disabled\"]\nconst _hoisted_75 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-flash\",\n  style: {\"font-size\":\"16px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_76 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.85rem\"} }, \"\u0645\u0631\u062A\u062C\u0639 \u0633\u0631\u064A\u0639\", -1 /* HOISTED */)\nconst _hoisted_77 = { style: {\"font-size\":\"0.85rem\"} }\nconst _hoisted_78 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-close-circle\",\n  style: {\"font-size\":\"16px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_79 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.85rem\"} }, \"\u0625\u0644\u063A\u0627\u0621\", -1 /* HOISTED */)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Customer = _resolveComponent(\"Customer\")\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" INVOICE CONTAINER \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createCommentVNode(\" =========================================== \"),\n      _createCommentVNode(\" CUSTOMER SECTION \"),\n      _createCommentVNode(\" =========================================== \"),\n      _createElementVNode(\"div\", {\n        style: _normalizeStyle(\n\t\t\t\t\t_ctx.quick_return_value\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tpadding: '4px 6px',\n\t\t\t\t\t\t\t\tborderBottom: '1px solid #e0e0e0',\n\t\t\t\t\t\t\t\tmarginBottom: '0',\n\t\t\t\t\t\t\t\tborder: '3px solid #9c27b0',\n\t\t\t\t\t\t\t\tborderRadius: '8px',\n\t\t\t\t\t\t\t\tborderTopWidth: '2px',\n\t\t\t\t\t\t\t\tpaddingTop: '2px',\n\t\t\t\t\t\t\t\tborderBottomWidth: '2px',\n\t\t\t\t\t\t\t\tpaddingBottom: '3px',\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: _ctx.invoice_doc?.is_return\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tpadding: '4px 6px',\n\t\t\t\t\t\t\t\tborderBottom: '1px solid #e0e0e0',\n\t\t\t\t\t\t\t\tmarginBottom: '0',\n\t\t\t\t\t\t\t\tborder: '3px solid #607d8b',\n\t\t\t\t\t\t\t\tborderRadius: '8px',\n\t\t\t\t\t\t\t\tborderTopWidth: '2px',\n\t\t\t\t\t\t\t\tpaddingTop: '2px',\n\t\t\t\t\t\t\t\tborderBottomWidth: '2px',\n\t\t\t\t\t\t\t\tpaddingBottom: '3px',\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\tpadding: '4px 6px',\n\t\t\t\t\t\t\t\tborderBottom: '1px solid #e0e0e0',\n\t\t\t\t\t\t\t\tmarginBottom: '0',\n\t\t\t\t\t\t\t\tborder: '3px solid #4caf50',\n\t\t\t\t\t\t\t\tborderRadius: '8px',\n\t\t\t\t\t\t\t\tborderTopWidth: '2px',\n\t\t\t\t\t\t\t\tpaddingTop: '2px',\n\t\t\t\t\t\t\t\tborderBottomWidth: '2px',\n\t\t\t\t\t\t\t\tpaddingBottom: '3px',\n\t\t\t\t\t\t  }\n\t\t\t\t)\n      }, [\n        _createVNode(_component_Customer)\n      ], 4 /* STYLE */),\n      _createCommentVNode(\" =========================================== \"),\n      _createCommentVNode(\" ITEMS TABLE SECTION \"),\n      _createCommentVNode(\" =========================================== \"),\n      _createElementVNode(\"div\", {\n        ref: \"itemsScrollArea\",\n        style: _normalizeStyle([_ctx.itemsScrollStyle, {\"flex\":\"1\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\",\"padding\":\"0\",\"display\":\"block\"}])\n      }, [\n        _createElementVNode(\"table\", _hoisted_2, [\n          _createCommentVNode(\" TABLE HEADERS \"),\n          _createElementVNode(\"thead\", null, [\n            _createElementVNode(\"tr\", null, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.dynamicHeaders, (header) => {\n                return (_openBlock(), _createElementBlock(\"th\", {\n                  key: header.key,\n                  style: {\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t180deg,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trgba(128, 166, 255, 1) 0%,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\trgba(128, 166, 255, 0.25) 50%\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t)\",\"border-bottom\":\"1px solid #e0e0e0\",\"padding\":\"8px 2px\",\"font-weight\":\"600\",\"font-size\":\"0.75rem\",\"color\":\"#424242\",\"position\":\"sticky\",\"top\":\"0\",\"z-index\":\"1\",\"text-align\":\"center\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"}\n                }, _toDisplayString(header.title), 1 /* TEXT */))\n              }), 128 /* KEYED_FRAGMENT */))\n            ])\n          ]),\n          _createCommentVNode(\" TABLE ROWS - INVOICE ITEMS \"),\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.items, (item) => {\n              return (_openBlock(), _createElementBlock(\"tr\", {\n                key: item.posa_row_id,\n                style: _normalizeStyle({\n\t\t\t\t\t\t\t\tborderBottom: '1px solid #f1f1f1',\n\t\t\t\t\t\t\t\tborderLeft:\n\t\t\t\t\t\t\t\t\titem.discount_percentage > 0 || item.posa_offer_applied\n\t\t\t\t\t\t\t\t\t\t? '3px solid #ff9800'\n\t\t\t\t\t\t\t\t\t\t: 'none',\n\t\t\t\t\t\t\t})\n              }, [\n                _createCommentVNode(\" ITEM NAME COLUMN \"),\n                (_ctx.dynamicHeaders.find((h) => h.key === 'item_name'))\n                  ? (_openBlock(), _createElementBlock(\"td\", _hoisted_3, [\n                      _createCommentVNode(\" <div style=\\\"width: 120px\\\"> \"),\n                      _createElementVNode(\"p\", {\n                        style: {\"margin-bottom\":\"0\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"font-size\":\"0.7rem !important\"},\n                        title: item.item_name\n                      }, _toDisplayString(item.item_name), 9 /* TEXT, PROPS */, _hoisted_4),\n                      _createCommentVNode(\" </div> \")\n                    ]))\n                  : _createCommentVNode(\"v-if\", true),\n                _createCommentVNode(\" ITEM CODE COLUMN \"),\n                (_ctx.dynamicHeaders.find((h) => h.key === 'item_code'))\n                  ? (_openBlock(), _createElementBlock(\"td\", _hoisted_5, [\n                      _createElementVNode(\"p\", {\n                        style: {\"margin-bottom\":\"0\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"font-size\":\"0.7rem !important\"},\n                        title: item.item_code\n                      }, _toDisplayString(item.item_code), 9 /* TEXT, PROPS */, _hoisted_6)\n                    ]))\n                  : _createCommentVNode(\"v-if\", true),\n                _createCommentVNode(\" QUANTITY COLUMN \"),\n                (_ctx.dynamicHeaders.find((h) => h.key === 'qty'))\n                  ? (_openBlock(), _createElementBlock(\"td\", _hoisted_7, [\n                      _createElementVNode(\"div\", _hoisted_8, [\n                        _createElementVNode(\"button\", {\n                          style: {\"flex-shrink\":\"0\",\"width\":\"16px\",\"height\":\"16px\",\"min-width\":\"16px\",\"padding\":\"0\",\"border\":\"none\",\"border-radius\":\"3px\",\"cursor\":\"pointer\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"font-size\":\"0\",\"position\":\"relative\",\"color\":\"white\",\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t135deg,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t#ff9800 0%,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t#f57c00 100%\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)\",\"box-shadow\":\"0 1px 3px rgba(0, 0, 0, 0.2)\"},\n                          onClick: $event => (_ctx.decreaseQuantity(item)),\n                          disabled: !(item.qty && Math.abs(item.qty) > 0),\n                          type: \"button\"\n                        }, _hoisted_11, 8 /* PROPS */, _hoisted_9),\n                        _createElementVNode(\"input\", {\n                          type: \"text\",\n                          value: Math.abs(item.qty || 0),\n                          onInput: $event => (_ctx.onQtyInput(item, $event)),\n                          onChange: $event => (_ctx.onQtyChange(item, $event)),\n                          onBlur: $event => (_ctx.handleQtyBlur(item, $event)),\n                          style: {\"flex\":\"1\",\"width\":\"100%\",\"min-width\":\"10px !important\",\"border\":\"1px solid #1976d2\",\"background\":\"white\",\"text-align\":\"center\",\"font-size\":\"0.75rem\",\"margin\":\"0px 1px\",\"padding\":\"0px 0px\",\"border-radius\":\"3px\",\"outline\":\"none\",\"box-sizing\":\"border-box\",\"max-width\":\"100%\"},\n                          placeholder: \"0\"\n                        }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_12),\n                        _createElementVNode(\"button\", {\n                          style: {\"flex-shrink\":\"0\",\"width\":\"16px\",\"height\":\"16px\",\"min-width\":\"16px\",\"padding\":\"0\",\"border\":\"none\",\"border-radius\":\"3px\",\"cursor\":\"pointer\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"font-size\":\"0\",\"position\":\"relative\",\"color\":\"white\",\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t135deg,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t#4caf50 0%,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t#388e3c 100%\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)\",\"box-shadow\":\"0 1px 3px rgba(0, 0, 0, 0.2)\"},\n                          onClick: $event => (_ctx.increaseQuantity(item)),\n                          type: \"button\"\n                        }, _hoisted_15, 8 /* PROPS */, _hoisted_13)\n                      ])\n                    ]))\n                  : _createCommentVNode(\"v-if\", true),\n                _createCommentVNode(\" UOM COLUMN \"),\n                (_ctx.dynamicHeaders.find((h) => h.key === 'uom'))\n                  ? (_openBlock(), _createElementBlock(\"td\", _hoisted_16, _toDisplayString(item.uom), 1 /* TEXT */))\n                  : _createCommentVNode(\"v-if\", true),\n                _createCommentVNode(\" PRICE LIST RATE COLUMN (Original Price) \"),\n                (_ctx.dynamicHeaders.find((h) => h.key === 'price_list_rate'))\n                  ? (_openBlock(), _createElementBlock(\"td\", _hoisted_17, [\n                      _createElementVNode(\"div\", {\n                        style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\tgap: '3px',\n\t\t\t\t\t\t\t\t\t\tpadding: '0px 3px',\n\t\t\t\t\t\t\t\t\t\tbackground: item._offer_discount_applied\n\t\t\t\t\t\t\t\t\t\t\t? 'linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)'\n\t\t\t\t\t\t\t\t\t\t\t: 'linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)',\n\t\t\t\t\t\t\t\t\t\tborderRadius: '4px',\n\t\t\t\t\t\t\t\t\t\tminWidth: 0,\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\t\tplaceSelf: 'center',\n\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t\t})\n                      }, [\n                        _createElementVNode(\"span\", {\n                          style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.7rem',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: '700',\n\t\t\t\t\t\t\t\t\t\t\tcolor: item._offer_discount_applied\n\t\t\t\t\t\t\t\t\t\t\t\t? '#e65100'\n\t\t\t\t\t\t\t\t\t\t\t\t: '#2e7d32',\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t\t\t\t\t\t})\n                        }, _toDisplayString(_ctx.formatCurrency(item.price_list_rate)), 5 /* TEXT, STYLE */)\n                      ], 4 /* STYLE */)\n                    ]))\n                  : _createCommentVNode(\"v-if\", true),\n                _createCommentVNode(\" RATE COLUMN (Discounted Price - Editable) \"),\n                (_ctx.dynamicHeaders.find((h) => h.key === 'rate'))\n                  ? (_openBlock(), _createElementBlock(\"td\", _hoisted_18, [\n                      _createElementVNode(\"div\", {\n                        style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\tgap: '3px',\n\t\t\t\t\t\t\t\t\t\tpadding: '0px 3px',\n\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t_ctx.flt(item.rate) !== _ctx.flt(item.price_list_rate)\n\t\t\t\t\t\t\t\t\t\t\t\t? 'linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)',\n\t\t\t\t\t\t\t\t\t\tborderRadius: '4px',\n\t\t\t\t\t\t\t\t\t\tminWidth: '0',\n\t\t\t\t\t\t\t\t\t\tmaxWidth: '65px',\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\t\t\tborder:\n\t\t\t\t\t\t\t\t\t\t\t_ctx.flt(item.rate) !== _ctx.flt(item.price_list_rate)\n\t\t\t\t\t\t\t\t\t\t\t\t? '1px solid #ff9800'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'none',\n\t\t\t\t\t\t\t\t\t})\n                      }, [\n                        _createElementVNode(\"input\", {\n                          type: \"text\",\n                          value: item.rate || '',\n                          onChange: $event => (_ctx.setItemRate(item, $event)),\n                          onKeyup: _withKeys($event => (_ctx.setItemRate(item, $event)), [\"enter\"]),\n                          onBlur: $event => (_ctx.handleRateBlur(item, $event)),\n                          disabled: \n\t\t\t\t\t\t\t\t\t\t\tBoolean(\n\t\t\t\t\t\t\t\t\t\t\t\titem.posa_is_offer ||\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.posa_is_replace ||\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.posa_offer_applied ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t_ctx.invoice_doc?.is_return,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t,\n                          style: _normalizeStyle([\n\t\t\t\t\t\t\t\t\t\t\tBoolean(\n\t\t\t\t\t\t\t\t\t\t\t\titem.posa_is_offer ||\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.posa_is_replace ||\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.posa_offer_applied ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t_ctx.invoice_doc?.is_return,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t? 'flex: 1; width: 100%; border: none;background: #f5f5f5; color: #9e9e9e; font-size: 0.7rem; padding: 2px 2px; border-radius: 3px; outline: none; cursor: not-allowed; max-width: 45px;'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'flex: 1; width: 100%; border: none; background: transparent; font-size: 0.75rem; font-weight: 700; color: #f57c00; padding: 0; outline: none; text-align: right; max-width: 45px;'\n\t\t\t\t\t\t\t\t\t\t, {\"box-sizing\":\"border-box\",\"min-width\":\"0\",\"max-width\":\"100%\"}]),\n                          placeholder: \"0.00\"\n                        }, null, 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_19),\n                        _createCommentVNode(\" Discount indicator for rate \"),\n                        _createCommentVNode(\" <span\\n                    v-if=\\\"\\n                      flt(item.rate) !== flt(item.price_list_rate) &&\\n                      flt(item.rate) < flt(item.price_list_rate)\\n                    \\\"\\n                    style=\\\"\\n                      position: absolute;\\n                      top: -2px;\\n                      right: -2px;\\n                      background: #ff9800;\\n                      color: white;\\n                      font-size: 0.5rem;\\n                      font-weight: 600;\\n                      padding: 1px 3px;\\n                      border-radius: 2px;\\n                      line-height: 1;\\n                    \\\"\\n                  >\\n                    DISCOUNT\\n                  </span> \")\n                      ], 4 /* STYLE */)\n                    ]))\n                  : _createCommentVNode(\"v-if\", true),\n                _createCommentVNode(\" DISCOUNT PERCENTAGE COLUMN (Editable) \"),\n                (_ctx.dynamicHeaders.find((h) => h.key === 'discount_percentage'))\n                  ? (_openBlock(), _createElementBlock(\"td\", _hoisted_20, [\n                      _createElementVNode(\"div\", {\n                        style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\tgap: '3px',\n\t\t\t\t\t\t\t\t\t\tpadding: '0px 6px',\n\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\titem.discount_percentage > 0\n\t\t\t\t\t\t\t\t\t\t\t\t? 'linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)',\n\t\t\t\t\t\t\t\t\t\tborderRadius: '4px',\n\t\t\t\t\t\t\t\t\t\tminWidth: '0',\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\t\t})\n                      }, [\n                        _createElementVNode(\"input\", {\n                          type: \"number\",\n                          value: _ctx.formatFloat(item.discount_percentage || 0),\n                          onChange: $event => (_ctx.setDiscountPercentage(item, $event)),\n                          onKeyup: _withKeys($event => (_ctx.setDiscountPercentage(item, $event)), [\"enter\"]),\n                          onBlur: $event => (_ctx.handleDiscountBlur(item, $event)),\n                          disabled: \n\t\t\t\t\t\t\t\t\t\t\tBoolean(\n\t\t\t\t\t\t\t\t\t\t\t\titem.posa_is_offer ||\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.posa_is_replace ||\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.posa_offer_applied ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t!_ctx.pos_profile?.posa_allow_user_to_edit_item_discount ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t_ctx.invoice_doc?.is_return,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t,\n                          style: _normalizeStyle([\n\t\t\t\t\t\t\t\t\t\t\tBoolean(\n\t\t\t\t\t\t\t\t\t\t\t\titem.posa_is_offer ||\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.posa_is_replace ||\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.posa_offer_applied ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t!_ctx.pos_profile?.posa_allow_user_to_edit_item_discount ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t_ctx.invoice_doc?.is_return,\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t? 'flex: 1; width: 100%; border: none; background: #f5f5f5; color: #9e9e9e; font-size: 0.75rem; padding: 2px 4px; border-radius: 3px; outline: none; cursor: not-allowed; text-align: right'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'flex: 1; width: 100%; border: none; background: transparent; font-size: 0.75rem; font-weight: 700; color: #f57c00; padding: 0; outline: none; text-align: right'\n\t\t\t\t\t\t\t\t\t\t, {\"box-sizing\":\"border-box\",\"min-width\":\"0\",\"max-width\":\"100%\"}]),\n                          placeholder: \"0\",\n                          min: \"0\",\n                          max: _ctx.pos_profile?.posa_item_max_discount_allowed || 100,\n                          step: \"0.01\"\n                        }, null, 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_21),\n                        _hoisted_22,\n                        _createCommentVNode(\" Offer badge for discount percentage \"),\n                        (\n\t\t\t\t\t\t\t\t\t\t\titem.posa_offer_applied && item.discount_percentage > 0\n\t\t\t\t\t\t\t\t\t\t)\n                          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_23, \" OFFER \"))\n                          : _createCommentVNode(\"v-if\", true)\n                      ], 4 /* STYLE */)\n                    ]))\n                  : _createCommentVNode(\"v-if\", true),\n                _createCommentVNode(\" DISCOUNT AMOUNT COLUMN (Calculated) \"),\n                (_ctx.dynamicHeaders.find((h) => h.key === 'discount_amount'))\n                  ? (_openBlock(), _createElementBlock(\"td\", _hoisted_24, [\n                      _createElementVNode(\"div\", {\n                        style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\tgap: '3px',\n\t\t\t\t\t\t\t\t\t\tpadding: '0px 2px',\n\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t_ctx.getDiscountAmount(item) > 0\n\t\t\t\t\t\t\t\t\t\t\t\t? 'linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'linear-gradient(135deg, #f5f5f5 0%, #eeeeee 100%)',\n\t\t\t\t\t\t\t\t\t\tborderRadius: '4px',\n\t\t\t\t\t\t\t\t\t\tminWidth: '0',\n\t\t\t\t\t\t\t\t\t\tmaxWidth: '85px',\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\t\t})\n                      }, [\n                        _createElementVNode(\"span\", {\n                          style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.75rem',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: '700',\n\t\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\t\t_ctx.getDiscountAmount(item) > 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t? '#f57c00'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: '#9e9e9e',\n\t\t\t\t\t\t\t\t\t\t})\n                        }, _toDisplayString(_ctx.formatCurrency(_ctx.getDiscountAmount(item))), 5 /* TEXT, STYLE */),\n                        _createCommentVNode(\" Offer badge for discount amount \"),\n                        (\n\t\t\t\t\t\t\t\t\t\t\titem.posa_offer_applied && _ctx.getDiscountAmount(item) > 0\n\t\t\t\t\t\t\t\t\t\t)\n                          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_25, \" OFFER \"))\n                          : _createCommentVNode(\"v-if\", true)\n                      ], 4 /* STYLE */)\n                    ]))\n                  : _createCommentVNode(\"v-if\", true),\n                _createCommentVNode(\" TOTAL AMOUNT COLUMN (Calculated: Qty \u00D7 Rate) \"),\n                (_ctx.dynamicHeaders.find((h) => h.key === 'amount'))\n                  ? (_openBlock(), _createElementBlock(\"td\", _hoisted_26, [\n                      _createElementVNode(\"div\", _hoisted_27, [\n                        _createElementVNode(\"span\", _hoisted_28, _toDisplayString(_ctx.formatCurrency(\n\t\t\t\t\t\t\t\t\t\t\t\t_ctx.flt(item.qty, _ctx.float_precision) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t_ctx.flt(item.rate, _ctx.currency_precision),\n\t\t\t\t\t\t\t\t\t\t\t)), 1 /* TEXT */)\n                      ])\n                    ]))\n                  : _createCommentVNode(\"v-if\", true),\n                _createCommentVNode(\" ACTIONS COLUMN (Delete Button) \"),\n                (_ctx.dynamicHeaders.find((h) => h.key === 'actions'))\n                  ? (_openBlock(), _createElementBlock(\"td\", _hoisted_29, [\n                      _createElementVNode(\"div\", _hoisted_30, [\n                        _createElementVNode(\"button\", {\n                          disabled: \n\t\t\t\t\t\t\t\t\t\t\tBoolean(item.posa_is_offer || item.posa_is_replace)\n\t\t\t\t\t\t\t\t\t\t,\n                          style: _normalizeStyle(\n\t\t\t\t\t\t\t\t\t\t\titem.posa_is_offer || item.posa_is_replace\n\t\t\t\t\t\t\t\t\t\t\t\t? 'width:18px;height:18px;padding:0;border-radius:6px;border:none;background:#f3f3f3;color:#9e9e9e;display:flex;align-items:center;justify-content:center;cursor:not-allowed;opacity:0.6;'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'width:18px;height:18px;padding:0;border-radius:6px;border:none;background:linear-gradient(180deg,#fff5f5,#ffffff);color:#c62828;display:flex;align-items:center;justify-content:center;cursor:pointer;'\n\t\t\t\t\t\t\t\t\t\t),\n                          onMouseenter: _cache[0] || (_cache[0] = $event => {\n\t\t\t\t\t\t\t\t\t\t\tif (!$event.currentTarget.disabled) {\n\t\t\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.background = '#ffcdd2';\n\t\t\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.border =\n\t\t\t\t\t\t\t\t\t\t\t\t\t'1px solid #ef5350';\n\t\t\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow =\n\t\t\t\t\t\t\t\t\t\t\t\t\t'0 2px 4px rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}),\n                          onMouseleave: _cache[1] || (_cache[1] = $event => {\n\t\t\t\t\t\t\t\t\t\t\tif (!$event.currentTarget.disabled) {\n\t\t\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.background =\n\t\t\t\t\t\t\t\t\t\t\t\t\t'linear-gradient(180deg,#fff5f5,#ffffff)';\n\t\t\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.border = 'none';\n\t\t\t\t\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}),\n                          onClick: _withModifiers($event => (_ctx.remove_item(item)), [\"stop\"]),\n                          title: \"\u062D\u0630\u0641 \u0627\u0644\u0635\u0646\u0641\"\n                        }, _hoisted_33, 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_31)\n                      ])\n                    ]))\n                  : _createCommentVNode(\"v-if\", true)\n              ], 4 /* STYLE */))\n            }), 128 /* KEYED_FRAGMENT */))\n          ])\n        ])\n      ], 4 /* STYLE */)\n    ]),\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" PAYMENT & FINANCIAL SUMMARY SECTION \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_34, [\n      _createCommentVNode(\" FINANCIAL SUMMARY (Totals Row) \"),\n      _createElementVNode(\"div\", _hoisted_35, [\n        _createCommentVNode(\" Total_Qty Field \"),\n        _createElementVNode(\"div\", _hoisted_36, [\n          _hoisted_37,\n          _createElementVNode(\"div\", _hoisted_38, _toDisplayString(_ctx.formatFloat(_ctx.invoice_doc?.total_qty || 0)), 1 /* TEXT */)\n        ]),\n        _createCommentVNode(\" Invoice_discount Field (Editable) \"),\n        _createElementVNode(\"div\", {\n          style: _normalizeStyle({\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\tpadding: '4px 6px',\n\t\t\t\t\t\tbackground: _ctx.pos_profile?.posa_allow_user_to_edit_additional_discount\n\t\t\t\t\t\t\t? 'white'\n\t\t\t\t\t\t\t: '#f5f5f5',\n\t\t\t\t\t\tborderRadius: '3px',\n\t\t\t\t\t\tborder: _ctx.pos_profile?.posa_allow_user_to_edit_additional_discount\n\t\t\t\t\t\t\t? '1px solid #e0e0e0'\n\t\t\t\t\t\t\t: '1px solid #d0d0d0',\n\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t})\n        }, [\n          _createElementVNode(\"label\", {\n            style: _normalizeStyle({\n\t\t\t\t\t\t\tfontSize: '0.65rem',\n\t\t\t\t\t\t\tmarginBottom: '0',\n\t\t\t\t\t\t\tfontWeight: '600',\n\t\t\t\t\t\t\tcolor: _ctx.pos_profile?.posa_allow_user_to_edit_additional_discount\n\t\t\t\t\t\t\t\t? '#666'\n\t\t\t\t\t\t\t\t: '#9e9e9e',\n\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t\t\ttextTransform: 'uppercase',\n\t\t\t\t\t\t\tletterSpacing: '0.3px',\n\t\t\t\t\t\t})\n          }, [\n            _createCommentVNode(\" Invoice_discount \"),\n            _createTextVNode(\" \u062E\u0635\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629\")\n          ], 4 /* STYLE */),\n          _createElementVNode(\"input\", {\n            type: \"number\",\n            value: _ctx.additional_discount_percentage,\n            onInput: _cache[2] || (_cache[2] = (...args) => (_ctx.onDiscountInput && _ctx.onDiscountInput(...args))),\n            onBlur: _cache[3] || (_cache[3] = (...args) => (_ctx.onDiscountBlur && _ctx.onDiscountBlur(...args))),\n            ref: \"percentage_discount\",\n            step: \"0.01\",\n            min: \"0\",\n            max: _ctx.pos_profile?.posa_invoice_max_discount_allowed || 100,\n            style: _normalizeStyle({\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\t\t\tfontSize: '0.9rem',\n\t\t\t\t\t\t\tfontWeight: '700',\n\t\t\t\t\t\t\tcolor: _ctx.pos_profile?.posa_allow_user_to_edit_additional_discount\n\t\t\t\t\t\t\t\t? '#1976d2'\n\t\t\t\t\t\t\t\t: '#9e9e9e',\n\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\ttextAlign: 'left',\n\t\t\t\t\t\t\tcursor: _ctx.pos_profile?.posa_allow_user_to_edit_additional_discount\n\t\t\t\t\t\t\t\t? 'text'\n\t\t\t\t\t\t\t\t: 'not-allowed',\n\t\t\t\t\t\t}),\n            placeholder: \"0.00\",\n            disabled: !_ctx.pos_profile?.posa_allow_user_to_edit_additional_discount\n          }, null, 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_39),\n          _createCommentVNode(\" Offer badge for Invoice_discount \"),\n          (_ctx.offer_discount_percentage > 0 && _ctx.additional_discount_percentage > 0)\n            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_40, \" OFFER \"))\n            : _createCommentVNode(\"v-if\", true)\n        ], 4 /* STYLE */),\n        _createCommentVNode(\" Items Discount Field \"),\n        _createElementVNode(\"div\", _hoisted_41, [\n          _hoisted_42,\n          _createElementVNode(\"div\", _hoisted_43, _toDisplayString(_ctx.currencySymbol(_ctx.pos_profile?.currency)) + _toDisplayString(_ctx.formatCurrency(_ctx.invoice_doc?.posa_item_discount_total || 0)), 1 /* TEXT */)\n        ]),\n        _createCommentVNode(\" Before Discount Field \"),\n        _createElementVNode(\"div\", _hoisted_44, [\n          _hoisted_45,\n          _createElementVNode(\"div\", _hoisted_46, _toDisplayString(_ctx.currencySymbol(_ctx.pos_profile?.currency)) + _toDisplayString(_ctx.formatCurrency(_ctx.invoice_doc?.total || 0)), 1 /* TEXT */)\n        ]),\n        _createCommentVNode(\" Net Total Field \"),\n        _createElementVNode(\"div\", _hoisted_47, [\n          _hoisted_48,\n          _createElementVNode(\"div\", _hoisted_49, _toDisplayString(_ctx.currencySymbol(_ctx.pos_profile?.currency)) + _toDisplayString(_ctx.formatCurrency(_ctx.invoice_doc?.net_total || 0)), 1 /* TEXT */)\n        ]),\n        _createCommentVNode(\" Tax Field \"),\n        _createElementVNode(\"div\", _hoisted_50, [\n          _hoisted_51,\n          _createElementVNode(\"div\", _hoisted_52, _toDisplayString(_ctx.currencySymbol(_ctx.pos_profile?.currency)) + _toDisplayString(_ctx.formatCurrency(_ctx.computedTaxAmount)), 1 /* TEXT */)\n        ]),\n        _createCommentVNode(\" Grand Total Field \"),\n        _createElementVNode(\"div\", _hoisted_53, [\n          _hoisted_54,\n          _createElementVNode(\"div\", _hoisted_55, _toDisplayString(_ctx.currencySymbol(_ctx.pos_profile?.currency)) + _toDisplayString(_ctx.formatCurrency(_ctx.invoice_doc?.grand_total || 0)), 1 /* TEXT */)\n        ])\n      ]),\n      _createCommentVNode(\" =========================================== \"),\n      _createCommentVNode(\" ACTION BUTTONS ROW \"),\n      _createCommentVNode(\" =========================================== \"),\n      _createElementVNode(\"div\", _hoisted_56, [\n        _createCommentVNode(\" Print Button \"),\n        (!_ctx.hasExcessNonCashPayment && !_ctx.hasPartialPaymentNotAllowed)\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              disabled: !_ctx.hasItems || _ctx.isPrinting || !_ctx.canPrintInvoice,\n              onClick: _cache[4] || (_cache[4] = (...args) => (_ctx.printInvoice && _ctx.printInvoice(...args))),\n              title: \"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629\",\n              style: _normalizeStyle([{\"flex\":\"1\",\"padding\":\"8px 4px\",\"border\":\"none\",\"border-radius\":\"5px\",\"cursor\":\"pointer\",\"background\":\"linear-gradient(135deg, #1976d2 0%, #1565c0 100%)\",\"color\":\"white\",\"font-size\":\"0.85rem\",\"font-weight\":\"600\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"4px\"}, \n\t\t\t\t\t\t!_ctx.hasItems || _ctx.isPrinting || !_ctx.canPrintInvoice\n\t\t\t\t\t\t\t? 'background: #e0e0e0; color: #9e9e9e; cursor: not-allowed; opacity: 0.6'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t]),\n              type: \"button\"\n            }, [\n              _hoisted_58,\n              _createCommentVNode(\" Printing / Print \"),\n              _createElementVNode(\"span\", _hoisted_59, _toDisplayString(_ctx.isPrinting ? '\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...' : '\u0637\u0628\u0627\u0639\u0629'), 1 /* TEXT */)\n            ], 12 /* STYLE, PROPS */, _hoisted_57))\n          : _createCommentVNode(\"v-if\", true),\n        _createCommentVNode(\" Warning Message for Excess Non-Cash Payment \"),\n        (_ctx.hasExcessNonCashPayment)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_60, _hoisted_63))\n          : _createCommentVNode(\"v-if\", true),\n        _createCommentVNode(\" Warning Message for Partial Payment Not Allowed \"),\n        (_ctx.hasPartialPaymentNotAllowed)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_64, _hoisted_67))\n          : _createCommentVNode(\"v-if\", true),\n        _createCommentVNode(\" Pay Button \"),\n        _createElementVNode(\"button\", {\n          disabled: !_ctx.hasItems || _ctx.is_payment || _ctx.isUpdatingTotals,\n          onClick: _cache[5] || (_cache[5] = (...args) => (_ctx.show_payment && _ctx.show_payment(...args))),\n          style: _normalizeStyle([{\"flex\":\"1\",\"padding\":\"8px 4px\",\"border\":\"none\",\"border-radius\":\"5px\",\"cursor\":\"pointer\",\"background\":\"linear-gradient(135deg, #4caf50 0%, #388e3c 100%)\",\"color\":\"white\",\"font-size\":\"0.85rem\",\"font-weight\":\"600\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"4px\"}, \n\t\t\t\t\t\t!_ctx.hasItems || _ctx.is_payment || _ctx.isUpdatingTotals\n\t\t\t\t\t\t\t? 'background: #e0e0e0; color: #9e9e9e; cursor: not-allowed; opacity: 0.6'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t]),\n          type: \"button\"\n        }, [\n          _hoisted_69,\n          _createCommentVNode(\" Pay \"),\n          _hoisted_70\n        ], 12 /* STYLE, PROPS */, _hoisted_68),\n        _createCommentVNode(\" Return Button \"),\n        _createElementVNode(\"button\", {\n          disabled: !_ctx.pos_profile?.posa_allow_return,\n          onClick: _cache[6] || (_cache[6] = (...args) => (_ctx.open_returns && _ctx.open_returns(...args))),\n          style: _normalizeStyle([{\"flex\":\"1\",\"padding\":\"8px 4px\",\"border\":\"none\",\"border-radius\":\"5px\",\"cursor\":\"pointer\",\"background\":\"#607d8b\",\"color\":\"white\",\"font-size\":\"0.85rem\",\"font-weight\":\"600\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"4px\"}, \n\t\t\t\t\t\t!_ctx.pos_profile?.posa_allow_return\n\t\t\t\t\t\t\t? 'background: #e0e0e0; color: #9e9e9e; cursor: not-allowed; opacity: 0.6'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t]),\n          type: \"button\"\n        }, [\n          _hoisted_72,\n          _createCommentVNode(\" Return_invoice \"),\n          _hoisted_73\n        ], 12 /* STYLE, PROPS */, _hoisted_71),\n        _createCommentVNode(\" Quick Return Button \"),\n        _createElementVNode(\"button\", {\n          disabled: !_ctx.pos_profile?.posa_allow_quick_return,\n          onClick: _cache[7] || (_cache[7] = (...args) => (_ctx.quick_return && _ctx.quick_return(...args))),\n          style: _normalizeStyle([{\"flex\":\"1\",\"padding\":\"8px 4px\",\"border\":\"none\",\"border-radius\":\"5px\",\"cursor\":\"pointer\",\"background\":\"linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%)\",\"color\":\"white\",\"font-size\":\"0.85rem\",\"font-weight\":\"600\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"4px\"}, \n\t\t\t\t\t\t!_ctx.pos_profile?.posa_allow_quick_return\n\t\t\t\t\t\t\t? 'background: #e0e0e0; color: #9e9e9e; cursor: not-allowed; opacity: 0.6'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t]),\n          type: \"button\"\n        }, [\n          _hoisted_75,\n          _createCommentVNode(\" Quick_Return \"),\n          _hoisted_76\n        ], 12 /* STYLE, PROPS */, _hoisted_74),\n        _createCommentVNode(\" Smart Draft Button: \u062A\u0643\u0645\u0644\u0629 \u0641\u0627\u062A\u0648\u0631\u0629 / \u062D\u0641\u0638 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \"),\n        _createElementVNode(\"button\", {\n          onClick: _cache[8] || (_cache[8] = (...args) => (_ctx.handleDraftButton && _ctx.handleDraftButton(...args))),\n          style: _normalizeStyle(\n\t\t\t\t\t\t_ctx.hasItems\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\tpadding: '8px 4px',\n\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\tborderRadius: '5px',\n\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t'linear-gradient(135deg, #ff9800 0%, #f57c00 100%)',\n\t\t\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\t\t\tfontSize: '0.85rem',\n\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\tgap: '4px',\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\tpadding: '8px 4px',\n\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\tborderRadius: '5px',\n\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t'linear-gradient(135deg, #2196f3 0%, #1976d2 100%)',\n\t\t\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\t\t\tfontSize: '0.85rem',\n\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\tgap: '4px',\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t),\n          type: \"button\"\n        }, [\n          _createElementVNode(\"i\", {\n            class: _normalizeClass(_ctx.hasItems ? 'mdi mdi-content-save' : 'mdi mdi-file-document-edit'),\n            style: {\"font-size\":\"16px\"}\n          }, null, 2 /* CLASS */),\n          _createElementVNode(\"span\", _hoisted_77, _toDisplayString(_ctx.hasItems ? '\u062D\u0641\u0638 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629' : '\u062A\u0643\u0645\u0644\u0629 \u0641\u0627\u062A\u0648\u0631\u0629'), 1 /* TEXT */)\n        ], 4 /* STYLE */),\n        _createCommentVNode(\" Cancel Button \"),\n        _createElementVNode(\"button\", {\n          onClick: _cache[9] || (_cache[9] = (...args) => (_ctx.cancel_invoice && _ctx.cancel_invoice(...args))),\n          style: {\"flex\":\"1\",\"padding\":\"8px 4px\",\"border\":\"none\",\"border-radius\":\"5px\",\"cursor\":\"pointer\",\"background\":\"linear-gradient(135deg, #f44336 0%, #d32f2f 100%)\",\"color\":\"white\",\"font-size\":\"0.85rem\",\"font-weight\":\"600\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"4px\"},\n          type: \"button\"\n        }, [\n          _hoisted_78,\n          _createCommentVNode(\" Cancel \"),\n          _hoisted_79\n        ])\n      ])\n    ])\n  ]))\n}", "import script from \"./Invoice.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Invoice.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/Invoice.vue\";export default script;", "import { ref, onMounted, watch } from 'vue';\nimport { evntBus } from '../../bus';\nimport format from '../../format';\n\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n// CONSTANTS\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n// Import API mapper\nimport { API_MAP } from '../../api_mapper.js';\n// Frontend logging: Use console.log/error/warn directly\n\n/**\n * Event names for bus communication\n */\nconst EVENT_NAMES = {\n\tCLOSE_OPENING_DIALOG: 'close_opening_dialog',\n\tREGISTER_POS_DATA: 'register_pos_data',\n\tSET_COMPANY: 'set_company',\n\tSHOW_MESSAGE: 'show_mesage',\n};\n\n/**\n * Payment method icons and colors\n */\nconst PAYMENT_ICONS = {\n\tCash: { icon: 'mdi-cash', color: '#4CAF50' },\n\tCard: { icon: 'mdi-credit-card', color: '#2196F3' },\n\t'Credit Card': { icon: 'mdi-credit-card', color: '#2196F3' },\n\t'Debit Card': { icon: 'mdi-credit-card-outline', color: '#FF9800' },\n\t'Bank Transfer': { icon: 'mdi-bank-transfer', color: '#9C27B0' },\n\t'Mobile Payment': { icon: 'mdi-cellphone', color: '#E91E63' },\n\t'Digital Wallet': { icon: 'mdi-wallet', color: '#00BCD4' },\n\tCheck: { icon: 'mdi-checkbook', color: '#795548' },\n\tVoucher: { icon: 'mdi-ticket', color: '#FF5722' },\n};\n\n/**\n * Default payment icon for unknown methods\n */\nconst DEFAULT_PAYMENT_ICON = { icon: 'mdi-currency-usd', color: '#607D8B' };\n\n/**\n * Table headers configuration\n */\nconst TABLE_HEADERS = [\n\t{\n\t\ttitle: 'Payment Method',\n\t\talign: 'start',\n\t\tsortable: false,\n\t\tkey: 'mode_of_payment',\n\t},\n\t{\n\t\ttitle: 'Opening Amount',\n\t\tkey: 'amount',\n\t\talign: 'center',\n\t\tsortable: false,\n\t},\n];\n\n/**\n * Validation rules\n */\nconst VALIDATION_RULES = {\n\tMAX_CHARS: (v) => v.length <= 12 || 'Text too long!',\n};\n\n/**\n * UI configuration\n */\nconst UI_CONFIG = {\n\tITEMS_PER_PAGE: 100,\n};\n\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n// COMPONENT\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\nexport default {\n\tname: 'OpeningDialog',\n\n\tmixins: [format],\n\n\tprops: {\n\t\tdialog: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tsetup(props) {\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// STATE\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\tconst isOpen = ref(props.dialog || false);\n\t\tconst dialog_data = ref({});\n\t\tconst is_loading = ref(false);\n\n\t\t// Company data\n\t\tconst companies = ref([]);\n\t\tconst company = ref('');\n\n\t\t// POS Profile data\n\t\tconst pos_profiles_data = ref([]);\n\t\tconst pos_profiles = ref([]);\n\t\tconst pos_profile = ref('');\n\n\t\t// Payment methods data\n\t\tconst payments_method_data = ref([]);\n\t\tconst payments_methods = ref([]);\n\t\tconst payments_methods_headers = ref(TABLE_HEADERS);\n\t\tconst itemsPerPage = ref(UI_CONFIG.ITEMS_PER_PAGE);\n\n\t\t// Time control\n\t\tconst isOpeningAllowed = ref(true);\n\t\tconst openingTimeStart = ref('');\n\t\tconst openingTimeEnd = ref('');\n\t\tconst openingTimeMessage = ref('');\n\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// DATA LOADING\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\t/**\n\t\t * Fetch opening dialog data from server\n\t\t * Loads companies, POS profiles, and payment methods\n\t\t */\n\t\tconst get_opening_dialog_data = () => {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: API_MAP.POS_OPENING_SHIFT.GET_OPENING_DATA,\n\t\t\t\targs: {},\n\t\t\t\tcallback: function (r) {\n\t\t\t\t\tif (r.message) {\n\t\t\t\t\t\t// Populate companies\n\t\t\t\t\t\tr.message.companies.forEach((element) => {\n\t\t\t\t\t\t\tcompanies.value.push(element.name);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcompany.value = companies.value[0];\n\n\t\t\t\t\t\t// Store POS profiles and payment methods data\n\t\t\t\t\t\tpos_profiles_data.value = r.message.pos_profiles_data;\n\t\t\t\t\t\tpayments_method_data.value = r.message.payments_method;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Failed to load POS opening data\n\t\t\t\t\t\tshowMessage('\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0641\u062A\u062D \u0646\u0642\u0637\u0629 \u0627\u0644\u0628\u064A\u0639', 'error');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t};\n\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// DIALOG ACTIONS\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\t/**\n\t\t * Close opening dialog\n\t\t * Emits close event to parent component\n\t\t */\n\t\tconst close_opening_dialog = () => {\n\t\t\tevntBus.emit(EVENT_NAMES.CLOSE_OPENING_DIALOG);\n\t\t};\n\n\t\t/**\n\t\t * Validate form data before submission\n\t\t * @returns {boolean} True if valid, false otherwise\n\t\t */\n\t\tconst validateForm = () => {\n\t\t\tif (!payments_methods.value.length || !company.value || !pos_profile.value) {\n\t\t\t\t// Please fill all required fields\n\t\t\t\tshowMessage('\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629', 'error');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\t\t/**\n\t\t * Submit opening dialog\n\t\t * Creates POS opening voucher with payment details\n\t\t */\n\t\tconst submit_dialog = () => {\n\t\t\tif (!validateForm()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tis_loading.value = true;\n\n\t\t\tfrappe\n\t\t\t\t.call({\n\t\t\t\t\tmethod: API_MAP.POS_OPENING_SHIFT.CREATE_OPENING_VOUCHER,\n\t\t\t\t\targs: {\n\t\t\t\t\t\tpos_profile: pos_profile.value,\n\t\t\t\t\t\tcompany: company.value,\n\t\t\t\t\t\tbalance_details: payments_methods.value,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.then((r) => {\n\t\t\t\t\tif (r.message) {\n\t\t\t\t\t\t// r.message is the opening_voucher document (as_dict())\n\t\t\t\t\t\tconst opening_shift = r.message;\n\t\t\t\t\t\tconst shift_name = opening_shift.name || '\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641';\n\t\t\t\t\t\tconsole.log('[OpeningDialog.js] Opening shift created:', shift_name);\n\n\t\t\t\t\t\t// Fetch complete shift data including pos_profile_data\n\t\t\t\t\t\tfrappe.call({\n\t\t\t\t\t\t\tmethod: API_MAP.POS_OPENING_SHIFT.GET_CURRENT_SHIFT_NAME,\n\t\t\t\t\t\t\tcallback: (shiftResponse) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tshiftResponse.message &&\n\t\t\t\t\t\t\t\t\tshiftResponse.message.success &&\n\t\t\t\t\t\t\t\t\tshiftResponse.message.data\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tconst shift_data = shiftResponse.message.data;\n\t\t\t\t\t\t\t\t\tconst pos_profile = shift_data.pos_profile_data;\n\n\t\t\t\t\t\t\t\t\tif (pos_profile) {\n\t\t\t\t\t\t\t\t\t\t// Prepare data in the format expected by Pos.js and Navbar.js\n\t\t\t\t\t\t\t\t\t\tconst pos_opening_shift = {\n\t\t\t\t\t\t\t\t\t\t\tname: shift_data.name,\n\t\t\t\t\t\t\t\t\t\t\tcompany: shift_data.company,\n\t\t\t\t\t\t\t\t\t\t\tperiod_start_date: shift_data.period_start_date,\n\t\t\t\t\t\t\t\t\t\t\tpos_profile: shift_data.pos_profile,\n\t\t\t\t\t\t\t\t\t\t\tuser: shift_data.user,\n\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\tconst event_data = {\n\t\t\t\t\t\t\t\t\t\t\tpos_profile: pos_profile,\n\t\t\t\t\t\t\t\t\t\t\tpos_opening_shift: pos_opening_shift,\n\t\t\t\t\t\t\t\t\t\t\tcompany: { name: pos_profile.company },\n\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\t// Emit events with complete data\n\t\t\t\t\t\t\t\t\t\tevntBus.emit(EVENT_NAMES.REGISTER_POS_DATA, event_data);\n\t\t\t\t\t\t\t\t\t\tevntBus.emit(EVENT_NAMES.SET_COMPANY, {\n\t\t\t\t\t\t\t\t\t\t\tname: pos_profile.company,\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tshowMessage(\n\t\t\t\t\t\t\t\t\t\t\t`\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0648\u0631\u062F\u064A\u0629 \u0641\u062A\u062D \u0646\u0642\u0637\u0629 \u0627\u0644\u0628\u064A\u0639 ${shift_name}`,\n\t\t\t\t\t\t\t\t\t\t\t'success',\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tclose_opening_dialog();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// Log error details for debugging\n\t\t\t\t\t\t\t\t\t\tconst error_msg = shift_data.pos_profile_error\n\t\t\t\t\t\t\t\t\t\t\t? `\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A: ${shift_data.pos_profile_error}`\n\t\t\t\t\t\t\t\t\t\t\t: `\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A: POS Profile \"${shift_data.pos_profile}\" \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F \u0623\u0648 \u063A\u064A\u0631 \u0645\u062A\u0627\u062D`;\n\t\t\t\t\t\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\t\t\t\t\t'[OpeningDialog.js] POS Profile load error:',\n\t\t\t\t\t\t\t\t\t\t\tshift_data.pos_profile_error ||\n\t\t\t\t\t\t\t\t\t\t\t\t'POS Profile not found',\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tshowMessage(error_msg, 'error');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tshowMessage('\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0631\u062F\u064A\u0629', 'error');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tis_loading.value = false;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror: (err) => {\n\t\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\t'[OpeningDialog.js] get_current_shift_name error:',\n\t\t\t\t\t\t\t\t\terr,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tshowMessage('\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0631\u062F\u064A\u0629', 'error');\n\t\t\t\t\t\t\t\tis_loading.value = false;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Failed to create opening document\n\t\t\t\t\t\tshowMessage('\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0645\u0633\u062A\u0646\u062F \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D', 'error');\n\t\t\t\t\t\tis_loading.value = false;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log('[OpeningDialog.js] submit_dialog error:', error);\n\t\t\t\t\tshowMessage('\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0645\u0633\u062A\u0646\u062F \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D', 'error');\n\t\t\t\t\tis_loading.value = false;\n\t\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Navigate to Frappe desk\n\t\t * Reloads the application\n\t\t */\n\t\tconst go_desk = () => {\n\t\t\tfrappe.set_route('/');\n\t\t\tlocation.reload();\n\t\t};\n\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// HELPER METHODS\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\t/**\n\t\t * Get payment method icon and color\n\t\t * @param {string} paymentMethod - Payment method name\n\t\t * @returns {Object} Icon configuration with icon name and color\n\t\t */\n\t\tconst getPaymentIcon = (paymentMethod) => {\n\t\t\tconst method = Object.keys(PAYMENT_ICONS).find((key) =>\n\t\t\t\tpaymentMethod.toLowerCase().includes(key.toLowerCase()),\n\t\t\t);\n\n\t\t\treturn method ? PAYMENT_ICONS[method] : DEFAULT_PAYMENT_ICON;\n\t\t};\n\n\t\t/**\n\t\t * Check if opening is allowed based on POS Profile time settings\n\t\t */\n\t\tconst checkOpeningTimeAllowed = () => {\n\t\t\tif (!pos_profile.value) {\n\t\t\t\tisOpeningAllowed.value = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Call server-side whitelist function\n\t\t\tfrappe.call({\n\t\t\t\tmethod: API_MAP.POS_OPENING_SHIFT.CHECK_OPENING_TIME_ALLOWED,\n\t\t\t\targs: {\n\t\t\t\t\tpos_profile: pos_profile.value,\n\t\t\t\t},\n\t\t\t\tcallback: function (r) {\n\t\t\t\t\tif (r.message) {\n\t\t\t\t\t\tisOpeningAllowed.value = r.message.allowed;\n\t\t\t\t\t\tif (!r.message.allowed) {\n\t\t\t\t\t\t\topeningTimeMessage.value = r.message.message;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisOpeningAllowed.value = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t};\n\t\t/**\n\t\t * Show message to user via event bus\n\t\t * @param {string} text - Message text\n\t\t * @param {string} color - Message color (success, error, warning, info)\n\t\t */\n\t\tconst showMessage = (text, color) => {\n\t\t\tevntBus.emit(EVENT_NAMES.SHOW_MESSAGE, { text, color });\n\t\t};\n\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// WATCHERS\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\t/**\n\t\t * Watch company changes\n\t\t * Updates POS profiles list when company changes\n\t\t */\n\t\twatch(company, (val) => {\n\t\t\tpos_profiles.value = [];\n\t\t\tpos_profiles_data.value.forEach((element) => {\n\t\t\t\tif (element.company === val) {\n\t\t\t\t\tpos_profiles.value.push(element.name);\n\t\t\t\t}\n\t\t\t});\n\t\t\tpos_profile.value = pos_profiles.value.length ? pos_profiles.value[0] : '';\n\t\t});\n\n\t\t/**\n\t\t * Watch POS profile changes\n\t\t * Updates payment methods list when profile changes\n\t\t */\n\t\twatch(pos_profile, (val) => {\n\t\t\tpayments_methods.value = [];\n\t\t\tpayments_method_data.value.forEach((element) => {\n\t\t\t\tif (element.parent === val) {\n\t\t\t\t\tpayments_methods.value.push({\n\t\t\t\t\t\tmode_of_payment: element.mode_of_payment,\n\t\t\t\t\t\tamount: 0,\n\t\t\t\t\t\tcurrency: element.currency,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t// Check if opening is allowed for this profile\n\t\t\tcheckOpeningTimeAllowed();\n\t\t});\n\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// LIFECYCLE HOOKS\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\tonMounted(() => {\n\t\t\tget_opening_dialog_data();\n\t\t});\n\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// EXPOSE\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\treturn {\n\t\t\t// State\n\t\t\tisOpen,\n\t\t\tdialog_data,\n\t\t\tis_loading,\n\t\t\tcompanies,\n\t\t\tcompany,\n\t\t\tpos_profiles_data,\n\t\t\tpos_profiles,\n\t\t\tpos_profile,\n\t\t\tpayments_method_data,\n\t\t\tpayments_methods,\n\t\t\tpayments_methods_headers,\n\t\t\titemsPerPage,\n\n\t\t\t// Time control\n\t\t\tisOpeningAllowed,\n\t\t\topeningTimeStart,\n\t\t\topeningTimeEnd,\n\t\t\topeningTimeMessage,\n\n\t\t\t// Validation\n\t\t\tmax25chars: VALIDATION_RULES.MAX_CHARS,\n\n\t\t\t// Actions\n\t\t\tclose_opening_dialog,\n\t\t\tsubmit_dialog,\n\t\t\tgo_desk,\n\t\t\tcheckOpeningTimeAllowed,\n\n\t\t\t// Helpers\n\t\t\tgetPaymentIcon,\n\t\t};\n\t},\n};\n", "import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, vModelText as _vModelText, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"} }\nconst _hoisted_2 = { style: {\"background\":\"linear-gradient(135deg, #ff6f00 0%, #ff9800 100%)\",\"padding\":\"12px 16px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"space-between\",\"box-shadow\":\"0 2px 8px rgba(255, 152, 0, 0.3)\",\"position\":\"relative\",\"overflow\":\"hidden\"} }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"8px\"} }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"28px\",\"height\":\"28px\",\"background\":\"rgba(255, 255, 255, 0.2)\",\"border-radius\":\"6px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"} }, [\n    /*#__PURE__*/_createElementVNode(\"i\", {\n      class: \"mdi mdi-cash-register\",\n      style: {\"color\":\"white\",\"font-size\":\"18px\"}\n    })\n  ]),\n  /*#__PURE__*/_createElementVNode(\"h3\", { style: {\"margin\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"700\",\"color\":\"white\",\"text-shadow\":\"0 1px 2px rgba(0, 0, 0, 0.1)\",\"position\":\"relative\",\"z-index\":\"2\"} }, [\n    /*#__PURE__*/_createCommentVNode(\" POS Opening \"),\n    /*#__PURE__*/_createTextVNode(\" \u0641\u062A\u062D \u0646\u0642\u0637\u0629 \u0627\u0644\u0628\u064A\u0639 \")\n  ])\n], -1 /* HOISTED */)\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-close\",\n  style: {\"color\":\"white\",\"font-size\":\"14px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_5 = [\n  _hoisted_4\n]\nconst _hoisted_6 = { style: {\"padding\":\"12px\",\"background\":\"#fafbfc\"} }\nconst _hoisted_7 = { style: {\"margin-bottom\":\"12px\"} }\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"font-weight\":\"600\",\"color\":\"#475569\",\"margin-bottom\":\"4px\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.5px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Company \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0634\u0631\u0643\u0629 \")\n], -1 /* HOISTED */)\nconst _hoisted_9 = [\"value\"]\nconst _hoisted_10 = { style: {\"margin-bottom\":\"12px\"} }\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"font-weight\":\"600\",\"color\":\"#475569\",\"margin-bottom\":\"4px\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.5px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" POS Profile \"),\n  /*#__PURE__*/_createTextVNode(\" \u0645\u0644\u0641 \u0646\u0642\u0637\u0629 \u0627\u0644\u0628\u064A\u0639 \")\n], -1 /* HOISTED */)\nconst _hoisted_12 = [\"value\"]\nconst _hoisted_13 = { style: {\"margin-bottom\":\"0\"} }\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"display\":\"block\",\"font-size\":\"11px\",\"font-weight\":\"600\",\"color\":\"#475569\",\"margin-bottom\":\"4px\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.5px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Payment Methods \"),\n  /*#__PURE__*/_createTextVNode(\" \u0637\u0631\u0642 \u0627\u0644\u062F\u0641\u0639 \")\n], -1 /* HOISTED */)\nconst _hoisted_15 = { style: {\"background\":\"white\",\"border-radius\":\"8px\",\"overflow\":\"hidden\",\"border\":\"1px solid #e8eaed\",\"margin-top\":\"6px\",\"box-shadow\":\"0 1px 3px rgba(0, 0, 0, 0.1)\"} }\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"display\":\"grid\",\"grid-template-columns\":\"2fr 1fr\",\"background\":\"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)\",\"border-bottom\":\"1px solid #e2e8f0\"} }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { style: {\"padding\":\"6px 8px\",\"font-size\":\"10px\",\"font-weight\":\"600\",\"color\":\"#475569\",\"text-transform\":\"uppercase\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-start\"} }, [\n    /*#__PURE__*/_createCommentVNode(\" Payment Method \"),\n    /*#__PURE__*/_createTextVNode(\" \u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u062F\u0641\u0639 \")\n  ]),\n  /*#__PURE__*/_createElementVNode(\"div\", { style: {\"padding\":\"6px 8px\",\"font-size\":\"10px\",\"font-weight\":\"600\",\"color\":\"#475569\",\"text-transform\":\"uppercase\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\"} }, [\n    /*#__PURE__*/_createCommentVNode(\" Opening Amount \"),\n    /*#__PURE__*/_createTextVNode(\" \u0645\u0628\u0644\u063A \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D \")\n  ])\n], -1 /* HOISTED */)\nconst _hoisted_17 = { style: {\"padding\":\"8px\",\"display\":\"flex\",\"align-items\":\"center\",\"font-size\":\"12px\",\"min-height\":\"36px\",\"justify-content\":\"flex-start\"} }\nconst _hoisted_18 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"6px\"} }\nconst _hoisted_19 = { style: {\"font-weight\":\"500\",\"color\":\"#334155\",\"font-size\":\"11px\"} }\nconst _hoisted_20 = { style: {\"padding\":\"8px\",\"display\":\"flex\",\"align-items\":\"center\",\"font-size\":\"12px\",\"min-height\":\"36px\",\"justify-content\":\"flex-end\"} }\nconst _hoisted_21 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"4px\",\"background\":\"white\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"4px\",\"padding\":\"2px 6px\"} }\nconst _hoisted_22 = { style: {\"font-size\":\"10px\",\"color\":\"#64748b\",\"font-weight\":\"500\"} }\nconst _hoisted_23 = [\"onUpdate:modelValue\"]\nconst _hoisted_24 = { style: {\"background\":\"#f8fafc\",\"padding\":\"8px 12px\",\"border-top\":\"1px solid #e2e8f0\",\"display\":\"flex\",\"gap\":\"8px\",\"justify-content\":\"flex-end\"} }\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-close\",\n  style: {\"font-size\":\"14px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_26 = [\"disabled\"]\nconst _hoisted_27 = {\n  key: 0,\n  class: \"mdi mdi-check\",\n  style: {\"font-size\":\"14px\"}\n}\nconst _hoisted_28 = {\n  key: 1,\n  class: \"mdi mdi-loading\",\n  style: {\"font-size\":\"14px\"}\n}\nconst _hoisted_29 = {\n  key: 1,\n  style: {\"font-size\":\"11px\",\"color\":\"#dc2626\",\"background\":\"#fef2f2\",\"border\":\"1px solid #fecaca\",\"border-radius\":\"6px\",\"padding\":\"6px 10px\",\"display\":\"flex\",\"align-items\":\"center\",\"font-weight\":\"500\"}\n}\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" OPENING DIALOG COMPONENT \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_ctx.isOpen)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            style: {\"position\":\"fixed\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background\":\"rgba(0, 0, 0, 0.7)\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"z-index\":\"1000\"},\n            onClick: _cache[12] || (_cache[12] = (...args) => (_ctx.go_desk && _ctx.go_desk(...args)))\n          }, [\n            _createCommentVNode(\" Beautiful Dialog \"),\n            _createElementVNode(\"div\", {\n              style: {\"background\":\"white\",\"border-radius\":\"16px\",\"overflow\":\"hidden\",\"box-shadow\":\"0 20px 40px rgba(0, 0, 0, 0.15)\",\"max-width\":\"450px\",\"width\":\"100%\",\"border\":\"1px solid rgba(102, 126, 234, 0.1)\"},\n              onClick: _cache[11] || (_cache[11] = _withModifiers(() => {}, [\"stop\"]))\n            }, [\n              _createCommentVNode(\" =========================================== \"),\n              _createCommentVNode(\" COMPACT HEADER \"),\n              _createCommentVNode(\" =========================================== \"),\n              _createElementVNode(\"div\", _hoisted_2, [\n                _hoisted_3,\n                _createElementVNode(\"button\", {\n                  style: {\"background\":\"rgba(255, 255, 255, 0.15)\",\"border\":\"none\",\"border-radius\":\"4px\",\"width\":\"24px\",\"height\":\"24px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"cursor\":\"pointer\"},\n                  onClick: _cache[0] || (_cache[0] = (...args) => (_ctx.go_desk && _ctx.go_desk(...args)))\n                }, _hoisted_5)\n              ]),\n              _createCommentVNode(\" =========================================== \"),\n              _createCommentVNode(\" COMPACT CONTENT \"),\n              _createCommentVNode(\" =========================================== \"),\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createCommentVNode(\" Company Selection \"),\n                _createElementVNode(\"div\", _hoisted_7, [\n                  _hoisted_8,\n                  _withDirectives(_createElementVNode(\"select\", {\n                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => ((_ctx.company) = $event)),\n                    required: \"\",\n                    style: {\"width\":\"100%\",\"padding\":\"8px 12px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"6px\",\"font-size\":\"13px\",\"background\":\"white\",\"color\":\"#374151\",\"outline\":\"none\"}\n                  }, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.companies, (comp) => {\n                      return (_openBlock(), _createElementBlock(\"option\", {\n                        key: comp,\n                        value: comp\n                      }, _toDisplayString(comp), 9 /* TEXT, PROPS */, _hoisted_9))\n                    }), 128 /* KEYED_FRAGMENT */))\n                  ], 512 /* NEED_PATCH */), [\n                    [_vModelSelect, _ctx.company]\n                  ])\n                ]),\n                _createCommentVNode(\" POS Profile Selection \"),\n                _createElementVNode(\"div\", _hoisted_10, [\n                  _hoisted_11,\n                  _withDirectives(_createElementVNode(\"select\", {\n                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => ((_ctx.pos_profile) = $event)),\n                    required: \"\",\n                    style: {\"width\":\"100%\",\"padding\":\"8px 12px\",\"border\":\"1px solid #d1d5db\",\"border-radius\":\"6px\",\"font-size\":\"13px\",\"background\":\"white\",\"color\":\"#374151\",\"outline\":\"none\"}\n                  }, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.pos_profiles, (profile) => {\n                      return (_openBlock(), _createElementBlock(\"option\", {\n                        key: profile,\n                        value: profile\n                      }, _toDisplayString(profile), 9 /* TEXT, PROPS */, _hoisted_12))\n                    }), 128 /* KEYED_FRAGMENT */))\n                  ], 512 /* NEED_PATCH */), [\n                    [_vModelSelect, _ctx.pos_profile]\n                  ])\n                ]),\n                _createCommentVNode(\" Payment Methods Table \"),\n                _createElementVNode(\"div\", _hoisted_13, [\n                  _hoisted_14,\n                  _createElementVNode(\"div\", _hoisted_15, [\n                    _createCommentVNode(\" Table Header \"),\n                    _hoisted_16,\n                    _createCommentVNode(\" Table Body \"),\n                    _createElementVNode(\"div\", null, [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.payments_methods, (item, index) => {\n                        return (_openBlock(), _createElementBlock(\"div\", {\n                          key: item.mode_of_payment,\n                          style: _normalizeStyle([{\"display\":\"grid\",\"grid-template-columns\":\"2fr 1fr\",\"border-bottom\":\"1px solid #f1f5f9\"}, \n\t\t\t\t\t\t\t\t\t\tindex === _ctx.payments_methods.length - 1\n\t\t\t\t\t\t\t\t\t\t\t? 'border-bottom: none'\n\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t])\n                        }, [\n                          _createCommentVNode(\" Method Column \"),\n                          _createElementVNode(\"div\", _hoisted_17, [\n                            _createElementVNode(\"div\", _hoisted_18, [\n                              _createElementVNode(\"i\", {\n                                class: _normalizeClass([\"mdi\", _ctx.getPaymentIcon(item.mode_of_payment).icon]),\n                                style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: _ctx.getPaymentIcon(item.mode_of_payment)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.color,\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '14px',\n\t\t\t\t\t\t\t\t\t\t\t\t})\n                              }, null, 6 /* CLASS, STYLE */),\n                              _createElementVNode(\"span\", _hoisted_19, _toDisplayString(item.mode_of_payment), 1 /* TEXT */)\n                            ])\n                          ]),\n                          _createCommentVNode(\" Amount Column \"),\n                          _createElementVNode(\"div\", _hoisted_20, [\n                            _createElementVNode(\"div\", _hoisted_21, [\n                              _createElementVNode(\"span\", _hoisted_22, _toDisplayString(_ctx.currencySymbol(item.currency)), 1 /* TEXT */),\n                              _withDirectives(_createElementVNode(\"input\", {\n                                \"onUpdate:modelValue\": $event => ((item.amount) = $event),\n                                type: \"number\",\n                                placeholder: \"0.00\",\n                                step: \"0.01\",\n                                min: \"0\",\n                                style: {\"border\":\"none\",\"outline\":\"none\",\"font-size\":\"11px\",\"font-weight\":\"600\",\"font-family\":\"monospace\",\"width\":\"60px\",\"text-align\":\"right\",\"background\":\"transparent\",\"color\":\"#1e293b\"},\n                                onFocus: _cache[3] || (_cache[3] = \n\t\t\t\t\t\t\t\t\t\t\t\t\t(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.target.parentElement.style.borderColor =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'#6366f1';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.target.parentElement.style.boxShadow =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'0 0 0 2px rgba(99, 102, 241, 0.1)';\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t),\n                                onBlur: _cache[4] || (_cache[4] = \n\t\t\t\t\t\t\t\t\t\t\t\t\t(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.target.parentElement.style.borderColor =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'#d1d5db';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.target.parentElement.style.boxShadow =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'none';\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t)\n                              }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_23), [\n                                [_vModelText, item.amount]\n                              ])\n                            ])\n                          ])\n                        ], 4 /* STYLE */))\n                      }), 128 /* KEYED_FRAGMENT */))\n                    ])\n                  ])\n                ])\n              ]),\n              _createCommentVNode(\" =========================================== \"),\n              _createCommentVNode(\" COMPACT FOOTER \"),\n              _createCommentVNode(\" =========================================== \"),\n              _createElementVNode(\"div\", _hoisted_24, [\n                _createElementVNode(\"button\", {\n                  style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"4px\",\"padding\":\"6px 12px\",\"border-radius\":\"6px\",\"font-size\":\"12px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #cbd5e1\",\"background\":\"#f1f5f9\",\"color\":\"#475569\"},\n                  onClick: _cache[5] || (_cache[5] = (...args) => (_ctx.go_desk && _ctx.go_desk(...args))),\n                  onMouseenter: _cache[6] || (_cache[6] = $event => {\n\t\t\t\t\t\t\t$event.currentTarget.style.background = '#e2e8f0';\n\t\t\t\t\t\t\t$event.currentTarget.style.borderColor = '#94a3b8';\n\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '0 2px 4px rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t\t}),\n                  onMouseleave: _cache[7] || (_cache[7] = $event => {\n\t\t\t\t\t\t\t$event.currentTarget.style.background = '#f1f5f9';\n\t\t\t\t\t\t\t$event.currentTarget.style.borderColor = '#cbd5e1';\n\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '';\n\t\t\t\t\t\t})\n                }, [\n                  _hoisted_25,\n                  _createCommentVNode(\" Cancel \"),\n                  _createTextVNode(\" \u0625\u0644\u063A\u0627\u0621 \")\n                ], 32 /* NEED_HYDRATION */),\n                (_ctx.isOpeningAllowed)\n                  ? (_openBlock(), _createElementBlock(\"button\", {\n                      key: 0,\n                      style: _normalizeStyle([{\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"4px\",\"padding\":\"6px 12px\",\"border-radius\":\"6px\",\"font-size\":\"12px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #10b981\",\"background\":\"#10b981\",\"color\":\"white\"}, { opacity: _ctx.is_loading ? 0.6 : 1 }]),\n                      disabled: _ctx.is_loading,\n                      onClick: _cache[8] || (_cache[8] = (...args) => (_ctx.submit_dialog && _ctx.submit_dialog(...args))),\n                      onMouseenter: _cache[9] || (_cache[9] = $event => {\n\t\t\t\t\t\t\tif (!_ctx.is_loading) {\n\t\t\t\t\t\t\t\t$event.currentTarget.style.background = '#059669';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.borderColor = '#047857';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow =\n\t\t\t\t\t\t\t\t\t'0 2px 4px rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}),\n                      onMouseleave: _cache[10] || (_cache[10] = $event => {\n\t\t\t\t\t\t\tif (!_ctx.is_loading) {\n\t\t\t\t\t\t\t\t$event.currentTarget.style.background = '#10b981';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.borderColor = '#10b981';\n\t\t\t\t\t\t\t\t$event.currentTarget.style.boxShadow = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n                    }, [\n                      (!_ctx.is_loading)\n                        ? (_openBlock(), _createElementBlock(\"i\", _hoisted_27))\n                        : (_openBlock(), _createElementBlock(\"i\", _hoisted_28)),\n                      _createCommentVNode(\" Creating... / Confirm \"),\n                      _createTextVNode(\" \" + _toDisplayString(_ctx.is_loading ? '\u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0646\u0634\u0627\u0621...' : '\u062A\u0623\u0643\u064A\u062F'), 1 /* TEXT */)\n                    ], 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_26))\n                  : (_openBlock(), _createElementBlock(\"div\", _hoisted_29, _toDisplayString(_ctx.openingTimeMessage), 1 /* TEXT */))\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n    ])\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"./OpeningDialog.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/OpeningDialog.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/OpeningDialog.vue\";export default script;", "// ===== OPEN SHIFTS WARNING COMPONENT =====\n// Frontend logging: Use console.log/error/warn directly\n\nexport default {\n  name: \"OpenShiftsWarning\",\n\n  props: {\n    isOpen: {\n      type: Boolean,\n      required: true,\n      default: false,\n    },\n    shifts: {\n      type: Array,\n      required: true,\n      default: () => [],\n    },\n  },\n\n  methods: {\n    formatDateTime(dateString) {\n      if (!dateString) return \"\";\n\n      try {\n        const date = new Date(dateString);\n        return date.toLocaleString(\"en-US\", {\n          month: \"short\",\n          day: \"numeric\",\n          hour: \"2-digit\",\n          minute: \"2-digit\",\n          hour12: true,\n        });\n      } catch (error) {\n        return dateString;\n      }\n    },\n\n    getShiftUrl(shiftName) {\n      // Build URL to open POS Opening Shift document in new tab\n      return `/app/pos-opening-shift/${encodeURIComponent(shiftName)}`;\n    },\n\n    handleClose() {\n      // Go back to desk\n      window.location.href = \"/app\";\n    },\n\n    handleRefresh() {\n      window.location.reload();\n    },\n  },\n};\n", "import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"} }\nconst _hoisted_2 = { style: {\"background\":\"linear-gradient(135deg, #ff6f00 0%, #ff9800 100%)\",\"padding\":\"12px 16px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"space-between\",\"box-shadow\":\"0 2px 8px rgba(255, 152, 0, 0.3)\",\"position\":\"relative\",\"overflow\":\"hidden\"} }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"8px\"} }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"28px\",\"height\":\"28px\",\"background\":\"rgba(255, 255, 255, 0.2)\",\"border-radius\":\"6px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"} }, [\n    /*#__PURE__*/_createElementVNode(\"i\", {\n      class: \"mdi mdi-alert-circle\",\n      style: {\"color\":\"white\",\"font-size\":\"18px\"}\n    })\n  ]),\n  /*#__PURE__*/_createElementVNode(\"h3\", { style: {\"margin\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"700\",\"color\":\"white\",\"text-shadow\":\"0 1px 2px rgba(0, 0, 0, 0.1)\",\"position\":\"relative\",\"z-index\":\"2\"} }, \" Multiple Open Shifts \")\n], -1 /* HOISTED */)\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-close\",\n  style: {\"color\":\"white\",\"font-size\":\"14px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_5 = [\n  _hoisted_4\n]\nconst _hoisted_6 = { style: {\"padding\":\"12px\",\"background\":\"#fafbfc\"} }\nconst _hoisted_7 = { style: {\"background\":\"#fff3e0\",\"border-left\":\"3px solid #ff9800\",\"padding\":\"10px 12px\",\"border-radius\":\"6px\",\"margin-bottom\":\"12px\"} }\nconst _hoisted_8 = { style: {\"margin\":\"0\",\"color\":\"#e65100\",\"font-weight\":\"500\",\"font-size\":\"13px\",\"line-height\":\"1.5\"} }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-information\",\n  style: {\"margin-right\":\"6px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_10 = { style: {\"background\":\"white\",\"border-radius\":\"8px\",\"overflow\":\"hidden\",\"border\":\"1px solid #e5e7eb\",\"margin-bottom\":\"12px\"} }\nconst _hoisted_11 = { style: {\"width\":\"100%\",\"border-collapse\":\"collapse\"} }\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"thead\", null, [\n  /*#__PURE__*/_createElementVNode(\"tr\", { style: {\"background\":\"linear-gradient(\\n                      to bottom,\\n                      #f9fafb 0%,\\n                      #f3f4f6 100%\\n                    )\"} }, [\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"10px 12px\",\"text-align\":\"left\",\"font-size\":\"11px\",\"font-weight\":\"600\",\"color\":\"#6b7280\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.5px\",\"border-bottom\":\"1px solid #e5e7eb\"} }, \" Shift ID \"),\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"10px 12px\",\"text-align\":\"left\",\"font-size\":\"11px\",\"font-weight\":\"600\",\"color\":\"#6b7280\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.5px\",\"border-bottom\":\"1px solid #e5e7eb\"} }, \" POS Profile \"),\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"10px 12px\",\"text-align\":\"left\",\"font-size\":\"11px\",\"font-weight\":\"600\",\"color\":\"#6b7280\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.5px\",\"border-bottom\":\"1px solid #e5e7eb\"} }, \" Started \")\n  ])\n], -1 /* HOISTED */)\nconst _hoisted_13 = { style: {\"padding\":\"10px 12px\"} }\nconst _hoisted_14 = [\"href\"]\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-open-in-new\",\n  style: {\"font-size\":\"10px\",\"margin-left\":\"4px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_16 = { style: {\"padding\":\"10px 12px\",\"color\":\"#374151\",\"font-size\":\"13px\",\"font-weight\":\"500\"} }\nconst _hoisted_17 = { style: {\"padding\":\"10px 12px\",\"color\":\"#6b7280\",\"font-size\":\"12px\"} }\nconst _hoisted_18 = { style: {\"padding\":\"12px\",\"background\":\"white\",\"border-top\":\"1px solid #e5e7eb\",\"display\":\"flex\",\"gap\":\"8px\",\"justify-content\":\"flex-end\"} }\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-arrow-left\",\n  style: {\"margin-right\":\"4px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-refresh\",\n  style: {\"margin-right\":\"4px\"}\n}, null, -1 /* HOISTED */)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" OPEN SHIFTS WARNING DIALOG \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_ctx.isOpen)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            style: {\"position\":\"fixed\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background\":\"rgba(0, 0, 0, 0.7)\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"z-index\":\"1000\"},\n            onClick: _cache[6] || (_cache[6] = (...args) => (_ctx.handleClose && _ctx.handleClose(...args)))\n          }, [\n            _createCommentVNode(\" Dialog Container \"),\n            _createElementVNode(\"div\", {\n              style: {\"background\":\"white\",\"border-radius\":\"16px\",\"overflow\":\"hidden\",\"box-shadow\":\"0 20px 40px rgba(0, 0, 0, 0.15)\",\"max-width\":\"600px\",\"width\":\"100%\",\"border\":\"1px solid rgba(255, 152, 0, 0.1)\"},\n              onClick: _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"stop\"]))\n            }, [\n              _createCommentVNode(\" =========================================== \"),\n              _createCommentVNode(\" HEADER (\u0645\u0637\u0627\u0628\u0642 \u0644\u0646\u0627\u0641\u0630\u0629 \u0641\u062A\u062D \u0627\u0644\u0648\u0631\u062F\u064A\u0629) \"),\n              _createCommentVNode(\" =========================================== \"),\n              _createElementVNode(\"div\", _hoisted_2, [\n                _hoisted_3,\n                _createElementVNode(\"button\", {\n                  style: {\"background\":\"rgba(255, 255, 255, 0.15)\",\"border\":\"none\",\"border-radius\":\"4px\",\"width\":\"24px\",\"height\":\"24px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"cursor\":\"pointer\"},\n                  onClick: _cache[0] || (_cache[0] = (...args) => (_ctx.handleClose && _ctx.handleClose(...args)))\n                }, _hoisted_5)\n              ]),\n              _createCommentVNode(\" =========================================== \"),\n              _createCommentVNode(\" CONTENT (\u0645\u0637\u0627\u0628\u0642 \u0644\u0646\u0627\u0641\u0630\u0629 \u0641\u062A\u062D \u0627\u0644\u0648\u0631\u062F\u064A\u0629) \"),\n              _createCommentVNode(\" =========================================== \"),\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createCommentVNode(\" Warning Message \"),\n                _createElementVNode(\"div\", _hoisted_7, [\n                  _createElementVNode(\"p\", _hoisted_8, [\n                    _hoisted_9,\n                    _createCommentVNode(\" You have X open shift(s). Please close these shifts before opening a new one. \"),\n                    _createTextVNode(\" \u0644\u062F\u064A\u0643 \" + _toDisplayString(_ctx.shifts.length) + \" \u0648\u0631\u062F\u064A\u0629 \u0645\u0641\u062A\u0648\u062D\u0629. \u064A\u0631\u062C\u0649 \u0625\u063A\u0644\u0627\u0642 \u0647\u0630\u0647 \u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A \u0642\u0628\u0644 \u0641\u062A\u062D \u0648\u0631\u062F\u064A\u0629 \u062C\u062F\u064A\u062F\u0629. \", 1 /* TEXT */)\n                  ])\n                ]),\n                _createCommentVNode(\" Shifts Table \"),\n                _createElementVNode(\"div\", _hoisted_10, [\n                  _createElementVNode(\"table\", _hoisted_11, [\n                    _hoisted_12,\n                    _createElementVNode(\"tbody\", null, [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.shifts, (shift, index) => {\n                        return (_openBlock(), _createElementBlock(\"tr\", {\n                          key: shift.name,\n                          style: _normalizeStyle({\n                    background: index % 2 === 0 ? 'white' : '#f9fafb',\n                    borderBottom:\n                      index < _ctx.shifts.length - 1 ? '1px solid #f3f4f6' : 'none',\n                  })\n                        }, [\n                          _createElementVNode(\"td\", _hoisted_13, [\n                            _createElementVNode(\"a\", {\n                              href: _ctx.getShiftUrl(shift.name),\n                              target: \"_blank\",\n                              style: {\"color\":\"#3b82f6\",\"font-weight\":\"600\",\"font-size\":\"12px\",\"font-family\":\"'Courier New', monospace\",\"text-decoration\":\"none\"}\n                            }, [\n                              _createTextVNode(_toDisplayString(shift.name) + \" \", 1 /* TEXT */),\n                              _hoisted_15\n                            ], 8 /* PROPS */, _hoisted_14)\n                          ]),\n                          _createElementVNode(\"td\", _hoisted_16, _toDisplayString(shift.pos_profile), 1 /* TEXT */),\n                          _createElementVNode(\"td\", _hoisted_17, _toDisplayString(_ctx.formatDateTime(shift.period_start_date)), 1 /* TEXT */)\n                        ], 4 /* STYLE */))\n                      }), 128 /* KEYED_FRAGMENT */))\n                    ])\n                  ])\n                ])\n              ]),\n              _createCommentVNode(\" =========================================== \"),\n              _createCommentVNode(\" FOOTER (\u0645\u0637\u0627\u0628\u0642 \u0644\u0646\u0627\u0641\u0630\u0629 \u0641\u062A\u062D \u0627\u0644\u0648\u0631\u062F\u064A\u0629) \"),\n              _createCommentVNode(\" =========================================== \"),\n              _createElementVNode(\"div\", _hoisted_18, [\n                _createElementVNode(\"button\", {\n                  onClick: _cache[1] || (_cache[1] = (...args) => (_ctx.handleClose && _ctx.handleClose(...args))),\n                  style: {\"background\":\"#f3f4f6\",\"color\":\"#374151\",\"border\":\"1px solid #d1d5db\",\"padding\":\"8px 16px\",\"border-radius\":\"6px\",\"font-size\":\"13px\",\"font-weight\":\"500\",\"cursor\":\"pointer\"}\n                }, [\n                  _hoisted_19,\n                  _createTextVNode(\" Go to Desk \")\n                ]),\n                _createElementVNode(\"button\", {\n                  onClick: _cache[2] || (_cache[2] = (...args) => (_ctx.handleRefresh && _ctx.handleRefresh(...args))),\n                  style: {\"background\":\"linear-gradient(135deg, #ff6f00 0%, #ff9800 100%)\",\"color\":\"white\",\"border\":\"none\",\"padding\":\"8px 16px\",\"border-radius\":\"6px\",\"font-size\":\"13px\",\"font-weight\":\"600\",\"cursor\":\"pointer\",\"box-shadow\":\"0 2px 4px rgba(255, 152, 0, 0.2)\"},\n                  onMouseenter: _cache[3] || (_cache[3] = $event => {\n              $event.target.style.background = '#ff9800';\n              $event.target.style.borderColor = '#f57c00';\n              $event.target.style.boxShadow = '0 2px 4px rgba(0, 0, 0, 0.1)';\n            }),\n                  onMouseleave: _cache[4] || (_cache[4] = $event => {\n              $event.target.style.background = 'linear-gradient(135deg, #ff6f00 0%, #ff9800 100%)';\n              $event.target.style.borderColor = '';\n              $event.target.style.boxShadow = '0 2px 4px rgba(255, 152, 0, 0.2)';\n            })\n                }, [\n                  _hoisted_20,\n                  _createTextVNode(\" Refresh Page \")\n                ], 32 /* NEED_HYDRATION */)\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n    ])\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"./OpenShiftsWarning.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/OpenShiftsWarning.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/OpenShiftsWarning.vue\";export default script;", "// ===== SECTION 1: IMPORTS =====\n// This section imports required dependencies for the Payments component\n// - evntBus: Event bus for inter-component communication\n// - format: Mixin for formatting numbers and currency\n// - API_MAP: Maps API method names to their endpoints\nimport { evntBus } from '../../bus';\nimport format from '../../format';\nimport { API_MAP } from '../../api_mapper.js';\n// Frontend logging: Use console.log/error/warn directly\n\n// ===== EVENT NAMES CONSTANTS =====\n// All event names used for inter-component communication\n// These events are emitted and listened to via the event bus\nconst EVENT_NAMES = {\n\tSHOW_PAYMENT: 'show_payment',\n\tSET_CUSTOMER_READONLY: 'set_customer_readonly',\n\tSHOW_MESSAGE: 'show_mesage',\n\tSET_LAST_INVOICE: 'set_last_invoice',\n\tNEW_INVOICE: 'new_invoice',\n\tINVOICE_SUBMITTED: 'invoice_submitted',\n\tPAYMENTS_UPDATED: 'payments_updated',\n\tFREEZE: 'freeze',\n\tUNFREEZE: 'unfreeze',\n\tOPEN_EDIT_CUSTOMER: 'open_edit_customer',\n\tOPEN_NEW_ADDRESS: 'open_new_address',\n\tTOGGLE_QUICK_RETURN: 'toggle_quick_return',\n\tSEND_INVOICE_DOC_PAYMENT: 'send_invoice_doc_payment',\n\tREGISTER_POS_PROFILE: 'register_pos_profile',\n\tADD_THE_NEW_ADDRESS: 'add_the_new_address',\n\tUPDATE_CUSTOMER: 'update_customer',\n\tSET_POS_SETTINGS: 'set_pos_settings',\n\tSET_CUSTOMER_INFO_TO_EDIT: 'set_customer_info_to_edit',\n\tUPDATE_DUE_DATE: 'update_due_date',\n\tPOSA_USE_CUSTOMER_CREDIT_SWITCH_CHANGED: 'posa_use_customer_credit_switch_changed',\n};\n\n// ===== SECTION 2: EXPORT DEFAULT =====\nexport default {\n\tmixins: [format],\n\n\t// ===== DATA =====\n\t// Component's reactive data properties\n\t// These properties are used throughout the component to manage state\n\tdata() {\n\t\treturn {\n\t\t\t// UI state\n\t\t\t// Loading indicator state\n\t\t\tloading: false,\n\t\t\t// Phone payment dialog visibility\n\t\t\tphone_dialog: false,\n\n\t\t\t// POS configuration\n\t\t\t// Current POS profile configuration\n\t\t\tpos_profile: '',\n\t\t\t// POS system settings\n\t\t\tpos_settings: '',\n\n\t\t\t// Invoice data\n\t\t\t// Current invoice document object\n\t\t\tinvoice_doc: null,\n\t\t\t// Selected customer ID\n\t\t\tcustomer: '',\n\t\t\t// Customer details and information\n\t\t\tcustomer_info: '',\n\n\t\t\t// Payment amounts\n\t\t\t// Loyalty points amount to redeem\n\t\t\tloyalty_amount: 0,\n\t\t\t// Whether to use customer credit\n\t\t\tredeem_customer_credit: false,\n\n\t\t\t// Invoice flags\n\t\t\t// Whether this is a credit sale (unpaid invoice)\n\t\t\tis_credit_sale: false,\n\t\t\t// Whether this is a return invoice\n\t\t\tis_return: false,\n\t\t\t// Quick return mode (no original invoice reference)\n\t\t\tquick_return: false,\n\t\t\t// Use customer credit switch for return invoices\n\t\t\tposa_use_customer_credit_switch: false,\n\t\t\t// Write-off amount flag\n\t\t\tis_write_off_change: 0, // Customer credit\n\t\t\t// Available customer credit sources\n\t\t\tcustomer_credit_dict: [],\n\t\t\t// Cashback feature flag\n\t\t\tis_cashback: true,\n\n\t\t\t// Address management\n\t\t\t// Customer addresses list\n\t\t\taddresses: [],\n\n\t\t\t// Payment management\n\t\t\t// Rules for calculating change amount\n\t\t\tchange_amount_rules: [],\n\t\t\t// Selected payment method index for returns\n\t\t\tselected_return_payment_idx: null,\n\t\t\t// Timeouts for debouncing payment amount changes\n\t\t\tset_full_amount_timeouts: {},\n\n\t\t\t// Credit sale state management\n\t\t\t// Store payment values before enabling credit sale\n\t\t\t// This allows restoring payments when credit sale is disabled\n\t\t\tsaved_payments_before_credit_sale: null,\n\n\t\t\t// Return invoice state management\n\t\t\t// Track if original invoice is unpaid (for return invoices)\n\t\t\t// If unpaid, payment fields should be disabled\n\t\t\tis_original_invoice_unpaid: false,\n\n\t\t\t// Customer outstanding balance\n\t\t\t// Total unpaid amount for the customer (from all unpaid invoices)\n\t\t\tcustomer_outstanding_balance: 0.0,\n\t\t\t// Currency for customer outstanding balance\n\t\t\tcustomer_outstanding_currency: null,\n\t\t};\n\t},\n\n\t// ===== COMPUTED PROPERTIES =====\n\t// These properties are automatically recalculated when their dependencies change\n\t// They provide derived values based on the component's data\n\tcomputed: {\n\t\t// Minimum date for due date input (today's date)\n\t\t// Used to prevent selecting past dates for credit sale due dates\n\t\tmin_date() {\n\t\t\tif (typeof frappe !== 'undefined' && frappe.datetime) {\n\t\t\t\treturn frappe.datetime.now_date();\n\t\t\t}\n\t\t\t// Fallback: return today's date in YYYY-MM-DD format\n\t\t\tconst today = new Date();\n\t\t\treturn today.toISOString().split('T')[0];\n\t\t},\n\n\t\t// Calculate total paid amount\n\t\t// Sums all payment methods, loyalty points, and customer credit\n\t\t// This is the total amount the customer has paid so far\n\t\tpaid_amount() {\n\t\t\tif (!this.invoice_doc) return 0;\n\n\t\t\t// Start with loyalty points amount\n\t\t\tlet total = parseFloat(this.invoice_doc.loyalty_amount || 0);\n\n\t\t\t// Add all payment method amounts\n\t\t\t// Use precision = 2 for all currency amounts\n\t\t\tif (this.invoice_doc?.payments) {\n\t\t\t\tthis.invoice_doc.payments.forEach((payment) => {\n\t\t\t\t\ttotal += this.flt(payment.amount || 0, 2);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Add redeemed customer credit\n\t\t\ttotal += this.flt(this.redeemed_customer_credit || 0, 2);\n\n\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t// Following user requirement: all currency amounts should be 2 decimal places\n\t\t\treturn flt(total, 2);\n\t\t},\n\n\t\t// Calculate outstanding amount (amount still owed by customer)\n\t\t// Formula: outstanding = grand_total - paid_amount - write_off_amount\n\t\t// This follows ERPNext's standard calculation logic\n\t\toutstanding_amount() {\n\t\t\tif (!this.invoice_doc) return 0;\n\n\t\t\t// Get invoice total (use grand_total only, no rounding)\n\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\t// Use precision = 2 for all currency amounts\n\t\t\tconst target_amount = flt(this.invoice_doc.grand_total, 2);\n\t\t\t// Get write-off amount if any\n\t\t\tconst write_off_amount = flt(this.invoice_doc.write_off_amount || 0, 2);\n\n\t\t\t// Following ERPNext logic: outstanding_amount = grand_total - paid_amount - write_off_amount\n\t\t\t// Use precision = 2 for all currency amounts\n\t\t\tconst outstanding = flt(target_amount - this.paid_amount - write_off_amount, 2);\n\n\t\t\t// Return only positive values (what's still owed)\n\t\t\t// Negative values mean customer overpaid (handled by change_amount)\n\t\t\treturn outstanding > 0 ? outstanding : 0;\n\t\t},\n\n\t\t// Calculate change amount (excess payment to return to customer)\n\t\t// This is the amount customer overpaid that should be returned\n\t\t// Only calculated when paid_total > grand_total and payment includes cash\n\t\tchange_amount() {\n\t\t\tif (!this.invoice_doc) return 0;\n\n\t\t\t// Calculate paid_amount directly (not using computed property to avoid dependency issues)\n\t\t\t// This prevents circular dependency problems\n\t\t\tlet paid_total = parseFloat(this.invoice_doc.loyalty_amount || 0);\n\t\t\t// Use precision = 2 for all currency amounts\n\t\t\tif (this.invoice_doc?.payments) {\n\t\t\t\tthis.invoice_doc.payments.forEach((payment) => {\n\t\t\t\t\tpaid_total += this.flt(payment.amount || 0, 2);\n\t\t\t\t});\n\t\t\t}\n\t\t\tpaid_total += this.flt(this.redeemed_customer_credit || 0, 2);\n\t\t\t// Use precision = 2 for all currency amounts\n\t\t\tpaid_total = flt(paid_total, 2);\n\n\t\t\t// Get invoice total (use grand_total only, no rounding)\n\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\t// Use precision = 2 for all currency amounts\n\t\t\tconst target_amount = flt(this.invoice_doc.grand_total, 2);\n\t\t\t// Get cash payment mode from POS profile\n\t\t\tconst cash_mode = this.pos_profile?.posa_cash_mode_of_payment;\n\n\t\t\t// Only calculate change_amount if customer overpaid\n\t\t\t// Change can only be given if excess payment is from cash\n\t\t\tif (paid_total > target_amount) {\n\t\t\t\t// If cash_mode is defined, verify that excess is from cash payment\n\t\t\t\tif (cash_mode) {\n\t\t\t\t\tconst cash_payment = this.invoice_doc?.payments?.find(\n\t\t\t\t\t\t(p) => p.mode_of_payment === cash_mode,\n\t\t\t\t\t);\n\t\t\t\t\tconst other_payments_total =\n\t\t\t\t\t\tthis.invoice_doc?.payments\n\t\t\t\t\t\t\t?.filter((p) => p.mode_of_payment !== cash_mode)\n\t\t\t\t\t\t\t.reduce((sum, p) => sum + this.flt(p.amount || 0, 2), 0) || 0;\n\n\t\t\t\t\t// Calculate other totals with precision = 2 for all currency amounts\n\t\t\t\t\tconst other_totals = flt(\n\t\t\t\t\t\tflt(this.invoice_doc.loyalty_amount || 0, 2) +\n\t\t\t\t\t\t\tflt(this.redeemed_customer_credit || 0, 2) +\n\t\t\t\t\t\t\tother_payments_total,\n\t\t\t\t\t\t2,\n\t\t\t\t\t);\n\n\t\t\t\t\t// Only allow excess if:\n\t\t\t\t\t// 1. Cash payment exists and has amount > 0\n\t\t\t\t\t// 2. Other payments (non-cash) don't exceed invoice total\n\t\t\t\t\tif (\n\t\t\t\t\t\tcash_payment &&\n\t\t\t\t\t\tthis.flt(cash_payment.amount || 0) > 0 &&\n\t\t\t\t\t\tother_totals <= target_amount\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Following ERPNext: change_amount = paid_amount - grand_total (when paid_amount > grand_total)\n\t\t\t\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t\t\t\tconst change = flt(paid_total - target_amount, 2);\n\t\t\t\t\t\treturn change;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// No cash_mode defined, but paid_total > grand_total\n\t\t\t\t\t// Allow change_amount calculation (for backward compatibility)\n\t\t\t\t\t// Use exact calculation without rounding to preserve precision\n\t\t\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t\t\tconst change = flt(paid_total - target_amount, 2);\n\t\t\t\t\treturn change;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// No change amount (paid_total <= grand_total)\n\t\t\treturn 0;\n\t\t},\n\n\t\t// Backward compatibility: alias for paid_amount\n\t\t// Keep total_payments for backward compatibility\n\t\t// Some components may still reference this property\n\t\ttotal_payments() {\n\t\t\treturn this.paid_amount;\n\t\t},\n\n\t\t// Backward compatibility: deprecated property\n\t\t// Keep diff_payment for backward compatibility (deprecated, use outstanding_amount and change_amount)\n\t\t// Returns positive outstanding or negative change amount\n\t\tdiff_payment() {\n\t\t\t// Return outstanding_amount (positive) or negative change_amount\n\t\t\tif (this.change_amount > 0) {\n\t\t\t\t// Negative to indicate excess\n\t\t\t\treturn -this.change_amount;\n\t\t\t}\n\t\t\t// Positive to indicate remaining\n\t\t\treturn this.outstanding_amount;\n\t\t},\n\n\t\t// Get available loyalty points for current customer\n\t\tavailable_pioints_amount() {\n\t\t\tif (!this.customer_info?.loyalty_points) return 0;\n\t\t\treturn this.customer_info.loyalty_points;\n\t\t},\n\n\t\t// Calculate total available customer credit\n\t\t// Sums all credit sources (advance payments, credit notes, etc.)\n\t\tavailable_customer_credit() {\n\t\t\treturn this.customer_credit_dict.reduce((total, row) => total + row.total_credit, 0);\n\t\t},\n\n\t\t// Calculate total redeemed customer credit\n\t\t// Sums the credit_to_redeem amount from all credit sources\n\t\tredeemed_customer_credit() {\n\t\t\treturn this.customer_credit_dict.reduce((total, row) => {\n\t\t\t\tconst credit = flt(row.credit_to_redeem);\n\t\t\t\tif (!credit) row.credit_to_redeem = 0;\n\t\t\t\treturn total + credit;\n\t\t\t}, 0);\n\t\t},\n\n\t\t// Validate if payment data exists\n\t\t// Returns true if invoice_doc or payments array is missing\n\t\tvaildatPayment() {\n\t\t\treturn !this.invoice_doc || !this.invoice_doc.payments;\n\t\t},\n\n\t\t// Check if any payment method is of type 'Phone'\n\t\t// Used to show/hide phone payment request button\n\t\trequest_payment_field() {\n\t\t\treturn (\n\t\t\t\tthis.invoice_doc?.payments?.some((payment) => payment.type === 'Phone') || false\n\t\t\t);\n\t\t},\n\n\t\t// Get customer outstanding balance (total unpaid amount)\n\t\t// This is the total amount the customer owes across all unpaid invoices\n\t\tcustomer_outstanding_display() {\n\t\t\t// Return exact value without rounding to preserve precision\n\t\t\t// Following user requirement: no rounding logic at all\n\t\t\t// formatCurrency will handle display formatting\n\t\t\treturn flt(this.customer_outstanding_balance || 0);\n\t\t},\n\t},\n\n\t// ===== METHODS =====\n\t// All component methods for handling business logic and user interactions\n\tmethods: {\n\t\t// Display a message to the user via event bus\n\t\t// Used for success, error, and warning notifications\n\t\tshowMessage(text, color) {\n\t\t\tevntBus.emit(EVENT_NAMES.SHOW_MESSAGE, { text, color });\n\t\t},\n\n\t\t// Emit print request event to parent component\n\t\temitPrintRequest() {\n\t\t\tthis.$emit('request-print');\n\t\t},\n\n\t\t// Expose submit method with default parameters\n\t\t// Used for programmatic invoice submission\n\t\texposeSubmit(print = true, autoMode = false) {\n\t\t\tthis.submit(undefined, autoMode, print);\n\t\t},\n\n\t\t// Automatically pay invoice with default payment method\n\t\t// Used for quick payment scenarios (e.g., auto-pay on item scan)\n\t\tautoPayWithDefault(invoice_doc) {\n\t\t\tthis.invoice_doc = invoice_doc;\n\t\t\tconst defaultPayment = this.getDefaultPayment();\n\t\t\tif (defaultPayment) {\n\t\t\t\t// Use grand_total with precision = 2 for all currency amounts\n\t\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\t\tconst total = flt(invoice_doc.grand_total, 2);\n\t\t\t\t// Set payment amount with precision = 2\n\t\t\t\tdefaultPayment.amount = total;\n\t\t\t}\n\t\t\tthis.exposeSubmit(true, true);\n\t\t},\n\n\t\t// Get the default payment method from payments array\n\t\t// Returns payment marked as default, or first payment if no default\n\t\tgetDefaultPayment() {\n\t\t\tconst payments = Array.isArray(this.invoice_doc?.payments)\n\t\t\t\t? this.invoice_doc.payments\n\t\t\t\t: [];\n\t\t\treturn payments.find((payment) => payment.default == 1) || payments[0] || null;\n\t\t},\n\n\t\t// Navigate back to invoice view\n\t\t// Hides payment dialog and enables customer editing\n\t\tback_to_invoice() {\n\t\t\tevntBus.emit(EVENT_NAMES.SHOW_PAYMENT, 'false');\n\t\t\tevntBus.emit(EVENT_NAMES.SET_CUSTOMER_READONLY, false);\n\t\t},\n\n\t\t// Main submit method - entry point for invoice submission\n\t\t// Handles form submission, validation, and delegates to submit_invoice\n\t\tasync submit(event, autoMode = false, print = false) {\n\t\t\t// Prevent default form submission if event is provided\n\t\t\tif (event && typeof event.preventDefault === 'function') {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\t// Refresh invoice document from server to get latest data\n\t\t\t// This prevents conflicts if invoice was modified elsewhere\n\t\t\ttry {\n\t\t\t\tawait this.refreshInvoiceDoc();\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[Payments.js] submit error:', error?.message || error);\n\t\t\t}\n\n\t\t\t// If invoice is already submitted, just print if requested\n\t\t\tif (this.invoice_doc?.docstatus === 1) {\n\t\t\t\tif (print) {\n\t\t\t\t\tthis.load_print_page();\n\t\t\t\t}\n\t\t\t\tevntBus.emit(EVENT_NAMES.SET_LAST_INVOICE, this.invoice_doc.name);\n\t\t\t\tevntBus.emit(EVENT_NAMES.NEW_INVOICE, 'false');\n\t\t\t\tthis.back_to_invoice();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Auto mode: automatically fill default payment with invoice total\n\t\t\tif (autoMode) {\n\t\t\t\tconst defaultPayment = this.getDefaultPayment();\n\t\t\t\tif (!defaultPayment) {\n\t\t\t\t\tthis.showMessage('No default payment method in POS profile', 'error');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// Use grand_total with precision = 2 for all currency amounts\n\t\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\t\tconst total = flt(this.invoice_doc.grand_total, 2);\n\t\t\t\t// Set payment amount with precision = 2\n\t\t\t\tdefaultPayment.amount = total;\n\t\t\t}\n\n\t\t\t// Delegate to submit_invoice for actual submission logic\n\t\t\tthis.submit_invoice(print, autoMode);\n\t\t},\n\n\t\t// Core invoice submission logic\n\t\t// Handles quick return mode, payment calculations, and server submission\n\t\tsubmit_invoice(print, autoMode, retrying = false) {\n\t\t\t// Handle quick return mode (return without original invoice reference)\n\t\t\t// In quick return, all item quantities and amounts must be negative\n\t\t\tif (this.quick_return) {\n\t\t\t\tthis.invoice_doc.is_return = 1;\n\n\t\t\t\t// Make all item quantities and amounts negative\n\t\t\t\t// This is required by ERPNext for return invoices\n\t\t\t\tlet total = 0;\n\t\t\t\tthis.invoice_doc.items.forEach((item) => {\n\t\t\t\t\titem.qty = -1 * Math.abs(item.qty);\n\t\t\t\t\titem.stock_qty = -1 * Math.abs(item.stock_qty || item.qty);\n\t\t\t\t\titem.amount = -1 * Math.abs(item.amount);\n\t\t\t\t\titem.net_amount = -1 * Math.abs(item.net_amount || item.amount);\n\t\t\t\t\ttotal += item.amount;\n\t\t\t\t});\n\n\t\t\t\t// Update all invoice totals to negative values\n\t\t\t\tthis.invoice_doc.total = total;\n\t\t\t\tthis.invoice_doc.net_total = total;\n\t\t\t\tthis.invoice_doc.grand_total = total;\n\t\t\t\t// Do not set rounded_total - following user requirement: no rounded_total dependency\n\t\t\t\tthis.invoice_doc.base_total = total;\n\t\t\t\tthis.invoice_doc.base_net_total = total;\n\t\t\t\tthis.invoice_doc.base_grand_total = total;\n\n\t\t\t\t// Set payment amount for selected payment method or first payment\n\t\t\t\tif (typeof this.selected_return_payment_idx === 'number') {\n\t\t\t\t\tthis.invoice_doc.payments.forEach((payment) => {\n\t\t\t\t\t\tpayment.amount =\n\t\t\t\t\t\t\tpayment.idx === this.selected_return_payment_idx ? total : 0;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (this.invoice_doc.payments?.length > 0) {\n\t\t\t\t\t\tthis.invoice_doc.payments[0].amount = total;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Reset quick return flag after processing\n\t\t\t\tthis.quick_return = false;\n\t\t\t}\n\n\t\t\t// Calculate total payments with precision = 2 for all currency amounts\n\t\t\tlet totalPayedAmount = 0;\n\t\t\tthis.invoice_doc.payments.forEach((payment) => {\n\t\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t\tpayment.amount = flt(payment.amount, 2);\n\t\t\t\ttotalPayedAmount += payment.amount;\n\t\t\t});\n\n\t\t\t// Use grand_total with precision = 2 for all currency amounts\n\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\tconst targetAmount = flt(this.invoice_doc.grand_total, 2);\n\n\t\t\t// Include loyalty and customer credit in total with precision = 2\n\t\t\tconst allPaymentsTotal = flt(\n\t\t\t\ttotalPayedAmount +\n\t\t\t\t\tflt(this.invoice_doc.loyalty_amount || 0, 2) +\n\t\t\t\t\tflt(this.redeemed_customer_credit || 0, 2),\n\t\t\t\t2,\n\t\t\t);\n\n\t\t\t// Simplified: No validation here - just allow submission\n\t\t\t// Validation is done in Invoice.vue to hide print button\n\n\t\t\tif (this.invoice_doc.is_return && totalPayedAmount == 0) {\n\t\t\t\tthis.invoice_doc.is_pos = 0;\n\t\t\t}\n\n\t\t\tif (this.customer_credit_dict.length) {\n\t\t\t\tthis.customer_credit_dict.forEach((row) => {\n\t\t\t\t\trow.credit_to_redeem = flt(row.credit_to_redeem);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Calculate paid_amount following ERPNext's set_paid_amount() logic\n\t\t\t// This matches ERPNext's calculation: sum of all payments.amount\n\t\t\t// Use exact values without rounding to preserve grand_total precision\n\t\t\tlet paid_amount = 0.0;\n\t\t\tif (this.invoice_doc?.payments) {\n\t\t\t\tthis.invoice_doc.payments.forEach((payment) => {\n\t\t\t\t\tpaid_amount += flt(payment.amount || 0);\n\t\t\t\t});\n\t\t\t}\n\t\t\tpaid_amount += flt(this.invoice_doc.loyalty_amount || 0);\n\t\t\tpaid_amount += flt(this.redeemed_customer_credit || 0);\n\n\t\t\t// Set paid_amount in invoice_doc (ERPNext field name)\n\t\t\t// Use flt without precision to preserve exact decimal values\n\t\t\t// Use precision = 2 for all currency amounts\n\t\t\tthis.invoice_doc.paid_amount = flt(paid_amount, 2);\n\n\t\t\t// Calculate change_amount following ERPNext's calculate_change_amount() logic\n\t\t\t// change_amount = paid_amount - grand_total (when paid_amount > grand_total and has Cash payment)\n\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\tconst grand_total = flt(this.invoice_doc.grand_total, 2);\n\n\t\t\t// Check if there's a Cash payment (following ERPNext logic)\n\t\t\tconst has_cash_payment =\n\t\t\t\tthis.invoice_doc?.payments?.some((p) => p.type === 'Cash') || false;\n\n\t\t\t// Calculate change_amount with precision = 2 for all currency amounts\n\t\t\tconst calculated_change_amount =\n\t\t\t\t!this.invoice_doc.is_return && paid_amount > grand_total && has_cash_payment\n\t\t\t\t\t? flt(paid_amount - grand_total, 2)\n\t\t\t\t\t: 0.0;\n\n\t\t\t// Set change_amount in invoice_doc (ERPNext field name)\n\t\t\tthis.invoice_doc.change_amount = calculated_change_amount;\n\n\t\t\tconst data = {\n\t\t\t\tredeemed_customer_credit: this.redeemed_customer_credit,\n\t\t\t\tcustomer_credit_dict: this.customer_credit_dict,\n\t\t\t};\n\n\t\t\tif (autoMode) {\n\t\t\t\tthis.load_print_page();\n\t\t\t\tevntBus.emit(EVENT_NAMES.NEW_INVOICE, 'false');\n\t\t\t\tthis.back_to_invoice();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: API_MAP.SALES_INVOICE.SUBMIT,\n\t\t\t\targs: {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tinvoice: {\n\t\t\t\t\t\tname: this.invoice_doc.name,\n\t\t\t\t\t\tcustomer: this.invoice_doc.customer,\n\t\t\t\t\t\tis_return: this.invoice_doc.is_return,\n\t\t\t\t\t\tis_pos: this.invoice_doc.is_pos,\n\t\t\t\t\t\tpayments: this.invoice_doc.payments,\n\t\t\t\t\t\tloyalty_amount: this.invoice_doc.loyalty_amount,\n\t\t\t\t\t\tredeem_loyalty_points: this.invoice_doc.redeem_loyalty_points,\n\t\t\t\t\t\tloyalty_points: this.invoice_doc.loyalty_points,\n\t\t\t\t\t\twrite_off_amount: this.invoice_doc.write_off_amount,\n\t\t\t\t\t\twrite_off_outstanding_amount_automatically:\n\t\t\t\t\t\t\tthis.invoice_doc.write_off_outstanding_amount_automatically,\n\t\t\t\t\t\tcontact_mobile: this.invoice_doc.contact_mobile,\n\t\t\t\t\t\tcontact_person: this.invoice_doc.contact_person,\n\t\t\t\t\t\tcontact_email: this.invoice_doc.contact_email,\n\t\t\t\t\t\tdue_date: this.invoice_doc.due_date,\n\t\t\t\t\t\tis_credit_sale: this.is_credit_sale || 0,\n\t\t\t\t\t\tdelivery_date: this.invoice_doc.delivery_date,\n\t\t\t\t\t\taddress_display: this.invoice_doc.address_display,\n\t\t\t\t\t\tshipping_address_name: this.invoice_doc.shipping_address_name,\n\t\t\t\t\t\tcustomer_address: this.invoice_doc.customer_address,\n\t\t\t\t\t\tshipping_address: this.invoice_doc.shipping_address,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tasync: true,\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tif (r.message) {\n\t\t\t\t\t\tif (print) {\n\t\t\t\t\t\t\tthis.load_print_page();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevntBus.emit(EVENT_NAMES.SET_LAST_INVOICE, this.invoice_doc.name);\n\t\t\t\t\t\tthis.addresses = [];\n\t\t\t\t\t\tevntBus.emit(EVENT_NAMES.NEW_INVOICE, 'false');\n\t\t\t\t\t\tevntBus.emit(EVENT_NAMES.INVOICE_SUBMITTED);\n\t\t\t\t\t\tthis.back_to_invoice();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showMessage('Failed to submit invoice', 'error');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: (err) => {\n\t\t\t\t\tconst errorMsg = err?.message || '';\n\t\t\t\t\tconst isTimestampError =\n\t\t\t\t\t\ttypeof errorMsg === 'string' &&\n\t\t\t\t\t\terrorMsg.includes('Document has been modified');\n\n\t\t\t\t\tif (!retrying && isTimestampError) {\n\t\t\t\t\t\tthis.refreshInvoiceDoc()\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tthis.submit_invoice(print, autoMode, true);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\t'[Payments.js] refreshInvoiceDoc error:',\n\t\t\t\t\t\t\t\t\terr?.message || err,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tthis.showMessage(\n\t\t\t\t\t\t\t\t\t'Invoice was modified elsewhere, please try again',\n\t\t\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showMessage(err?.message || 'Failed to submit invoice', 'error');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\t// Refresh invoice document from server\n\t\t// Merges local payment changes with server data to prevent data loss\n\t\t// Used before submission to ensure we have latest invoice data\n\t\trefreshInvoiceDoc() {\n\t\t\tif (!this.invoice_doc?.name) {\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\n\t\t\t// Only merge payments if invoice is still a draft (docstatus = 0)\n\t\t\t// Submitted invoices should not have local payment modifications\n\t\t\tconst shouldMergeLocalPayments = this.invoice_doc.docstatus === 0;\n\t\t\t// Save local payment values before fetching from server\n\t\t\tconst localPayments =\n\t\t\t\tshouldMergeLocalPayments && this.invoice_doc.payments\n\t\t\t\t\t? this.invoice_doc.payments.map((payment) => ({ ...payment }))\n\t\t\t\t\t: [];\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: API_MAP.FRAPPE.CLIENT_GET,\n\t\t\t\t\targs: {\n\t\t\t\t\t\tdoctype: 'Sales Invoice',\n\t\t\t\t\t\tname: this.invoice_doc.name,\n\t\t\t\t\t},\n\t\t\t\t\tasync: true,\n\t\t\t\t\tcallback: (res) => {\n\t\t\t\t\t\tif (res.message) {\n\t\t\t\t\t\t\tconst freshDoc = res.message;\n\n\t\t\t\t\t\t\tif (shouldMergeLocalPayments && freshDoc.docstatus === 0) {\n\t\t\t\t\t\t\t\tconst mergedPayments = (freshDoc.payments || []).map((payment) => {\n\t\t\t\t\t\t\t\t\tconst localMatch = localPayments.find((localPayment) => {\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tlocalPayment.idx !== undefined &&\n\t\t\t\t\t\t\t\t\t\t\tpayment.idx !== undefined\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\treturn payment.idx === localPayment.idx;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\tpayment.mode_of_payment ===\n\t\t\t\t\t\t\t\t\t\t\tlocalPayment.mode_of_payment\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\treturn localMatch\n\t\t\t\t\t\t\t\t\t\t? { ...payment, amount: localMatch.amount }\n\t\t\t\t\t\t\t\t\t\t: payment;\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tconst seen = new Set(\n\t\t\t\t\t\t\t\t\tmergedPayments.map(\n\t\t\t\t\t\t\t\t\t\t(payment) =>\n\t\t\t\t\t\t\t\t\t\t\t`${payment.mode_of_payment || ''}__${\n\t\t\t\t\t\t\t\t\t\t\t\tpayment.idx || ''\n\t\t\t\t\t\t\t\t\t\t\t}`,\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tlocalPayments.forEach((localPayment) => {\n\t\t\t\t\t\t\t\t\tconst key = `${localPayment.mode_of_payment || ''}__${\n\t\t\t\t\t\t\t\t\t\tlocalPayment.idx || ''\n\t\t\t\t\t\t\t\t\t}`;\n\t\t\t\t\t\t\t\t\tif (!seen.has(key) && flt(localPayment.amount)) {\n\t\t\t\t\t\t\t\t\t\tmergedPayments.push(localPayment);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tfreshDoc.payments = mergedPayments;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.invoice_doc = freshDoc;\n\n\t\t\t\t\t\t\t// After refreshing from server, ensure default payment amount matches grand_total exactly\n\t\t\t\t\t\t\t// This prevents rounded values from server (e.g., 18.37) from overriding exact grand_total (18.38)\n\t\t\t\t\t\t\t// Following user requirement: no rounding logic at all\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tthis.invoice_doc &&\n\t\t\t\t\t\t\t\t!this.invoice_doc.is_return &&\n\t\t\t\t\t\t\t\tthis.invoice_doc.docstatus === 0\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tconst default_payment = this.invoice_doc.payments?.find(\n\t\t\t\t\t\t\t\t\t(payment) => payment.default == 1,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tif (default_payment) {\n\t\t\t\t\t\t\t\t\t// Use grand_total with precision = 2 for all currency amounts\n\t\t\t\t\t\t\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\t\t\t\t\t\t\tconst total = flt(this.invoice_doc.grand_total, 2);\n\t\t\t\t\t\t\t\t\t// Set payment amount with precision = 2\n\t\t\t\t\t\t\t\t\tdefault_payment.amount = total;\n\t\t\t\t\t\t\t\t\tif (default_payment.base_amount !== undefined) {\n\t\t\t\t\t\t\t\t\t\tdefault_payment.base_amount = total;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(new Error('Failed to refresh invoice'));\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror: (err) => reject(err),\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t// Set payment amount to full invoice total\n\t\t// Called when user clicks on a payment method button\n\t\t// Uses debouncing to prevent rapid successive calls\n\t\tset_full_amount(idx) {\n\t\t\ttry {\n\t\t\t\t// Clear any pending timeout for this specific payment\n\t\t\t\t// This prevents multiple rapid calls from overwriting each other\n\t\t\t\tif (this.set_full_amount_timeouts[idx]) {\n\t\t\t\t\tclearTimeout(this.set_full_amount_timeouts[idx]);\n\t\t\t\t\tdelete this.set_full_amount_timeouts[idx];\n\t\t\t\t}\n\n\t\t\t\t// Debounce to prevent multiple rapid calls for the same payment\n\t\t\t\t// Wait 150ms before executing to batch rapid clicks\n\t\t\t\tthis.set_full_amount_timeouts[idx] = setTimeout(() => {\n\t\t\t\t\t// Do not allow payment amount changes if posa_use_customer_credit_switch is enabled\n\t\t\t\t\tif (this.posa_use_customer_credit_switch) {\n\t\t\t\t\t\tdelete this.set_full_amount_timeouts[idx];\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst isQuickReturn = !!this.quick_return;\n\n\t\t\t\t\tconst payment = this.invoice_doc.payments.find((p) => p.idx == idx);\n\t\t\t\t\tif (!payment) {\n\t\t\t\t\t\tdelete this.set_full_amount_timeouts[idx];\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Clear all other payment methods first\n\t\t\t\t\tthis.invoice_doc.payments.forEach((p) => {\n\t\t\t\t\t\tif (p.idx !== idx) {\n\t\t\t\t\t\t\tp.amount = 0;\n\t\t\t\t\t\t\tif (p.base_amount !== undefined) {\n\t\t\t\t\t\t\t\tp.base_amount = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Calculate invoice total\n\t\t\t\t\t// Use grand_total with precision = 2 for all currency amounts\n\t\t\t\t\t// Following user requirement: no rounded_total dependency\n\t\t\t\t\tconst invoice_total = flt(this.invoice_doc.grand_total, 2);\n\n\t\t\t\t\t// Fill with full invoice amount when clicking the payment method button\n\t\t\t\t\t// For quick_return mode, same logic as sales_mode but with negative values\n\t\t\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t\t\tconst amount = invoice_total;\n\t\t\t\t\tconst target_amount = isQuickReturn ? -Math.abs(amount) : amount;\n\n\t\t\t\t\t// Set payment amount with precision = 2\n\t\t\t\t\tpayment.amount = target_amount;\n\t\t\t\t\tif (payment.base_amount !== undefined) {\n\t\t\t\t\t\tpayment.base_amount = payment.amount;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Trigger validation after setting amount\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tthis.validate_payment_amount(payment);\n\t\t\t\t\t});\n\n\t\t\t\t\tevntBus.emit(\n\t\t\t\t\t\tEVENT_NAMES.PAYMENTS_UPDATED,\n\t\t\t\t\t\tJSON.parse(JSON.stringify(this.invoice_doc.payments)),\n\t\t\t\t\t);\n\n\t\t\t\t\t// Force update to recalculate computed properties\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t\t});\n\n\t\t\t\t\tdelete this.set_full_amount_timeouts[idx];\n\t\t\t\t}, 150); // 150ms debounce per payment\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[Payments.js] set_full_amount error:', error?.message || error);\n\t\t\t\tif (this.set_full_amount_timeouts[idx]) {\n\t\t\t\t\tdelete this.set_full_amount_timeouts[idx];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Set payment amount to remaining balance\n\t\t// Called when user focuses/clicks on payment amount input field\n\t\t// Calculates remaining amount after other payments and fills it in\n\t\tset_rest_amount(idx) {\n\t\t\ttry {\n\t\t\t\t// Do not allow payment amount changes if posa_use_customer_credit_switch is enabled\n\t\t\t\tif (this.posa_use_customer_credit_switch) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst isQuickReturn = !!this.quick_return;\n\t\t\t\t// Use grand_total directly without rounding to preserve exact value\n\t\t\t\t// Following user requirement: no rounded_total dependency\n\t\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t\tconst invoice_total = flt(this.invoice_doc.grand_total, 2);\n\n\t\t\t\t// Find the payment method being edited\n\t\t\t\tconst payment = this.invoice_doc.payments.find((p) => p.idx === idx);\n\t\t\t\tif (!payment) return;\n\n\t\t\t\t// Calculate current total payments excluding this payment\n\t\t\t\t// This gives us the amount already covered by other payment methods\n\t\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t\tconst other_payments =\n\t\t\t\t\tthis.invoice_doc.payments\n\t\t\t\t\t\t?.filter((p) => p.idx !== idx)\n\t\t\t\t\t\t.reduce((sum, p) => sum + flt(p.amount || 0, 2), 0) || 0;\n\n\t\t\t\t// Calculate other totals with precision = 2 for all currency amounts\n\t\t\t\tconst other_totals = flt(\n\t\t\t\t\tflt(this.invoice_doc.loyalty_amount || 0, 2) +\n\t\t\t\t\t\tflt(this.redeemed_customer_credit || 0, 2) +\n\t\t\t\t\t\tother_payments,\n\t\t\t\t\t2,\n\t\t\t\t);\n\n\t\t\t\t// Calculate remaining amount (works for both positive and negative values)\n\t\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t\tconst remaining = flt(invoice_total - other_totals, 2);\n\n\t\t\t\t// Fill with remaining amount (cannot exceed invoice total for non-cash)\n\t\t\t\tconst cash_mode = this.pos_profile?.posa_cash_mode_of_payment;\n\t\t\t\tlet amount = remaining;\n\n\t\t\t\t// For non-cash payments, limit to remaining amount (cannot exceed invoice total)\n\t\t\t\tif (cash_mode && payment.mode_of_payment !== cash_mode) {\n\t\t\t\t\t// Non-cash: fill with remaining amount, but not more than invoice total\n\t\t\t\t\t// For quick_return mode, use absolute values for comparison\n\t\t\t\t\tif (isQuickReturn) {\n\t\t\t\t\t\t// Quick return mode: use absolute values for comparison\n\t\t\t\t\t\tconst abs_remaining = Math.abs(remaining);\n\t\t\t\t\t\tconst abs_target = Math.abs(invoice_total);\n\t\t\t\t\t\tamount =\n\t\t\t\t\t\t\tabs_remaining <= abs_target ? remaining : -Math.abs(invoice_total);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Normal mode: compare directly\n\t\t\t\t\t\tamount = remaining > 0 ? remaining : 0;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Cash payment: can fill with remaining amount (can exceed later if needed)\n\t\t\t\t\tamount = remaining;\n\t\t\t\t}\n\n\t\t\t\t// For quick_return mode, ensure value is negative\n\t\t\t\t// If positive, convert to negative (same as sales_mode but negative)\n\t\t\t\tif (isQuickReturn && amount > 0) {\n\t\t\t\t\tamount = -Math.abs(amount);\n\t\t\t\t}\n\n\t\t\t\t// Set payment amount to exact remaining value without rounding\n\t\t\t\t// Following user requirement: no rounding logic at all\n\t\t\t\t// This ensures payment.amount matches grand_total exactly\n\t\t\t\tpayment.amount = amount;\n\t\t\t\tif (payment.base_amount !== undefined) {\n\t\t\t\t\tpayment.base_amount = payment.amount;\n\t\t\t\t}\n\n\t\t\t\t// Trigger validation after setting amount\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.validate_payment_amount(payment);\n\t\t\t\t});\n\n\t\t\t\tevntBus.emit(\n\t\t\t\t\tEVENT_NAMES.PAYMENTS_UPDATED,\n\t\t\t\t\tJSON.parse(JSON.stringify(this.invoice_doc.payments)),\n\t\t\t\t);\n\n\t\t\t\t// Force update to recalculate computed properties\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[Payments.js] set_rest_amount error:', error?.message || error);\n\t\t\t}\n\t\t},\n\n\t\t// Clear all payment amounts to zero\n\t\t// Used when resetting payment form or switching payment methods\n\t\tclear_all_amounts() {\n\t\t\tthis.invoice_doc.payments.forEach((payment) => {\n\t\t\t\tpayment.amount = 0;\n\t\t\t});\n\t\t},\n\n\t\t// Open print preview window for current invoice\n\t\t// Uses POS profile print format and letterhead settings\n\t\tload_print_page() {\n\t\t\tconst print_format =\n\t\t\t\tthis.pos_profile.print_format_for_online || this.pos_profile.posa_print_format;\n\t\t\tconst letter_head = this.pos_profile.letter_head || 0;\n\t\t\tconst url = `${frappe.urllib.get_base_url()}/printview?doctype=Sales%20Invoice&name=${\n\t\t\t\tthis.invoice_doc.name\n\t\t\t}&trigger_print=1&format=${print_format}&no_letterhead=${letter_head}`;\n\n\t\t\tconst printWindow = window.open(url, 'Print');\n\t\t\tprintWindow.addEventListener(\n\t\t\t\t'load',\n\t\t\t\tfunction () {\n\t\t\t\t\tprintWindow.print();\n\t\t\t\t\tsetTimeout(() => printWindow.close(), 1000);\n\t\t\t\t},\n\t\t\t\ttrue,\n\t\t\t);\n\t\t},\n\n\t\t// Validate due date is not in the past\n\t\t// For credit sales, due date must be today or future\n\t\tvalidate_due_date() {\n\t\t\tconst today = frappe.datetime.now_date();\n\t\t\tconst parse_today = Date.parse(today);\n\t\t\tconst new_date = Date.parse(this.invoice_doc.due_date);\n\n\t\t\t// If due date is in the past, reset to today\n\t\t\tif (new_date < parse_today) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.invoice_doc.due_date = today;\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t},\n\n\t\t// Keyboard shortcut handler: Ctrl+X or Cmd+X to submit\n\t\tshortPay(e) {\n\t\t\tif (e.key === 'x' && (e.ctrlKey || e.metaKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.submit();\n\t\t\t}\n\t\t},\n\n\t\tset_change_amount() {\n\t\t\t// Following ERPNext logic: change_amount is calculated automatically\n\t\t\t// change_amount = paid_amount - grand_total (when paid_amount > grand_total)\n\t\t\t// This method is kept for compatibility but change_amount is now a computed property\n\t\t\tthis.change_amount_rules = [];\n\t\t},\n\n\t\t// Handle user input in payment amount field\n\t\t// Automatically converts positive values to negative in quick return mode\n\t\thandlePaymentAmountChange(payment, $event) {\n\t\t\t// Do not allow payment amount changes if posa_use_customer_credit_switch is enabled\n\t\t\tif (this.posa_use_customer_credit_switch) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Handle payment amount change - make negative automatically for quick_return mode\n\t\t\tlet value = 0;\n\t\t\ttry {\n\t\t\t\t// Parse input value from text field\n\t\t\t\t// Remove commas and parse as float to preserve exact decimal precision\n\t\t\t\tlet inputValue = $event.target.value.toString().replace(/,/g, '');\n\t\t\t\tlet _value = parseFloat(inputValue);\n\t\t\t\tif (!isNaN(_value)) {\n\t\t\t\t\tvalue = _value;\n\t\t\t\t}\n\n\t\t\t\t// For quick_return mode, make value negative automatically\n\t\t\t\t// Return invoices require negative payment amounts\n\t\t\t\t// If input value is positive, convert to negative\n\t\t\t\tif (this.quick_return && value > 0) {\n\t\t\t\t\tvalue = -Math.abs(value);\n\t\t\t\t}\n\n\t\t\t\t// Set the payment amount without rounding to preserve exact value\n\t\t\t\t// Following user requirement: no rounding logic at all\n\t\t\t\t// Use parseFloat directly to preserve all decimal places from user input\n\t\t\t\tpayment.amount = value;\n\t\t\t\tif (payment.base_amount !== undefined) {\n\t\t\t\t\tpayment.base_amount = payment.amount;\n\t\t\t\t}\n\n\t\t\t\t// Emit payment update event\n\t\t\t\tevntBus.emit(\n\t\t\t\t\tEVENT_NAMES.PAYMENTS_UPDATED,\n\t\t\t\t\tJSON.parse(JSON.stringify(this.invoice_doc.payments)),\n\t\t\t\t);\n\n\t\t\t\t// Force update to recalculate computed properties\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log('[Payments.js] handlePaymentAmountChange error:', e?.message || e);\n\t\t\t\tpayment.amount = 0;\n\t\t\t}\n\t\t},\n\n\t\t// Validate payment amount and notify other components\n\t\t// Actual validation logic is in Invoice.js component\n\t\tvalidate_payment_amount(payment) {\n\t\t\t// Emit event to update Invoice component (validation happens in Invoice.js)\n\t\t\tevntBus.emit('payment_amount_changed');\n\n\t\t\t// Force update to recalculate computed properties\n\t\t\t// This ensures outstanding_amount and change_amount are updated\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$forceUpdate();\n\t\t\t});\n\n\t\t\treturn true;\n\t\t},\n\n\t\t// Fetch available customer credit from server\n\t\t// Used when customer credit redemption feature is enabled\n\t\tget_available_credit(e) {\n\t\t\tthis.clear_all_amounts();\n\n\t\t\tif (!e) {\n\t\t\t\tthis.customer_credit_dict = [];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: API_MAP.CUSTOMER.GET_CUSTOMER_CREDIT,\n\t\t\t\targs: {\n\t\t\t\t\tcustomer_id: this.invoice_doc.customer,\n\t\t\t\t\tcompany: this.pos_profile.company,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tconst data = r.message;\n\n\t\t\t\t\tif (!data?.length) {\n\t\t\t\t\t\tthis.customer_credit_dict = [];\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst amount = this.invoice_doc.grand_total;\n\t\t\t\t\tlet remainAmount = amount;\n\n\t\t\t\t\tdata.forEach((row) => {\n\t\t\t\t\t\tif (remainAmount > 0) {\n\t\t\t\t\t\t\trow.credit_to_redeem =\n\t\t\t\t\t\t\t\tremainAmount >= row.total_credit ? row.total_credit : remainAmount;\n\t\t\t\t\t\t\tremainAmount -= row.credit_to_redeem;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trow.credit_to_redeem = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.customer_credit_dict = data;\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\t// Fetch customer addresses from server\n\t\t// Used for shipping and billing address selection\n\t\tget_addresses() {\n\t\t\tconst customer = this.invoice_doc?.customer || this.customer;\n\n\t\t\tif (!customer) {\n\t\t\t\tthis.addresses = [];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: API_MAP.CUSTOMER.GET_ADDRESSES,\n\t\t\t\targs: { customer_id: customer },\n\t\t\t\tasync: true,\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tthis.addresses = r.exc ? [] : r.message;\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\t// Fetch customer outstanding balance from server\n\t\t// Gets total unpaid amount for the customer across all unpaid invoices\n\t\tget_customer_outstanding_balance() {\n\t\t\tconst customer = this.invoice_doc?.customer || this.customer;\n\t\t\tconst company = this.pos_profile?.company;\n\n\t\t\tif (!customer) {\n\t\t\t\tthis.customer_outstanding_balance = 0.0;\n\t\t\t\tthis.customer_outstanding_currency = null;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: API_MAP.CUSTOMER.GET_CUSTOMER_OUTSTANDING_BALANCE,\n\t\t\t\targs: {\n\t\t\t\t\tcustomer_id: customer,\n\t\t\t\t\tcompany: company,\n\t\t\t\t},\n\t\t\t\tasync: true,\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tif (r.exc) {\n\t\t\t\t\t\tthis.customer_outstanding_balance = 0.0;\n\t\t\t\t\t\tthis.customer_outstanding_currency = null;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst data = r.message || {};\n\t\t\t\t\tthis.customer_outstanding_balance = this.flt(\n\t\t\t\t\t\tdata.total_outstanding || 0,\n\t\t\t\t\t\tthis.currency_precision,\n\t\t\t\t\t);\n\t\t\t\t\tthis.customer_outstanding_currency = data.currency || null;\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\t// Filter addresses for autocomplete/search functionality\n\t\taddressFilter(item, queryText) {\n\t\t\tconst searchText = queryText.toLowerCase();\n\t\t\tconst fields = [\n\t\t\t\titem.address_title,\n\t\t\t\titem.address_line1,\n\t\t\t\titem.address_line2,\n\t\t\t\titem.city,\n\t\t\t\titem.name,\n\t\t\t];\n\n\t\t\treturn fields.some((field) => field?.toLowerCase().includes(searchText));\n\t\t},\n\n\t\t// Open dialog to create new address\n\t\tnew_address() {\n\t\t\tevntBus.emit(EVENT_NAMES.OPEN_NEW_ADDRESS, this.invoice_doc.customer);\n\t\t},\n\n\t\t//  Request payment (disabled feature)\n\t\trequest_payment() {\n\t\t\tthis.phone_dialog = false;\n\n\t\t\tif (!this.invoice_doc.contact_mobile) {\n\t\t\t\tthis.showMessage('Please enter customer phone number', 'error');\n\t\t\t\tevntBus.emit(EVENT_NAMES.OPEN_EDIT_CUSTOMER);\n\t\t\t\tthis.back_to_invoice();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevntBus.emit(EVENT_NAMES.FREEZE, { title: 'Please wait for payment...' });\n\n\t\t\t// Use precision = 2 for all currency amounts\n\t\t\tthis.invoice_doc.payments.forEach((payment) => {\n\t\t\t\tpayment.amount = flt(payment.amount, 2);\n\t\t\t});\n\n\t\t\tevntBus.emit(EVENT_NAMES.UNFREEZE);\n\t\t},\n\t},\n\n\t// ===== LIFECYCLE HOOKS =====\n\t// Vue.js lifecycle methods for component initialization and cleanup\n\tmounted() {\n\t\t// Wait for DOM to be ready before setting up event listeners\n\t\tthis.$nextTick(() => {\n\t\t\t// Listen for quick return mode toggle\n\t\t\tevntBus.on(EVENT_NAMES.TOGGLE_QUICK_RETURN, (value) => {\n\t\t\t\tthis.quick_return = value;\n\t\t\t});\n\n\t\t\t// Listen for invoice document updates from Invoice component\n\t\t\t// This is the main event that loads invoice data into Payments component\n\t\t\tevntBus.on(EVENT_NAMES.SEND_INVOICE_DOC_PAYMENT, (invoice_doc) => {\n\t\t\t\tthis.invoice_doc = invoice_doc;\n\n\t\t\t\t// Reset posa_use_customer_credit_switch when new invoice is loaded\n\t\t\t\tthis.posa_use_customer_credit_switch = false;\n\n\t\t\t\tif (!Array.isArray(this.invoice_doc.payments)) {\n\t\t\t\t\tthis.showMessage('No payments array in invoice document', 'error');\n\t\t\t\t\tthis.invoice_doc.payments = [];\n\t\t\t\t} else {\n\t\t\t\t\tthis.invoice_doc.payments.forEach((payment, index) => {\n\t\t\t\t\t\tif (!payment.idx) payment.idx = index + 1;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tconst default_payment = this.invoice_doc.payments.find(\n\t\t\t\t\t(payment) => payment.default == 1,\n\t\t\t\t);\n\t\t\t\t// Initialize is_credit_sale from invoice_doc if it exists, otherwise default to false\n\t\t\t\tthis.is_credit_sale = invoice_doc.is_credit_sale || false;\n\t\t\t\t// Initialize due_date if credit sale is enabled but due_date is not set\n\t\t\t\tif (this.is_credit_sale && !invoice_doc.due_date) {\n\t\t\t\t\t// Set due_date to today's date as default\n\t\t\t\t\tif (typeof frappe !== 'undefined' && frappe.datetime) {\n\t\t\t\t\t\tthis.invoice_doc.due_date = frappe.datetime.now_date();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Fallback: use current date in YYYY-MM-DD format\n\t\t\t\t\t\tconst today = new Date();\n\t\t\t\t\t\tthis.invoice_doc.due_date = today.toISOString().split('T')[0];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Reset saved payments when receiving a new invoice_doc\n\t\t\t\tthis.saved_payments_before_credit_sale = null;\n\t\t\t\tthis.is_write_off_change = 0;\n\t\t\t\t// Reset for new invoice\n\t\t\t\tthis.is_original_invoice_unpaid = false;\n\n\t\t\t\t// Fetch customer outstanding balance when invoice_doc is received\n\t\t\t\tif (invoice_doc?.customer) {\n\t\t\t\t\tthis.get_customer_outstanding_balance();\n\t\t\t\t}\n\n\t\t\t\tif (default_payment && !invoice_doc.is_return) {\n\t\t\t\t\t// Use grand_total with precision = 2 for all currency amounts\n\t\t\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\t\t\t// Always set default payment amount from grand_total, even if invoice exists\n\t\t\t\t\tconst total = flt(invoice_doc.grand_total, 2);\n\t\t\t\t\t// Set payment amount with precision = 2\n\t\t\t\t\tdefault_payment.amount = total;\n\t\t\t\t\tif (default_payment.base_amount !== undefined) {\n\t\t\t\t\t\tdefault_payment.base_amount = total;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (invoice_doc.is_return) {\n\t\t\t\t\tthis.is_return = true;\n\t\t\t\t\t// Enable quick_return for all return invoices (quick return or normal)\n\t\t\t\t\t// Difference: quick return has no return_against, normal return has return_against\n\t\t\t\t\t// Both need input enabled and negative values\n\t\t\t\t\tthis.quick_return = true;\n\n\t\t\t\t\t// Use grand_total only, no rounding\n\t\t\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\t\t\tconst total = invoice_doc.grand_total;\n\t\t\t\t\tconst absTotal = Math.abs(total);\n\n\t\t\t\t\t// Reset all payments to zero first\n\t\t\t\t\tinvoice_doc.payments.forEach((payment) => {\n\t\t\t\t\t\tpayment.amount = 0;\n\t\t\t\t\t\tif (payment.base_amount !== undefined) payment.base_amount = 0;\n\t\t\t\t\t});\n\n\t\t\t\t\t// Calculate refundable amount based on original invoice payment status\n\t\t\t\t\t// If unpaid: no payments (payments = 0 and disabled)\n\t\t\t\t\t// If paid (partly or fully): refundable = (paid_amount / grand_total) \u00D7 return_amount\n\t\t\t\t\t// Check if original invoice is unpaid\n\t\t\t\t\tthis.is_original_invoice_unpaid = false;\n\t\t\t\t\t// Default: no refund (unpaid invoice)\n\t\t\t\t\tlet refundableAmount = 0;\n\n\t\t\t\t\t// Check if POS Profile has posa_use_customer_credit enabled\n\t\t\t\t\tconst useCustomerCredit = this.pos_profile?.posa_use_customer_credit == 1;\n\n\t\t\t\t\tif (invoice_doc._original_invoice_payment_info) {\n\t\t\t\t\t\tconst orig = invoice_doc._original_invoice_payment_info;\n\t\t\t\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t\t\t\tconst origPaid = Math.abs(this.flt(orig.paid_amount || 0, 2));\n\t\t\t\t\t\tconst origGrand = Math.abs(this.flt(orig.grand_total || 0, 2));\n\n\t\t\t\t\t\t// Check if original invoice is unpaid (paid_amount = 0 or very close to 0)\n\t\t\t\t\t\tif (origPaid <= 0.01) {\n\t\t\t\t\t\t\t// Original invoice is unpaid\n\t\t\t\t\t\t\tthis.is_original_invoice_unpaid = true;\n\t\t\t\t\t\t\trefundableAmount = 0;\n\t\t\t\t\t\t} else if (origGrand > 0) {\n\t\t\t\t\t\t\t// Original invoice was paid (partly or fully)\n\t\t\t\t\t\t\t// Calculate refundable amount based on what was actually paid\n\t\t\t\t\t\t\t// refundable = (paid_amount / grand_total) \u00D7 return_amount\n\t\t\t\t\t\t\tconst paymentRatio = origPaid / origGrand;\n\t\t\t\t\t\t\trefundableAmount = absTotal * paymentRatio;\n\t\t\t\t\t\t\tthis.is_original_invoice_unpaid = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Original invoice had zero total, no refund\n\t\t\t\t\t\t\tthis.is_original_invoice_unpaid = true;\n\t\t\t\t\t\t\trefundableAmount = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// No payment info available - assume unpaid (safe default)\n\t\t\t\t\t\tthis.is_original_invoice_unpaid = true;\n\t\t\t\t\t\trefundableAmount = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Reset posa_use_customer_credit_switch to false\n\t\t\t\t\t// User can enable it manually if POS Profile has posa_use_customer_credit=1\n\t\t\t\t\tthis.posa_use_customer_credit_switch = false; // Fill default payment with negative refundable amount\n\t\t\t\t\t// Only if there is a refundable amount AND posa_use_customer_credit_switch is disabled\n\t\t\t\t\t// If posa_use_customer_credit_switch is enabled, payments should remain 0\n\t\t\t\t\tif (\n\t\t\t\t\t\tdefault_payment &&\n\t\t\t\t\t\trefundableAmount > 0.01 &&\n\t\t\t\t\t\t!this.posa_use_customer_credit_switch\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Set payment amount with precision = 2 for all currency amounts\n\t\t\t\t\t\tconst neg = -flt(refundableAmount, 2);\n\t\t\t\t\t\tdefault_payment.amount = neg;\n\t\t\t\t\t\tif (default_payment.base_amount !== undefined)\n\t\t\t\t\t\t\tdefault_payment.base_amount = neg;\n\t\t\t\t\t}\n\t\t\t\t\t// If posa_use_customer_credit_switch is enabled or refundableAmount = 0, payments remain 0\n\t\t\t\t} else {\n\t\t\t\t\t// Reset quick_return if not a return invoice\n\t\t\t\t\tthis.quick_return = false;\n\t\t\t\t}\n\n\t\t\t\tthis.loyalty_amount = 0;\n\t\t\t\tthis.get_addresses();\n\t\t\t});\n\n\t\t\tevntBus.on(EVENT_NAMES.REGISTER_POS_PROFILE, (data) => {\n\t\t\t\tthis.pos_profile = data.pos_profile;\n\t\t\t\tif (data.pos_profile?.customer) {\n\t\t\t\t\tthis.customer = data.pos_profile.customer;\n\t\t\t\t\tthis.get_addresses();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tevntBus.on(EVENT_NAMES.ADD_THE_NEW_ADDRESS, (data) => {\n\t\t\t\tthis.addresses.push(data);\n\t\t\t\tthis.$forceUpdate();\n\t\t\t});\n\t\t});\n\n\t\tevntBus.on(EVENT_NAMES.UPDATE_CUSTOMER, (customer) => {\n\t\t\tif (this.customer != customer) {\n\t\t\t\tthis.customer_credit_dict = [];\n\t\t\t\tthis.redeem_customer_credit = false;\n\t\t\t\tthis.is_cashback = true;\n\t\t\t}\n\t\t\tthis.customer = customer;\n\t\t\t// Fetch customer outstanding balance when customer changes\n\t\t\tif (customer) {\n\t\t\t\tthis.get_customer_outstanding_balance();\n\t\t\t}\n\t\t});\n\n\t\tevntBus.on(EVENT_NAMES.SET_POS_SETTINGS, (data) => {\n\t\t\tthis.pos_settings = data;\n\t\t});\n\n\t\tevntBus.on(EVENT_NAMES.SET_CUSTOMER_INFO_TO_EDIT, (data) => {\n\t\t\tthis.customer_info = data;\n\t\t});\n\n\t\tevntBus.on(EVENT_NAMES.UPDATE_DUE_DATE, (date) => {\n\t\t\tif (this.invoice_doc) {\n\t\t\t\tthis.invoice_doc.due_date = date;\n\t\t\t}\n\t\t});\n\t},\n\n\t// Component created hook\n\t// Sets up keyboard shortcuts when component is created\n\tcreated() {\n\t\tdocument.addEventListener('keydown', this.shortPay.bind(this));\n\t},\n\n\t// Component beforeUnmount hook\n\t// Cleans up all timeouts and event listeners before component is destroyed\n\t// Prevents memory leaks and orphaned event handlers\n\tbeforeUnmount() {\n\t\t// Clean up all timeouts\n\t\t// Prevents pending debounce timers from executing after component destruction\n\t\tObject.keys(this.set_full_amount_timeouts || {}).forEach((idx) => {\n\t\t\tif (this.set_full_amount_timeouts[idx]) {\n\t\t\t\tclearTimeout(this.set_full_amount_timeouts[idx]);\n\t\t\t}\n\t\t});\n\t\tthis.set_full_amount_timeouts = {};\n\n\t\t// Clean up all event listeners\n\t\t// Removes all event bus listeners to prevent memory leaks\n\t\tconst events = [\n\t\t\tEVENT_NAMES.TOGGLE_QUICK_RETURN,\n\t\t\tEVENT_NAMES.SEND_INVOICE_DOC_PAYMENT,\n\t\t\tEVENT_NAMES.REGISTER_POS_PROFILE,\n\t\t\tEVENT_NAMES.ADD_THE_NEW_ADDRESS,\n\t\t\tEVENT_NAMES.UPDATE_CUSTOMER,\n\t\t\tEVENT_NAMES.SET_POS_SETTINGS,\n\t\t\tEVENT_NAMES.SET_CUSTOMER_INFO_TO_EDIT,\n\t\t\tEVENT_NAMES.UPDATE_DUE_DATE,\n\t\t\t'update_delivery_date',\n\t\t];\n\n\t\tevents.forEach((event) => evntBus.$off(event));\n\t},\n\n\t// Component destroyed hook\n\t// Final cleanup when component is completely destroyed\n\tdestroyed() {\n\t\tdocument.removeEventListener('keydown', this.shortPay);\n\t},\n\n\t// ===== WATCHERS =====\n\t// Vue.js watchers that react to data property changes\n\t// These automatically execute when watched properties change\n\twatch: {\n\t\t// Watch loyalty amount changes\n\t\t// Validates that loyalty points don't exceed available balance\n\t\tloyalty_amount(value) {\n\t\t\tif (value > this.available_pioints_amount) {\n\t\t\t\tthis.invoice_doc.loyalty_amount = 0;\n\t\t\t\tthis.invoice_doc.redeem_loyalty_points = 0;\n\t\t\t\tthis.invoice_doc.loyalty_points = 0;\n\t\t\t\tthis.showMessage(\n\t\t\t\t\t`Cannot enter points greater than available balance ${this.available_pioints_amount}`,\n\t\t\t\t\t'error',\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.invoice_doc.loyalty_amount = this.flt(this.loyalty_amount);\n\t\t\t\tthis.invoice_doc.redeem_loyalty_points = 1;\n\t\t\t\tthis.invoice_doc.loyalty_points = this.flt(this.loyalty_amount);\n\t\t\t}\n\t\t},\n\n\t\t// Watch credit sale toggle changes\n\t\t// When enabled: saves current payments, clears all payment amounts\n\t\t// When disabled: restores saved payments or sets default cash payment\n\t\tis_credit_sale(value) {\n\t\t\tif (!this.invoice_doc) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Save is_credit_sale to invoice_doc for access from Invoice component\n\t\t\tthis.invoice_doc.is_credit_sale = value ? true : false;\n\n\t\t\t// Emit event to notify Invoice component about credit sale status\n\t\t\t// This allows Invoice component to update its validation logic\n\t\t\t// Use posa_use_customer_credit_switch_changed event name (unified event name)\n\t\t\tevntBus.emit(EVENT_NAMES.POSA_USE_CUSTOMER_CREDIT_SWITCH_CHANGED, value);\n\n\t\t\tif (value) {\n\t\t\t\t// Credit sale is being enabled\n\t\t\t\t// If credit sale is enabled:\n\t\t\t\t// 1. Initialize due_date if not set\n\t\t\t\tif (!this.invoice_doc.due_date) {\n\t\t\t\t\tif (typeof frappe !== 'undefined' && frappe.datetime) {\n\t\t\t\t\t\tthis.invoice_doc.due_date = frappe.datetime.now_date();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Fallback: use current date in YYYY-MM-DD format\n\t\t\t\t\t\tconst today = new Date();\n\t\t\t\t\t\tthis.invoice_doc.due_date = today.toISOString().split('T')[0];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// 2. Save current payment values before clearing them\n\t\t\t\t// 3. Clear all payment amounts to 0\n\t\t\t\tif (Array.isArray(this.invoice_doc.payments)) {\n\t\t\t\t\t// Save current payment values (deep copy)\n\t\t\t\t\tthis.saved_payments_before_credit_sale = JSON.parse(\n\t\t\t\t\t\tJSON.stringify(this.invoice_doc.payments),\n\t\t\t\t\t);\n\n\t\t\t\t\t// Clear all payment amounts\n\t\t\t\t\tthis.invoice_doc.payments.forEach((payment) => {\n\t\t\t\t\t\tpayment.amount = 0;\n\t\t\t\t\t\tif (payment.base_amount !== undefined) {\n\t\t\t\t\t\t\tpayment.base_amount = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Credit sale is being disabled\n\t\t\t\t// Restore previous payment values if they were saved\n\t\t\t\tif (Array.isArray(this.invoice_doc.payments)) {\n\t\t\t\t\tif (this.saved_payments_before_credit_sale) {\n\t\t\t\t\t\t// Restore saved values\n\t\t\t\t\t\tthis.invoice_doc.payments.forEach((payment, index) => {\n\t\t\t\t\t\t\tconst savedPayment = this.saved_payments_before_credit_sale.find(\n\t\t\t\t\t\t\t\t(p) => p.idx === payment.idx || p.name === payment.name,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (savedPayment) {\n\t\t\t\t\t\t\t\tpayment.amount = savedPayment.amount || 0;\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tpayment.base_amount !== undefined &&\n\t\t\t\t\t\t\t\t\tsavedPayment.base_amount !== undefined\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tpayment.base_amount = savedPayment.base_amount;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// Clear saved values after restoration\n\t\t\t\t\t\tthis.saved_payments_before_credit_sale = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// No saved values - set cash payment to invoice total (default behavior)\n\t\t\t\t\t\t// Use grand_total with precision = 2 for all currency amounts\n\t\t\t\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\t\t\t\tconst invoice_total = this.flt(this.invoice_doc.grand_total, 2);\n\t\t\t\t\t\tthis.invoice_doc.payments.forEach((payment) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tpayment.mode_of_payment &&\n\t\t\t\t\t\t\t\tpayment.mode_of_payment.toLowerCase() === 'cash'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t// Set payment amount with precision = 2\n\t\t\t\t\t\t\t\tpayment.amount = invoice_total;\n\t\t\t\t\t\t\t\tif (payment.base_amount !== undefined) {\n\t\t\t\t\t\t\t\t\tpayment.base_amount = payment.amount;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Force update to recalculate computed properties\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$forceUpdate();\n\t\t\t});\n\t\t},\n\n\t\t// Watch write-off toggle changes\n\t\t// When enabled: sets write_off_amount to outstanding_amount\n\t\t// When disabled: clears write_off_amount\n\t\tis_write_off_change(value) {\n\t\t\tif (value == 1) {\n\t\t\t\tthis.invoice_doc.write_off_amount = this.outstanding_amount;\n\t\t\t\tthis.invoice_doc.write_off_outstanding_amount_automatically = 1;\n\t\t\t} else {\n\t\t\t\tthis.invoice_doc.write_off_amount = 0;\n\t\t\t\tthis.invoice_doc.write_off_outstanding_amount_automatically = 0;\n\t\t\t}\n\t\t},\n\n\t\t// Watch payments array for deep changes\n\t\t// Forces recalculation of change_amount when any payment amount changes\n\t\t'invoice_doc.payments': {\n\t\t\thandler() {\n\t\t\t\t// Force update to recalculate computed properties\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t});\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\n\t\t// Watch redeemed customer credit amount\n\t\t// Validates that redeemed amount doesn't exceed available credit\n\t\tredeemed_customer_credit(value) {\n\t\t\tif (value > this.available_customer_credit) {\n\t\t\t\tthis.showMessage(\n\t\t\t\t\t`Customer credit can be redeemed up to ${this.available_customer_credit}`,\n\t\t\t\t\t'error',\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\t// Watch posa_use_customer_credit_switch toggle\n\t\t// Simple logic based on posa_use_customer_credit_switch only\n\t\tposa_use_customer_credit_switch(value) {\n\t\t\tif (!this.invoice_doc || !this.invoice_doc.is_return) return;\n\n\t\t\tif (value === true) {\n\t\t\t\t// Switch is ON: clear all payment amounts (payments = 0)\n\t\t\t\tif (this.invoice_doc.payments) {\n\t\t\t\t\tthis.invoice_doc.payments.forEach((payment) => {\n\t\t\t\t\t\tpayment.amount = 0;\n\t\t\t\t\t\tif (payment.base_amount !== undefined) {\n\t\t\t\t\t\t\tpayment.base_amount = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t// Emit payments update to notify other components\n\t\t\t\t\tevntBus.emit(\n\t\t\t\t\t\tEVENT_NAMES.PAYMENTS_UPDATED,\n\t\t\t\t\t\tJSON.parse(JSON.stringify(this.invoice_doc.payments)),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Switch is OFF: set payment amount to grand_total\n\t\t\t\tif (this.invoice_doc.payments && this.invoice_doc.payments.length > 0) {\n\t\t\t\t\t// Use grand_total only, no rounding\n\t\t\t\t\t// Following user requirement: no rounded_total dependency at all\n\t\t\t\t\t// Use precision = 2 for all currency amounts\n\t\t\t\t\tconst grandTotal = Math.abs(this.flt(this.invoice_doc.grand_total || 0, 2));\n\t\t\t\t\t// Set first payment method to grand_total\n\t\t\t\t\tconst firstPayment = this.invoice_doc.payments[0];\n\t\t\t\t\tif (firstPayment) {\n\t\t\t\t\t\tfirstPayment.amount = grandTotal;\n\t\t\t\t\t\tif (firstPayment.base_amount !== undefined) {\n\t\t\t\t\t\t\tfirstPayment.base_amount = grandTotal;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Clear other payments\n\t\t\t\t\t\tfor (let i = 1; i < this.invoice_doc.payments.length; i++) {\n\t\t\t\t\t\t\tthis.invoice_doc.payments[i].amount = 0;\n\t\t\t\t\t\t\tif (this.invoice_doc.payments[i].base_amount !== undefined) {\n\t\t\t\t\t\t\t\tthis.invoice_doc.payments[i].base_amount = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Emit payments update to notify other components\n\t\t\t\t\t\tevntBus.emit(\n\t\t\t\t\t\t\tEVENT_NAMES.PAYMENTS_UPDATED,\n\t\t\t\t\t\t\tJSON.parse(JSON.stringify(this.invoice_doc.payments)),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Emit event to notify Invoice component\n\t\t\tevntBus.emit(EVENT_NAMES.POSA_USE_CUSTOMER_CREDIT_SWITCH_CHANGED, value);\n\t\t\t// Force update to recalculate computed properties\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$forceUpdate();\n\t\t\t});\n\t\t},\n\t},\n};\n", "import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, withModifiers as _withModifiers, vModelText as _vModelText, withDirectives as _withDirectives, vModelCheckbox as _vModelCheckbox } from \"vue\"\n\nconst _hoisted_1 = { style: {\"width\":\"100%\",\"height\":\"100%\",\"position\":\"relative\"} }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-arrow-left\",\n  style: {\"color\":\"white\",\"font-size\":\"18px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"span\", null, \"\u0631\u062C\u0648\u0639\", -1 /* HOISTED */)\nconst _hoisted_4 = { style: {\"max-height\":\"76vh\",\"height\":\"76vh\",\"background\":\"linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%)\",\"border-radius\":\"6px\",\"box-shadow\":\"0 2px 6px rgba(0, 0, 0, 0.08)\",\"overflow\":\"hidden\",\"position\":\"relative\"} }\nconst _hoisted_5 = {\n  key: 0,\n  style: {\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"height\":\"4px\",\"background\":\"#e0e0e0\",\"overflow\":\"hidden\",\"z-index\":\"10\"}\n}\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"height\":\"100%\",\"background\":\"#1976d2\",\"transform-origin\":\"0% 50%\"} }, null, -1 /* HOISTED */)\nconst _hoisted_7 = [\n  _hoisted_6\n]\nconst _hoisted_8 = { style: {\"max-height\":\"75vh\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\",\"padding\":\"6px\"} }\nconst _hoisted_9 = {\n  key: 0,\n  style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"3px\",\"margin-bottom\":\"2px\"}\n}\nconst _hoisted_10 = { style: {\"display\":\"flex\",\"gap\":\"3px\",\"align-items\":\"flex-start\"} }\nconst _hoisted_11 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"2px\"} }\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"700\",\"color\":\"#555\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.5px\",\"margin\":\"0\",\"padding\":\"2px 4px\",\"line-height\":\"1.2\",\"text-align\":\"center\",\"display\":\"block\"} }, \" \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A \", -1 /* HOISTED */)\nconst _hoisted_13 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"12px 8px\",\"border-radius\":\"4px\",\"border\":\"1.5px solid #4caf50\",\"background\":\"linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)\",\"min-height\":\"45px\",\"box-shadow\":\"0 1px 3px rgba(76, 175, 80, 0.2)\"} }\nconst _hoisted_14 = { style: {\"font-size\":\"1.1rem\",\"font-weight\":\"800\",\"color\":\"#2e7d32\",\"text-align\":\"center\",\"width\":\"100%\",\"display\":\"block\",\"letter-spacing\":\"0.3px\"} }\nconst _hoisted_15 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"2px\"} }\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"700\",\"color\":\"#555\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.5px\",\"margin\":\"0\",\"padding\":\"2px 4px\",\"line-height\":\"1.2\",\"text-align\":\"center\",\"display\":\"block\"} }, \" \u0627\u0644\u0645\u062A\u0628\u0642\u064A \u0644\u0644\u0639\u0645\u064A\u0644 \", -1 /* HOISTED */)\nconst _hoisted_17 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"2px\"} }\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"700\",\"color\":\"#555\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.5px\",\"margin\":\"0\",\"padding\":\"2px 4px\",\"line-height\":\"1.2\",\"text-align\":\"center\",\"display\":\"block\"} }, \" \u0627\u0644\u0645\u062A\u0628\u0642\u064A \u0644\u0644\u062F\u0641\u0639 \u0644\u0627\u062D\u0642\u0627 \", -1 /* HOISTED */)\nconst _hoisted_19 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"2px\"} }\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"700\",\"color\":\"#555\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.5px\",\"margin\":\"0\",\"padding\":\"2px 4px\",\"line-height\":\"1.2\",\"text-align\":\"center\",\"display\":\"block\"} }, \" \u0631\u0635\u064A\u062F \u0627\u0644\u0639\u0645\u064A\u0644 \u0627\u0644\u0645\u062A\u0623\u062E\u0631 \", -1 /* HOISTED */)\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"height\":\"1px\",\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t90deg,\\n\\t\\t\\t\\t\\t\\t\\ttransparent 0%,\\n\\t\\t\\t\\t\\t\\t\\t#e0e0e0 50%,\\n\\t\\t\\t\\t\\t\\t\\ttransparent 100%\\n\\t\\t\\t\\t\\t\\t)\",\"margin\":\"4px 0\"} }, null, -1 /* HOISTED */)\nconst _hoisted_22 = {\n  key: 1,\n  style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"3px\",\"margin\":\"2px 0\"}\n}\nconst _hoisted_23 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"2px\"} }\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.6rem\",\"font-weight\":\"600\",\"color\":\"#666\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.3px\",\"margin\":\"0\",\"padding\":\"0 2px\",\"line-height\":\"1\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Amount \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0645\u0628\u0644\u063A \")\n], -1 /* HOISTED */)\nconst _hoisted_25 = [\"id\", \"value\", \"onChange\", \"onFocus\", \"onClick\", \"readonly\", \"disabled\"]\nconst _hoisted_26 = [\"id\", \"disabled\", \"onClick\"]\nconst _hoisted_27 = [\"disabled\", \"onClick\"]\nconst _hoisted_28 = {\n  key: 2,\n  style: {\"margin\":\"3px 0\"}\n}\nconst _hoisted_29 = { style: {\"display\":\"flex\",\"gap\":\"3px\",\"align-items\":\"flex-start\"} }\nconst _hoisted_30 = { style: {\"flex\":\"1.4\",\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"2px\"} }\nconst _hoisted_31 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.6rem\",\"font-weight\":\"600\",\"color\":\"#666\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.3px\",\"margin\":\"0\",\"padding\":\"0 2px\",\"line-height\":\"1\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Pay from Customer Points \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u062F\u0641\u0639 \u0645\u0646 \u0646\u0642\u0627\u0637 \u0627\u0644\u0639\u0645\u064A\u0644 \")\n], -1 /* HOISTED */)\nconst _hoisted_32 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"background\":\"white\",\"border\":\"1px solid #1976d2\",\"border-radius\":\"3px\",\"padding\":\"1px 4px\",\"min-height\":\"22px\"} }\nconst _hoisted_33 = { style: {\"font-size\":\"0.6rem\",\"font-weight\":\"600\",\"color\":\"#1976d2\",\"margin-right\":\"3px\",\"flex-shrink\":\"0\"} }\nconst _hoisted_34 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"2px\"} }\nconst _hoisted_35 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.6rem\",\"font-weight\":\"600\",\"color\":\"#666\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.3px\",\"margin\":\"0\",\"padding\":\"0 2px\",\"line-height\":\"1\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Customer Points Balance \"),\n  /*#__PURE__*/_createTextVNode(\" \u0631\u0635\u064A\u062F \u0646\u0642\u0627\u0637 \u0627\u0644\u0639\u0645\u064A\u0644 \")\n], -1 /* HOISTED */)\nconst _hoisted_36 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"space-between\",\"padding\":\"3px 6px\",\"border-radius\":\"3px\",\"border\":\"1px solid #bdbdbd\",\"background\":\"linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)\",\"min-height\":\"22px\",\"opacity\":\"0.8\"} }\nconst _hoisted_37 = { style: {\"font-size\":\"0.6rem\",\"font-weight\":\"600\",\"color\":\"#666\",\"margin-right\":\"3px\"} }\nconst _hoisted_38 = { style: {\"font-size\":\"0.7rem\",\"font-weight\":\"700\",\"color\":\"#757575\",\"flex\":\"1\",\"text-align\":\"right\"} }\nconst _hoisted_39 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"height\":\"1px\",\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t90deg,\\n\\t\\t\\t\\t\\t\\t\\ttransparent 0%,\\n\\t\\t\\t\\t\\t\\t\\t#e0e0e0 50%,\\n\\t\\t\\t\\t\\t\\t\\ttransparent 100%\\n\\t\\t\\t\\t\\t\\t)\",\"margin\":\"4px 0\"} }, null, -1 /* HOISTED */)\nconst _hoisted_40 = { style: {\"display\":\"flex\",\"gap\":\"4px\",\"margin\":\"3px 0\",\"padding\":\"4px\",\"background\":\"linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%)\",\"border-radius\":\"4px\",\"flex-wrap\":\"wrap\"} }\nconst _hoisted_41 = {\n  key: 0,\n  style: {\"flex\":\"1 1 calc(50% - 2px)\",\"min-width\":\"130px\"}\n}\nconst _hoisted_42 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"cursor\":\"pointer\",\"user-select\":\"none\",\"gap\":\"12px\"} }\nconst _hoisted_43 = { style: {\"position\":\"relative\",\"display\":\"inline-block\",\"width\":\"44px\",\"height\":\"24px\",\"background\":\"#ccc\",\"border-radius\":\"24px\",\"flex-shrink\":\"0\"} }\nconst _hoisted_44 = {\n  key: 0,\n  style: {\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background\":\"#1976d2\",\"border-radius\":\"24px\",\"pointer-events\":\"none\"}\n}\nconst _hoisted_45 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.85rem\",\"color\":\"#333\",\"font-weight\":\"500\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Is Credit Sale? \"),\n  /*#__PURE__*/_createTextVNode(\" \u0647\u0644 \u0647\u0648 \u0628\u064A\u0639 \u0622\u062C\u0644\u061F \")\n], -1 /* HOISTED */)\nconst _hoisted_46 = {\n  key: 1,\n  style: {\"flex\":\"1 1 calc(50% - 2px)\",\"min-width\":\"130px\"}\n}\nconst _hoisted_47 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"cursor\":\"pointer\",\"user-select\":\"none\",\"gap\":\"12px\"} }\nconst _hoisted_48 = { style: {\"position\":\"relative\",\"display\":\"inline-block\",\"width\":\"44px\",\"height\":\"24px\",\"background\":\"#ccc\",\"border-radius\":\"24px\",\"flex-shrink\":\"0\"} }\nconst _hoisted_49 = {\n  key: 0,\n  style: {\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background\":\"#9c27b0\",\"border-radius\":\"24px\",\"pointer-events\":\"none\"}\n}\nconst _hoisted_50 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.85rem\",\"color\":\"#333\",\"font-weight\":\"500\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Return from Customer Credit \"),\n  /*#__PURE__*/_createTextVNode(\" \u0625\u0631\u062C\u0627\u0639 \u0645\u0646 \u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644 \u0627\u0644\u0622\u062C\u0644 \")\n], -1 /* HOISTED */)\nconst _hoisted_51 = {\n  key: 2,\n  style: {\"flex\":\"1 1 calc(50% - 2px)\",\"min-width\":\"130px\",\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"2px\"}\n}\nconst _hoisted_52 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.6rem\",\"font-weight\":\"600\",\"color\":\"#666\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.3px\",\"margin\":\"0\",\"padding\":\"0 2px\",\"line-height\":\"1\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Due Date \"),\n  /*#__PURE__*/_createTextVNode(\" \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0633\u062A\u062D\u0642\u0627\u0642 \")\n], -1 /* HOISTED */)\nconst _hoisted_53 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"4px\",\"width\":\"100%\"} }\nconst _hoisted_54 = [\"min\"]\nconst _hoisted_55 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"height\":\"1px\",\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t90deg,\\n\\t\\t\\t\\t\\t\\t\\ttransparent 0%,\\n\\t\\t\\t\\t\\t\\t\\t#e0e0e0 50%,\\n\\t\\t\\t\\t\\t\\t\\ttransparent 100%\\n\\t\\t\\t\\t\\t\\t)\",\"margin\":\"4px 0\"} }, null, -1 /* HOISTED */)\nconst _hoisted_56 = { style: {\"background\":\"white\",\"border-radius\":\"12px\",\"overflow\":\"hidden\",\"box-shadow\":\"0 4px 12px rgba(0, 0, 0, 0.1)\"} }\nconst _hoisted_57 = { style: {\"padding\":\"16px\",\"border-bottom\":\"1px solid #e0e0e0\",\"background\":\"#f5f5f5\",\"position\":\"relative\"} }\nconst _hoisted_58 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"1.5rem\",\"font-weight\":\"700\",\"color\":\"#1976d2\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Confirm Phone Number \"),\n  /*#__PURE__*/_createTextVNode(\" \u062A\u0623\u0643\u064A\u062F \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \")\n], -1 /* HOISTED */)\nconst _hoisted_59 = { style: {\"padding\":\"16px\"} }\nconst _hoisted_60 = { style: {\"padding\":\"0\"} }\nconst _hoisted_61 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"4px\",\"width\":\"100%\"} }\nconst _hoisted_62 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"600\",\"color\":\"#555\",\"margin-bottom\":\"2px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Phone Number \"),\n  /*#__PURE__*/_createTextVNode(\" \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \")\n], -1 /* HOISTED */)\nconst _hoisted_63 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\",\"gap\":\"8px\",\"padding\":\"16px\",\"border-top\":\"1px solid #e0e0e0\"} }\nconst _hoisted_64 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, null, -1 /* HOISTED */)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" COMPACT PAYMENTS COMPONENT \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createCommentVNode(\" Fixed Back Button \"),\n      _createElementVNode(\"button\", {\n        style: {\"position\":\"absolute\",\"bottom\":\"12px\",\"right\":\"12px\",\"z-index\":\"1001\",\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"4px\",\"height\":\"26px\",\"padding\":\"0 10px\",\"background\":\"linear-gradient(135deg, #1976d2 0%, #1565c0 100%)\",\"color\":\"white\",\"border\":\"none\",\"border-radius\":\"4px\",\"font-size\":\"0.7rem\",\"font-weight\":\"600\",\"cursor\":\"pointer\",\"box-shadow\":\"0 2px 6px rgba(25, 118, 210, 0.3)\",\"text-transform\":\"uppercase\",\"letter-spacing\":\"0.3px\",\"white-space\":\"nowrap\",\"line-height\":\"1\"},\n        onClick: _cache[0] || (_cache[0] = (...args) => (_ctx.back_to_invoice && _ctx.back_to_invoice(...args))),\n        title: \"\u0631\u062C\u0648\u0639 \u0625\u0644\u0649 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629\"\n      }, [\n        _hoisted_2,\n        _createCommentVNode(\" Back \"),\n        _hoisted_3\n      ]),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createCommentVNode(\" Loading Progress \"),\n        (_ctx.loading)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _hoisted_7))\n          : _createCommentVNode(\"v-if\", true),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createCommentVNode(\" =========================================== \"),\n          _createCommentVNode(\" PAYMENT SUMMARY SECTION \"),\n          _createCommentVNode(\" =========================================== \"),\n          (_ctx.invoice_doc)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                _createCommentVNode(\" Summary Row 1: Four Separate Fields \"),\n                _createElementVNode(\"div\", _hoisted_10, [\n                  _createCommentVNode(\" paid_amount: \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A \"),\n                  _createElementVNode(\"div\", _hoisted_11, [\n                    _hoisted_12,\n                    _createElementVNode(\"div\", _hoisted_13, [\n                      _createElementVNode(\"span\", _hoisted_14, _toDisplayString(_ctx.invoice_doc ? _ctx.currencySymbol(_ctx.invoice_doc.currency) : '') + _toDisplayString(_ctx.formatCurrency(_ctx.paid_amount)), 1 /* TEXT */)\n                    ])\n                  ]),\n                  _createCommentVNode(\" change_amount: \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062A\u0628\u0642\u064A \u0644\u0644\u0639\u0645\u064A\u0644 \"),\n                  _createElementVNode(\"div\", _hoisted_15, [\n                    _hoisted_16,\n                    _createElementVNode(\"div\", {\n                      style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\tpadding: '12px 8px',\n\t\t\t\t\t\t\t\t\tborderRadius: '4px',\n\t\t\t\t\t\t\t\t\tborder:\n\t\t\t\t\t\t\t\t\t\t_ctx.change_amount > 0\n\t\t\t\t\t\t\t\t\t\t\t? '1.5px solid #4caf50'\n\t\t\t\t\t\t\t\t\t\t\t: '1.5px solid #e0e0e0',\n\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t_ctx.change_amount > 0\n\t\t\t\t\t\t\t\t\t\t\t? 'linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)'\n\t\t\t\t\t\t\t\t\t\t\t: 'linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)',\n\t\t\t\t\t\t\t\t\tminHeight: '45px',\n\t\t\t\t\t\t\t\t\tboxShadow:\n\t\t\t\t\t\t\t\t\t\t_ctx.change_amount > 0\n\t\t\t\t\t\t\t\t\t\t\t? '0 1px 3px rgba(76, 175, 80, 0.2)'\n\t\t\t\t\t\t\t\t\t\t\t: '0 1px 3px rgba(0, 0, 0, 0.1)',\n\t\t\t\t\t\t\t\t})\n                    }, [\n                      _createElementVNode(\"span\", {\n                        style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\tfontSize: '1.1rem',\n\t\t\t\t\t\t\t\t\t\tfontWeight: '800',\n\t\t\t\t\t\t\t\t\t\tcolor: _ctx.change_amount > 0 ? '#2e7d32' : '#9e9e9e',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.3px',\n\t\t\t\t\t\t\t\t\t})\n                      }, _toDisplayString(_ctx.invoice_doc ? _ctx.currencySymbol(_ctx.invoice_doc.currency) : '') + _toDisplayString(_ctx.formatCurrency(_ctx.change_amount)), 5 /* TEXT, STYLE */)\n                    ], 4 /* STYLE */)\n                  ]),\n                  _createCommentVNode(\" outstanding_amount: \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062A\u0623\u062E\u0631 \u0639\u0644\u0649 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \"),\n                  _createElementVNode(\"div\", _hoisted_17, [\n                    _hoisted_18,\n                    _createElementVNode(\"div\", {\n                      style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\tpadding: '12px 8px',\n\t\t\t\t\t\t\t\t\tborderRadius: '4px',\n\t\t\t\t\t\t\t\t\tborder:\n\t\t\t\t\t\t\t\t\t\t_ctx.outstanding_amount > 0\n\t\t\t\t\t\t\t\t\t\t\t? '1.5px solid #ff9800'\n\t\t\t\t\t\t\t\t\t\t\t: '1.5px solid #e0e0e0',\n\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t_ctx.outstanding_amount > 0\n\t\t\t\t\t\t\t\t\t\t\t? 'linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)'\n\t\t\t\t\t\t\t\t\t\t\t: 'linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)',\n\t\t\t\t\t\t\t\t\tminHeight: '45px',\n\t\t\t\t\t\t\t\t\tboxShadow:\n\t\t\t\t\t\t\t\t\t\t_ctx.outstanding_amount > 0\n\t\t\t\t\t\t\t\t\t\t\t? '0 1px 3px rgba(255, 152, 0, 0.3)'\n\t\t\t\t\t\t\t\t\t\t\t: '0 1px 3px rgba(0, 0, 0, 0.1)',\n\t\t\t\t\t\t\t\t})\n                    }, [\n                      _createElementVNode(\"span\", {\n                        style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\tfontSize: '1.1rem',\n\t\t\t\t\t\t\t\t\t\tfontWeight: '800',\n\t\t\t\t\t\t\t\t\t\tcolor: _ctx.outstanding_amount > 0 ? '#e65100' : '#9e9e9e',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.3px',\n\t\t\t\t\t\t\t\t\t})\n                      }, _toDisplayString(_ctx.invoice_doc ? _ctx.currencySymbol(_ctx.invoice_doc.currency) : '') + _toDisplayString(_ctx.formatCurrency(_ctx.outstanding_amount)), 5 /* TEXT, STYLE */)\n                    ], 4 /* STYLE */)\n                  ]),\n                  _createCommentVNode(\" customer_outstanding_display: \u0631\u0635\u064A\u062F \u0627\u0644\u0639\u0645\u064A\u0644 \u0627\u0644\u0645\u062A\u0623\u062E\u0631 \"),\n                  _createElementVNode(\"div\", _hoisted_19, [\n                    _hoisted_20,\n                    _createElementVNode(\"div\", {\n                      style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\tpadding: '12px 8px',\n\t\t\t\t\t\t\t\t\tborderRadius: '4px',\n\t\t\t\t\t\t\t\t\tborder:\n\t\t\t\t\t\t\t\t\t\t_ctx.customer_outstanding_display > 0\n\t\t\t\t\t\t\t\t\t\t\t? '1.5px solid #d32f2f'\n\t\t\t\t\t\t\t\t\t\t\t: '1.5px solid #e0e0e0',\n\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t_ctx.customer_outstanding_display > 0\n\t\t\t\t\t\t\t\t\t\t\t? 'linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%)'\n\t\t\t\t\t\t\t\t\t\t\t: 'linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)',\n\t\t\t\t\t\t\t\t\tminHeight: '45px',\n\t\t\t\t\t\t\t\t\tboxShadow:\n\t\t\t\t\t\t\t\t\t\t_ctx.customer_outstanding_display > 0\n\t\t\t\t\t\t\t\t\t\t\t? '0 1px 3px rgba(211, 47, 47, 0.3)'\n\t\t\t\t\t\t\t\t\t\t\t: '0 1px 3px rgba(0, 0, 0, 0.1)',\n\t\t\t\t\t\t\t\t})\n                    }, [\n                      _createElementVNode(\"span\", {\n                        style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\tfontSize: '1.1rem',\n\t\t\t\t\t\t\t\t\t\tfontWeight: '800',\n\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\t_ctx.customer_outstanding_display > 0\n\t\t\t\t\t\t\t\t\t\t\t\t? '#c62828'\n\t\t\t\t\t\t\t\t\t\t\t\t: '#9e9e9e',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.3px',\n\t\t\t\t\t\t\t\t\t})\n                      }, _toDisplayString(_ctx.invoice_doc && _ctx.customer_outstanding_currency\n\t\t\t\t\t\t\t\t\t\t\t? _ctx.currencySymbol(_ctx.customer_outstanding_currency)\n\t\t\t\t\t\t\t\t\t\t\t: _ctx.invoice_doc\n\t\t\t\t\t\t\t\t\t\t\t? _ctx.currencySymbol(_ctx.invoice_doc.currency)\n\t\t\t\t\t\t\t\t\t\t\t: '') + _toDisplayString(_ctx.formatCurrency(_ctx.customer_outstanding_display)), 5 /* TEXT, STYLE */)\n                    ], 4 /* STYLE */)\n                  ])\n                ])\n              ]))\n            : _createCommentVNode(\"v-if\", true),\n          _createCommentVNode(\" Section Divider \"),\n          _hoisted_21,\n          _createCommentVNode(\" =========================================== \"),\n          _createCommentVNode(\" PAYMENT METHODS SECTION \"),\n          _createCommentVNode(\" =========================================== \"),\n          (\n\t\t\t\t\t\t_ctx.invoice_doc && _ctx.invoice_doc.payments && Array.isArray(_ctx.invoice_doc.payments)\n\t\t\t\t\t)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.invoice_doc.payments, (payment) => {\n                  return (_openBlock(), _createElementBlock(\"div\", {\n                    key: payment.name,\n                    style: {\"display\":\"flex\",\"gap\":\"3px\",\"align-items\":\"flex-end\"}\n                  }, [\n                    _createCommentVNode(\" Amount Input \"),\n                    _createElementVNode(\"div\", _hoisted_23, [\n                      _hoisted_24,\n                      _createElementVNode(\"div\", {\n                        style: _normalizeStyle(\n\t\t\t\t\t\t\t\t\t_ctx.is_credit_sale\n\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: '#f5f5f5',\n\t\t\t\t\t\t\t\t\t\t\t\tborder: '1px solid #e0e0e0',\n\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '3px',\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: '1px 4px',\n\t\t\t\t\t\t\t\t\t\t\t\tminHeight: '22px',\n\t\t\t\t\t\t\t\t\t\t\t\topacity: '0.6',\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'white',\n\t\t\t\t\t\t\t\t\t\t\t\tborder: '1px solid #1976d2',\n\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '3px',\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: '1px 4px',\n\t\t\t\t\t\t\t\t\t\t\t\tminHeight: '22px',\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t)\n                      }, [\n                        _createElementVNode(\"span\", {\n                          style: _normalizeStyle(\n\t\t\t\t\t\t\t\t\t\t_ctx.is_credit_sale\n\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.6rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: '600',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#9e9e9e',\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginRight: '3px',\n\t\t\t\t\t\t\t\t\t\t\t\t\tflexShrink: '0',\n\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.6rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: '600',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#1976d2',\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginRight: '3px',\n\t\t\t\t\t\t\t\t\t\t\t\t\tflexShrink: '0',\n\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t)\n                        }, _toDisplayString(_ctx.invoice_doc ? _ctx.currencySymbol(_ctx.invoice_doc.currency) : ''), 5 /* TEXT, STYLE */),\n                        _createElementVNode(\"input\", {\n                          id: `mode_of_payment_input_${payment.idx || 0}`,\n                          ref_for: true,\n                          ref: `mode_of_payment_input_${payment.idx || 0}`,\n                          type: \"text\",\n                          value: payment.amount || '',\n                          onChange: $event => {\n\t\t\t\t\t\t\t\t\t\tif (!_ctx.posa_use_customer_credit_switch) {\n\t\t\t\t\t\t\t\t\t\t\t_ctx.handlePaymentAmountChange(payment, $event);\n\t\t\t\t\t\t\t\t\t\t\t_ctx.validate_payment_amount(payment);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n                          onFocus: $event => {\n\t\t\t\t\t\t\t\t\t\tif (!_ctx.posa_use_customer_credit_switch)\n\t\t\t\t\t\t\t\t\t\t\t_ctx.set_rest_amount(payment.idx);\n\t\t\t\t\t\t\t\t\t},\n                          onClick: $event => {\n\t\t\t\t\t\t\t\t\t\tif (!_ctx.posa_use_customer_credit_switch)\n\t\t\t\t\t\t\t\t\t\t\t_ctx.set_rest_amount(payment.idx);\n\t\t\t\t\t\t\t\t\t},\n                          readonly: \n\t\t\t\t\t\t\t\t\t\t(_ctx.invoice_doc && _ctx.invoice_doc.is_return && !_ctx.quick_return) ||\n\t\t\t\t\t\t\t\t\t\t_ctx.posa_use_customer_credit_switch\n\t\t\t\t\t\t\t\t\t,\n                          disabled: _ctx.posa_use_customer_credit_switch,\n                          placeholder: \"0.00\",\n                          style: _normalizeStyle(\n\t\t\t\t\t\t\t\t\t\t_ctx.posa_use_customer_credit_switch\n\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: '1',\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.7rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: '700',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#9e9e9e',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: 'right',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: '1px',\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '0',\n\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '1.2',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'not-allowed',\n\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: '1',\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.7rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: '700',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#1976d2',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: 'right',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: '1px',\n\t\t\t\t\t\t\t\t\t\t\t\t\tminWidth: '0',\n\t\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '1.2',\n\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t)\n                        }, null, 44 /* STYLE, PROPS, NEED_HYDRATION */, _hoisted_25)\n                      ], 4 /* STYLE */)\n                    ]),\n                    _createCommentVNode(\" Payment Method Button \"),\n                    _createElementVNode(\"button\", {\n                      id: `mode_of_payment_button_${payment.idx || 0}`,\n                      ref_for: true,\n                      ref: `mode_of_payment_button_${payment.idx || 0}`,\n                      disabled: _ctx.posa_use_customer_credit_switch,\n                      style: _normalizeStyle(\n\t\t\t\t\t\t\t\t_ctx.posa_use_customer_credit_switch\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\tflex:\n\t\t\t\t\t\t\t\t\t\t\t\tpayment.type == 'Phone' &&\n\t\t\t\t\t\t\t\t\t\t\t\tpayment.amount > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\t_ctx.request_payment_field\n\t\t\t\t\t\t\t\t\t\t\t\t\t? '0.7'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: '1',\n\t\t\t\t\t\t\t\t\t\t\theight: '22px',\n\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: '3px',\n\t\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t\t'linear-gradient(135deg, #e0e0e0 0%, #bdbdbd 100%)',\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#9e9e9e',\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.65rem',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: '600',\n\t\t\t\t\t\t\t\t\t\t\tcursor: 'not-allowed',\n\t\t\t\t\t\t\t\t\t\t\tboxShadow: 'none',\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t\t\t\t\t\t\tpadding: '0 4px',\n\t\t\t\t\t\t\t\t\t\t\topacity: '0.6',\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t\tflex:\n\t\t\t\t\t\t\t\t\t\t\t\tpayment.type == 'Phone' &&\n\t\t\t\t\t\t\t\t\t\t\t\tpayment.amount > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\t_ctx.request_payment_field\n\t\t\t\t\t\t\t\t\t\t\t\t\t? '0.7'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: '1',\n\t\t\t\t\t\t\t\t\t\t\theight: '22px',\n\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: '3px',\n\t\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t\t'linear-gradient(135deg, #1976d2 0%, #1565c0 100%)',\n\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.65rem',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: '600',\n\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t\t\tboxShadow: '0 1px 2px rgba(25, 118, 210, 0.25)',\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t\t\t\t\t\t\tpadding: '0 4px',\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t),\n                      onClick: _withModifiers($event => {\n\t\t\t\t\t\t\t\tif (!_ctx.posa_use_customer_credit_switch) _ctx.set_full_amount(payment.idx);\n\t\t\t\t\t\t\t}, [\"stop\"])\n                    }, _toDisplayString(payment.mode_of_payment), 13 /* TEXT, STYLE, PROPS */, _hoisted_26),\n                    _createCommentVNode(\" Request Button (for Phone) \"),\n                    (\n\t\t\t\t\t\t\t\tpayment.type == 'Phone' &&\n\t\t\t\t\t\t\t\tpayment.amount > 0 &&\n\t\t\t\t\t\t\t\t_ctx.request_payment_field\n\t\t\t\t\t\t\t)\n                      ? (_openBlock(), _createElementBlock(\"button\", {\n                          key: 0,\n                          disabled: payment.amount == 0 || _ctx.is_credit_sale,\n                          onClick: $event => {\n\t\t\t\t\t\t\t\tif (!_ctx.is_credit_sale) {\n\t\t\t\t\t\t\t\t\t_ctx.phone_dialog = true;\n\t\t\t\t\t\t\t\t\tpayment.amount = _ctx.flt(payment.amount, 0);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n                          style: _normalizeStyle(\n\t\t\t\t\t\t\t\t_ctx.is_credit_sale || payment.amount == 0\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\tflex: '0.4',\n\t\t\t\t\t\t\t\t\t\t\theight: '22px',\n\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: '3px',\n\t\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t\t'linear-gradient(135deg, #e0e0e0 0%, #bdbdbd 100%)',\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#9e9e9e',\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.65rem',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: '600',\n\t\t\t\t\t\t\t\t\t\t\tcursor: 'not-allowed',\n\t\t\t\t\t\t\t\t\t\t\tboxShadow: 'none',\n\t\t\t\t\t\t\t\t\t\t\topacity: '0.6',\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t\tflex: '0.4',\n\t\t\t\t\t\t\t\t\t\t\theight: '22px',\n\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: '3px',\n\t\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t\t'linear-gradient(135deg, #4caf50 0%, #388e3c 100%)',\n\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.65rem',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: '600',\n\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t\t\tboxShadow: '0 1px 2px rgba(76, 175, 80, 0.25)',\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t)\n                        }, [\n                          _createCommentVNode(\" Request \"),\n                          _createTextVNode(\" \u0637\u0644\u0628 \")\n                        ], 12 /* STYLE, PROPS */, _hoisted_27))\n                      : _createCommentVNode(\"v-if\", true)\n                  ]))\n                }), 128 /* KEYED_FRAGMENT */))\n              ]))\n            : _createCommentVNode(\"v-if\", true),\n          _createCommentVNode(\" =========================================== \"),\n          _createCommentVNode(\" LOYALTY POINTS SECTION \"),\n          _createCommentVNode(\" =========================================== \"),\n          (_ctx.invoice_doc && _ctx.available_pioints_amount > 0 && !_ctx.invoice_doc.is_return)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_28, [\n                _createElementVNode(\"div\", _hoisted_29, [\n                  _createCommentVNode(\" Pay from Customer Points \"),\n                  _createElementVNode(\"div\", _hoisted_30, [\n                    _hoisted_31,\n                    _createElementVNode(\"div\", _hoisted_32, [\n                      _createElementVNode(\"span\", _hoisted_33, _toDisplayString(_ctx.invoice_doc ? _ctx.currencySymbol(_ctx.invoice_doc.currency) : ''), 1 /* TEXT */),\n                      _withDirectives(_createElementVNode(\"input\", {\n                        type: \"number\",\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => ((_ctx.loyalty_amount) = $event)),\n                        placeholder: \"0.00\",\n                        style: {\"flex\":\"1\",\"border\":\"none\",\"outline\":\"none\",\"background\":\"transparent\",\"font-size\":\"0.7rem\",\"font-weight\":\"700\",\"color\":\"#1976d2\",\"text-align\":\"right\",\"padding\":\"1px\",\"min-width\":\"0\",\"line-height\":\"1.2\"}\n                      }, null, 512 /* NEED_PATCH */), [\n                        [_vModelText, _ctx.loyalty_amount]\n                      ])\n                    ])\n                  ]),\n                  _createCommentVNode(\" Customer Points Balance \"),\n                  _createElementVNode(\"div\", _hoisted_34, [\n                    _hoisted_35,\n                    _createElementVNode(\"div\", _hoisted_36, [\n                      _createElementVNode(\"span\", _hoisted_37, _toDisplayString(_ctx.invoice_doc ? _ctx.currencySymbol(_ctx.invoice_doc.currency) : ''), 1 /* TEXT */),\n                      _createElementVNode(\"span\", _hoisted_38, _toDisplayString(_ctx.formatFloat(_ctx.available_pioints_amount)), 1 /* TEXT */)\n                    ])\n                  ])\n                ])\n              ]))\n            : _createCommentVNode(\"v-if\", true),\n          _createCommentVNode(\" Section Divider \"),\n          _hoisted_39,\n          _createCommentVNode(\" =========================================== \"),\n          _createCommentVNode(\" OPTIONS SECTION (SWITCHES) \"),\n          _createCommentVNode(\" =========================================== \"),\n          _createElementVNode(\"div\", _hoisted_40, [\n            _createCommentVNode(\" Credit Sale Switch \"),\n            (\n\t\t\t\t\t\t\t_ctx.pos_profile &&\n\t\t\t\t\t\t\t_ctx.pos_profile.posa_allow_credit_sale &&\n\t\t\t\t\t\t\t_ctx.invoice_doc &&\n\t\t\t\t\t\t\t!_ctx.invoice_doc.is_return\n\t\t\t\t\t\t)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_41, [\n                  _createElementVNode(\"label\", _hoisted_42, [\n                    _withDirectives(_createElementVNode(\"input\", {\n                      type: \"checkbox\",\n                      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => ((_ctx.is_credit_sale) = $event)),\n                      style: {\"position\":\"absolute\",\"opacity\":\"0\",\"width\":\"0\",\"height\":\"0\"}\n                    }, null, 512 /* NEED_PATCH */), [\n                      [_vModelCheckbox, _ctx.is_credit_sale]\n                    ]),\n                    _createElementVNode(\"span\", _hoisted_43, [\n                      _createElementVNode(\"span\", {\n                        style: _normalizeStyle([{\"content\":\"''\",\"position\":\"absolute\",\"height\":\"18px\",\"width\":\"18px\",\"left\":\"3px\",\"bottom\":\"3px\",\"background\":\"white\",\"border-radius\":\"50%\",\"box-shadow\":\"0 2px 4px rgba(0, 0, 0, 0.2)\"}, \n\t\t\t\t\t\t\t\t\t\t_ctx.is_credit_sale\n\t\t\t\t\t\t\t\t\t\t\t? 'transform: translateX(20px); background: white'\n\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t])\n                      }, null, 4 /* STYLE */),\n                      (_ctx.is_credit_sale)\n                        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_44))\n                        : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _hoisted_45\n                  ])\n                ]))\n              : _createCommentVNode(\"v-if\", true),\n            _createCommentVNode(\" Return from Customer Credit Switch \"),\n            (\n\t\t\t\t\t\t\t_ctx.invoice_doc &&\n\t\t\t\t\t\t\t_ctx.invoice_doc.is_return &&\n\t\t\t\t\t\t\t_ctx.pos_profile &&\n\t\t\t\t\t\t\t_ctx.pos_profile.posa_use_customer_credit == 1\n\t\t\t\t\t\t)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_46, [\n                  _createElementVNode(\"label\", _hoisted_47, [\n                    _withDirectives(_createElementVNode(\"input\", {\n                      type: \"checkbox\",\n                      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => ((_ctx.posa_use_customer_credit_switch) = $event)),\n                      style: {\"position\":\"absolute\",\"opacity\":\"0\",\"width\":\"0\",\"height\":\"0\"}\n                    }, null, 512 /* NEED_PATCH */), [\n                      [_vModelCheckbox, _ctx.posa_use_customer_credit_switch]\n                    ]),\n                    _createElementVNode(\"span\", _hoisted_48, [\n                      _createElementVNode(\"span\", {\n                        style: _normalizeStyle([{\"content\":\"''\",\"position\":\"absolute\",\"height\":\"18px\",\"width\":\"18px\",\"left\":\"3px\",\"bottom\":\"3px\",\"background\":\"white\",\"border-radius\":\"50%\",\"box-shadow\":\"0 2px 4px rgba(0, 0, 0, 0.2)\"}, \n\t\t\t\t\t\t\t\t\t\t_ctx.posa_use_customer_credit_switch\n\t\t\t\t\t\t\t\t\t\t\t? 'transform: translateX(20px); background: white'\n\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t])\n                      }, null, 4 /* STYLE */),\n                      (_ctx.posa_use_customer_credit_switch)\n                        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_49))\n                        : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _hoisted_50\n                  ])\n                ]))\n              : _createCommentVNode(\"v-if\", true),\n            _createCommentVNode(\" Due Date Field \"),\n            (_ctx.is_credit_sale)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_51, [\n                  _hoisted_52,\n                  _createElementVNode(\"div\", _hoisted_53, [\n                    _withDirectives(_createElementVNode(\"input\", {\n                      type: \"date\",\n                      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => ((_ctx.invoice_doc.due_date) = $event)),\n                      min: _ctx.min_date,\n                      placeholder: \"Select date\",\n                      style: {\"width\":\"100%\",\"padding\":\"8px 12px\",\"font-size\":\"0.85rem\",\"color\":\"#333\",\"background\":\"white\",\"border\":\"1px solid #d0d0d0\",\"border-radius\":\"6px\",\"outline\":\"none\",\"cursor\":\"pointer\"}\n                    }, null, 8 /* PROPS */, _hoisted_54), [\n                      [_vModelText, _ctx.invoice_doc.due_date]\n                    ])\n                  ])\n                ]))\n              : _createCommentVNode(\"v-if\", true)\n          ]),\n          _createCommentVNode(\" Section Divider \"),\n          _hoisted_55\n        ])\n      ]),\n      _createCommentVNode(\" =========================================== \"),\n      _createCommentVNode(\" PHONE DIALOG \"),\n      _createCommentVNode(\" =========================================== \"),\n      (_ctx.phone_dialog)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            style: {\"position\":\"fixed\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background\":\"rgba(0, 0, 0, 0.5)\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"z-index\":\"1000\"},\n            onClick: _cache[10] || (_cache[10] = $event => (_ctx.phone_dialog = false))\n          }, [\n            _createElementVNode(\"div\", {\n              style: {\"background\":\"white\",\"border-radius\":\"8px\",\"box-shadow\":\"0 10px 30px rgba(0, 0, 0, 0.3)\",\"max-width\":\"400px\",\"width\":\"90%\",\"max-height\":\"90vh\",\"overflow\":\"hidden\"},\n              onClick: _cache[9] || (_cache[9] = _withModifiers(() => {}, [\"stop\"]))\n            }, [\n              _createElementVNode(\"div\", _hoisted_56, [\n                _createCommentVNode(\" Card Header \"),\n                _createElementVNode(\"div\", _hoisted_57, [\n                  _hoisted_58,\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[5] || (_cache[5] = $event => (_ctx.phone_dialog = false)),\n                    style: {\"position\":\"absolute\",\"top\":\"8px\",\"right\":\"8px\",\"background\":\"none\",\"border\":\"none\",\"font-size\":\"1.5rem\",\"color\":\"#999\",\"cursor\":\"pointer\",\"width\":\"32px\",\"height\":\"32px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"border-radius\":\"50%\"}\n                  }, \" \u00D7 \")\n                ]),\n                _createCommentVNode(\" Card Body \"),\n                _createElementVNode(\"div\", _hoisted_59, [\n                  _createElementVNode(\"div\", _hoisted_60, [\n                    _createElementVNode(\"div\", _hoisted_61, [\n                      _hoisted_62,\n                      _withDirectives(_createElementVNode(\"input\", {\n                        type: \"number\",\n                        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => ((_ctx.invoice_doc.contact_mobile) = $event)),\n                        placeholder: \"\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641\",\n                        style: {\"width\":\"100%\",\"padding\":\"8px 12px\",\"font-size\":\"0.85rem\",\"color\":\"#333\",\"background\":\"white\",\"border\":\"1px solid #d0d0d0\",\"border-radius\":\"6px\",\"outline\":\"none\"}\n                      }, null, 512 /* NEED_PATCH */), [\n                        [_vModelText, _ctx.invoice_doc.contact_mobile]\n                      ])\n                    ])\n                  ])\n                ]),\n                _createCommentVNode(\" Card Footer \"),\n                _createElementVNode(\"div\", _hoisted_63, [\n                  _hoisted_64,\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[7] || (_cache[7] = $event => (_ctx.phone_dialog = false)),\n                    style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"8px 16px\",\"border-radius\":\"4px\",\"font-size\":\"13px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #d32f2f\",\"line-height\":\"1.5\",\"margin\":\"0 4px\",\"background\":\"linear-gradient(135deg, #f44336 0%, #e53935 100%)\",\"color\":\"white\"}\n                  }, [\n                    _createCommentVNode(\" Close \"),\n                    _createTextVNode(\" \u0625\u063A\u0644\u0627\u0642 \")\n                  ]),\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[8] || (_cache[8] = (...args) => (_ctx.request_payment && _ctx.request_payment(...args))),\n                    style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"8px 16px\",\"border-radius\":\"4px\",\"font-size\":\"13px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #1565c0\",\"line-height\":\"1.5\",\"margin\":\"0 4px\",\"background\":\"linear-gradient(135deg, #1976d2 0%, #1e88e5 100%)\",\"color\":\"white\"}\n                  }, [\n                    _createCommentVNode(\" Request \"),\n                    _createTextVNode(\" \u0637\u0644\u0628 \")\n                  ])\n                ])\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n    ])\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"./Payments.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Payments.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/Payments.vue\";export default script;", "// ===== SECTION 1: IMPORTS =====\nimport { evntBus } from \"../../bus\";\nimport format from \"../../format\";\n// Frontend logging: Use console.log/error/warn directly\n\n// CONSTANTS\nconst EVENT_NAMES = {\n  SHOW_OFFERS: \"show_offers\",\n  SHOW_MESSAGE: \"show_mesage\",\n  UPDATE_INVOICE_OFFERS: \"update_invoice_offers\",\n  UPDATE_OFFERS_COUNTERS: \"update_offers_counters\",\n  REGISTER_POS_PROFILE: \"register_pos_profile\",\n  UPDATE_CUSTOMER: \"update_customer\",\n  SET_OFFERS: \"set_offers\",\n  UPDATE_POS_OFFERS: \"update_pos_offers\",\n  UPDATE_DISCOUNT_PERCENTAGE_OFFER_NAME:\n    \"update_discount_percentage_offer_name\",\n  SET_ALL_ITEMS: \"set_all_items\",\n};\n\nconst OFFER_TYPES = {\n  GRAND_TOTAL: \"Grand Total\",\n  GIVE_PRODUCT: \"Give Product\",\n};\n\nconst APPLY_TYPES = {\n  ITEM_CODE: \"Item Code\",\n  ITEM_GROUP: \"Item Group\",\n};\n\nconst ITEMS_HEADERS = [\n  { title: \"\u0627\u0644\u0627\u0633\u0645\", key: \"name\", align: \"start\" },\n  { title: \"\u064A\u0637\u0628\u0642 \u0639\u0644\u0649\", key: \"apply_on\", align: \"start\" },\n  { title: \"\u0627\u0644\u0639\u0631\u0636\", key: \"offer\", align: \"start\" },\n  { title: \"\u0645\u0637\u0628\u0642\", key: \"offer_applied\", align: \"start\" },\n];\n\n// ===== SECTION 2: EXPORT DEFAULT =====\nexport default {\n  mixins: [format],\n\n  // ===== SECTION 3: DATA =====\n  data() {\n    return {\n      loading: false,\n      pos_profile: \"\",\n      pos_offers: [],\n      allItems: [],\n      discount_percentage_offer_name: null,\n      itemsPerPage: 1000,\n      expanded: [],\n      singleExpand: true,\n      items_headers: ITEMS_HEADERS,\n    };\n  },\n\n  // ===== SECTION 4: COMPUTED =====\n  computed: {\n    offersEnabled() {\n      const value = this.pos_profile?.posa_auto_fetch_offers;\n\n      const enabled =\n        value !== 0 &&\n        value !== \"0\" &&\n        value !== false &&\n        value !== null &&\n        value !== undefined;\n\n      return enabled;\n    },\n    offersCount() {\n      return this.pos_offers.length;\n    },\n    appliedOffersCount() {\n      return this.pos_offers.filter((el) => el.offer_applied).length;\n    },\n  },\n\n  // ===== SECTION 5: METHODS =====\n  methods: {\n    back_to_invoice() {\n      evntBus.emit(EVENT_NAMES.SHOW_OFFERS, \"false\");\n    },\n\n    handleOfferToggle() {\n      this.pos_offers = [...this.pos_offers];\n      this.handleManualOfferChange();\n    },\n\n    toggleOffer(offer) {\n      // Skip if offer is disabled\n      if (this.isOfferDisabled(offer)) {\n        return;\n      }\n\n      // Trigger handleOfferToggle to update local state\n      this.handleOfferToggle();\n\n      // Create a normalized offer object with all necessary fields for Invoice.js\n      const normalizedOffer = {\n        ...offer,\n        name: offer.name || offer.offer_name,\n        offer_name: offer.offer_name || offer.name,\n        // Ensure offer_type is set for Invoice.js logic\n        offer_type: offer.offer_type || this.inferOfferType(offer),\n      };\n\n      // Emit based on current state (v-model already updated offer_applied)\n      if (offer.offer_applied) {\n        this.$emit(\"offerApplied\", normalizedOffer);\n      } else {\n        // Pass the normalized offer object so Invoice.js knows which offer was removed\n        this.$emit(\"offerRemoved\", normalizedOffer);\n      }\n    },\n\n    inferOfferType(offer) {\n      // Infer offer_type from other fields if not present\n      // This handles cases where backend uses different field naming\n\n      if (offer.item_code) return \"item_code\";\n      if (offer.item_group) return \"item_group\";\n      if (offer.brand) return \"brand\";\n      if (offer.customer) return \"customer\";\n      if (offer.customer_group) return \"customer_group\";\n\n      // Check legacy 'offer' field (e.g., \"Grand Total\")\n      if (offer.offer === \"Grand Total\" || offer.apply_on === \"Grand Total\") {\n        return \"grand_total\";\n      }\n\n      // Default to grand_total for transaction-level offers\n      return \"grand_total\";\n    },\n\n    isOfferDisabled(offer) {\n      return Boolean(\n        (offer.offer_type === \"Give Product\" &&\n          !offer.give_item &&\n          (!offer.replace_cheapest_item || !offer.replace_item)) ||\n          (offer.offer_type === \"Grand Total\" &&\n            this.discount_percentage_offer_name &&\n            this.discount_percentage_offer_name !== offer.name)\n      );\n    },\n\n    truncateName(name, maxLength) {\n      return name && name.length > maxLength\n        ? name.substring(0, maxLength) + \"...\"\n        : name;\n    },\n\n    handleImageError(event) {\n      event.target.src =\n        \"/assets/posawesome/js/posapp/components/pos/placeholder-image.png\";\n    },\n\n    handleManualOfferChange() {\n      try {\n        const appliedGrandTotalOffers = this.pos_offers.filter(\n          (offer) =>\n            offer.offer === OFFER_TYPES.GRAND_TOTAL && offer.offer_applied\n        );\n\n        if (appliedGrandTotalOffers.length > 1) {\n          this.applyBestGrandTotalOffer();\n        } else if (appliedGrandTotalOffers.length === 1) {\n          this.discount_percentage_offer_name = appliedGrandTotalOffers[0].name;\n          this.pos_offers.forEach((offer) => {\n            if (\n              offer.offer === OFFER_TYPES.GRAND_TOTAL &&\n              offer.name !== appliedGrandTotalOffers[0].name\n            ) {\n              offer.offer_applied = false;\n            }\n          });\n        } else {\n          this.discount_percentage_offer_name = null;\n        }\n      } catch (error) {\n        console.log(\"[PosOffers.js] handleManualOfferChange error:\", error);\n        this.showMessage(\"\u062E\u0637\u0623 \u0641\u064A \u0645\u0639\u0627\u0644\u062C\u0629 \u062A\u063A\u064A\u064A\u0631 \u0627\u0644\u0639\u0631\u0636\", \"error\");\n      }\n    },\n\n    makeid(length) {\n      const characters = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n      return Array.from({ length }, () =>\n        characters.charAt(Math.floor(Math.random() * characters.length))\n      ).join(\"\");\n    },\n\n    updatePosOffers(appliedOffers) {\n      try {\n        this.pos_offers.forEach((pos_offer) => {\n          const wasApplied = pos_offer.offer_applied;\n          pos_offer.offer_applied = appliedOffers.some(\n            (offer) =>\n              offer.name === pos_offer.name ||\n              offer.offer_name === pos_offer.name ||\n              offer.name === pos_offer.title\n          );\n        });\n      } catch (error) {\n        console.log(\"[PosOffers.js] updatePosOffers error:\", error);\n      }\n    },\n\n    applyBestGrandTotalOffer() {\n      try {\n        const grandTotalOffers = this.pos_offers.filter(\n          (offer) => offer.offer === OFFER_TYPES.GRAND_TOTAL\n        );\n\n        if (grandTotalOffers.length === 0) return;\n\n        if (grandTotalOffers.length > 1) {\n          grandTotalOffers.sort((a, b) => {\n            const discountA = parseFloat(a.discount_percentage || 0);\n            const discountB = parseFloat(b.discount_percentage || 0);\n            return discountB - discountA;\n          });\n\n          grandTotalOffers.forEach((offer) => (offer.offer_applied = false));\n          grandTotalOffers[0].offer_applied = true;\n          this.discount_percentage_offer_name = grandTotalOffers[0].name;\n          // Best offer applied\n          this.showMessage(\n            \"\u062A\u0645 \u062A\u0637\u0628\u064A\u0642 \u0623\u0641\u0636\u0644 \u0639\u0631\u0636: \" + grandTotalOffers[0].name,\n            \"success\"\n          );\n        } else {\n          grandTotalOffers[0].offer_applied = true;\n          this.discount_percentage_offer_name = grandTotalOffers[0].name;\n        }\n      } catch (error) {\n        console.log(\"[PosOffers.js] applyBestOffer error:\", error);\n        this.showMessage(\"\u062E\u0637\u0623 \u0641\u064A \u062A\u0637\u0628\u064A\u0642 \u0623\u0641\u0636\u0644 \u0639\u0631\u0636\", \"error\");\n      }\n    },\n\n    removeOffers(offers_id_list) {\n      try {\n        this.pos_offers = this.pos_offers.filter(\n          (offer) => !offers_id_list.includes(offer.name || offer.offer_name)\n        );\n      } catch (error) {\n        console.log(\"[PosOffers.js] removeAllOffers error:\", error);\n        this.showMessage(\"\u062E\u0637\u0623 \u0641\u064A \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0639\u0631\u0648\u0636\", \"error\");\n      }\n    },\n\n    handelOffers() {\n      try {\n        const applyedOffers = this.pos_offers.filter(\n          (offer) => offer.offer_applied\n        );\n        evntBus.emit(EVENT_NAMES.UPDATE_INVOICE_OFFERS, applyedOffers);\n      } catch (error) {\n        console.log(\"[PosOffers.js] processOffers error:\", error);\n        this.showMessage(\"\u062E\u0637\u0623 \u0641\u064A \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0639\u0631\u0648\u0636\", \"error\");\n      }\n    },\n\n    handleNewLine(str) {\n      return str ? str.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\") : \"\";\n    },\n\n    get_give_items(offer) {\n      try {\n        if (offer.apply_type === APPLY_TYPES.ITEM_CODE) {\n          return [offer.apply_item_code];\n        }\n\n        if (offer.apply_type === APPLY_TYPES.ITEM_GROUP) {\n          let filterd_items = this.allItems.filter(\n            (item) => item.item_group === offer.apply_item_group\n          );\n\n          if (offer.less_then > 0) {\n            filterd_items = filterd_items.filter(\n              (item) => item.rate < offer.less_then\n            );\n          }\n\n          return filterd_items;\n        }\n\n        return [];\n      } catch (error) {\n        console.log(\"[PosOffers.js] getFreeItems error:\", error);\n        this.showMessage(\"\u062E\u0637\u0623 \u0641\u064A \u062C\u0644\u0628 \u0627\u0644\u0623\u0635\u0646\u0627\u0641 \u0627\u0644\u0645\u062C\u0627\u0646\u064A\u0629\", \"error\");\n        return [];\n      }\n    },\n\n    updateCounters() {\n      try {\n        evntBus.emit(EVENT_NAMES.UPDATE_OFFERS_COUNTERS, {\n          offersCount: this.offersCount,\n          appliedOffersCount: this.appliedOffersCount,\n        });\n      } catch (error) {\n        console.log(\"[PosOffers.js] updateCounters error:\", error);\n        this.showMessage(\"\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0639\u062F\u0627\u062F\u0627\u062A\", \"error\");\n      }\n    },\n\n    showMessage(text, color) {\n      evntBus.emit(EVENT_NAMES.SHOW_MESSAGE, { text, color });\n    },\n  },\n\n  // ===== SECTION 6: WATCH =====\n  watch: {\n    pos_offers: {\n      deep: true,\n      handler() {\n        this.handelOffers();\n        this.updateCounters();\n      },\n    },\n  },\n\n  // ===== SECTION 7: CREATED =====\n  created() {\n    this.$nextTick(() => {\n      evntBus.on(EVENT_NAMES.REGISTER_POS_PROFILE, (data) => {\n        this.pos_profile = data.pos_profile;\n      });\n\n      evntBus.on(EVENT_NAMES.UPDATE_CUSTOMER, (customer) => {\n        if (this.customer !== customer) {\n          this.offers = [];\n        }\n      });\n\n      evntBus.on(EVENT_NAMES.SET_OFFERS, (data) => {\n        this.pos_offers = data.map((offer) => ({\n          ...offer,\n          offer_applied: !!offer.auto,\n        }));\n      });\n\n      evntBus.on(EVENT_NAMES.UPDATE_POS_OFFERS, (data) => {\n        this.updatePosOffers(data);\n      });\n\n      evntBus.on(EVENT_NAMES.UPDATE_DISCOUNT_PERCENTAGE_OFFER_NAME, (data) => {\n        this.discount_percentage_offer_name = data.value;\n      });\n\n      evntBus.on(EVENT_NAMES.SET_ALL_ITEMS, (data) => {\n        this.allItems = data;\n      });\n\n      evntBus.on(\"reset_manual_offers\", () => {\n        // Reset all manual offers to false (but keep auto offers if any)\n        this.pos_offers = this.pos_offers.map((offer) => ({\n          ...offer,\n          offer_applied: !!offer.auto, // Only keep auto-applied offers\n        }));\n      });\n    });\n  },\n\n  beforeDestroy() {\n    // Clean up all event listeners\n    evntBus.$off(EVENT_NAMES.REGISTER_POS_PROFILE);\n    evntBus.$off(EVENT_NAMES.UPDATE_CUSTOMER);\n    evntBus.$off(EVENT_NAMES.SET_OFFERS);\n    evntBus.$off(EVENT_NAMES.UPDATE_POS_OFFERS);\n    evntBus.$off(EVENT_NAMES.UPDATE_DISCOUNT_PERCENTAGE_OFFER_NAME);\n    evntBus.$off(EVENT_NAMES.SET_ALL_ITEMS);\n  },\n};\n", "import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"height\":\"91vh\",\"background\":\"#f8f9fa\"}\n}\nconst _hoisted_2 = { style: {\"background\":\"linear-gradient(135deg, #1976d2 0%, #1565c0 100%)\",\"padding\":\"8px 12px\",\"box-shadow\":\"0 2px 8px rgba(0, 0, 0, 0.15)\",\"z-index\":\"10\"} }\nconst _hoisted_3 = { style: {\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"} }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"6px\"} }, [\n  /*#__PURE__*/_createElementVNode(\"i\", {\n    class: \"mdi mdi-tag-multiple\",\n    style: {\"color\":\"white\",\"font-size\":\"22px\"}\n  }),\n  /*#__PURE__*/_createElementVNode(\"h2\", { style: {\"color\":\"white\",\"font-size\":\"1rem\",\"font-weight\":\"600\",\"margin\":\"0\",\"letter-spacing\":\"0.3px\"} }, [\n    /*#__PURE__*/_createCommentVNode(\" Special Offers Total \"),\n    /*#__PURE__*/_createTextVNode(\" \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0639\u0631\u0648\u0636 \u0627\u0644\u062E\u0627\u0635\u0629 \")\n  ])\n], -1 /* HOISTED */)\nconst _hoisted_5 = { style: {\"display\":\"flex\",\"gap\":\"6px\"} }\nconst _hoisted_6 = { style: {\"background\":\"rgba(255, 255, 255, 0.2)\",\"border-radius\":\"16px\",\"padding\":\"3px 10px\",\"display\":\"flex\",\"gap\":\"6px\",\"align-items\":\"center\",\"min-width\":\"50px\",\"backdrop-filter\":\"blur(10px)\"} }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.6rem\",\"color\":\"rgba(255, 255, 255, 0.9)\",\"text-transform\":\"uppercase\",\"font-weight\":\"500\",\"line-height\":\"1\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Total \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \")\n], -1 /* HOISTED */)\nconst _hoisted_8 = { style: {\"font-size\":\"0.6rem\",\"color\":\"white\",\"font-weight\":\"700\",\"line-height\":\"1\"} }\nconst _hoisted_9 = { style: {\"background\":\"rgba(76, 175, 80, 0.9)\",\"border-radius\":\"16px\",\"padding\":\"3px 10px\",\"display\":\"flex\",\"gap\":\"6px\",\"align-items\":\"center\",\"min-width\":\"50px\"} }\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.6rem\",\"color\":\"rgba(255, 255, 255, 0.9)\",\"text-transform\":\"uppercase\",\"font-weight\":\"500\",\"line-height\":\"1\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Active \"),\n  /*#__PURE__*/_createTextVNode(\" \u0645\u0641\u0639\u0644 \")\n], -1 /* HOISTED */)\nconst _hoisted_11 = { style: {\"font-size\":\"0.6rem\",\"color\":\"white\",\"font-weight\":\"700\",\"line-height\":\"1\"} }\nconst _hoisted_12 = { style: {\"flex\":\"1\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\",\"padding\":\"8px\",\"display\":\"grid\",\"grid-template-columns\":\"repeat(auto-fill, minmax(130px, 1fr))\",\"gap\":\"8px\",\"align-content\":\"start\"} }\nconst _hoisted_13 = { style: {\"position\":\"relative\",\"height\":\"70px\",\"overflow\":\"hidden\"} }\nconst _hoisted_14 = [\"src\"]\nconst _hoisted_15 = { style: {\"position\":\"absolute\",\"bottom\":\"0\",\"left\":\"0\",\"right\":\"0\",\"background\":\"linear-gradient(\\n                  to top,\\n                  rgba(0, 0, 0, 0.8),\\n                  transparent\\n                )\",\"padding\":\"4px 6px 3px\"} }\nconst _hoisted_16 = { style: {\"color\":\"white\",\"font-size\":\"0.65rem\",\"font-weight\":\"600\",\"text-shadow\":\"0 1px 3px rgba(0, 0, 0, 0.5)\",\"line-height\":\"1.2\"} }\nconst _hoisted_17 = {\n  key: 0,\n  style: {\"position\":\"absolute\",\"top\":\"4px\",\"right\":\"4px\",\"background\":\"linear-gradient(135deg, #4caf50 0%, #45a049 100%)\",\"color\":\"white\",\"padding\":\"2px 6px\",\"border-radius\":\"10px\",\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"2px\",\"font-size\":\"0.6rem\",\"font-weight\":\"600\",\"box-shadow\":\"0 2px 6px rgba(0, 0, 0, 0.3)\"}\n}\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-check-circle\",\n  style: {\"color\":\"white\",\"font-size\":\"14px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"span\", null, \"\u0645\u0641\u0639\u0644\", -1 /* HOISTED */)\nconst _hoisted_20 = { style: {\"padding\":\"6px\",\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"5px\",\"flex\":\"1\"} }\nconst _hoisted_21 = { style: {\"flex\":\"1\"} }\nconst _hoisted_22 = {\n  key: 0,\n  style: {\"display\":\"flex\",\"align-items\":\"baseline\",\"gap\":\"3px\",\"padding\":\"3px 0\"}\n}\nconst _hoisted_23 = { style: {\"font-size\":\"1.1rem\",\"font-weight\":\"700\",\"color\":\"#1976d2\",\"line-height\":\"1\"} }\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.6rem\",\"color\":\"#666\",\"text-transform\":\"uppercase\",\"font-weight\":\"600\",\"letter-spacing\":\"0.3px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" OFF \"),\n  /*#__PURE__*/_createTextVNode(\" \u062E\u0635\u0645 \")\n], -1 /* HOISTED */)\nconst _hoisted_25 = {\n  key: 1,\n  style: {\"display\":\"flex\",\"align-items\":\"baseline\",\"gap\":\"3px\",\"padding\":\"3px 0\"}\n}\nconst _hoisted_26 = { style: {\"font-size\":\"1.1rem\",\"font-weight\":\"700\",\"color\":\"#1976d2\",\"line-height\":\"1\"} }\nconst _hoisted_27 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.6rem\",\"color\":\"#666\",\"text-transform\":\"uppercase\",\"font-weight\":\"600\",\"letter-spacing\":\"0.3px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" OFF \"),\n  /*#__PURE__*/_createTextVNode(\" \u062E\u0635\u0645 \")\n], -1 /* HOISTED */)\nconst _hoisted_28 = {\n  key: 2,\n  style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"4px\",\"padding\":\"3px 0\"}\n}\nconst _hoisted_29 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-gift\",\n  style: {\"color\":\"#4caf50\",\"font-size\":\"18px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_30 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"0.6rem\",\"color\":\"#666\",\"text-transform\":\"uppercase\",\"font-weight\":\"600\",\"letter-spacing\":\"0.3px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Special Offer \"),\n  /*#__PURE__*/_createTextVNode(\" \u0639\u0631\u0636 \u062E\u0627\u0635 \")\n], -1 /* HOISTED */)\nconst _hoisted_31 = [\n  _hoisted_29,\n  _hoisted_30\n]\nconst _hoisted_32 = {\n  key: 0,\n  style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"3px\",\"background\":\"rgba(255, 152, 0, 0.1)\",\"padding\":\"3px 5px\",\"border-radius\":\"4px\",\"font-size\":\"0.6rem\",\"color\":\"#f57c00\",\"border-left\":\"2px solid #ff9800\"}\n}\nconst _hoisted_33 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-alert-circle\",\n  style: {\"color\":\"#ff9800\",\"font-size\":\"12px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_34 = /*#__PURE__*/_createElementVNode(\"span\", null, \"\u0639\u0631\u0636 \u0622\u062E\u0631 \u0646\u0634\u0637\", -1 /* HOISTED */)\nconst _hoisted_35 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"space-between\",\"padding\":\"4px 0 0\",\"border-top\":\"1px solid #f0f0f0\"} }\nconst _hoisted_36 = { style: {\"position\":\"relative\",\"display\":\"inline-block\",\"width\":\"32px\",\"height\":\"16px\",\"flex-shrink\":\"0\"} }\nconst _hoisted_37 = [\"onUpdate:modelValue\", \"onChange\", \"disabled\"]\nconst _hoisted_38 = { style: {\"position\":\"absolute\",\"cursor\":\"pointer\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background-color\":\"#ccc\",\"border-radius\":\"20px\"} }\nconst _hoisted_39 = { style: {\"font-size\":\"0.65rem\",\"font-weight\":\"600\",\"color\":\"#666\",\"margin-left\":\"8px\"} }\nconst _hoisted_40 = { style: {\"padding\":\"8px 12px\",\"background\":\"white\",\"box-shadow\":\"0 -2px 8px rgba(0, 0, 0, 0.08)\",\"z-index\":\"10\"} }\nconst _hoisted_41 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-arrow-left\",\n  style: {\"font-size\":\"18px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_42 = /*#__PURE__*/_createElementVNode(\"span\", null, \"\u0631\u062C\u0648\u0639 \u0625\u0644\u0649 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629\", -1 /* HOISTED */)\nconst _hoisted_43 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"height\":\"91vh\",\"background\":\"#f8f9fa\",\"align-items\":\"center\",\"justify-content\":\"center\"} }\nconst _hoisted_44 = { style: {\"text-align\":\"center\",\"padding\":\"40px\",\"background\":\"white\",\"border-radius\":\"12px\",\"box-shadow\":\"0 4px 20px rgba(0, 0, 0, 0.1)\",\"max-width\":\"400px\"} }\nconst _hoisted_45 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-tag-off\",\n  style: {\"font-size\":\"48px\",\"color\":\"#ccc\",\"margin-bottom\":\"16px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_46 = /*#__PURE__*/_createElementVNode(\"h3\", { style: {\"color\":\"#666\",\"margin-bottom\":\"8px\",\"font-size\":\"1.2rem\"} }, \" \u0627\u0644\u0639\u0631\u0648\u0636 \u063A\u064A\u0631 \u0645\u0641\u0639\u0644\u0629 \", -1 /* HOISTED */)\nconst _hoisted_47 = /*#__PURE__*/_createElementVNode(\"p\", { style: {\"color\":\"#999\",\"margin-bottom\":\"24px\",\"font-size\":\"0.9rem\"} }, \" \u062A\u0645 \u062A\u0639\u0637\u064A\u0644 \u0627\u0644\u0639\u0631\u0648\u0636 \u0641\u064A \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0645\u0644\u0641 \u0646\u0642\u0627\u0637 \u0627\u0644\u0628\u064A\u0639 \", -1 /* HOISTED */)\nconst _hoisted_48 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-arrow-left\",\n  style: {\"font-size\":\"18px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_49 = /*#__PURE__*/_createElementVNode(\"span\", null, \"\u0631\u062C\u0648\u0639 \u0625\u0644\u0649 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629\", -1 /* HOISTED */)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" POS OFFERS COMPONENT \"),\n    _createCommentVNode(\" =========================================== \"),\n    (_ctx.offersEnabled)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createCommentVNode(\" =========================================== \"),\n          _createCommentVNode(\" HEADER WITH STATS \"),\n          _createCommentVNode(\" =========================================== \"),\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createElementVNode(\"div\", _hoisted_3, [\n              _hoisted_4,\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createCommentVNode(\" Total Badge \"),\n                _createElementVNode(\"div\", _hoisted_6, [\n                  _hoisted_7,\n                  _createElementVNode(\"span\", _hoisted_8, _toDisplayString(_ctx.offersCount), 1 /* TEXT */)\n                ]),\n                _createCommentVNode(\" Active Badge \"),\n                _createElementVNode(\"div\", _hoisted_9, [\n                  _hoisted_10,\n                  _createElementVNode(\"span\", _hoisted_11, _toDisplayString(_ctx.appliedOffersCount), 1 /* TEXT */)\n                ])\n              ])\n            ])\n          ]),\n          _createCommentVNode(\" =========================================== \"),\n          _createCommentVNode(\" OFFERS GRID \"),\n          _createCommentVNode(\" =========================================== \"),\n          _createElementVNode(\"div\", _hoisted_12, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.pos_offers, (offer, idx) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: idx,\n                style: {\"display\":\"flex\"}\n              }, [\n                _createElementVNode(\"div\", {\n                  style: _normalizeStyle([{\"background\":\"white\",\"border-radius\":\"12px\",\"overflow\":\"hidden\",\"box-shadow\":\"0 2px 8px rgba(0, 0, 0, 0.08)\",\"cursor\":\"pointer\",\"display\":\"flex\",\"flex-direction\":\"column\",\"width\":\"100%\",\"border\":\"2px solid transparent\"}, \n            offer.offer_applied\n              ? 'border-color: #4caf50; box-shadow: 0 4px 16px rgba(76, 175, 80, 0.3); background: linear-gradient(135deg, #ffffff 0%, #f1f8f4 100%)'\n              : ''\n          ])\n                }, [\n                  _createCommentVNode(\" =========================================== \"),\n                  _createCommentVNode(\" OFFER IMAGE WITH OVERLAY \"),\n                  _createCommentVNode(\" =========================================== \"),\n                  _createElementVNode(\"div\", _hoisted_13, [\n                    _createElementVNode(\"img\", {\n                      src: \n                offer.image ||\n                '/assets/posawesome/js/posapp/components/pos/placeholder-image.png'\n              ,\n                      onError: _cache[0] || (_cache[0] = (...args) => (_ctx.handleImageError && _ctx.handleImageError(...args))),\n                      style: {\"width\":\"100%\",\"height\":\"100%\",\"object-fit\":\"cover\"}\n                    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_14),\n                    _createCommentVNode(\" Image Overlay \"),\n                    _createElementVNode(\"div\", _hoisted_15, [\n                      _createElementVNode(\"div\", _hoisted_16, _toDisplayString(_ctx.truncateName(offer.name, 15)), 1 /* TEXT */)\n                    ]),\n                    _createCommentVNode(\" Applied Badge \"),\n                    (offer.offer_applied)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n                          _hoisted_18,\n                          _createCommentVNode(\" Active \"),\n                          _hoisted_19\n                        ]))\n                      : _createCommentVNode(\"v-if\", true)\n                  ]),\n                  _createCommentVNode(\" =========================================== \"),\n                  _createCommentVNode(\" OFFER CONTENT \"),\n                  _createCommentVNode(\" =========================================== \"),\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _createCommentVNode(\" Discount Info \"),\n                    _createElementVNode(\"div\", _hoisted_21, [\n                      (offer.discount_percentage)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [\n                            _createElementVNode(\"span\", _hoisted_23, _toDisplayString(offer.discount_percentage) + \"% \", 1 /* TEXT */),\n                            _hoisted_24\n                          ]))\n                        : (offer.discount_amount)\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [\n                              _createElementVNode(\"span\", _hoisted_26, _toDisplayString(_ctx.formatCurrency(offer.discount_amount)), 1 /* TEXT */),\n                              _hoisted_27\n                            ]))\n                          : (_openBlock(), _createElementBlock(\"div\", _hoisted_28, _hoisted_31))\n                    ]),\n                    _createCommentVNode(\" Warning Message \"),\n                    (\n                offer.offer_type === 'Grand Total' &&\n                !offer.offer_applied &&\n                _ctx.discount_percentage_offer_name &&\n                _ctx.discount_percentage_offer_name !== offer.name\n              )\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_32, [\n                          _hoisted_33,\n                          _createCommentVNode(\" Another offer active \"),\n                          _hoisted_34\n                        ]))\n                      : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\" Apply Toggle \"),\n                    _createElementVNode(\"div\", _hoisted_35, [\n                      _createElementVNode(\"label\", _hoisted_36, [\n                        _withDirectives(_createElementVNode(\"input\", {\n                          type: \"checkbox\",\n                          \"onUpdate:modelValue\": $event => ((offer.offer_applied) = $event),\n                          onChange: $event => (_ctx.toggleOffer(offer)),\n                          disabled: _ctx.isOfferDisabled(offer),\n                          style: {\"opacity\":\"0\",\"width\":\"0\",\"height\":\"0\"}\n                        }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_37), [\n                          [_vModelCheckbox, offer.offer_applied]\n                        ]),\n                        _createElementVNode(\"span\", _hoisted_38, [\n                          _createElementVNode(\"span\", {\n                            style: _normalizeStyle([{\"position\":\"absolute\",\"content\":\"''\",\"height\":\"11px\",\"width\":\"11px\",\"left\":\"2.5px\",\"bottom\":\"2.5px\",\"background-color\":\"white\",\"border-radius\":\"50%\",\"box-shadow\":\"0 1px 3px rgba(0, 0, 0, 0.3)\"}, \n                      offer.offer_applied\n                        ? 'transform: translateX(16px); background-color: white'\n                        : ''\n                    ])\n                          }, null, 4 /* STYLE */)\n                        ]),\n                        _createCommentVNode(\" Applied / Apply \"),\n                        _createElementVNode(\"span\", _hoisted_39, _toDisplayString(offer.offer_applied ? \"\u0645\u0637\u0628\u0642\" : \"\u062A\u0637\u0628\u064A\u0642\"), 1 /* TEXT */)\n                      ])\n                    ])\n                  ])\n                ], 4 /* STYLE */)\n              ]))\n            }), 128 /* KEYED_FRAGMENT */))\n          ]),\n          _createCommentVNode(\" =========================================== \"),\n          _createCommentVNode(\" FOOTER \"),\n          _createCommentVNode(\" =========================================== \"),\n          _createElementVNode(\"div\", _hoisted_40, [\n            _createElementVNode(\"button\", {\n              onClick: _cache[1] || (_cache[1] = (...args) => (_ctx.back_to_invoice && _ctx.back_to_invoice(...args))),\n              style: {\"width\":\"100%\",\"background\":\"linear-gradient(135deg, #ff9800 0%, #f57c00 100%)\",\"color\":\"white\",\"border\":\"none\",\"border-radius\":\"6px\",\"padding\":\"6px\",\"font-size\":\"0.85rem\",\"font-weight\":\"600\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"6px\",\"cursor\":\"pointer\",\"box-shadow\":\"0 2px 8px rgba(255, 152, 0, 0.3)\"}\n            }, [\n              _hoisted_41,\n              _createCommentVNode(\" Back to Invoice \"),\n              _hoisted_42\n            ])\n          ])\n        ]))\n      : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          _createCommentVNode(\" =========================================== \"),\n          _createCommentVNode(\" OFFERS DISABLED MESSAGE \"),\n          _createCommentVNode(\" =========================================== \"),\n          _createElementVNode(\"div\", _hoisted_43, [\n            _createElementVNode(\"div\", _hoisted_44, [\n              _hoisted_45,\n              _createCommentVNode(\" Offers Disabled \"),\n              _hoisted_46,\n              _createCommentVNode(\" Offers are disabled in POS Profile settings \"),\n              _hoisted_47,\n              _createElementVNode(\"button\", {\n                onClick: _cache[2] || (_cache[2] = (...args) => (_ctx.back_to_invoice && _ctx.back_to_invoice(...args))),\n                style: {\"width\":\"100%\",\"background\":\"linear-gradient(135deg, #ff9800 0%, #f57c00 100%)\",\"color\":\"white\",\"border\":\"none\",\"border-radius\":\"6px\",\"padding\":\"6px\",\"font-size\":\"0.85rem\",\"font-weight\":\"600\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"gap\":\"6px\",\"cursor\":\"pointer\",\"box-shadow\":\"0 2px 8px rgba(255, 152, 0, 0.3)\"}\n              }, [\n                _hoisted_48,\n                _createCommentVNode(\" Back to Invoice \"),\n                _hoisted_49\n              ])\n            ])\n          ])\n        ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"./PosOffers.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/PosOffers.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/PosOffers.vue\";export default script;", "import { ref, computed, onMounted, onBeforeUnmount } from 'vue';\nimport { evntBus } from '../../bus';\nimport format from '../../format';\nimport { API_MAP } from '../../api_mapper.js';\n\n// Helper function to convert value to float\nfunction flt(value, precision) {\n\tif (value === null || value === undefined || value === '') {\n\t\treturn 0.0;\n\t}\n\tconst num = parseFloat(value);\n\tif (isNaN(num)) {\n\t\treturn 0.0;\n\t}\n\tif (precision !== undefined) {\n\t\treturn parseFloat(num.toFixed(precision));\n\t}\n\treturn num;\n}\n\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n// CONSTANTS\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n/**\n * Event names for bus communication\n */\nconst EVENT_NAMES = {\n\tOPEN_CLOSING_DIALOG: 'open_ClosingDialog',\n\tREGISTER_POS_PROFILE: 'register_pos_profile',\n\tSUBMIT_CLOSING_POS: 'submit_closing_pos',\n\tSTOP_SHIFT_MONITORING: 'stop_shift_monitoring',\n};\n\n/**\n * Payment method icons and colors\n */\nconst PAYMENT_ICONS = {\n\tCash: { icon: 'mdi-cash', color: '#4CAF50' },\n\tCard: { icon: 'mdi-credit-card', color: '#2196F3' },\n\t'Credit Card': { icon: 'mdi-credit-card', color: '#2196F3' },\n\t'Debit Card': { icon: 'mdi-credit-card-outline', color: '#FF9800' },\n\t'Bank Transfer': { icon: 'mdi-bank-transfer', color: '#9C27B0' },\n\t'Mobile Payment': { icon: 'mdi-cellphone', color: '#E91E63' },\n\t'Digital Wallet': { icon: 'mdi-wallet', color: '#00BCD4' },\n\tCheck: { icon: 'mdi-checkbook', color: '#795548' },\n\tVoucher: { icon: 'mdi-ticket', color: '#FF5722' },\n};\n\n/**\n * Default payment icon for unknown methods\n */\nconst DEFAULT_PAYMENT_ICON = { icon: 'mdi-currency-usd', color: '#607D8B' };\n\n/**\n * Table column headers configuration\n */\nconst TABLE_HEADERS = {\n\tPAYMENT_METHOD: {\n\t\ttitle: 'Payment Method',\n\t\tkey: 'mode_of_payment',\n\t\talign: 'start',\n\t\tsortable: true,\n\t},\n\tSYSTEM_TOTAL: {\n\t\ttitle: 'System Total',\n\t\talign: 'end',\n\t\tsortable: true,\n\t\tkey: 'opening_amount',\n\t},\n\tACTUAL_COUNT: {\n\t\ttitle: 'Actual Count',\n\t\tkey: 'closing_amount',\n\t\talign: 'end',\n\t\tsortable: true,\n\t},\n\tEXPECTED_TOTAL: {\n\t\ttitle: 'Expected Total',\n\t\tkey: 'expected_amount',\n\t\talign: 'end',\n\t\tsortable: false,\n\t},\n\tDIFFERENCE: {\n\t\ttitle: 'Difference',\n\t\tkey: 'difference',\n\t\talign: 'end',\n\t\tsortable: false,\n\t},\n};\n\n/**\n * Validation rules\n */\nconst VALIDATION_RULES = {\n\tMAX_CHARS: (v) => v.length <= 20 || 'Input too long!',\n};\n\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n// COMPONENT\n// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\nexport default {\n\tname: 'ClosingDialog',\n\n\tmixins: [format],\n\n\tsetup() {\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// STATE\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\tconst closingDialog = ref(false);\n\t\tconst itemsPerPage = ref(20);\n\t\tconst dialog_data = ref({ payment_reconciliation: [] });\n\t\tconst pos_profile = ref(null);\n\t\tconst headers = ref([\n\t\t\tTABLE_HEADERS.PAYMENT_METHOD,\n\t\t\tTABLE_HEADERS.SYSTEM_TOTAL,\n\t\t\tTABLE_HEADERS.ACTUAL_COUNT,\n\t\t]);\n\n\t\t// Time control\n\t\tconst isClosingAllowed = ref(true);\n\t\tconst closingTimeMessage = ref('');\n\n\t\t/**\n\t\t * Check if all required closing_amount fields are filled\n\t\t * Required: All rows with expected_amount > 0 must have closing_amount filled\n\t\t * Using computed for reactivity\n\t\t */\n\t\tconst isAllRequiredFieldsFilled = computed(() => {\n\t\t\tif (\n\t\t\t\t!dialog_data.value.payment_reconciliation ||\n\t\t\t\t!Array.isArray(dialog_data.value.payment_reconciliation)\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Check if all rows with expected_amount have closing_amount filled\n\t\t\tconst requiredRows = dialog_data.value.payment_reconciliation.filter(\n\t\t\t\t(payment) => payment.expected_amount && flt(payment.expected_amount) > 0,\n\t\t\t);\n\n\t\t\tif (requiredRows.length === 0) {\n\t\t\t\treturn false; // No expected amounts, can't submit\n\t\t\t}\n\n\t\t\t// All required rows must have closing_amount filled (not null, not undefined, not empty, not 0)\n\t\t\treturn requiredRows.every((payment) => {\n\t\t\t\tconst closing = payment.closing_amount;\n\t\t\t\t// Check if closing_amount is valid (not null, not undefined, not empty string, not 0)\n\t\t\t\tif (closing === null || closing === undefined || closing === '' || closing === 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// Convert to number and check if > 0\n\t\t\t\tconst closingNum = parseFloat(closing);\n\t\t\t\treturn !isNaN(closingNum) && closingNum > 0;\n\t\t\t});\n\t\t});\n\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// DIALOG ACTIONS\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\t/**\n\t\t * Close the closing dialog\n\t\t * Resets dialog visibility to false\n\t\t */\n\t\tconst close_dialog = () => {\n\t\t\tclosingDialog.value = false;\n\t\t};\n\n\t\t/**\n\t\t * Submit closing dialog data\n\t\t * Submits closing shift and prints if auto-print is enabled\n\t\t * Similar to invoice submit + print logic\n\t\t */\n\t\tconst submit_dialog = async (event) => {\n\t\t\tconsole.log('[ClosingDialog.js] ===== submit_dialog START =====');\n\t\t\tconsole.log('[ClosingDialog.js] Event:', event);\n\t\t\t\n\t\t\t// Prevent default form submission behavior\n\t\t\tif (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tconsole.log('[ClosingDialog.js] Prevented default event behavior');\n\t\t\t}\n\t\t\t\n\t\t\tconst transactionsCount = dialog_data.value.pos_transactions\n\t\t\t\t? dialog_data.value.pos_transactions.length\n\t\t\t\t: 0;\n\t\t\tconsole.log(\n\t\t\t\t`[ClosingDialog.js] Submitting shift: ${\n\t\t\t\t\tdialog_data.value.pos_opening_shift || 'new'\n\t\t\t\t} transactions: ${transactionsCount}`,\n\t\t\t);\n\n\t\t\t// Get pos_profile - try multiple sources\n\t\t\t// 1. From dialog_data (if available from get_closing_data)\n\t\t\t// 2. From pos_profile.value (from REGISTER_POS_PROFILE event)\n\t\t\t// 3. Fetch from API if only name is available\n\t\t\tlet currentPosProfile = dialog_data.value?.pos_profile || pos_profile.value;\n\t\t\tconsole.log('[ClosingDialog.js] currentPosProfile (initial):', currentPosProfile);\n\t\t\tconsole.log('[ClosingDialog.js] dialog_data.value?.pos_profile:', dialog_data.value?.pos_profile);\n\t\t\tconsole.log('[ClosingDialog.js] pos_profile.value:', pos_profile.value);\n\t\t\t\n\t\t\t// If pos_profile is just a name (string) or doesn't have posa_auto_print_closing_shift, fetch full document\n\t\t\tif (!currentPosProfile || typeof currentPosProfile === 'string' || !currentPosProfile.posa_auto_print_closing_shift) {\n\t\t\t\tconst posProfileName = typeof currentPosProfile === 'string' \n\t\t\t\t\t? currentPosProfile \n\t\t\t\t\t: (currentPosProfile?.name || dialog_data.value?.pos_profile || pos_profile.value?.name);\n\t\t\t\t\n\t\t\t\tif (posProfileName) {\n\t\t\t\t\tconsole.log('[ClosingDialog.js] Fetching full pos_profile from API:', posProfileName);\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst profileResponse = await frappe.call({\n\t\t\t\t\t\t\tmethod: 'frappe.client.get',\n\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\tdoctype: 'POS Profile',\n\t\t\t\t\t\t\t\tname: posProfileName,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcurrentPosProfile = profileResponse.message;\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Fetched pos_profile from API:', currentPosProfile);\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] posa_auto_print_closing_shift:', currentPosProfile?.posa_auto_print_closing_shift);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error('[ClosingDialog.js] Error fetching pos_profile:', err);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Check if auto-print is enabled BEFORE submitting\n\t\t\tconst willAutoPrint = currentPosProfile?.posa_auto_print_closing_shift === 1;\n\t\t\tconsole.log('[ClosingDialog.js] willAutoPrint:', willAutoPrint);\n\t\t\tconsole.log('[ClosingDialog.js] posa_auto_print_closing_shift:', currentPosProfile?.posa_auto_print_closing_shift);\n\t\t\t\n\t\t\t// Note: We don't stop Navbar monitoring anymore\n\t\t\t// Page reload will happen after print window opens, which is fine\n\n\t\t\ttry {\n\t\t\t\tconsole.log('[ClosingDialog.js] Calling API: SUBMIT_CLOSING_SHIFT');\n\t\t\t\t// Submit closing shift\n\t\t\t\tconst response = await frappe.call({\n\t\t\t\t\tmethod: API_MAP.POS_CLOSING_SHIFT.SUBMIT_CLOSING_SHIFT,\n\t\t\t\t\targs: {\n\t\t\t\t\t\tclosing_shift: dialog_data.value,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tconsole.log('[ClosingDialog.js] API response received:', response);\n\t\t\t\tconsole.log('[ClosingDialog.js] response.message:', response.message);\n\t\t\t\tconsole.log('[ClosingDialog.js] response.message?.name:', response.message?.name);\n\n\t\t\t\tif (response.message?.name) {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t`[ClosingDialog.js] submit_dialog success: ${response.message.name}`,\n\t\t\t\t\t);\n\n\t\t\t\t\t// Get pos_profile again (use the one we fetched earlier or current value)\n\t\t\t\t\tconst currentPosProfileForPrint = currentPosProfile || pos_profile.value;\n\t\t\t\t\tconsole.log('[ClosingDialog.js] Using pos_profile for auto-print check:', currentPosProfileForPrint);\n\t\t\t\t\tconsole.log('[ClosingDialog.js] currentPosProfile:', currentPosProfile);\n\t\t\t\t\t\n\t\t\t\t\t// Auto print closing shift if enabled in POS Profile\n\t\t\t\t\tif (\n\t\t\t\t\t\tcurrentPosProfileForPrint?.posa_auto_print_closing_shift === 1 &&\n\t\t\t\t\t\tresponse.message.name\n\t\t\t\t\t) {\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Auto-print condition met - preparing to print');\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Stop Navbar.js shift monitoring to prevent it from reloading the page before our setTimeout\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Stopping Navbar.js shift monitoring...');\n\t\t\t\t\t\tevntBus.emit(EVENT_NAMES.STOP_SHIFT_MONITORING);\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] STOP_SHIFT_MONITORING event emitted');\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst print_format =\n\t\t\t\t\t\t\tcurrentPosProfileForPrint?.posa_closing_shift_print_format || '';\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Print format:', print_format);\n\n\t\t\t\t\t\t// Open print window directly\n\t\t\t\t\t\tconst print_url = frappe.urllib.get_full_url(\n\t\t\t\t\t\t\t`/printview?doctype=POS%20Closing%20Shift&name=${response.message.name}&format=${print_format}&trigger_print=1&no_letterhead=0`,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Print URL:', print_url);\n\n\t\t\t\t\t\t// Open print window first\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Opening print window...');\n\t\t\t\t\t\tconst printWindow = window.open(print_url);\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] printWindow object:', printWindow);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Close dialog after print window opens\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Closing dialog...');\n\t\t\t\t\t\tclosingDialog.value = false;\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Dialog closed, closingDialog.value:', closingDialog.value);\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] ===== AFTER DIALOG CLOSED, BEFORE SETTIMEOUT =====');\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Reload page after print window opens (in background)\n\t\t\t\t\t\t// Give print window 3 seconds to start loading, then reload\n\t\t\t\t\t\t// Note: Using 3 seconds to ensure reload happens before Navbar.js detects closed shift (which reloads after 2 seconds)\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] ===== BEFORE SETTIMEOUT =====');\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Setting timeout for page reload (3 seconds)...');\n\t\t\t\t\t\tconst reloadTimeout = setTimeout(() => {\n\t\t\t\t\t\t\tconsole.log('[ClosingDialog.js] ===== INSIDE SETTIMEOUT =====');\n\t\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Timeout fired - Reloading page after auto-print...');\n\t\t\t\t\t\t\tif (window.clearCacheAndReload) {\n\t\t\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Using clearCacheAndReload...');\n\t\t\t\t\t\t\t\twindow.clearCacheAndReload();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Using location.reload()...');\n\t\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 3000); // 3 seconds delay to allow print window to start loading and reload before Navbar.js\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] ===== AFTER SETTIMEOUT =====');\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] setTimeout ID:', reloadTimeout);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Auto-print NOT enabled - closing dialog and emitting event immediately');\n\t\t\t\t\t\t// No auto-print - close dialog and emit event immediately\n\t\t\t\t\t\tclosingDialog.value = false;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Emit event to notify Pos.js that closing was successful\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] Emitting SUBMIT_CLOSING_POS event (no auto-print)');\n\t\t\t\t\t\tevntBus.emit(EVENT_NAMES.SUBMIT_CLOSING_POS, {\n\t\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\t\tclosing_shift_name: response.message.name,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconsole.log('[ClosingDialog.js] SUBMIT_CLOSING_POS event emitted');\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log('[ClosingDialog.js] ===== submit_dialog END (success) =====');\n\t\t\t\t} else {\n\t\t\t\t\t// Failed to close cashier shift\n\t\t\t\t\tfrappe.show_alert({\n\t\t\t\t\t\tmessage: '\u0641\u0634\u0644 \u0625\u063A\u0644\u0627\u0642 \u0648\u0631\u062F\u064A\u0629 \u0627\u0644\u0635\u0631\u0627\u0641',\n\t\t\t\t\t\tindicator: 'red',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t`[ClosingDialog.js] submit_dialog error: ${error.message || error}`,\n\t\t\t\t);\n\t\t\t\tconsole.error('[ClosingDialog.js] Error stack:', error.stack);\n\t\t\t\tconsole.log('[ClosingDialog.js] ===== submit_dialog END (error) =====');\n\t\t\t\tfrappe.show_alert({\n\t\t\t\t\tmessage: '\u0641\u0634\u0644 \u0625\u063A\u0644\u0627\u0642 \u0648\u0631\u062F\u064A\u0629 \u0627\u0644\u0635\u0631\u0627\u0641',\n\t\t\t\t\tindicator: 'red',\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// HELPER METHODS\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\t/**\n\t\t * Get payment method icon and color\n\t\t * @param {string} paymentMethod - Payment method name\n\t\t * @returns {Object} Icon configuration with icon name and color\n\t\t */\n\t\tconst getPaymentIcon = (paymentMethod) => {\n\t\t\tconst method = Object.keys(PAYMENT_ICONS).find((key) =>\n\t\t\t\tpaymentMethod.toLowerCase().includes(key.toLowerCase()),\n\t\t\t);\n\n\t\t\treturn method ? PAYMENT_ICONS[method] : DEFAULT_PAYMENT_ICON;\n\t\t};\n\n\t\t/**\n\t\t * Get CSS class for difference amount\n\t\t * @param {number} difference - Difference value\n\t\t * @returns {string} CSS class name\n\t\t */\n\t\tconst getDifferenceClass = (difference) => {\n\t\t\tif (difference > 0) return 'positive-diff';\n\t\t\tif (difference < 0) return 'negative-diff';\n\t\t\treturn 'zero-diff';\n\t\t};\n\n\t\t/**\n\t\t * Update difference when closing_amount changes\n\t\t * @param {Object} payment - Payment reconciliation item\n\t\t */\n\t\tconst updateDifference = (payment) => {\n\t\t\tif (payment) {\n\t\t\t\tpayment.difference =\n\t\t\t\t\tflt(payment.closing_amount || 0) - flt(payment.expected_amount || 0);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Check if closing POS is allowed based on time controls\n\t\t * Validates against configured closing time window if enabled\n\t\t */\n\t\tconst checkClosingTimeAllowed = () => {\n\t\t\tif (!pos_profile.value?.name) {\n\t\t\t\tisClosingAllowed.value = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Call server-side whitelist function\n\t\t\tfrappe.call({\n\t\t\t\tmethod: API_MAP.POS_CLOSING_SHIFT.CHECK_CLOSING_TIME_ALLOWED,\n\t\t\t\targs: {\n\t\t\t\t\tpos_profile: pos_profile.value.name,\n\t\t\t\t},\n\t\t\t\tcallback: function (r) {\n\t\t\t\t\tif (r.message) {\n\t\t\t\t\t\tisClosingAllowed.value = r.message.allowed;\n\t\t\t\t\t\tif (!r.message.allowed) {\n\t\t\t\t\t\t\tclosingTimeMessage.value = r.message.message;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisClosingAllowed.value = false;\n\t\t\t\t\t\t// Error checking closing time permissions\n\t\t\t\t\t\tclosingTimeMessage.value = '\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0623\u0630\u0648\u0646\u0627\u062A \u0648\u0642\u062A \u0627\u0644\u0625\u063A\u0644\u0627\u0642';\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t}; // \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// EVENT HANDLERS\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\t/**\n\t\t * Handle opening closing dialog event\n\t\t * @param {Object} data - Payment reconciliation data\n\t\t */\n\t\tconst openClosingDialogHandler = (data) => {\n\t\t\tconst transactionsCount = data.pos_transactions ? data.pos_transactions.length : 0;\n\t\t\tconsole.log(\n\t\t\t\t`[ClosingDialog.js] Opening dialog shift: ${\n\t\t\t\t\tdata.pos_opening_shift || 'new'\n\t\t\t\t} transactions: ${transactionsCount}`,\n\t\t\t);\n\n\t\t\tclosingDialog.value = true;\n\n\t\t\t// \u2705 \u0644\u0627 \u062A\u0639\u0628\u0626\u0629 \u062A\u0644\u0642\u0627\u0626\u064A\u0629 - \u0627\u0644\u062D\u0642\u0648\u0644 \u062A\u0628\u0642\u0649 \u0641\u0627\u0631\u063A\u0629 \u0644\u0644\u0645\u0633\u062A\u062E\u062F\u0645\n\t\t\t// Ensure closing_amount is 0 (which means empty in UI) if not set (user needs to fill manually)\n\t\t\tif (data.payment_reconciliation && Array.isArray(data.payment_reconciliation)) {\n\t\t\t\tdata.payment_reconciliation.forEach((payment) => {\n\t\t\t\t\t// Reset closing_amount to 0 if not set (0 means empty in UI, user needs to fill manually)\n\t\t\t\t\tif (\n\t\t\t\t\t\t!payment.closing_amount ||\n\t\t\t\t\t\tpayment.closing_amount === null ||\n\t\t\t\t\t\tpayment.closing_amount === undefined\n\t\t\t\t\t) {\n\t\t\t\t\t\tpayment.closing_amount = 0;\n\t\t\t\t\t}\n\t\t\t\t\t// Add editing flag for UI\n\t\t\t\t\tif (payment.editing === undefined) {\n\t\t\t\t\t\tpayment.editing = false;\n\t\t\t\t\t}\n\t\t\t\t\t// Update difference\n\t\t\t\t\tpayment.difference =\n\t\t\t\t\t\tflt(payment.closing_amount || 0) - flt(payment.expected_amount || 0);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tdialog_data.value = data;\n\t\t\tcheckClosingTimeAllowed();\n\t\t};\n\n\t\t/**\n\t\t * Handle POS profile registration\n\t\t * Configures table headers based on profile settings\n\t\t * @param {Object} data - Profile data with pos_profile\n\t\t */\n\t\tconst registerPosProfileHandler = (data) => {\n\t\t\tpos_profile.value = data.pos_profile;\n\n\t\t\tif (!pos_profile.value.posa_hide_expected_amount) {\n\t\t\t\theaders.value.push(TABLE_HEADERS.EXPECTED_TOTAL);\n\t\t\t\theaders.value.push(TABLE_HEADERS.DIFFERENCE);\n\t\t\t}\n\t\t};\n\n\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// LIFECYCLE HOOKS\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\tonMounted(() => {\n\t\t\tevntBus.on(EVENT_NAMES.OPEN_CLOSING_DIALOG, openClosingDialogHandler);\n\t\t\tevntBus.on(EVENT_NAMES.REGISTER_POS_PROFILE, registerPosProfileHandler);\n\t\t});\n\n\t\tonBeforeUnmount(() => {\n\t\t\tevntBus.off(EVENT_NAMES.OPEN_CLOSING_DIALOG, openClosingDialogHandler);\n\t\t\tevntBus.off(EVENT_NAMES.REGISTER_POS_PROFILE, registerPosProfileHandler);\n\t\t});\n\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\t\t// EXPOSE\n\t\t// \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\t\treturn {\n\t\t\t// State\n\t\t\tclosingDialog,\n\t\t\titemsPerPage,\n\t\t\tdialog_data,\n\t\t\tpos_profile,\n\t\t\theaders,\n\n\t\t\t// Time control\n\t\t\tisClosingAllowed,\n\t\t\tclosingTimeMessage,\n\n\t\t\t// Validation\n\t\t\tmax25chars: VALIDATION_RULES.MAX_CHARS,\n\t\t\tisAllRequiredFieldsFilled,\n\n\t\t\t// Actions\n\t\t\tclose_dialog,\n\t\t\tsubmit_dialog,\n\n\t\t\t// Helpers\n\t\t\tgetPaymentIcon,\n\t\t\tgetDifferenceClass,\n\t\t\tupdateDifference,\n\t\t};\n\t},\n};\n", "import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"} }\nconst _hoisted_2 = { style: {\"background\":\"linear-gradient(135deg, #ff6f00 0%, #ff9800 100%)\",\"padding\":\"12px 16px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"space-between\",\"box-shadow\":\"0 2px 8px rgba(255, 152, 0, 0.3)\",\"position\":\"relative\",\"overflow\":\"hidden\"} }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"8px\"} }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"28px\",\"height\":\"28px\",\"background\":\"rgba(255, 255, 255, 0.2)\",\"border-radius\":\"6px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"} }, [\n    /*#__PURE__*/_createElementVNode(\"i\", {\n      class: \"mdi mdi-cash-register\",\n      style: {\"color\":\"white\",\"font-size\":\"20px\"}\n    })\n  ]),\n  /*#__PURE__*/_createElementVNode(\"h3\", { style: {\"margin\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"700\",\"color\":\"white\",\"text-shadow\":\"0 1px 2px rgba(0, 0, 0, 0.1)\",\"position\":\"relative\",\"z-index\":\"2\"} }, [\n    /*#__PURE__*/_createCommentVNode(\" Close POS \"),\n    /*#__PURE__*/_createTextVNode(\" \u0625\u063A\u0644\u0627\u0642 \u0646\u0642\u0637\u0629 \u0627\u0644\u0628\u064A\u0639 \")\n  ])\n], -1 /* HOISTED */)\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-close\",\n  style: {\"color\":\"white\",\"font-size\":\"14px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_5 = [\n  _hoisted_4\n]\nconst _hoisted_6 = {\n  key: 0,\n  style: {\"padding\":\"8px\",\"background\":\"#fafbfc\"}\n}\nconst _hoisted_7 = { style: {\"background\":\"white\",\"border-radius\":\"8px\",\"overflow\":\"hidden\",\"border\":\"1px solid #e8eaed\"} }\nconst _hoisted_8 = { style: {\"display\":\"grid\",\"grid-template-columns\":\"2fr 1fr 1fr 1fr 1fr\",\"background\":\"#f8fafc\",\"border-bottom\":\"1px solid #e2e8f0\"} }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"padding\":\"6px 8px\",\"font-size\":\"12px\",\"font-weight\":\"600\",\"color\":\"#475569\",\"text-transform\":\"uppercase\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-start\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Method \"),\n  /*#__PURE__*/_createTextVNode(\" \u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u062F\u0641\u0639 \")\n], -1 /* HOISTED */)\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"padding\":\"6px 8px\",\"font-size\":\"12px\",\"font-weight\":\"600\",\"color\":\"#475569\",\"text-transform\":\"uppercase\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" System \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D\u064A \")\n], -1 /* HOISTED */)\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"padding\":\"6px 8px\",\"font-size\":\"12px\",\"font-weight\":\"600\",\"color\":\"#475569\",\"text-transform\":\"uppercase\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Actual \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0641\u0639\u0644\u064A \")\n], -1 /* HOISTED */)\nconst _hoisted_12 = {\n  key: 0,\n  style: {\"padding\":\"6px 8px\",\"font-size\":\"12px\",\"font-weight\":\"600\",\"color\":\"#475569\",\"text-transform\":\"uppercase\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\"}\n}\nconst _hoisted_13 = {\n  key: 1,\n  style: {\"padding\":\"6px 8px\",\"font-size\":\"12px\",\"font-weight\":\"600\",\"color\":\"#475569\",\"text-transform\":\"uppercase\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\"}\n}\nconst _hoisted_14 = { style: {\"padding\":\"4px 8px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-start\",\"font-size\":\"14px\",\"min-height\":\"32px\"} }\nconst _hoisted_15 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"6px\"} }\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-cash-multiple\",\n  style: {\"font-size\":\"16px\",\"color\":\"#ff6f00\",\"flex-shrink\":\"0\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_17 = { style: {\"font-weight\":\"500\",\"color\":\"#334155\",\"font-size\":\"13px\",\"white-space\":\"nowrap\"} }\nconst _hoisted_18 = { style: {\"padding\":\"4px 8px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\",\"font-size\":\"14px\",\"min-height\":\"32px\"} }\nconst _hoisted_19 = { style: {\"font-weight\":\"600\",\"color\":\"#1e293b\",\"font-size\":\"13px\",\"font-family\":\"monospace\"} }\nconst _hoisted_20 = { style: {\"padding\":\"4px 8px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\",\"font-size\":\"14px\",\"min-height\":\"32px\"} }\nconst _hoisted_21 = {\n  key: 0,\n  style: {\"background\":\"#f0f9ff\",\"border\":\"1px solid #6366f1\",\"border-radius\":\"4px\",\"padding\":\"4px 8px\",\"font-size\":\"13px\",\"font-weight\":\"600\",\"font-family\":\"monospace\",\"width\":\"100px\",\"text-align\":\"right\",\"outline\":\"none\"}\n}\nconst _hoisted_22 = [\"onUpdate:modelValue\", \"required\", \"onInput\", \"onBlur\", \"onKeyup\"]\nconst _hoisted_23 = [\"onClick\"]\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-pencil\",\n  style: {\"opacity\":\"0\",\"color\":\"#6366f1\",\"margin-left\":\"4px\",\"font-size\":\"12px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_25 = {\n  key: 0,\n  style: {\"padding\":\"4px 8px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\",\"font-size\":\"14px\",\"min-height\":\"32px\"}\n}\nconst _hoisted_26 = { style: {\"font-weight\":\"600\",\"color\":\"#1e293b\",\"font-size\":\"13px\",\"font-family\":\"monospace\"} }\nconst _hoisted_27 = {\n  key: 1,\n  style: {\"padding\":\"4px 8px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\",\"gap\":\"4px\",\"font-size\":\"14px\",\"min-height\":\"32px\"}\n}\nconst _hoisted_28 = {\n  key: 0,\n  style: {\"font-weight\":\"600\",\"font-size\":\"13px\",\"font-family\":\"monospace\",\"color\":\"#059669\",\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"3px\"}\n}\nconst _hoisted_29 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-arrow-up\",\n  style: {\"font-size\":\"14px\",\"color\":\"#059669\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_30 = { style: {\"font-weight\":\"600\",\"font-size\":\"13px\",\"font-family\":\"monospace\",\"color\":\"#dc2626\",\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"3px\"} }\nconst _hoisted_31 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-arrow-down\",\n  style: {\"font-size\":\"14px\",\"color\":\"#dc2626\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_32 = { style: {\"font-weight\":\"600\",\"font-size\":\"13px\",\"font-family\":\"monospace\",\"color\":\"#64748b\"} }\nconst _hoisted_33 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-weight\":\"600\",\"font-size\":\"13px\",\"font-family\":\"monospace\",\"color\":\"#dc2626\"} }, \" --- \", -1 /* HOISTED */)\nconst _hoisted_34 = { style: {\"background\":\"#f8fafc\",\"padding\":\"8px 12px\",\"border-top\":\"1px solid #e2e8f0\",\"display\":\"flex\",\"gap\":\"8px\",\"justify-content\":\"flex-end\"} }\nconst _hoisted_35 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-close\",\n  style: {\"font-size\":\"16px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_36 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-check\",\n  style: {\"font-size\":\"16px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_37 = {\n  key: 1,\n  style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"8px\",\"color\":\"#f59e0b\",\"font-size\":\"14px\",\"font-weight\":\"500\",\"padding\":\"8px 12px\",\"background\":\"rgba(245, 158, 11, 0.1)\",\"border-radius\":\"6px\",\"border\":\"1px solid rgba(245, 158, 11, 0.2)\"}\n}\nconst _hoisted_38 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-clock-alert-outline\",\n  style: {\"color\":\"#ff9800\",\"font-size\":\"16px\"}\n}, null, -1 /* HOISTED */)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" CLOSING DIALOG \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createCommentVNode(\" Modal Overlay \"),\n      (_ctx.closingDialog)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            onClick: _cache[4] || (_cache[4] = (...args) => (_ctx.close_dialog && _ctx.close_dialog(...args))),\n            style: {\"position\":\"fixed\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background\":\"rgba(0, 0, 0, 0.7)\",\"display\":\"flex\",\"align-items\":\"flex-start\",\"justify-content\":\"center\",\"padding-top\":\"5vh\",\"z-index\":\"1050 !important\"}\n          }, [\n            _createCommentVNode(\" Dialog \"),\n            _createElementVNode(\"div\", {\n              onClick: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"stop\"])),\n              style: {\"background\":\"white\",\"border-radius\":\"16px\",\"overflow\":\"hidden\",\"box-shadow\":\"0 20px 40px rgba(0, 0, 0, 0.15)\",\"max-width\":\"95vw\",\"min-width\":\"700px\",\"width\":\"auto\",\"border\":\"1px solid rgba(255, 152, 0, 0.1)\"}\n            }, [\n              _createCommentVNode(\" =========================================== \"),\n              _createCommentVNode(\" DIALOG HEADER \"),\n              _createCommentVNode(\" =========================================== \"),\n              _createElementVNode(\"div\", _hoisted_2, [\n                _hoisted_3,\n                _createElementVNode(\"button\", {\n                  onClick: _cache[0] || (_cache[0] = (...args) => (_ctx.close_dialog && _ctx.close_dialog(...args))),\n                  style: {\"background\":\"rgba(255, 255, 255, 0.15)\",\"border\":\"none\",\"border-radius\":\"4px\",\"width\":\"24px\",\"height\":\"24px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"cursor\":\"pointer\"}\n                }, _hoisted_5)\n              ]),\n              _createCommentVNode(\" =========================================== \"),\n              _createCommentVNode(\" DIALOG CONTENT \"),\n              _createCommentVNode(\" =========================================== \"),\n              (_ctx.pos_profile)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                    _createCommentVNode(\" Payment Table \"),\n                    _createElementVNode(\"div\", _hoisted_7, [\n                      _createCommentVNode(\" Table Header \"),\n                      _createElementVNode(\"div\", _hoisted_8, [\n                        _hoisted_9,\n                        _hoisted_10,\n                        _hoisted_11,\n                        (!_ctx.pos_profile.posa_hide_expected_amount)\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                              _createCommentVNode(\" Expected \"),\n                              _createTextVNode(\" \u0627\u0644\u0645\u062A\u0648\u0642\u0639 \")\n                            ]))\n                          : _createCommentVNode(\"v-if\", true),\n                        (!_ctx.pos_profile.posa_hide_expected_amount)\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n                              _createCommentVNode(\" Diff \"),\n                              _createTextVNode(\" \u0627\u0644\u0641\u0631\u0642 \")\n                            ]))\n                          : _createCommentVNode(\"v-if\", true)\n                      ]),\n                      _createCommentVNode(\" Table Body \"),\n                      _createElementVNode(\"div\", null, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.dialog_data.payment_reconciliation, (item, index) => {\n                          return (_openBlock(), _createElementBlock(\"div\", {\n                            key: item.mode_of_payment,\n                            style: _normalizeStyle([{\"display\":\"grid\",\"grid-template-columns\":\"2fr 1fr 1fr 1fr 1fr\",\"border-bottom\":\"1px solid #f1f5f9\"}, index % 2 === 0 ? '' : 'background: #fafbfc'])\n                          }, [\n                            _createCommentVNode(\" Method \"),\n                            _createElementVNode(\"div\", _hoisted_14, [\n                              _createElementVNode(\"div\", _hoisted_15, [\n                                _hoisted_16,\n                                _createElementVNode(\"span\", _hoisted_17, _toDisplayString(item.mode_of_payment), 1 /* TEXT */)\n                              ])\n                            ]),\n                            _createCommentVNode(\" System Amount \"),\n                            _createElementVNode(\"div\", _hoisted_18, [\n                              _createElementVNode(\"span\", _hoisted_19, _toDisplayString(_ctx.formatCurrency(item.opening_amount)), 1 /* TEXT */)\n                            ]),\n                            _createCommentVNode(\" Actual Amount (Editable) \"),\n                            _createElementVNode(\"div\", _hoisted_20, [\n                              (item.editing)\n                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                                    _withDirectives(_createElementVNode(\"input\", {\n                                      \"onUpdate:modelValue\": $event => ((item.closing_amount) = $event),\n                                      type: \"number\",\n                                      required: \n                        item.expected_amount && item.expected_amount > 0\n                      ,\n                                      onInput: $event => (_ctx.updateDifference(item)),\n                                      onBlur: $event => {\n                        item.editing = false;\n                        _ctx.updateDifference(item);\n                      },\n                                      onKeyup: _withKeys($event => {\n                        item.editing = false;\n                        _ctx.updateDifference(item);\n                      }, [\"enter\"]),\n                                      style: {\"width\":\"100%\",\"border\":\"none\",\"outline\":\"none\",\"background\":\"transparent\",\"text-align\":\"right\",\"font-size\":\"13px\",\"font-weight\":\"600\",\"font-family\":\"monospace\"}\n                                    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_22), [\n                                      [\n                                        _vModelText,\n                                        item.closing_amount,\n                                        void 0,\n                                        { number: true }\n                                      ]\n                                    ])\n                                  ]))\n                                : (_openBlock(), _createElementBlock(\"div\", {\n                                    key: 1,\n                                    onClick: $event => (item.editing = true),\n                                    style: {\"cursor\":\"pointer\",\"padding\":\"4px 8px\",\"border-radius\":\"4px\",\"background\":\"#f0f9ff\",\"border\":\"1px solid #e0e7ff\",\"min-width\":\"100px\",\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\"}\n                                  }, [\n                                    _createElementVNode(\"span\", {\n                                      style: _normalizeStyle([{\"font-weight\":\"600\",\"font-size\":\"13px\",\"font-family\":\"monospace\"}, \n                        item.expected_amount &&\n                        item.expected_amount > 0 &&\n                        (!item.closing_amount ||\n                          item.closing_amount === null ||\n                          item.closing_amount === undefined ||\n                          item.closing_amount === '' ||\n                          item.closing_amount === 0)\n                          ? 'color: #dc2626'\n                          : 'color: #1e293b'\n                      ])\n                                    }, _toDisplayString(item.closing_amount !== null &&\n                        item.closing_amount !== undefined &&\n                        item.closing_amount !== \"\" &&\n                        item.closing_amount !== 0\n                          ? _ctx.formatCurrency(item.closing_amount)\n                          : \"---\"), 5 /* TEXT, STYLE */),\n                                    _hoisted_24\n                                  ], 8 /* PROPS */, _hoisted_23))\n                            ]),\n                            _createCommentVNode(\" Expected Amount \"),\n                            (!_ctx.pos_profile.posa_hide_expected_amount)\n                              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [\n                                  _createElementVNode(\"span\", _hoisted_26, _toDisplayString(_ctx.formatCurrency(item.expected_amount)), 1 /* TEXT */)\n                                ]))\n                              : _createCommentVNode(\"v-if\", true),\n                            _createCommentVNode(\" Difference \"),\n                            (!_ctx.pos_profile.posa_hide_expected_amount)\n                              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, [\n                                  (\n                      item.closing_amount !== null &&\n                      item.closing_amount !== undefined &&\n                      item.closing_amount !== '' &&\n                      item.closing_amount !== 0\n                    )\n                                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                        _createCommentVNode(\" \u0627\u0644\u0641\u0639\u0644\u064A > \u0627\u0644\u0645\u062A\u0648\u0642\u0639: \u0623\u062E\u0636\u0631 + \u0633\u0647\u0645 \u0644\u0623\u0639\u0644\u0649 \"),\n                                        (item.closing_amount > item.expected_amount)\n                                          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_28, [\n                                              _hoisted_29,\n                                              _createTextVNode(\" \" + _toDisplayString(_ctx.formatCurrency(\n                          item.closing_amount - item.expected_amount\n                        )), 1 /* TEXT */)\n                                            ]))\n                                          : (item.closing_amount < item.expected_amount)\n                                            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                                _createCommentVNode(\" \u0627\u0644\u0641\u0639\u0644\u064A < \u0627\u0644\u0645\u062A\u0648\u0642\u0639: \u0623\u062D\u0645\u0631 + \u0633\u0647\u0645 \u0644\u0623\u0633\u0641\u0644 \"),\n                                                _createElementVNode(\"span\", _hoisted_30, [\n                                                  _hoisted_31,\n                                                  _createTextVNode(\" \" + _toDisplayString(_ctx.formatCurrency(\n                          item.expected_amount - item.closing_amount\n                        )), 1 /* TEXT */)\n                                                ])\n                                              ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                            : (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                                                _createCommentVNode(\" \u0627\u0644\u0641\u0639\u0644\u064A = \u0627\u0644\u0645\u062A\u0648\u0642\u0639: \u0631\u0645\u0627\u062F\u064A \"),\n                                                _createElementVNode(\"span\", _hoisted_32, _toDisplayString(_ctx.formatCurrency(0)), 1 /* TEXT */)\n                                              ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                      ], 64 /* STABLE_FRAGMENT */))\n                                    : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                        _createCommentVNode(\" \u0627\u0644\u062D\u0642\u0644 \u0641\u0627\u0631\u063A \"),\n                                        _hoisted_33\n                                      ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                ]))\n                              : _createCommentVNode(\"v-if\", true)\n                          ], 4 /* STYLE */))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ])\n                    ])\n                  ]))\n                : _createCommentVNode(\"v-if\", true),\n              _createCommentVNode(\" =========================================== \"),\n              _createCommentVNode(\" DIALOG FOOTER \"),\n              _createCommentVNode(\" =========================================== \"),\n              _createElementVNode(\"div\", _hoisted_34, [\n                _createCommentVNode(\" Cancel Button \"),\n                _createElementVNode(\"button\", {\n                  onClick: _cache[1] || (_cache[1] = (...args) => (_ctx.close_dialog && _ctx.close_dialog(...args))),\n                  style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"4px\",\"padding\":\"6px 12px\",\"border-radius\":\"6px\",\"font-size\":\"14px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #cbd5e1\",\"background\":\"#f1f5f9\",\"color\":\"#475569\"}\n                }, [\n                  _createCommentVNode(\" Cancel \"),\n                  _hoisted_35,\n                  _createTextVNode(\" \u0625\u0644\u063A\u0627\u0621 \")\n                ]),\n                _createCommentVNode(\" Submit Button \"),\n                (_ctx.isClosingAllowed && _ctx.isAllRequiredFieldsFilled)\n                  ? (_openBlock(), _createElementBlock(\"button\", {\n                      key: 0,\n                      onClick: _cache[2] || (_cache[2] = _withModifiers((...args) => (_ctx.submit_dialog && _ctx.submit_dialog(...args)), [\"prevent\"])),\n                      type: \"button\",\n                      style: {\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"4px\",\"padding\":\"6px 12px\",\"border-radius\":\"6px\",\"font-size\":\"14px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"none\",\"background\":\"#10b981\",\"color\":\"white\"}\n                    }, [\n                      _createCommentVNode(\" Submit \"),\n                      _hoisted_36,\n                      _createTextVNode(\" \u062A\u0623\u0643\u064A\u062F \")\n                    ]))\n                  : _createCommentVNode(\"v-if\", true),\n                _createCommentVNode(\" Time Restriction Message \"),\n                (!_ctx.isClosingAllowed && _ctx.closingTimeMessage)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_37, [\n                      _hoisted_38,\n                      _createTextVNode(\" \" + _toDisplayString(_ctx.closingTimeMessage), 1 /* TEXT */)\n                    ]))\n                  : _createCommentVNode(\"v-if\", true)\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n    ])\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"./ClosingDialog.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/ClosingDialog.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/ClosingDialog.vue\";export default script;", "import { evntBus } from \"../../bus\";\nimport { API_MAP } from \"../../api_mapper.js\";\nexport default {\n  data: () => ({\n    addressDialog: false,\n    address: {},\n    customer: \"\",\n  }),\n\n  methods: {\n    close_dialog() {\n      this.addressDialog = false;\n    },\n\n    submit_dialog() {\n      const vm = this;\n      this.address.customer = this.customer;\n      this.address.doctype = \"Customer\";\n      frappe.call({\n        method: API_MAP.CUSTOMER.CREATE_CUSTOMER_ADDRESS,\n        args: {\n          args: this.address,\n        },\n        callback: (r) => {\n          if (!r.exc) {\n            evntBus.emit(\"add_the_new_address\", r.message);\n            vm.addressDialog = false;\n            vm.customer = \"\";\n            vm.address = {};\n          }\n        },\n      });\n    },\n  },\n  created: function () {\n    evntBus.on(\"open_new_address\", (data) => {\n      this.addressDialog = true;\n      this.customer = data;\n    });\n  },\n\n  beforeDestroy() {\n    // Clean up event listener (use .off if available)\n    if (evntBus && typeof evntBus.off === \"function\") {\n      evntBus.off(\"open_new_address\");\n    }\n  },\n};\n", "import { createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"} }\nconst _hoisted_2 = { style: {\"background\":\"white\",\"border-radius\":\"12px\",\"overflow\":\"hidden\",\"box-shadow\":\"0 4px 12px rgba(0, 0, 0, 0.1)\"} }\nconst _hoisted_3 = { style: {\"padding\":\"12px 16px\",\"border-bottom\":\"1px solid #e0e0e0\",\"background\":\"#f5f5f5\",\"position\":\"relative\"} }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"1.25rem\",\"font-weight\":\"700\",\"color\":\"#1976d2\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Add New Address \"),\n  /*#__PURE__*/_createTextVNode(\" \u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0648\u0627\u0646 \u062C\u062F\u064A\u062F \")\n], -1 /* HOISTED */)\nconst _hoisted_5 = { style: {\"padding\":\"8px\"} }\nconst _hoisted_6 = { style: {\"padding\":\"8px\"} }\nconst _hoisted_7 = { style: {\"padding\":\"4px\",\"margin-bottom\":\"4px\"} }\nconst _hoisted_8 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"4px\",\"width\":\"100%\"} }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"600\",\"color\":\"#555\",\"margin-bottom\":\"2px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Address Title \"),\n  /*#__PURE__*/_createTextVNode(\" \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \")\n], -1 /* HOISTED */)\nconst _hoisted_10 = { style: {\"padding\":\"4px\",\"margin-bottom\":\"4px\"} }\nconst _hoisted_11 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"4px\",\"width\":\"100%\"} }\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"600\",\"color\":\"#555\",\"margin-bottom\":\"2px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Address Line 1 \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0633\u0637\u0631 \u0627\u0644\u0623\u0648\u0644 \u0645\u0646 \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \")\n], -1 /* HOISTED */)\nconst _hoisted_13 = { style: {\"padding\":\"4px\",\"margin-bottom\":\"4px\"} }\nconst _hoisted_14 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"4px\",\"width\":\"100%\"} }\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"600\",\"color\":\"#555\",\"margin-bottom\":\"2px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Address Line 2 \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0633\u0637\u0631 \u0627\u0644\u062B\u0627\u0646\u064A \u0645\u0646 \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \")\n], -1 /* HOISTED */)\nconst _hoisted_16 = { style: {\"display\":\"flex\",\"gap\":\"8px\",\"margin-bottom\":\"4px\"} }\nconst _hoisted_17 = { style: {\"flex\":\"0 0 calc(50% - 4px)\",\"max-width\":\"calc(50% - 4px)\",\"padding\":\"4px\"} }\nconst _hoisted_18 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"4px\",\"width\":\"100%\"} }\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"600\",\"color\":\"#555\",\"margin-bottom\":\"2px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" City \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0645\u062F\u064A\u0646\u0629 \")\n], -1 /* HOISTED */)\nconst _hoisted_20 = { style: {\"flex\":\"0 0 calc(50% - 4px)\",\"max-width\":\"calc(50% - 4px)\",\"padding\":\"4px\"} }\nconst _hoisted_21 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"4px\",\"width\":\"100%\"} }\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"600\",\"color\":\"#555\",\"margin-bottom\":\"2px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" State \"),\n  /*#__PURE__*/_createTextVNode(\" \u0627\u0644\u0648\u0644\u0627\u064A\u0629 \")\n], -1 /* HOISTED */)\nconst _hoisted_23 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\",\"gap\":\"8px\",\"padding\":\"12px 16px 0\",\"border-top\":\"1px solid #e0e0e0\"} }\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, null, -1 /* HOISTED */)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" NEW ADDRESS DIALOG \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createCommentVNode(\" Modal Overlay \"),\n      (_ctx.addressDialog)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            onClick: _cache[9] || (_cache[9] = $event => (_ctx.addressDialog = false)),\n            style: {\"position\":\"fixed\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background\":\"rgba(0, 0, 0, 0.5)\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"z-index\":\"1000\"}\n          }, [\n            _createCommentVNode(\" Modal \"),\n            _createElementVNode(\"div\", {\n              onClick: _cache[8] || (_cache[8] = _withModifiers(() => {}, [\"stop\"])),\n              style: {\"background\":\"white\",\"border-radius\":\"8px\",\"box-shadow\":\"0 10px 30px rgba(0, 0, 0, 0.3)\",\"max-width\":\"480px\",\"width\":\"90%\",\"max-height\":\"90vh\",\"overflow\":\"hidden\"}\n            }, [\n              _createCommentVNode(\" Card \"),\n              _createElementVNode(\"div\", _hoisted_2, [\n                _createCommentVNode(\" =========================================== \"),\n                _createCommentVNode(\" CARD HEADER \"),\n                _createCommentVNode(\" =========================================== \"),\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _hoisted_4,\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[0] || (_cache[0] = $event => (_ctx.addressDialog = false)),\n                    style: {\"position\":\"absolute\",\"top\":\"8px\",\"right\":\"8px\",\"background\":\"none\",\"border\":\"none\",\"font-size\":\"1.5rem\",\"color\":\"#999\",\"cursor\":\"pointer\",\"width\":\"32px\",\"height\":\"32px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"border-radius\":\"50%\"}\n                  }, \" \u00D7 \")\n                ]),\n                _createCommentVNode(\" =========================================== \"),\n                _createCommentVNode(\" CARD BODY \"),\n                _createCommentVNode(\" =========================================== \"),\n                _createElementVNode(\"div\", _hoisted_5, [\n                  _createElementVNode(\"div\", _hoisted_6, [\n                    _createCommentVNode(\" Address Title \"),\n                    _createElementVNode(\"div\", _hoisted_7, [\n                      _createElementVNode(\"div\", _hoisted_8, [\n                        _hoisted_9,\n                        _withDirectives(_createElementVNode(\"input\", {\n                          type: \"text\",\n                          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => ((_ctx.address.name) = $event)),\n                          placeholder: \"\u0623\u062F\u062E\u0644 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0639\u0646\u0648\u0627\u0646\",\n                          style: {\"width\":\"100%\",\"padding\":\"6px 10px\",\"font-size\":\"0.8rem\",\"min-height\":\"36px\",\"color\":\"#333\",\"background\":\"white\",\"border\":\"1px solid #d0d0d0\",\"border-radius\":\"6px\",\"outline\":\"none\"}\n                        }, null, 512 /* NEED_PATCH */), [\n                          [_vModelText, _ctx.address.name]\n                        ])\n                      ])\n                    ]),\n                    _createCommentVNode(\" Address Line 1 \"),\n                    _createElementVNode(\"div\", _hoisted_10, [\n                      _createElementVNode(\"div\", _hoisted_11, [\n                        _hoisted_12,\n                        _withDirectives(_createElementVNode(\"input\", {\n                          type: \"text\",\n                          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => ((_ctx.address.address_line1) = $event)),\n                          placeholder: \"\u0623\u062F\u062E\u0644 \u0627\u0644\u0633\u0637\u0631 \u0627\u0644\u0623\u0648\u0644 \u0645\u0646 \u0627\u0644\u0639\u0646\u0648\u0627\u0646\",\n                          style: {\"width\":\"100%\",\"padding\":\"6px 10px\",\"font-size\":\"0.8rem\",\"min-height\":\"36px\",\"color\":\"#333\",\"background\":\"white\",\"border\":\"1px solid #d0d0d0\",\"border-radius\":\"6px\",\"outline\":\"none\"}\n                        }, null, 512 /* NEED_PATCH */), [\n                          [_vModelText, _ctx.address.address_line1]\n                        ])\n                      ])\n                    ]),\n                    _createCommentVNode(\" Address Line 2 \"),\n                    _createElementVNode(\"div\", _hoisted_13, [\n                      _createElementVNode(\"div\", _hoisted_14, [\n                        _hoisted_15,\n                        _withDirectives(_createElementVNode(\"input\", {\n                          type: \"text\",\n                          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => ((_ctx.address.address_line2) = $event)),\n                          placeholder: \"\u0623\u062F\u062E\u0644 \u0627\u0644\u0633\u0637\u0631 \u0627\u0644\u062B\u0627\u0646\u064A \u0645\u0646 \u0627\u0644\u0639\u0646\u0648\u0627\u0646\",\n                          style: {\"width\":\"100%\",\"padding\":\"6px 10px\",\"font-size\":\"0.8rem\",\"min-height\":\"36px\",\"color\":\"#333\",\"background\":\"white\",\"border\":\"1px solid #d0d0d0\",\"border-radius\":\"6px\",\"outline\":\"none\"}\n                        }, null, 512 /* NEED_PATCH */), [\n                          [_vModelText, _ctx.address.address_line2]\n                        ])\n                      ])\n                    ]),\n                    _createCommentVNode(\" City & State \"),\n                    _createElementVNode(\"div\", _hoisted_16, [\n                      _createCommentVNode(\" City \"),\n                      _createElementVNode(\"div\", _hoisted_17, [\n                        _createElementVNode(\"div\", _hoisted_18, [\n                          _hoisted_19,\n                          _withDirectives(_createElementVNode(\"input\", {\n                            type: \"text\",\n                            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => ((_ctx.address.city) = $event)),\n                            placeholder: \"\u0623\u062F\u062E\u0644 \u0627\u0644\u0645\u062F\u064A\u0646\u0629\",\n                            style: {\"width\":\"100%\",\"padding\":\"6px 10px\",\"font-size\":\"0.8rem\",\"min-height\":\"36px\",\"color\":\"#333\",\"background\":\"white\",\"border\":\"1px solid #d0d0d0\",\"border-radius\":\"6px\",\"outline\":\"none\"}\n                          }, null, 512 /* NEED_PATCH */), [\n                            [_vModelText, _ctx.address.city]\n                          ])\n                        ])\n                      ]),\n                      _createCommentVNode(\" State \"),\n                      _createElementVNode(\"div\", _hoisted_20, [\n                        _createElementVNode(\"div\", _hoisted_21, [\n                          _hoisted_22,\n                          _withDirectives(_createElementVNode(\"input\", {\n                            type: \"text\",\n                            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => ((_ctx.address.state) = $event)),\n                            placeholder: \"\u0623\u062F\u062E\u0644 \u0627\u0644\u0648\u0644\u0627\u064A\u0629\",\n                            style: {\"width\":\"100%\",\"padding\":\"6px 10px\",\"font-size\":\"0.8rem\",\"min-height\":\"36px\",\"color\":\"#333\",\"background\":\"white\",\"border\":\"1px solid #d0d0d0\",\"border-radius\":\"6px\",\"outline\":\"none\"}\n                          }, null, 512 /* NEED_PATCH */), [\n                            [_vModelText, _ctx.address.state]\n                          ])\n                        ])\n                      ])\n                    ])\n                  ])\n                ]),\n                _createCommentVNode(\" =========================================== \"),\n                _createCommentVNode(\" CARD FOOTER \"),\n                _createCommentVNode(\" =========================================== \"),\n                _createElementVNode(\"div\", _hoisted_23, [\n                  _hoisted_24,\n                  _createCommentVNode(\" Cancel Button \"),\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[6] || (_cache[6] = (...args) => (_ctx.close_dialog && _ctx.close_dialog(...args))),\n                    style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"4px 12px\",\"height\":\"26px\",\"font-size\":\"11px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #9e9e9e\",\"line-height\":\"1.5\",\"box-shadow\":\"0 2px 4px rgba(0, 0, 0, 0.1)\",\"background\":\"white\",\"color\":\"#616161\",\"border-radius\":\"6px\",\"margin-right\":\"8px\"}\n                  }, [\n                    _createCommentVNode(\" Cancel \"),\n                    _createTextVNode(\" \u0625\u0644\u063A\u0627\u0621 \")\n                  ]),\n                  _createCommentVNode(\" Confirm Button \"),\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[7] || (_cache[7] = (...args) => (_ctx.submit_dialog && _ctx.submit_dialog(...args))),\n                    style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"4px 12px\",\"height\":\"26px\",\"font-size\":\"11px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #1565c0\",\"line-height\":\"1.5\",\"box-shadow\":\"0 2px 4px rgba(0, 0, 0, 0.1)\",\"background\":\"linear-gradient(135deg, #1976d2 0%, #1e88e5 100%)\",\"color\":\"white\",\"border-radius\":\"6px\"}\n                  }, [\n                    _createCommentVNode(\" Confirm \"),\n                    _createTextVNode(\" \u062A\u0623\u0643\u064A\u062F \")\n                  ])\n                ])\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n    ])\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"./NewAddress.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/NewAddress.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/NewAddress.vue\";export default script;", "// ===== SECTION 1: IMPORTS =====\nimport { evntBus } from '../../bus';\nimport format from '../../format';\nimport { API_MAP } from '../../api_mapper.js';\n// Frontend logging: Use console.log/error/warn directly\n\nconst EVENT_NAMES = {\n\tOPEN_RETURNS: 'open_returns',\n\tLOAD_RETURN_INVOICE: 'load_return_invoice',\n\tSHOW_MESSAGE: 'show_mesage',\n};\n\nconst TABLE_HEADERS = [\n\t{ title: '\u0627\u0644\u0639\u0645\u064A\u0644', key: 'customer', align: 'start', sortable: true },\n\t{ title: '\u0627\u0644\u062A\u0627\u0631\u064A\u062E', key: 'posting_date', align: 'start', sortable: true },\n\t{ title: '\u0627\u0644\u0648\u0642\u062A', key: 'posting_time', align: 'center', sortable: false },\n\t{ title: '\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629', key: 'name', align: 'start', sortable: true },\n\t{ title: '\u0627\u0644\u062D\u0627\u0644\u0629', key: 'invoice_status', align: 'center', sortable: false },\n\t{ title: '\u0627\u0644\u0645\u0628\u0644\u063A', key: 'grand_total', align: 'end', sortable: false },\n];\n\nconst DEFAULT_COMPANY = 'Khaleej Women';\n\n// ===== SECTION 2: EXPORT DEFAULT =====\nexport default {\n\tmixins: [format],\n\n\t// ===== DATA =====\n\tdata() {\n\t\treturn {\n\t\t\tinvoicesDialog: false,\n\t\t\tselected: null, // Changed from [] to null for single selection\n\t\t\tdialog_data: [],\n\t\t\tisLoading: false,\n\t\t\tcompany: '',\n\t\t\tinvoice_name: '',\n\t\t\tpos_profile: null,\n\t\t\tpos_opening_shift: null,\n\t\t\theaders: TABLE_HEADERS,\n\t\t};\n\t},\n\t// ===== LIFECYCLE HOOKS =====\n\tbeforeUnmount() {\n\t\tevntBus.off(EVENT_NAMES.OPEN_RETURNS);\n\t},\n\n\tcreated() {\n\t\tevntBus.on(EVENT_NAMES.OPEN_RETURNS, (data) => {\n\t\t\tthis.invoicesDialog = true;\n\t\t\tthis.pos_profile = data.pos_profile || null;\n\t\t\tthis.pos_opening_shift = data.pos_opening_shift || null;\n\t\t\tthis.company = this.getCompany();\n\t\t\tthis.dialog_data = [];\n\t\t\tthis.selected = null; // Changed from [] to null\n\t\t\tthis.search_invoices();\n\t\t});\n\t},\n\n\t// ===== METHODS =====\n\tmethods: {\n\t\tgetInvoiceUrl(invoiceName) {\n\t\t\t// Build URL to open Sales Invoice document in new tab\n\t\t\treturn `/app/sales-invoice/${encodeURIComponent(invoiceName)}`;\n\t\t},\n\n\t\tshowMessage(text, color) {\n\t\t\tevntBus.emit(EVENT_NAMES.SHOW_MESSAGE, { text, color });\n\t\t},\n\n\t\tgetCompany() {\n\t\t\treturn (\n\t\t\t\tthis.pos_profile?.company ||\n\t\t\t\tthis.pos_opening_shift?.company ||\n\t\t\t\tthis.company ||\n\t\t\t\tDEFAULT_COMPANY\n\t\t\t);\n\t\t},\n\n\t\t// Removed toggleSelectAll - not needed for radio buttons\n\n\t\t// Close the returns dialog and reset state\n\t\tclose_dialog() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.invoicesDialog = false;\n\t\t\t\tthis.selected = null; // Changed from [] to null\n\t\t\t\tthis.dialog_data = [];\n\t\t\t\tthis.invoice_name = '';\n\t\t\t});\n\t\t},\n\n\t\t// Search for invoices available for return\n\t\tsearch_invoices() {\n\t\t\tthis.company = this.getCompany();\n\n\t\t\tthis.isLoading = true;\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: API_MAP.SALES_INVOICE.GET_INVOICES_FOR_RETURN,\n\t\t\t\targs: {\n\t\t\t\t\tinvoice_name: this.invoice_name || '',\n\t\t\t\t\tcompany: this.company,\n\t\t\t\t\tpos_profile: this.pos_profile?.name || null,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tthis.isLoading = false;\n\n\t\t\t\t\tthis.dialog_data =\n\t\t\t\t\t\tr.message?.length > 0\n\t\t\t\t\t\t\t? r.message.map((item) => ({\n\t\t\t\t\t\t\t\t\tname: item.name,\n\t\t\t\t\t\t\t\t\tcustomer: item.customer,\n\t\t\t\t\t\t\t\t\tposting_date: item.posting_date,\n\t\t\t\t\t\t\t\t\tposting_time: item.posting_time || null,\n\t\t\t\t\t\t\t\t\tgrand_total: item.grand_total,\n\t\t\t\t\t\t\t\t\toutstanding_amount: item.outstanding_amount || 0,\n\t\t\t\t\t\t\t\t\tpaid_amount: item.paid_amount || 0,\n\t\t\t\t\t\t\t\t\tcurrency: item.currency,\n\t\t\t\t\t\t\t\t\titems: item.items || [],\n\t\t\t\t\t\t\t\t\tinvoice_status: item.invoice_status || item.status || '-',\n\t\t\t\t\t\t\t\t\tstatus: item.status || '-',\n\t\t\t\t\t\t\t  }))\n\t\t\t\t\t\t\t: [];\n\n\t\t\t\t\tthis.displaySearchResultsMessage();\n\t\t\t\t},\n\t\t\t\terror: () => {\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t// Failed to search for invoices\n\t\t\t\t\tthis.showMessage('\u0641\u0634\u0644 \u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631', 'error');\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\t// Display appropriate message based on search results\n\t\tdisplaySearchResultsMessage() {\n\t\t\tif (this.dialog_data.length === 0) {\n\t\t\t\tconst message = this.invoice_name\n\t\t\t\t\t? // No invoices found matching search\n\t\t\t\t\t  '\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0641\u0648\u0627\u062A\u064A\u0631 \u0645\u0637\u0627\u0628\u0642\u0629 \u0644\u0644\u0628\u062D\u062B'\n\t\t\t\t\t: // No submitted invoices available for return in company\n\t\t\t\t\t  `\u0644\u0627 \u062A\u0648\u062C\u062F \u0641\u0648\u0627\u062A\u064A\u0631 \u0645\u062A\u0627\u062D\u0629 \u0644\u0644\u0625\u0631\u062C\u0627\u0639 \u0641\u064A \u0627\u0644\u0634\u0631\u0643\u0629: ${this.company}`;\n\t\t\t}\n\t\t},\n\n\t\tasync fetchOriginalInvoice(invoice_name) {\n\t\t\ttry {\n\t\t\t\tconst response = await frappe.call({\n\t\t\t\t\tmethod: API_MAP.FRAPPE.CLIENT_GET,\n\t\t\t\t\targs: {\n\t\t\t\t\t\tdoctype: 'Sales Invoice',\n\t\t\t\t\t\tname: invoice_name,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\treturn response.message;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log('[Returns.js] fetchOriginalInvoice error:', e);\n\t\t\t\tthis.showMessage('\u0641\u0634\u0644 \u062C\u0644\u0628 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0623\u0635\u0644\u064A\u0629', 'error');\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\n\t\tvalidateReturnItems(return_items, original_invoice) {\n\t\t\tconst original_items = original_invoice.items.map((i) => i.item_code);\n\t\t\tconst invalid_items = return_items.filter(\n\t\t\t\t(item) => !original_items.includes(item.item_code),\n\t\t\t);\n\n\t\t\tif (invalid_items.length > 0) {\n\t\t\t\t// The following items are not in the original invoice\n\t\t\t\tthis.showMessage(\n\t\t\t\t\t`\u0627\u0644\u0623\u0635\u0646\u0627\u0641 \u0627\u0644\u062A\u0627\u0644\u064A\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629 \u0641\u064A \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0623\u0635\u0644\u064A\u0629: ${invalid_items\n\t\t\t\t\t\t.map((i) => i.item_code)\n\t\t\t\t\t\t.join(', ')}`,\n\t\t\t\t\t'error',\n\t\t\t\t);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\tcreateReturnInvoiceDoc(return_doc) {\n\t\t\treturn {\n\t\t\t\titems: return_doc.items.map((item) => ({\n\t\t\t\t\t...item,\n\t\t\t\t\tqty: Math.abs(item.qty) * -1,\n\t\t\t\t\tstock_qty: Math.abs(item.stock_qty || item.qty) * -1,\n\t\t\t\t\tamount: Math.abs(item.amount) * -1,\n\t\t\t\t\tposa_row_id: Date.now().toString(36) + Math.random().toString(36).substr(2, 5),\n\t\t\t\t\tposa_offers: '[]',\n\t\t\t\t\tposa_offer_applied: 0,\n\t\t\t\t\tposa_is_offer: 0,\n\t\t\t\t\tposa_is_replace: 0,\n\t\t\t\t\tis_free_item: 0,\n\t\t\t\t\tsales_invoice_item: item.name,\n\t\t\t\t\tname: null,\n\t\t\t\t})),\n\t\t\t\tis_return: 1,\n\t\t\t\treturn_against: return_doc.name,\n\t\t\t\tcompany: this.getCompany(),\n\t\t\t\tcustomer: return_doc.customer,\n\t\t\t\tposa_pos_opening_shift: this.pos_opening_shift?.name,\n\t\t\t\tpos_opening_shift: this.pos_opening_shift || null,\n\t\t\t\tpos_profile: this.pos_profile || null,\n\t\t\t};\n\t\t},\n\n\t\t// Select invoice (similar to Drafts.js)\n\t\tselectInvoice(invoice) {\n\t\t\tthis.selected = invoice;\n\t\t},\n\n\t\t// Submit selected invoice for return\n\t\tasync submit_dialog() {\n\t\t\tif (!this.selected || !this.dialog_data.length) {\n\t\t\t\t// Please select a valid invoice\n\t\t\t\tthis.showMessage('\u064A\u0631\u062C\u0649 \u0627\u062E\u062A\u064A\u0627\u0631 \u0641\u0627\u062A\u0648\u0631\u0629 \u0635\u062D\u064A\u062D\u0629', 'error');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selectedItem = this.selected;\n\t\t\tif (!selectedItem) {\n\t\t\t\t// Selected invoice not found\n\t\t\t\tthis.showMessage('\u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629', 'error');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst return_doc = selectedItem;\n\t\t\tconst original_invoice = await this.fetchOriginalInvoice(return_doc.name);\n\n\t\t\tif (!original_invoice) {\n\t\t\t\t// Original invoice not found\n\t\t\t\tthis.showMessage('\u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0623\u0635\u0644\u064A\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629', 'error');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.validateReturnItems(return_doc.items, original_invoice)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst invoice_doc = this.createReturnInvoiceDoc(return_doc);\n\n\t\t\t// Close dialog first\n\t\t\tthis.invoicesDialog = false;\n\n\t\t\t// Reset selection\n\t\t\tthis.selected = null;\n\t\t\tthis.dialog_data = [];\n\t\t\tthis.invoice_name = '';\n\n\t\t\t// Emit event after closing with original invoice payment info\n\t\t\tevntBus.emit(EVENT_NAMES.LOAD_RETURN_INVOICE, {\n\t\t\t\tinvoice_doc,\n\t\t\t\treturn_doc,\n\t\t\t\toriginal_invoice_payment_info: {\n\t\t\t\t\tgrand_total: this.flt(original_invoice.grand_total || 0),\n\t\t\t\t\tpaid_amount: this.flt(original_invoice.paid_amount || 0),\n\t\t\t\t\toutstanding_amount: this.flt(original_invoice.outstanding_amount || 0),\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t},\n\n\tbeforeDestroy() {\n\t\t// Clean up event listener\n\t\tevntBus.$off(EVENT_NAMES.OPEN_RETURNS);\n\t},\n};\n", "import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, Fragment as _Fragment, renderList as _renderList, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"} }\nconst _hoisted_2 = { style: {\"background\":\"white\",\"border-radius\":\"12px\",\"overflow\":\"hidden\",\"box-shadow\":\"0 4px 12px rgba(0, 0, 0, 0.1)\"} }\nconst _hoisted_3 = { style: {\"background\":\"#607d8b\",\"color\":\"white\",\"padding\":\"12px 16px\",\"border-bottom\":\"1px solid #e0e0e0\",\"position\":\"relative\"} }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"white\",\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"8px\",\"font-size\":\"1.25rem\",\"font-weight\":\"700\"} }, [\n  /*#__PURE__*/_createElementVNode(\"i\", {\n    class: \"mdi mdi-keyboard-return\",\n    style: {\"font-size\":\"18px\"}\n  }),\n  /*#__PURE__*/_createCommentVNode(\" Return Invoice \"),\n  /*#__PURE__*/_createTextVNode(\" \u062C\u062F\u0648\u0644 \u0625\u0631\u062C\u0627\u0639 \u0641\u0627\u062A\u0648\u0631\u0629 \")\n], -1 /* HOISTED */)\nconst _hoisted_5 = { style: {\"max-height\":\"60vh\",\"overflow-y\":\"auto\",\"display\":\"flex\",\"flex-direction\":\"column\",\"padding\":\"16px\"} }\nconst _hoisted_6 = { style: {\"display\":\"flex\",\"gap\":\"8px\",\"margin-bottom\":\"12px\"} }\nconst _hoisted_7 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"4px\",\"width\":\"100%\",\"flex\":\"1\"} }\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", { style: {\"font-size\":\"0.75rem\",\"font-weight\":\"600\",\"color\":\"#555\",\"margin-bottom\":\"2px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Invoice Number \"),\n  /*#__PURE__*/_createTextVNode(\" \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \")\n], -1 /* HOISTED */)\nconst _hoisted_9 = { style: {\"flex\":\"1\",\"min-height\":\"0\"} }\nconst _hoisted_10 = { style: {\"max-height\":\"60vh\",\"overflow-y\":\"auto\"} }\nconst _hoisted_11 = {\n  key: 0,\n  style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"40px\",\"gap\":\"12px\"}\n}\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"40px\",\"height\":\"40px\",\"border\":\"4px solid #f3f3f3\",\"border-top\":\"4px solid #1976d2\",\"border-radius\":\"50%\"} }, null, -1 /* HOISTED */)\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"14px\",\"color\":\"#666\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" Loading invoices... \"),\n  /*#__PURE__*/_createTextVNode(\" \u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631... \")\n], -1 /* HOISTED */)\nconst _hoisted_14 = [\n  _hoisted_12,\n  _hoisted_13\n]\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"40px\",\"color\":\"#999\",\"font-size\":\"14px\"} }, [\n  /*#__PURE__*/_createCommentVNode(\" No invoices found \"),\n  /*#__PURE__*/_createTextVNode(\" \u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0641\u0648\u0627\u062A\u064A\u0631 \")\n], -1 /* HOISTED */)\nconst _hoisted_16 = { style: {\"width\":\"100%\",\"border-collapse\":\"collapse\",\"font-size\":\"0.875rem\",\"background\":\"white\",\"table-layout\":\"auto\"} }\nconst _hoisted_17 = { style: {\"border-bottom\":\"2px solid #e0e0e0\",\"background\":\"#607d8b\",\"color\":\"white\"} }\nconst _hoisted_18 = [\"onClick\"]\nconst _hoisted_19 = { style: {\"padding\":\"10px\",\"text-align\":\"left\",\"white-space\":\"nowrap\"} }\nconst _hoisted_20 = { style: {\"padding\":\"10px\",\"text-align\":\"left\",\"white-space\":\"nowrap\"} }\nconst _hoisted_21 = { style: {\"padding\":\"10px\",\"text-align\":\"center\",\"white-space\":\"nowrap\"} }\nconst _hoisted_22 = { style: {\"padding\":\"10px\",\"text-align\":\"left\",\"white-space\":\"nowrap\"} }\nconst _hoisted_23 = [\"href\"]\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"mdi mdi-open-in-new\",\n  style: {\"font-size\":\"10px\",\"margin-left\":\"4px\"}\n}, null, -1 /* HOISTED */)\nconst _hoisted_25 = { style: {\"padding\":\"10px\",\"text-align\":\"center\",\"white-space\":\"nowrap\"} }\nconst _hoisted_26 = { style: {\"padding\":\"10px\",\"text-align\":\"right\",\"font-weight\":\"600\",\"color\":\"#1976d2\",\"white-space\":\"nowrap\"} }\nconst _hoisted_27 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\",\"gap\":\"8px\",\"padding\":\"12px 16px\",\"border-top\":\"1px solid #e0e0e0\",\"flex-shrink\":\"0\",\"margin-top\":\"auto\"} }\nconst _hoisted_28 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, null, -1 /* HOISTED */)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" RETURNS DIALOG \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createCommentVNode(\" Modal Overlay \"),\n      (_ctx.invoicesDialog)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            onClick: _cache[8] || (_cache[8] = $event => (_ctx.invoicesDialog = false)),\n            style: {\"position\":\"fixed\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background\":\"rgba(0, 0, 0, 0.5)\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"z-index\":\"1000\"}\n          }, [\n            _createCommentVNode(\" Modal \"),\n            _createElementVNode(\"div\", {\n              onClick: _cache[7] || (_cache[7] = _withModifiers(() => {}, [\"stop\"])),\n              style: {\"background\":\"white\",\"border-radius\":\"8px\",\"box-shadow\":\"0 10px 30px rgba(0, 0, 0, 0.3)\",\"max-width\":\"90vw\",\"min-width\":\"600px\",\"width\":\"auto\",\"max-height\":\"90vh\",\"overflow\":\"hidden\"}\n            }, [\n              _createCommentVNode(\" Card \"),\n              _createElementVNode(\"div\", _hoisted_2, [\n                _createCommentVNode(\" =========================================== \"),\n                _createCommentVNode(\" CARD HEADER \"),\n                _createCommentVNode(\" =========================================== \"),\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _hoisted_4,\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[0] || (_cache[0] = $event => (_ctx.invoicesDialog = false)),\n                    style: {\"position\":\"absolute\",\"top\":\"8px\",\"right\":\"8px\",\"background\":\"none\",\"border\":\"none\",\"font-size\":\"1.5rem\",\"color\":\"white\",\"cursor\":\"pointer\",\"width\":\"32px\",\"height\":\"32px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"border-radius\":\"50%\"}\n                  }, \" \u00D7 \")\n                ]),\n                _createCommentVNode(\" =========================================== \"),\n                _createCommentVNode(\" CARD BODY \"),\n                _createCommentVNode(\" =========================================== \"),\n                _createElementVNode(\"div\", _hoisted_5, [\n                  _createCommentVNode(\" Search Row \"),\n                  _createElementVNode(\"div\", _hoisted_6, [\n                    _createCommentVNode(\" Invoice Number Input \"),\n                    _createElementVNode(\"div\", _hoisted_7, [\n                      _hoisted_8,\n                      _withDirectives(_createElementVNode(\"input\", {\n                        type: \"text\",\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => ((_ctx.invoice_name) = $event)),\n                        placeholder: \"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629\",\n                        onKeydown: _cache[2] || (_cache[2] = _withKeys((...args) => (_ctx.search_invoices && _ctx.search_invoices(...args)), [\"enter\"])),\n                        style: {\"width\":\"100%\",\"padding\":\"8px 12px\",\"font-size\":\"0.85rem\",\"color\":\"#333\",\"background\":\"white\",\"border\":\"1px solid #d0d0d0\",\"border-radius\":\"6px\",\"outline\":\"none\"}\n                      }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [\n                        [_vModelText, _ctx.invoice_name]\n                      ])\n                    ]),\n                    _createCommentVNode(\" Search Button \"),\n                    _createElementVNode(\"button\", {\n                      onClick: _cache[3] || (_cache[3] = (...args) => (_ctx.search_invoices && _ctx.search_invoices(...args))),\n                      style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"8px 16px\",\"height\":\"40px\",\"font-size\":\"12px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #1565c0\",\"line-height\":\"1.5\",\"box-shadow\":\"0 2px 4px rgba(0, 0, 0, 0.1)\",\"background\":\"linear-gradient(135deg, #1976d2 0%, #1e88e5 100%)\",\"color\":\"white\",\"border-radius\":\"6px\",\"margin-top\":\"20px\"}\n                    }, [\n                      _createCommentVNode(\" Search \"),\n                      _createTextVNode(\" \u0628\u062D\u062B \")\n                    ])\n                  ]),\n                  _createCommentVNode(\" Table Container \"),\n                  _createElementVNode(\"div\", _hoisted_9, [\n                    _createElementVNode(\"div\", _hoisted_10, [\n                      _createCommentVNode(\" Loading State \"),\n                      (_ctx.isLoading)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _hoisted_14))\n                        : (_ctx.dialog_data.length === 0)\n                          ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                              _createCommentVNode(\" No Data \"),\n                              _hoisted_15\n                            ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                          : (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                              _createCommentVNode(\" Table \"),\n                              _createElementVNode(\"table\", _hoisted_16, [\n                                _createCommentVNode(\" Table Headers \"),\n                                _createElementVNode(\"thead\", null, [\n                                  _createElementVNode(\"tr\", _hoisted_17, [\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.headers, (header) => {\n                                      return (_openBlock(), _createElementBlock(\"th\", {\n                                        key: header.key,\n                                        style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: '10px',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: header.align || 'left',\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: '600',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.75rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttextTransform: 'uppercase',\n\t\t\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\t\t\t\t\t\t})\n                                      }, _toDisplayString(header.title), 5 /* TEXT, STYLE */))\n                                    }), 128 /* KEYED_FRAGMENT */))\n                                  ])\n                                ]),\n                                _createCommentVNode(\" Table Body \"),\n                                _createElementVNode(\"tbody\", null, [\n                                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.dialog_data, (item) => {\n                                    return (_openBlock(), _createElementBlock(\"tr\", {\n                                      key: item.name,\n                                      onClick: $event => (_ctx.selectInvoice(item)),\n                                      style: _normalizeStyle([\n\t\t\t\t\t\t\t\t\t\t\t\t_ctx.selected && _ctx.selected.name === item.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'background: #e3f2fd; cursor: pointer;'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'cursor: pointer;'\n\t\t\t\t\t\t\t\t\t\t\t, {\"border-bottom\":\"1px solid #e0e0e0\"}])\n                                    }, [\n                                      _createCommentVNode(\" Customer \"),\n                                      _createElementVNode(\"td\", _hoisted_19, _toDisplayString(item.customer), 1 /* TEXT */),\n                                      _createCommentVNode(\" Posting Date \"),\n                                      _createElementVNode(\"td\", _hoisted_20, _toDisplayString(item.posting_date), 1 /* TEXT */),\n                                      _createCommentVNode(\" Posting Time \"),\n                                      _createElementVNode(\"td\", _hoisted_21, _toDisplayString(item.posting_time\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? item.posting_time.split('.')[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '-'), 1 /* TEXT */),\n                                      _createCommentVNode(\" Invoice Name \"),\n                                      _createElementVNode(\"td\", _hoisted_22, [\n                                        _createElementVNode(\"a\", {\n                                          href: _ctx.getInvoiceUrl(item.name),\n                                          target: \"_blank\",\n                                          onClick: _cache[4] || (_cache[4] = _withModifiers(() => {}, [\"stop\"])),\n                                          style: {\"color\":\"#3b82f6\",\"font-weight\":\"600\",\"font-size\":\"12px\",\"font-family\":\"'Courier New', monospace\",\"text-decoration\":\"none\"}\n                                        }, [\n                                          _createTextVNode(_toDisplayString(item.name) + \" \", 1 /* TEXT */),\n                                          _hoisted_24\n                                        ], 8 /* PROPS */, _hoisted_23)\n                                      ]),\n                                      _createCommentVNode(\" Invoice Status \"),\n                                      _createElementVNode(\"td\", _hoisted_25, [\n                                        _createElementVNode(\"span\", {\n                                          style: _normalizeStyle({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: '4px 12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '12px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.75rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: '600',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) === 'Paid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#e8f5e9'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) === 'Unpaid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#ffebee'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Partly Paid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#fff3e0'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) === 'Return'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#f3e5f5'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Credit Note Issued'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#e1bee7'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '#f5f5f5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) === 'Paid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#2e7d32'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) === 'Unpaid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#c62828'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Partly Paid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#e65100'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) === 'Return'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#6a1b9a'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Credit Note Issued'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#7b1fa2'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '#616161',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) === 'Paid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '1px solid #4caf50'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) === 'Unpaid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '1px solid #ef5350'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Partly Paid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '1px solid #ff9800'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) === 'Return'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '1px solid #9c27b0'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (item.invoice_status ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Credit Note Issued'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '1px solid #ab47bc'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '1px solid #9e9e9e',\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n                                        }, _toDisplayString(item.invoice_status || item.status || '-'), 5 /* TEXT, STYLE */)\n                                      ]),\n                                      _createCommentVNode(\" Grand Total \"),\n                                      _createElementVNode(\"td\", _hoisted_26, _toDisplayString(_ctx.currencySymbol(item.currency)) + \" \" + _toDisplayString(_ctx.formatCurrency(item.grand_total)), 1 /* TEXT */)\n                                    ], 12 /* STYLE, PROPS */, _hoisted_18))\n                                  }), 128 /* KEYED_FRAGMENT */))\n                                ])\n                              ])\n                            ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                    ])\n                  ])\n                ]),\n                _createCommentVNode(\" =========================================== \"),\n                _createCommentVNode(\" CARD FOOTER \"),\n                _createCommentVNode(\" =========================================== \"),\n                _createElementVNode(\"div\", _hoisted_27, [\n                  _hoisted_28,\n                  _createCommentVNode(\" Close Button \"),\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[5] || (_cache[5] = (...args) => (_ctx.close_dialog && _ctx.close_dialog(...args))),\n                    style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"6px 16px\",\"border-radius\":\"6px\",\"font-size\":\"12px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #d32f2f\",\"line-height\":\"1.5\",\"box-shadow\":\"0 2px 4px rgba(0, 0, 0, 0.1)\",\"background\":\"white\",\"color\":\"#d32f2f\"}\n                  }, [\n                    _createCommentVNode(\" Close \"),\n                    _createTextVNode(\" \u0625\u063A\u0644\u0627\u0642 \")\n                  ]),\n                  _createCommentVNode(\" Select Button \"),\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[6] || (_cache[6] = (...args) => (_ctx.submit_dialog && _ctx.submit_dialog(...args))),\n                    style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"6px 16px\",\"border-radius\":\"6px\",\"font-size\":\"12px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #2e7d32\",\"line-height\":\"1.5\",\"box-shadow\":\"0 2px 4px rgba(0, 0, 0, 0.1)\",\"background\":\"linear-gradient(135deg, #4caf50 0%, #388e3c 100%)\",\"color\":\"white\"}\n                  }, [\n                    _createCommentVNode(\" Select \"),\n                    _createTextVNode(\" \u0627\u062E\u062A\u0631 \")\n                  ])\n                ])\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n    ])\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"./Returns.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Returns.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/Returns.vue\";export default script;", "// ===== SECTION 1: IMPORTS =====\nimport { evntBus } from \"../../bus\";\nimport format from \"../../format\";\n// Frontend logging: Use console.log/error/warn directly\n\nconst EVENT_NAMES = {\n  OPEN_DRAFTS_DIALOG: \"open_drafts_dialog\",\n  LOAD_DRAFT_INVOICE: \"load_draft_invoice\",\n  SHOW_MESSAGE: \"show_mesage\",\n};\n\n// ===== SECTION 2: EXPORT DEFAULT =====\nexport default {\n  mixins: [format],\n\n  // ===== DATA =====\n  data() {\n    return {\n      draftsDialog: false,\n      selected: null,\n      dialog_data: [],\n      isLoading: false,\n    };\n  },\n\n  // ===== LIFECYCLE HOOKS =====\n  beforeUnmount() {\n    evntBus.off(EVENT_NAMES.OPEN_DRAFTS_DIALOG);\n  },\n\n  created() {\n    evntBus.on(EVENT_NAMES.OPEN_DRAFTS_DIALOG, (data) => {\n      console.log(\"[Drafts.js] Opening drafts dialog with\", data?.length || 0, \"invoices\");\n      this.draftsDialog = true;\n      this.dialog_data = data || [];\n      this.selected = null;\n      this.isLoading = false;\n    });\n  },\n\n  // ===== METHODS =====\n  methods: {\n    selectInvoice(invoice) {\n      this.selected = invoice;\n    },\n\n    submit_dialog() {\n      if (!this.selected) {\n        evntBus.emit(EVENT_NAMES.SHOW_MESSAGE, {\n          text: \"\u064A\u0631\u062C\u0649 \u0627\u062E\u062A\u064A\u0627\u0631 \u0641\u0627\u062A\u0648\u0631\u0629\",\n          color: \"error\",\n        });\n        return;\n      }\n\n      // Prevent duplicate submission\n      if (this.draftsDialog === false) {\n        return;\n      }\n\n      // Emit event to load the selected draft invoice (only once)\n      const selectedInvoice = this.selected;\n      this.draftsDialog = false;\n      this.selected = null;\n      \n      // Emit after closing dialog to prevent multiple clicks\n      this.$nextTick(() => {\n        evntBus.emit(EVENT_NAMES.LOAD_DRAFT_INVOICE, selectedInvoice);\n      });\n    },\n  },\n};\n\n", "import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, Fragment as _Fragment, renderList as _renderList, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"} }\nconst _hoisted_2 = { style: {\"background\":\"white\",\"border-radius\":\"12px\",\"overflow\":\"hidden\",\"box-shadow\":\"0 4px 12px rgba(0, 0, 0, 0.1)\"} }\nconst _hoisted_3 = { style: {\"background\":\"linear-gradient(135deg, #2196f3 0%, #1976d2 100%)\",\"color\":\"white\",\"padding\":\"12px 16px\",\"border-bottom\":\"1px solid #e0e0e0\",\"position\":\"relative\"} }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"white\",\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"8px\",\"font-size\":\"1.25rem\",\"font-weight\":\"700\"} }, [\n  /*#__PURE__*/_createElementVNode(\"i\", {\n    class: \"mdi mdi-file-document-edit\",\n    style: {\"font-size\":\"18px\"}\n  }),\n  /*#__PURE__*/_createCommentVNode(\" Load Draft Invoice \"),\n  /*#__PURE__*/_createTextVNode(\" \u062C\u062F\u0648\u0644 \u062A\u0643\u0645\u0644\u0629 \u0641\u0627\u062A\u0648\u0631\u0629 \")\n], -1 /* HOISTED */)\nconst _hoisted_5 = { style: {\"padding\":\"16px\",\"max-height\":\"60vh\",\"overflow-y\":\"auto\"} }\nconst _hoisted_6 = {\n  key: 0,\n  style: {\"text-align\":\"center\",\"padding\":\"40px\"}\n}\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"font-size\":\"1rem\",\"color\":\"#666\"} }, \"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...\", -1 /* HOISTED */)\nconst _hoisted_8 = [\n  _hoisted_7\n]\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"text-align\":\"center\",\"padding\":\"40px\"} }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { style: {\"font-size\":\"1rem\",\"color\":\"#666\"} }, \"\u0644\u0627 \u062A\u0648\u062C\u062F \u0641\u0648\u0627\u062A\u064A\u0631 \u0645\u0633\u0648\u062F\u0629\")\n], -1 /* HOISTED */)\nconst _hoisted_10 = { style: {\"width\":\"100%\",\"border-collapse\":\"collapse\",\"font-size\":\"0.9rem\"} }\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"thead\", null, [\n  /*#__PURE__*/_createElementVNode(\"tr\", { style: {\"background\":\"linear-gradient(\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t135deg,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t#2196f3 0%,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t#1976d2 100%\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t)\",\"border-bottom\":\"2px solid #e0e0e0\",\"color\":\"white\"} }, [\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"12px\",\"text-align\":\"right\",\"font-weight\":\"600\",\"color\":\"white\"} }, \" \u0627\u0644\u0639\u0645\u064A\u0644 \"),\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"12px\",\"text-align\":\"center\",\"font-weight\":\"600\",\"color\":\"white\"} }, \" \u0627\u0644\u062A\u0627\u0631\u064A\u062E \"),\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"12px\",\"text-align\":\"center\",\"font-weight\":\"600\",\"color\":\"white\"} }, \" \u0627\u0644\u0648\u0642\u062A \"),\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"12px\",\"text-align\":\"right\",\"font-weight\":\"600\",\"color\":\"white\"} }, \" \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \"),\n    /*#__PURE__*/_createElementVNode(\"th\", { style: {\"padding\":\"12px\",\"text-align\":\"left\",\"font-weight\":\"600\",\"color\":\"white\"} }, \" \u0627\u0644\u0645\u0628\u0644\u063A \")\n  ])\n], -1 /* HOISTED */)\nconst _hoisted_12 = [\"onClick\"]\nconst _hoisted_13 = { style: {\"padding\":\"12px\",\"text-align\":\"right\"} }\nconst _hoisted_14 = { style: {\"padding\":\"12px\",\"text-align\":\"center\"} }\nconst _hoisted_15 = { style: {\"padding\":\"12px\",\"text-align\":\"center\"} }\nconst _hoisted_16 = { style: {\"padding\":\"12px\",\"text-align\":\"right\",\"font-weight\":\"600\"} }\nconst _hoisted_17 = { style: {\"padding\":\"12px\",\"text-align\":\"left\",\"font-weight\":\"600\"} }\nconst _hoisted_18 = { style: {\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\",\"gap\":\"8px\",\"padding\":\"16px\",\"border-top\":\"1px solid #e0e0e0\"} }\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, null, -1 /* HOISTED */)\nconst _hoisted_20 = [\"disabled\"]\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" DRAFTS DIALOG \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createCommentVNode(\" Modal Overlay \"),\n      (_ctx.draftsDialog)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            onClick: _cache[4] || (_cache[4] = $event => (_ctx.draftsDialog = false)),\n            style: {\"position\":\"fixed\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background\":\"rgba(0, 0, 0, 0.5)\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"z-index\":\"1000\"}\n          }, [\n            _createCommentVNode(\" Modal \"),\n            _createElementVNode(\"div\", {\n              onClick: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"stop\"])),\n              style: {\"background\":\"white\",\"border-radius\":\"8px\",\"box-shadow\":\"0 10px 30px rgba(0, 0, 0, 0.3)\",\"max-width\":\"90vw\",\"min-width\":\"600px\",\"width\":\"auto\",\"max-height\":\"90vh\",\"overflow\":\"hidden\"}\n            }, [\n              _createCommentVNode(\" Card \"),\n              _createElementVNode(\"div\", _hoisted_2, [\n                _createCommentVNode(\" =========================================== \"),\n                _createCommentVNode(\" CARD HEADER \"),\n                _createCommentVNode(\" =========================================== \"),\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _hoisted_4,\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[0] || (_cache[0] = $event => (_ctx.draftsDialog = false)),\n                    style: {\"position\":\"absolute\",\"top\":\"8px\",\"right\":\"8px\",\"background\":\"none\",\"border\":\"none\",\"font-size\":\"1.5rem\",\"color\":\"white\",\"cursor\":\"pointer\",\"width\":\"32px\",\"height\":\"32px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"border-radius\":\"50%\"}\n                  }, \" \u00D7 \")\n                ]),\n                _createCommentVNode(\" =========================================== \"),\n                _createCommentVNode(\" CARD BODY \"),\n                _createCommentVNode(\" =========================================== \"),\n                _createElementVNode(\"div\", _hoisted_5, [\n                  _createCommentVNode(\" Loading State \"),\n                  (_ctx.isLoading)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _hoisted_8))\n                    : (!_ctx.dialog_data || _ctx.dialog_data.length === 0)\n                      ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                          _createCommentVNode(\" Empty State \"),\n                          _hoisted_9\n                        ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                      : (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                          _createCommentVNode(\" Table \"),\n                          _createElementVNode(\"table\", _hoisted_10, [\n                            _hoisted_11,\n                            _createElementVNode(\"tbody\", null, [\n                              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.dialog_data, (invoice) => {\n                                return (_openBlock(), _createElementBlock(\"tr\", {\n                                  key: invoice.name,\n                                  onClick: $event => (_ctx.selectInvoice(invoice)),\n                                  style: _normalizeStyle([\n\t\t\t\t\t\t\t\t\t\t_ctx.selected && _ctx.selected.name === invoice.name\n\t\t\t\t\t\t\t\t\t\t\t? 'background: #e3f2fd; cursor: pointer;'\n\t\t\t\t\t\t\t\t\t\t\t: 'cursor: pointer;'\n\t\t\t\t\t\t\t\t\t, {\"border-bottom\":\"1px solid #e0e0e0\"}])\n                                }, [\n                                  _createElementVNode(\"td\", _hoisted_13, _toDisplayString(invoice.customer_name || invoice.customer || '-'), 1 /* TEXT */),\n                                  _createElementVNode(\"td\", _hoisted_14, _toDisplayString(invoice.posting_date || '-'), 1 /* TEXT */),\n                                  _createElementVNode(\"td\", _hoisted_15, _toDisplayString(invoice.posting_time\n\t\t\t\t\t\t\t\t\t\t\t\t? invoice.posting_time.split('.')[0]\n\t\t\t\t\t\t\t\t\t\t\t\t: '-'), 1 /* TEXT */),\n                                  _createElementVNode(\"td\", _hoisted_16, _toDisplayString(invoice.name), 1 /* TEXT */),\n                                  _createElementVNode(\"td\", _hoisted_17, _toDisplayString(_ctx.currencySymbol(invoice.currency || 'SAR')) + _toDisplayString(_ctx.formatCurrency(invoice.grand_total || 0)), 1 /* TEXT */)\n                                ], 12 /* STYLE, PROPS */, _hoisted_12))\n                              }), 128 /* KEYED_FRAGMENT */))\n                            ])\n                          ])\n                        ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                ]),\n                _createCommentVNode(\" =========================================== \"),\n                _createCommentVNode(\" CARD FOOTER \"),\n                _createCommentVNode(\" =========================================== \"),\n                _createElementVNode(\"div\", _hoisted_18, [\n                  _hoisted_19,\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[1] || (_cache[1] = $event => (_ctx.draftsDialog = false)),\n                    style: {\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"8px 16px\",\"border-radius\":\"4px\",\"font-size\":\"13px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #d32f2f\",\"line-height\":\"1.5\",\"margin\":\"0 4px\",\"background\":\"linear-gradient(135deg, #f44336 0%, #e53935 100%)\",\"color\":\"white\"}\n                  }, [\n                    _createCommentVNode(\" Close \"),\n                    _createTextVNode(\" \u0625\u063A\u0644\u0627\u0642 \")\n                  ]),\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[2] || (_cache[2] = (...args) => (_ctx.submit_dialog && _ctx.submit_dialog(...args))),\n                    disabled: !_ctx.selected,\n                    style: _normalizeStyle([{\"display\":\"inline-flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"padding\":\"8px 16px\",\"border-radius\":\"4px\",\"font-size\":\"13px\",\"font-weight\":\"500\",\"cursor\":\"pointer\",\"border\":\"1px solid #1565c0\",\"line-height\":\"1.5\",\"margin\":\"0 4px\",\"background\":\"linear-gradient(135deg, #1976d2 0%, #1e88e5 100%)\",\"color\":\"white\"}, \n\t\t\t\t\t\t\t\t!_ctx.selected\n\t\t\t\t\t\t\t\t\t? 'background: #e0e0e0; color: #9e9e9e; cursor: not-allowed; border-color: #e0e0e0'\n\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t])\n                  }, [\n                    _createCommentVNode(\" Load \"),\n                    _createTextVNode(\" \u062A\u062D\u0645\u064A\u0644 \")\n                  ], 12 /* STYLE, PROPS */, _hoisted_20)\n                ])\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n    ])\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"./Drafts.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Drafts.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/Drafts.vue\";export default script;", "// ===== IMPORTS =====\nimport { evntBus } from '../../bus';\nimport ItemsSelector from './ItemsSelector.vue';\nimport Invoice from './Invoice.vue';\nimport OpeningDialog from './OpeningDialog.vue';\nimport OpenShiftsWarning from './OpenShiftsWarning.vue';\nimport Payments from './Payments.vue';\nimport PosOffers from './PosOffers.vue';\nimport ClosingDialog from './ClosingDialog.vue';\nimport NewAddress from './NewAddress.vue';\nimport Returns from './Returns.vue';\nimport Drafts from './Drafts.vue';\nimport { API_MAP } from '../../api_mapper.js';\n// Frontend logging: Use console.log/error/warn directly\n\n// ===== EVENT BUS EVENTS =====\nconst EVENTS = {\n\tCLOSE_OPENING_DIALOG: 'close_opening_dialog',\n\tREGISTER_POS_DATA: 'register_pos_data',\n\tREGISTER_POS_PROFILE: 'register_pos_profile',\n\tSET_COMPANY: 'set_company',\n\tSET_POS_OPENING_SHIFT: 'set_pos_opening_shift',\n\tSET_OFFERS: 'set_offers',\n\tSET_POS_SETTINGS: 'set_pos_settings',\n\tSHOW_PAYMENT: 'show_payment',\n\tSHOW_OFFERS: 'show_offers',\n\tSHOW_MESSAGE: 'show_mesage',\n\tOPEN_CLOSING_DIALOG: 'open_closing_dialog',\n\tOPEN_CLOSING_DIALOG_EMIT: 'open_ClosingDialog',\n\tSUBMIT_CLOSING_POS: 'submit_closing_pos',\n\tREQUEST_INVOICE_PRINT: 'request_invoice_print',\n\tLOAD_POS_PROFILE: 'LoadPosProfile',\n};\n\n// ===== COMPONENT =====\nexport default {\n\tname: 'PosMain',\n\n\tcomponents: {\n\t\tItemsSelector,\n\t\tInvoice,\n\t\tOpeningDialog,\n\t\tOpenShiftsWarning,\n\t\tPayments,\n\t\tClosingDialog,\n\t\tReturns,\n\t\tDrafts,\n\t\tPosOffers,\n\t\tNewAddress,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tdialog: false,\n\t\t\tshowOpenShiftsWarning: false,\n\t\t\topenShifts: [],\n\t\t\tpos_profile: null,\n\t\t\tpos_opening_shift: null,\n\t\t\tpayment: false,\n\t\t\toffers: false,\n\t\t\tofferApplied: null,\n\t\t\tofferRemoved: false,\n\t\t};\n\t},\n\n\tmethods: {\n\t\t// ===== OFFER EVENT HANDLERS =====\n\t\thandleOfferApplied(offer) {\n\t\t\t// Reset first to null to ensure reactivity\n\t\t\tthis.offerApplied = null;\n\t\t\tthis.offerRemoved = false;\n\n\t\t\t// Use $nextTick to ensure reset is processed\n\t\t\tthis.$nextTick(() => {\n\t\t\t\t// Create new object with timestamp to force reactivity\n\t\t\t\tthis.offerApplied = {\n\t\t\t\t\t...offer,\n\t\t\t\t\t_timestamp: Date.now(),\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\n\t\thandleOfferRemoved(removedOffer) {\n\t\t\tthis.offerApplied = null;\n\n\t\t\t// Pass the removed offer object (or true for backward compatibility)\n\t\t\tthis.offerRemoved = removedOffer || true;\n\n\t\t\t// Reset offerRemoved flag after a short delay\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.offerRemoved = false;\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t},\n\n\t\tasync check_opening_entry() {\n\t\t\ttry {\n\t\t\t\t// First check if user has multiple open shifts\n\t\t\t\tconst allShiftsResponse = await frappe.call({\n\t\t\t\t\tmethod: API_MAP.POS_OPENING_SHIFT.GET_ALL_OPEN_SHIFTS,\n\t\t\t\t});\n\n\t\t\t\tif (allShiftsResponse.message.success && allShiftsResponse.message.count > 1) {\n\t\t\t\t\t// User has MULTIPLE open shifts - show warning component\n\t\t\t\t\tthis.openShifts = allShiftsResponse.message.shifts;\n\t\t\t\t\tthis.showOpenShiftsWarning = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Only one or zero shifts - proceed normally\n\t\t\t\tconst response = await frappe.call({\n\t\t\t\t\tmethod: API_MAP.POS_OPENING_SHIFT.GET_CURRENT_SHIFT_NAME,\n\t\t\t\t});\n\n\t\t\t\tif (response.message.success && response.message.data) {\n\t\t\t\t\t// POS Profile data is already included in shift response\n\t\t\t\t\tconst shift_data = response.message.data;\n\t\t\t\t\tconst pos_profile = shift_data.pos_profile_data;\n\n\t\t\t\t\tif (!pos_profile) {\n\t\t\t\t\t\tthis.show_message('\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A', 'error');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Update component state\n\t\t\t\t\tthis.pos_profile = pos_profile;\n\t\t\t\t\tthis.pos_opening_shift = {\n\t\t\t\t\t\tname: shift_data.name,\n\t\t\t\t\t\tcompany: shift_data.company,\n\t\t\t\t\t\tperiod_start_date: shift_data.period_start_date,\n\t\t\t\t\t\tpos_profile: shift_data.pos_profile,\n\t\t\t\t\t\tuser: shift_data.user,\n\t\t\t\t\t};\n\n\t\t\t\t\tconsole.log('[Pos.js] POS Profile loaded:', pos_profile.name);\n\n\t\t\t\t\t// Prepare data for event bus\n\t\t\t\t\tconst event_data = {\n\t\t\t\t\t\tpos_profile: pos_profile,\n\t\t\t\t\t\tpos_opening_shift: this.pos_opening_shift,\n\t\t\t\t\t\tcompany: { name: pos_profile.company },\n\t\t\t\t\t};\n\n\t\t\t\t\t// Load offers for this profile\n\t\t\t\t\tawait this.get_offers(pos_profile.name);\n\n\t\t\t\t\t// Emit events to notify other components\n\t\t\t\t\tevntBus.emit(EVENTS.REGISTER_POS_PROFILE, event_data);\n\t\t\t\t\tevntBus.emit(EVENTS.SET_COMPANY, { name: pos_profile.company });\n\t\t\t\t\tevntBus.emit(EVENTS.SET_POS_OPENING_SHIFT, this.pos_opening_shift);\n\t\t\t\t} else {\n\t\t\t\t\t// No active shift - show opening dialog\n\t\t\t\t\tthis.create_opening_voucher();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[Pos.js] check_opening_entry error:', error);\n\t\t\t\tthis.show_message('\u0641\u0634\u0644 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0625\u062F\u062E\u0627\u0644 \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D', 'error');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Show opening dialog to create new shift\n\t\t */\n\t\tcreate_opening_voucher() {\n\t\t\tthis.dialog = true;\n\t\t},\n\n\t\t/**\n\t\t * Load POS settings from database\n\t\t */\n\t\tasync get_pos_setting() {\n\t\t\ttry {\n\t\t\t\tconst doc = await frappe.db.get_doc('POS Settings', undefined);\n\t\t\t\tevntBus.emit(EVENTS.SET_POS_SETTINGS, doc);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[Pos.js] get_pos_setting error:', error);\n\t\t\t}\n\t\t},\n\n\t\t// ===== OFFERS METHODS =====\n\t\tasync get_offers(pos_profile) {\n\t\t\ttry {\n\t\t\t\t// Check if auto fetch offers is enabled (handle different value types)\n\t\t\t\tconst offersEnabled =\n\t\t\t\t\tthis.pos_profile?.posa_auto_fetch_offers !== 0 &&\n\t\t\t\t\tthis.pos_profile?.posa_auto_fetch_offers !== '0' &&\n\t\t\t\t\tthis.pos_profile?.posa_auto_fetch_offers !== false &&\n\t\t\t\t\tthis.pos_profile?.posa_auto_fetch_offers !== null &&\n\t\t\t\t\tthis.pos_profile?.posa_auto_fetch_offers !== undefined;\n\n\t\t\t\tif (!offersEnabled) {\n\t\t\t\t\tevntBus.emit(EVENTS.SET_OFFERS, []); // Clear offers\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst response = await frappe.call({\n\t\t\t\t\tmethod: API_MAP.POS_OFFER.GET_OFFERS_FOR_PROFILE,\n\t\t\t\t\targs: {\n\t\t\t\t\t\tprofile: pos_profile,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tif (response.message) {\n\t\t\t\t\tevntBus.emit(EVENTS.SET_OFFERS, response.message);\n\t\t\t\t} else {\n\t\t\t\t\t// Failed to load offers\n\t\t\t\t\tthis.show_message('\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0639\u0631\u0648\u0636', 'error');\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[Pos.js] get_offers error:', error);\n\t\t\t\tthis.show_message('\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0639\u0631\u0648\u0636', 'error');\n\t\t\t}\n\t\t},\n\n\t\t// ===== CLOSING SHIFT METHODS =====\n\t\tasync get_closing_data() {\n\t\t\ttry {\n\t\t\t\t// Send only the shift name (string), not the entire object\n\t\t\t\tconst opening_shift_name = this.pos_opening_shift?.name || this.pos_opening_shift;\n\n\t\t\t\tif (!opening_shift_name) {\n\t\t\t\t\tthis.show_message('\u0644\u0627 \u064A\u0648\u062C\u062F \u0634\u0641\u062A \u0645\u0641\u062A\u0648\u062D', 'error');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconsole.log(`[Pos.js] get_closing_data shift: ${opening_shift_name}`);\n\n\t\t\t\tconst response = await frappe.call({\n\t\t\t\t\tmethod: API_MAP.POS_CLOSING_SHIFT.MAKE_CLOSING_SHIFT,\n\t\t\t\t\targs: {\n\t\t\t\t\t\topening_shift: opening_shift_name,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tif (response.message) {\n\t\t\t\t\tconst data = response.message;\n\t\t\t\t\tconst transactionsCount = data.pos_transactions\n\t\t\t\t\t\t? data.pos_transactions.length\n\t\t\t\t\t\t: 0;\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t`[Pos.js] get_closing_data success: ${transactionsCount} transactions found`,\n\t\t\t\t\t);\n\t\t\t\t\tevntBus.emit(EVENTS.OPEN_CLOSING_DIALOG_EMIT, data);\n\t\t\t\t} else {\n\t\t\t\t\t// Failed to load closing data\n\t\t\t\t\tthis.show_message('\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0625\u063A\u0644\u0627\u0642', 'error');\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(`[Pos.js] get_closing_data error: ${error.message || error}`);\n\t\t\t\tthis.show_message('\u0641\u0634\u0644 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0625\u063A\u0644\u0627\u0642', 'error');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handle closing shift submission success\n\t\t * Called after ClosingDialog.js successfully submits and prints\n\t\t * Similar to invoice submission flow\n\t\t * If auto-print was triggered, skip check_opening_entry() to prevent page reload\n\t\t */\n\t\tasync handleSubmitClosingPos(data) {\n\t\t\tconsole.log('[Pos.js] ===== handleSubmitClosingPos START =====');\n\t\t\tconsole.log('[Pos.js] Received data:', data);\n\t\t\tconsole.log('[Pos.js] data?.success:', data?.success);\n\t\t\tconsole.log('[Pos.js] data?.has_auto_print:', data?.has_auto_print);\n\t\t\t\n\t\t\tif (data?.success) {\n\t\t\t\tconsole.log(\n\t\t\t\t\t`[Pos.js] handleSubmitClosingPos: Closing shift ${data.closing_shift_name} submitted successfully`,\n\t\t\t\t);\n\t\t\t\tthis.show_message('\u062A\u0645 \u0625\u063A\u0644\u0627\u0642 \u0648\u0631\u062F\u064A\u0629 \u0627\u0644\u0635\u0631\u0627\u0641 \u0628\u0646\u062C\u0627\u062D', 'success');\n\t\t\t\t\n\t\t\t\t// Note: Page reload is handled in ClosingDialog.js after print window opens\n\t\t\t\t// No need to call check_opening_entry() here - page will reload and show OpeningDialog automatically\n\t\t\t\tif (data.has_auto_print) {\n\t\t\t\t\tconsole.log('[Pos.js] Auto-print was triggered - page reload will happen in ClosingDialog.js');\n\t\t\t\t\tconsole.log('[Pos.js] ===== handleSubmitClosingPos END (auto-print case) =====');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// No auto-print - proceed normally with check_opening_entry()\n\t\t\t\tconsole.log('[Pos.js] No auto-print - will call check_opening_entry() after 1 second');\n\t\t\t\tsetTimeout(async () => {\n\t\t\t\t\tconsole.log('[Pos.js] Timeout fired - calling check_opening_entry()');\n\t\t\t\t\t// Check for new opening entry after closing\n\t\t\t\t\tawait this.check_opening_entry();\n\t\t\t\t\tconsole.log('[Pos.js] check_opening_entry() completed');\n\t\t\t\t}, 1000); // 1 second delay for normal flow\n\t\t\t\tconsole.log('[Pos.js] ===== handleSubmitClosingPos END (normal case) =====');\n\t\t\t} else {\n\t\t\t\tconsole.log('[Pos.js] data.success is false or undefined - not processing');\n\t\t\t\tconsole.log('[Pos.js] ===== handleSubmitClosingPos END (no success) =====');\n\t\t\t}\n\t\t},\n\n\t\t// ===== PANEL SWITCHING METHODS =====\n\t\tswitchPanel(panelType, show) {\n\t\t\tconst isActive = show === 'true';\n\n\t\t\tthis.payment = panelType === 'payment' && isActive;\n\t\t\tthis.offers = panelType === 'offers' && isActive;\n\t\t},\n\n\t\t// ===== UTILITY METHODS =====\n\t\tshow_message(text, color) {\n\t\t\tevntBus.emit(EVENTS.SHOW_MESSAGE, { text, color });\n\t\t},\n\n\t\tonPrintRequest() {\n\t\t\tevntBus.emit(EVENTS.REQUEST_INVOICE_PRINT);\n\t\t},\n\n\t\t// ===== EVENT BUS HANDLERS =====\n\n\t\tregisterEventListeners() {\n\t\t\t// Opening dialog events\n\t\t\tevntBus.on(EVENTS.CLOSE_OPENING_DIALOG, this.handleCloseOpeningDialog);\n\t\t\tevntBus.on(EVENTS.REGISTER_POS_DATA, this.handleRegisterPosData);\n\n\t\t\t// Panel switching events\n\t\t\tevntBus.on(EVENTS.SHOW_PAYMENT, this.handleShowPayment);\n\t\t\tevntBus.on(EVENTS.SHOW_OFFERS, this.handleShowOffers);\n\n\t\t\t// Closing shift events\n\t\t\tevntBus.on(EVENTS.OPEN_CLOSING_DIALOG, this.handleOpenClosingDialog);\n\t\t\tevntBus.on(EVENTS.SUBMIT_CLOSING_POS, this.handleSubmitClosingPos);\n\t\t},\n\n\t\tunregisterEventListeners() {\n\t\t\tevntBus.$off(EVENTS.CLOSE_OPENING_DIALOG, this.handleCloseOpeningDialog);\n\t\t\tevntBus.$off(EVENTS.REGISTER_POS_DATA, this.handleRegisterPosData);\n\t\t\tevntBus.$off(EVENTS.SHOW_PAYMENT, this.handleShowPayment);\n\t\t\tevntBus.$off(EVENTS.SHOW_OFFERS, this.handleShowOffers);\n\t\t\tevntBus.$off(EVENTS.OPEN_CLOSING_DIALOG, this.handleOpenClosingDialog);\n\t\t\tevntBus.$off(EVENTS.SUBMIT_CLOSING_POS, this.handleSubmitClosingPos);\n\t\t\tevntBus.$off(EVENTS.LOAD_POS_PROFILE);\n\t\t},\n\n\t\t// Event handler methods\n\t\thandleCloseOpeningDialog() {\n\t\t\tthis.dialog = false;\n\t\t},\n\n\t\thandleRegisterPosData(data) {\n\t\t\tthis.pos_profile = data.pos_profile;\n\t\t\tthis.pos_opening_shift = data.pos_opening_shift;\n\t\t\tthis.get_offers(this.pos_profile.name);\n\t\t\tevntBus.emit(EVENTS.REGISTER_POS_PROFILE, data);\n\t\t\tevntBus.emit(EVENTS.SET_POS_OPENING_SHIFT, this.pos_opening_shift);\n\t\t},\n\n\t\thandleShowPayment(data) {\n\t\t\tthis.switchPanel('payment', data);\n\t\t},\n\n\t\thandleShowOffers(data) {\n\t\t\tthis.switchPanel('offers', data);\n\t\t},\n\n\t\thandleOpenClosingDialog() {\n\t\t\tthis.get_closing_data();\n\t\t},\n\t},\n\n\t// ===== LIFECYCLE HOOKS =====\n\n\tmounted() {\n\t\tthis.$nextTick(() => {\n\t\t\t// Initialize POS system\n\t\t\tthis.check_opening_entry();\n\t\t\tthis.get_pos_setting();\n\n\t\t\t// Register event listeners\n\t\t\tthis.registerEventListeners();\n\t\t});\n\t},\n\n\tbeforeUnmount() {\n\t\t// Clean up event listeners\n\t\tthis.unregisterEventListeners();\n\t},\n};\n", "import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, vShow as _vShow, createElementVNode as _createElementVNode, withDirectives as _withDirectives, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { style: {\"padding\":\"0 3px 3px 3px\",\"background\":\"#c4763d85\",\"min-height\":\"100vh\",\"overflow\":\"visible\"} }\nconst _hoisted_2 = { style: {\"display\":\"flex\",\"gap\":\"5px\",\"min-height\":\"calc(100vh - 130px)\",\"width\":\"100%\",\"margin-top\":\"3px\"} }\nconst _hoisted_3 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"min-width\":\"0\",\"position\":\"relative\"} }\nconst _hoisted_4 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"background\":\"white\",\"border-radius\":\"8px\",\"box-shadow\":\"0 2px 8px rgba(0, 0, 0, 0.1)\",\"overflow\":\"hidden\",\"border\":\"1px solid rgba(0, 0, 0, 0.05)\",\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\"} }\nconst _hoisted_5 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"background\":\"white\",\"border-radius\":\"8px\",\"box-shadow\":\"0 2px 8px rgba(0, 0, 0, 0.1)\",\"overflow\":\"hidden\",\"border\":\"1px solid rgba(0, 0, 0, 0.05)\",\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\"} }\nconst _hoisted_6 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"background\":\"white\",\"border-radius\":\"8px\",\"box-shadow\":\"0 2px 8px rgba(0, 0, 0, 0.1)\",\"overflow\":\"hidden\",\"border\":\"1px solid rgba(0, 0, 0, 0.05)\",\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\"} }\nconst _hoisted_7 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"min-width\":\"0\"} }\nconst _hoisted_8 = { style: {\"flex\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"background\":\"white\",\"border-radius\":\"8px\",\"box-shadow\":\"0 2px 8px rgba(0, 0, 0, 0.1)\",\"overflow\":\"hidden\",\"border\":\"1px solid rgba(0, 0, 0, 0.05)\"} }\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ClosingDialog = _resolveComponent(\"ClosingDialog\")\n  const _component_Returns = _resolveComponent(\"Returns\")\n  const _component_Drafts = _resolveComponent(\"Drafts\")\n  const _component_NewAddress = _resolveComponent(\"NewAddress\")\n  const _component_OpeningDialog = _resolveComponent(\"OpeningDialog\")\n  const _component_OpenShiftsWarning = _resolveComponent(\"OpenShiftsWarning\")\n  const _component_ItemsSelector = _resolveComponent(\"ItemsSelector\")\n  const _component_PosOffers = _resolveComponent(\"PosOffers\")\n  const _component_Payments = _resolveComponent(\"Payments\")\n  const _component_Invoice = _resolveComponent(\"Invoice\")\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createCommentVNode(\" =========================================== \"),\n    _createCommentVNode(\" POS CONTAINER \"),\n    _createCommentVNode(\" =========================================== \"),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createCommentVNode(\" =========================================== \"),\n      _createCommentVNode(\" DIALOGS & OVERLAYS \"),\n      _createCommentVNode(\" =========================================== \"),\n      _createVNode(_component_ClosingDialog),\n      _createVNode(_component_Returns),\n      _createVNode(_component_Drafts),\n      _createVNode(_component_NewAddress),\n      (_ctx.dialog)\n        ? (_openBlock(), _createBlock(_component_OpeningDialog, {\n            key: 0,\n            dialog: _ctx.dialog\n          }, null, 8 /* PROPS */, [\"dialog\"]))\n        : _createCommentVNode(\"v-if\", true),\n      _createVNode(_component_OpenShiftsWarning, {\n        isOpen: _ctx.showOpenShiftsWarning,\n        shifts: _ctx.openShifts\n      }, null, 8 /* PROPS */, [\"isOpen\", \"shifts\"]),\n      _createCommentVNode(\" =========================================== \"),\n      _createCommentVNode(\" MAIN POS INTERFACE \"),\n      _createCommentVNode(\" =========================================== \"),\n      _withDirectives(_createElementVNode(\"div\", _hoisted_2, [\n        _createCommentVNode(\" =========================================== \"),\n        _createCommentVNode(\" LEFT PANEL (Items/Offers/Payments) \"),\n        _createCommentVNode(\" =========================================== \"),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createCommentVNode(\" Items Selector Panel \"),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(_component_ItemsSelector)\n          ], 512 /* NEED_PATCH */), [\n            [_vShow, !_ctx.payment && !_ctx.offers]\n          ]),\n          _createCommentVNode(\" Offers Panel \"),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_5, [\n            _createVNode(_component_PosOffers, {\n              onOfferApplied: _ctx.handleOfferApplied,\n              onOfferRemoved: _ctx.handleOfferRemoved\n            }, null, 8 /* PROPS */, [\"onOfferApplied\", \"onOfferRemoved\"])\n          ], 512 /* NEED_PATCH */), [\n            [_vShow, _ctx.offers]\n          ]),\n          _createCommentVNode(\" Payments Panel \"),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_6, [\n            _createVNode(_component_Payments, {\n              ref: \"payments\",\n              onRequestPrint: _ctx.onPrintRequest\n            }, null, 8 /* PROPS */, [\"onRequestPrint\"])\n          ], 512 /* NEED_PATCH */), [\n            [_vShow, _ctx.payment]\n          ])\n        ]),\n        _createCommentVNode(\" =========================================== \"),\n        _createCommentVNode(\" RIGHT PANEL (Invoice) \"),\n        _createCommentVNode(\" =========================================== \"),\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createVNode(_component_Invoice, {\n              is_payment: _ctx.payment,\n              \"offer-applied\": _ctx.offerApplied,\n              \"offer-removed\": _ctx.offerRemoved\n            }, null, 8 /* PROPS */, [\"is_payment\", \"offer-applied\", \"offer-removed\"])\n          ])\n        ])\n      ], 512 /* NEED_PATCH */), [\n        [_vShow, !_ctx.dialog]\n      ])\n    ])\n  ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n}", "import script from \"./Pos.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/components/pos/Pos.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/components/pos/Pos.vue\";export default script;", "import Navbar from './components/Navbar.vue';\nimport POS from './components/pos/Pos.vue';\n\nexport default {\n  data: function () {\n    return {\n      page: 'POS',\n    };\n  },\n  components: {\n    Navbar,\n    POS,\n  },\n  methods: {\n    setPage(page) {\n      this.page = page;\n    },\n  },\n};\n", "import { resolveComponent as _resolveComponent, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, KeepAlive as _KeepAlive, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { style: {\"font-size\":\"0.8rem\"} }\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Navbar = _resolveComponent(\"Navbar\")\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"main\", null, [\n      _createVNode(_component_Navbar, { onChangePage: _ctx.setPage }, null, 8 /* PROPS */, [\"onChangePage\"]),\n      (_openBlock(), _createBlock(_KeepAlive, null, [\n        (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.page), { style: {\"margin\":\"0 auto\",\"max-width\":\"100%\",\"width\":\"100%\",\"min-height\":\"calc(100vh - 32px)\"} }))\n      ], 1024 /* DYNAMIC_SLOTS */))\n    ])\n  ]))\n}", "import script from \"./Home.js?type=script\";import { render } from \"/home/frappe/frappe-bench/apps/posawesome/posawesome/public/js/posapp/Home.vue?type=template\"; script.render = render;script.__file = \"../posawesome/posawesome/public/js/posapp/Home.vue\";export default script;", "import { createApp } from \"vue\";\nimport Home from \"./Home.vue\";\n// Frontend logging: Use console.log/error/warn directly\n\n// Define Vue 3 feature flags for better tree-shaking and performance\n// See: https://link.vuejs.org/feature-flags\nif (typeof window !== \"undefined\") {\n  window.__VUE_OPTIONS_API__ = true;\n  window.__VUE_PROD_DEVTOOLS__ = false;\n  window.__VUE_PROD_HYDRATION_MISMATCH_DETAILS__ = false;\n}\n\n// Define SetVueGlobals function to set up Vue global properties\nfunction SetVueGlobals(app) {\n  // Setting up Vue global properties... (logged to backend only)\n\n  // Set up global properties that components might need\n  app.config.globalProperties.$frappe = frappe;\n\n  // Make common Frappe utilities available globally\n  if (typeof frappe !== \"undefined\") {\n    app.config.globalProperties.$call = frappe.call;\n    app.config.globalProperties.$format = frappe.format;\n    app.config.globalProperties.$db = frappe.db;\n    // Frappe utilities added (logged to backend only)\n  }\n}\n\nfrappe.provide(\"frappe.PosApp\");\n\nfrappe.PosApp.posapp = class {\n  constructor({ parent }) {\n    this.$parent = $(document);\n    this.page = parent.page;\n    this.make_body();\n  }\n\n  make_body() {\n    this.$el = this.$parent.find(\".main-section\");\n\n    const app = createApp(Home);\n\n    // Set up global properties BEFORE mounting\n    SetVueGlobals(app);\n\n    // Store app reference globally for translation updates\n    window.posApp = app;\n\n    // Mount the app\n    app.mount(this.$el[0]);\n  }\n\n  setup_header() {\n    // Implement header setup logic here\n  }\n};\n"],
  "mappings": "qcAAA,EAAE,UAAY,CACZ,OAAO,SAAS,GAAG,YAAa,SAAUA,EAAM,CAC9CA,EAAK,QAASC,GAAY,CAAC,CAAC,CAC9B,CAAC,CACH,CAAC,ECJD,SAASC,GAAQC,EAAKC,EAAkB,CACtC,IAAMC,EAAsB,OAAO,OAAO,IAAI,EACxCC,EAAOH,EAAI,MAAM,GAAG,EAC1B,QAASI,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAC/BF,EAAIC,EAAKC,IAAM,GAEjB,OAAOH,EAAoBI,GAAQ,CAAC,CAACH,EAAIG,EAAI,YAAY,GAAMA,GAAQ,CAAC,CAACH,EAAIG,EAC/E,CAEA,IAAMC,GAA4E,CAAC,EAC7EC,GAA4E,CAAC,EAC7EC,GAAO,IAAM,CACnB,EACMC,GAAK,IAAM,GACXC,GAAO,YACPC,GAAQC,GAAQF,GAAK,KAAKE,CAAG,EAC7BC,GAAmBD,GAAQA,EAAI,WAAW,WAAW,EACrDE,GAAS,OAAO,OAChBC,GAAS,CAACC,EAAKC,IAAO,CAC1B,IAAMb,EAAIY,EAAI,QAAQC,CAAE,EACpBb,EAAI,IACNY,EAAI,OAAOZ,EAAG,CAAC,CAEnB,EACMc,GAAiB,OAAO,UAAU,eAClCC,GAAS,CAACd,EAAKO,IAAQM,GAAe,KAAKb,EAAKO,CAAG,EACnDQ,EAAU,MAAM,QAChBC,GAAShB,GAAQiB,GAAajB,CAAG,IAAM,eACvCkB,GAASlB,GAAQiB,GAAajB,CAAG,IAAM,eACvCmB,GAAUnB,GAAQiB,GAAajB,CAAG,IAAM,gBACxCoB,GAAYpB,GAAQiB,GAAajB,CAAG,IAAM,kBAC1CqB,EAAcrB,GAAQ,OAAOA,GAAQ,WACrCsB,GAAYtB,GAAQ,OAAOA,GAAQ,SACnCuB,GAAYvB,GAAQ,OAAOA,GAAQ,SACnCwB,GAAYxB,GAAQA,IAAQ,MAAQ,OAAOA,GAAQ,SACnDyB,GAAazB,IACTwB,GAASxB,CAAG,GAAKqB,EAAWrB,CAAG,IAAMqB,EAAWrB,EAAI,IAAI,GAAKqB,EAAWrB,EAAI,KAAK,EAErF0B,GAAiB,OAAO,UAAU,SAClCT,GAAgBU,GAAUD,GAAe,KAAKC,CAAK,EACnDC,GAAaD,GACVV,GAAaU,CAAK,EAAE,MAAM,EAAG,EAAE,EAElCE,GAAiB7B,GAAQiB,GAAajB,CAAG,IAAM,kBAC/C8B,GAAgBvB,GAAQe,GAASf,CAAG,GAAKA,IAAQ,OAASA,EAAI,KAAO,KAAO,GAAK,SAASA,EAAK,EAAE,IAAMA,EACvGwB,GAAiCrC,GAErC,qIACF,EAIA,IAAMsC,GAAuBC,GAAO,CAClC,IAAMC,EAAwB,OAAO,OAAO,IAAI,EAChD,OAAQC,GACMD,EAAMC,KACHD,EAAMC,GAAOF,EAAGE,CAAG,EAEtC,EACMC,GAAa,SACbC,GAAWL,GAAqBG,GAC7BA,EAAI,QAAQC,GAAY,CAACE,EAAGC,IAAMA,EAAIA,EAAE,YAAY,EAAI,EAAE,CAClE,EACKC,GAAc,aACdC,GAAYT,GACfG,GAAQA,EAAI,QAAQK,GAAa,KAAK,EAAE,YAAY,CACvD,EACME,GAAaV,GAAqBG,GAC/BA,EAAI,OAAO,CAAC,EAAE,YAAY,EAAIA,EAAI,MAAM,CAAC,CACjD,EACKQ,GAAeX,GAAqBG,GAC9BA,EAAM,KAAKO,GAAWP,CAAG,IAAM,EAE1C,EACKS,GAAa,CAACC,EAAOC,IAAa,CAAC,OAAO,GAAGD,EAAOC,CAAQ,EAC5DC,GAAiB,CAACC,EAAKC,IAAQ,CACnC,QAASC,EAAI,EAAGA,EAAIF,EAAI,OAAQE,IAC9BF,EAAIE,GAAGD,CAAG,CAEd,EACME,GAAM,CAACC,EAAKC,EAAKR,IAAU,CAC/B,OAAO,eAAeO,EAAKC,EAAK,CAC9B,aAAc,GACd,WAAY,GACZ,MAAAR,CACF,CAAC,CACH,EACMS,GAAiBC,GAAQ,CAC7B,IAAMC,EAAI,WAAWD,CAAG,EACxB,OAAO,MAAMC,CAAC,EAAID,EAAMC,CAC1B,EACMC,GAAYF,GAAQ,CACxB,IAAMC,EAAIE,GAASH,CAAG,EAAI,OAAOA,CAAG,EAAI,IACxC,OAAO,MAAMC,CAAC,EAAID,EAAMC,CAC1B,EACIG,GACEC,GAAgB,IACbD,KAAgBA,GAAc,OAAO,YAAe,YAAc,WAAa,OAAO,MAAS,YAAc,KAAO,OAAO,QAAW,YAAc,OAAS,OAAO,QAAW,YAAc,OAAS,CAAC,GA0EhN,SAASE,EAAeC,EAAO,CAC7B,GAAIC,EAAQD,CAAK,EAAG,CAClB,IAAME,EAAM,CAAC,EACb,QAASC,EAAI,EAAGA,EAAIH,EAAM,OAAQG,IAAK,CACrC,IAAMC,EAAOJ,EAAMG,GACbE,EAAaC,GAASF,CAAI,EAAIG,GAAiBH,CAAI,EAAIL,EAAeK,CAAI,EAChF,GAAIC,EACF,QAAWG,KAAOH,EAChBH,EAAIM,GAAOH,EAAWG,EAG5B,CACA,OAAON,CACT,SAAWI,GAASN,CAAK,GAAKS,GAAST,CAAK,EAC1C,OAAOA,CAEX,CACA,IAAMU,GAAkB,gBAClBC,GAAsB,UACtBC,GAAiB,iBACvB,SAASL,GAAiBM,EAAS,CACjC,IAAMC,EAAM,CAAC,EACb,OAAAD,EAAQ,QAAQD,GAAgB,EAAE,EAAE,MAAMF,EAAe,EAAE,QAASN,GAAS,CAC3E,GAAIA,EAAM,CACR,IAAMW,EAAMX,EAAK,MAAMO,EAAmB,EAC1CI,EAAI,OAAS,IAAMD,EAAIC,EAAI,GAAG,KAAK,GAAKA,EAAI,GAAG,KAAK,EACtD,CACF,CAAC,EACMD,CACT,CAeA,SAASE,GAAeC,EAAO,CAC7B,IAAIC,EAAM,GACV,GAAIC,GAASF,CAAK,EAChBC,EAAMD,UACGG,EAAQH,CAAK,EACtB,QAASI,EAAI,EAAGA,EAAIJ,EAAM,OAAQI,IAAK,CACrC,IAAMC,EAAaN,GAAeC,EAAMI,EAAE,EACtCC,IACFJ,GAAOI,EAAa,IAExB,SACSC,GAASN,CAAK,EACvB,QAAWO,KAAQP,EACbA,EAAMO,KACRN,GAAOM,EAAO,KAIpB,OAAON,EAAI,KAAK,CAClB,CAqBA,IAAMO,GAAsB,8EACtBC,GAAuCC,GAAQF,EAAmB,EAClEG,GAAgCD,GACpCF,GAAsB,oJACxB,EACA,SAASI,GAAmBC,EAAO,CACjC,MAAO,CAAC,CAACA,GAASA,IAAU,EAC9B,CAsEA,SAASC,GAAmBC,EAAGC,EAAG,CAChC,GAAID,EAAE,SAAWC,EAAE,OACjB,MAAO,GACT,IAAIC,EAAQ,GACZ,QAAS,EAAI,EAAGA,GAAS,EAAIF,EAAE,OAAQ,IACrCE,EAAQC,GAAWH,EAAE,GAAIC,EAAE,EAAE,EAE/B,OAAOC,CACT,CACA,SAASC,GAAWH,EAAGC,EAAG,CACxB,GAAID,IAAMC,EACR,MAAO,GACT,IAAIG,EAAaC,GAAOL,CAAC,EACrBM,EAAaD,GAAOJ,CAAC,EACzB,GAAIG,GAAcE,EAChB,OAAOF,GAAcE,EAAaN,EAAE,QAAQ,IAAMC,EAAE,QAAQ,EAAI,GAIlE,GAFAG,EAAaG,GAASP,CAAC,EACvBM,EAAaC,GAASN,CAAC,EACnBG,GAAcE,EAChB,OAAON,IAAMC,EAIf,GAFAG,EAAaI,EAAQR,CAAC,EACtBM,EAAaE,EAAQP,CAAC,EAClBG,GAAcE,EAChB,OAAOF,GAAcE,EAAaP,GAAmBC,EAAGC,CAAC,EAAI,GAI/D,GAFAG,EAAaK,GAAST,CAAC,EACvBM,EAAaG,GAASR,CAAC,EACnBG,GAAcE,EAAY,CAC5B,GAAI,CAACF,GAAc,CAACE,EAClB,MAAO,GAET,IAAMI,EAAa,OAAO,KAAKV,CAAC,EAAE,OAC5BW,EAAa,OAAO,KAAKV,CAAC,EAAE,OAClC,GAAIS,IAAeC,EACjB,MAAO,GAET,QAAWC,KAAOZ,EAAG,CACnB,IAAMa,EAAUb,EAAE,eAAeY,CAAG,EAC9BE,EAAUb,EAAE,eAAeW,CAAG,EACpC,GAAIC,GAAW,CAACC,GAAW,CAACD,GAAWC,GAAW,CAACX,GAAWH,EAAEY,GAAMX,EAAEW,EAAI,EAC1E,MAAO,EAEX,CACF,CACA,OAAO,OAAOZ,CAAC,IAAM,OAAOC,CAAC,CAC/B,CACA,SAASc,GAAaC,EAAKC,EAAK,CAC9B,OAAOD,EAAI,UAAWE,GAASf,GAAWe,EAAMD,CAAG,CAAC,CACtD,CAEA,IAAME,EAAmBF,GAChBG,GAASH,CAAG,EAAIA,EAAMA,GAAO,KAAO,GAAKT,EAAQS,CAAG,GAAKR,GAASQ,CAAG,IAAMA,EAAI,WAAaI,IAAkB,CAACC,EAAWL,EAAI,QAAQ,GAAK,KAAK,UAAUA,EAAKM,GAAU,CAAC,EAAI,OAAON,CAAG,EAE3LM,GAAW,CAACC,EAAMP,IAClBA,GAAOA,EAAI,UACNM,GAASC,EAAMP,EAAI,KAAK,EACtBQ,GAAMR,CAAG,EACX,CACL,CAAC,OAAOA,EAAI,SAAU,CAAC,GAAGA,EAAI,QAAQ,CAAC,EAAE,OAAO,CAACS,EAAS,CAACd,EAAKe,CAAI,KAClED,EAAQ,GAAGd,QAAYe,EAChBD,GACN,CAAC,CAAC,CACP,EACSE,GAAMX,CAAG,EACX,CACL,CAAC,OAAOA,EAAI,SAAU,CAAC,GAAGA,EAAI,OAAO,CAAC,CACxC,EACSR,GAASQ,CAAG,GAAK,CAACT,EAAQS,CAAG,GAAK,CAACY,GAAcZ,CAAG,EACtD,OAAOA,CAAG,EAEZA,EC9YT,IAAIa,GACEC,GAAN,KAAkB,CAChB,YAAYC,EAAW,GAAO,CAC5B,KAAK,SAAWA,EAIhB,KAAK,QAAU,GAIf,KAAK,QAAU,CAAC,EAIhB,KAAK,SAAW,CAAC,EACjB,KAAK,OAASF,GACV,CAACE,GAAYF,KACf,KAAK,OAASA,GAAkB,SAAWA,GAAkB,OAAS,CAAC,IAAI,KACzE,IACF,EAAI,EAER,CACA,IAAI,QAAS,CACX,OAAO,KAAK,OACd,CACA,IAAIG,EAAI,CACN,GAAI,KAAK,QAAS,CAChB,IAAMC,EAAqBJ,GAC3B,GAAI,CACF,OAAAA,GAAoB,KACbG,EAAG,CACZ,QAAE,CACAH,GAAoBI,CACtB,CACF,CAGF,CAKA,IAAK,CACHJ,GAAoB,IACtB,CAKA,KAAM,CACJA,GAAoB,KAAK,MAC3B,CACA,KAAKK,EAAY,CACf,GAAI,KAAK,QAAS,CAChB,IAAIC,EAAGC,EACP,IAAKD,EAAI,EAAGC,EAAI,KAAK,QAAQ,OAAQD,EAAIC,EAAGD,IAC1C,KAAK,QAAQA,GAAG,KAAK,EAEvB,IAAKA,EAAI,EAAGC,EAAI,KAAK,SAAS,OAAQD,EAAIC,EAAGD,IAC3C,KAAK,SAASA,GAAG,EAEnB,GAAI,KAAK,OACP,IAAKA,EAAI,EAAGC,EAAI,KAAK,OAAO,OAAQD,EAAIC,EAAGD,IACzC,KAAK,OAAOA,GAAG,KAAK,EAAI,EAG5B,GAAI,CAAC,KAAK,UAAY,KAAK,QAAU,CAACD,EAAY,CAChD,IAAMG,EAAO,KAAK,OAAO,OAAO,IAAI,EAChCA,GAAQA,IAAS,OACnB,KAAK,OAAO,OAAO,KAAK,OAASA,EACjCA,EAAK,MAAQ,KAAK,MAEtB,CACA,KAAK,OAAS,OACd,KAAK,QAAU,EACjB,CACF,CACF,EAIA,SAASC,GAAkBC,EAAQC,EAAQC,GAAmB,CACxDD,GAASA,EAAM,QACjBA,EAAM,QAAQ,KAAKD,CAAM,CAE7B,CACA,SAASG,IAAkB,CACzB,OAAOD,EACT,CAWA,IAAME,GAAaC,GAAY,CAC7B,IAAMC,EAAM,IAAI,IAAID,CAAO,EAC3B,OAAAC,EAAI,EAAI,EACRA,EAAI,EAAI,EACDA,CACT,EACMC,GAAcD,IAASA,EAAI,EAAIE,IAAc,EAC7CC,GAAcH,IAASA,EAAI,EAAIE,IAAc,EAC7CE,GAAiB,CAAC,CAAE,KAAAC,CAAK,IAAM,CACnC,GAAIA,EAAK,OACP,QAASC,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAC/BD,EAAKC,GAAG,GAAKJ,EAGnB,EACMK,GAAsBC,GAAW,CACrC,GAAM,CAAE,KAAAH,CAAK,EAAIG,EACjB,GAAIH,EAAK,OAAQ,CACf,IAAII,EAAM,EACV,QAAS,EAAI,EAAG,EAAIJ,EAAK,OAAQ,IAAK,CACpC,IAAML,EAAMK,EAAK,GACbJ,GAAWD,CAAG,GAAK,CAACG,GAAWH,CAAG,EACpCA,EAAI,OAAOQ,CAAM,EAEjBH,EAAKI,KAAST,EAEhBA,EAAI,GAAK,CAACE,GACVF,EAAI,GAAK,CAACE,EACZ,CACAG,EAAK,OAASI,CAChB,CACF,EAEMC,GAA4B,IAAI,QAClCC,GAAmB,EACnBT,GAAa,EACXU,GAAgB,GAClBC,GACEC,GAAc,OAA+D,EAAE,EAC/EC,GAAsB,OAAuE,EAAE,EAC/FC,GAAN,KAAqB,CACnB,YAAYC,EAAIC,EAAY,KAAMC,EAAO,CACvC,KAAK,GAAKF,EACV,KAAK,UAAYC,EACjB,KAAK,OAAS,GACd,KAAK,KAAO,CAAC,EACb,KAAK,OAAS,OACdE,GAAkB,KAAMD,CAAK,CAC/B,CACA,KAAM,CACJ,GAAI,CAAC,KAAK,OACR,OAAO,KAAK,GAAG,EAEjB,IAAIE,EAASR,GACTS,EAAkBC,GACtB,KAAOF,GAAQ,CACb,GAAIA,IAAW,KACb,OAEFA,EAASA,EAAO,MAClB,CACA,GAAI,CACF,YAAK,OAASR,GACdA,GAAe,KACfU,GAAc,GACdrB,GAAa,GAAK,EAAES,GAChBA,IAAoBC,GACtBR,GAAe,IAAI,EAEnBoB,GAAc,IAAI,EAEb,KAAK,GAAG,CACjB,QAAE,CACIb,IAAoBC,IACtBL,GAAmB,IAAI,EAEzBL,GAAa,GAAK,EAAES,GACpBE,GAAe,KAAK,OACpBU,GAAcD,EACd,KAAK,OAAS,OACV,KAAK,WACP,KAAK,KAAK,CAEd,CACF,CACA,MAAO,CACDT,KAAiB,KACnB,KAAK,UAAY,GACR,KAAK,SACdW,GAAc,IAAI,EACd,KAAK,QACP,KAAK,OAAO,EAEd,KAAK,OAAS,GAElB,CACF,EACA,SAASA,GAAcC,EAAS,CAC9B,GAAM,CAAE,KAAApB,CAAK,EAAIoB,EACjB,GAAIpB,EAAK,OAAQ,CACf,QAASC,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAC/BD,EAAKC,GAAG,OAAOmB,CAAO,EAExBpB,EAAK,OAAS,CAChB,CACF,CAqBA,IAAIqB,GAAc,GACZC,GAAa,CAAC,EACpB,SAASC,IAAgB,CACvBD,GAAW,KAAKD,EAAW,EAC3BA,GAAc,EAChB,CAKA,SAASG,IAAgB,CACvB,IAAMC,EAAOC,GAAW,IAAI,EAC5BC,GAAcF,IAAS,OAAS,GAAOA,CACzC,CACA,SAASG,GAAMC,EAAQC,EAAMC,EAAK,CAChC,GAAIJ,IAAeK,GAAc,CAC/B,IAAIC,EAAUC,GAAU,IAAIL,CAAM,EAC7BI,GACHC,GAAU,IAAIL,EAAQI,EAA0B,IAAI,GAAK,EAE3D,IAAIE,EAAMF,EAAQ,IAAIF,CAAG,EACpBI,GACHF,EAAQ,IAAIF,EAAKI,EAAMC,GAAU,CAAC,EAGpCC,GAAaF,EAD+F,MACjF,CAC7B,CACF,CACA,SAASE,GAAaF,EAAKG,EAAwB,CACjD,IAAIC,EAAe,GACfC,IAAoBC,GACjBC,GAAWP,CAAG,IACjBA,EAAI,GAAKQ,GACTJ,EAAe,CAACK,GAAWT,CAAG,GAGhCI,EAAe,CAACJ,EAAI,IAAIH,EAAY,EAElCO,IACFJ,EAAI,IAAIH,EAAY,EACpBA,GAAa,KAAK,KAAKG,CAAG,EAY9B,CACA,SAASU,GAAQhB,EAAQC,EAAMC,EAAKe,EAAUC,EAAUC,EAAW,CACjE,IAAMf,EAAUC,GAAU,IAAIL,CAAM,EACpC,GAAI,CAACI,EACH,OAEF,IAAIgB,EAAO,CAAC,EACZ,GAAInB,IAAS,QACXmB,EAAO,CAAC,GAAGhB,EAAQ,OAAO,CAAC,UAClBF,IAAQ,UAAYmB,EAAQrB,CAAM,EAAG,CAC9C,IAAMsB,EAAY,OAAOL,CAAQ,EACjCb,EAAQ,QAAQ,CAACE,EAAKiB,IAAS,EACzBA,IAAS,UAAY,CAACC,GAASD,CAAI,GAAKA,GAAQD,IAClDF,EAAK,KAAKd,CAAG,CAEjB,CAAC,CACH,KAIE,QAHIJ,IAAQ,QACVkB,EAAK,KAAKhB,EAAQ,IAAIF,CAAG,CAAC,EAEpBD,OACD,MACEoB,EAAQrB,CAAM,EAKRyB,GAAavB,CAAG,GACzBkB,EAAK,KAAKhB,EAAQ,IAAI,QAAQ,CAAC,GAL/BgB,EAAK,KAAKhB,EAAQ,IAAIsB,EAAW,CAAC,EAC9BC,GAAM3B,CAAM,GACdoB,EAAK,KAAKhB,EAAQ,IAAIwB,EAAmB,CAAC,GAK9C,UACG,SACEP,EAAQrB,CAAM,IACjBoB,EAAK,KAAKhB,EAAQ,IAAIsB,EAAW,CAAC,EAC9BC,GAAM3B,CAAM,GACdoB,EAAK,KAAKhB,EAAQ,IAAIwB,EAAmB,CAAC,GAG9C,UACG,MACCD,GAAM3B,CAAM,GACdoB,EAAK,KAAKhB,EAAQ,IAAIsB,EAAW,CAAC,EAEpC,MAGN,IAAMG,EAA+G,OACrH,GAAIT,EAAK,SAAW,EACdA,EAAK,IAILU,GAAeV,EAAK,EAAE,MAGrB,CACL,IAAMW,EAAU,CAAC,EACjB,QAAWzB,KAAOc,EACZd,GACFyB,EAAQ,KAAK,GAAGzB,CAAG,EAMrBwB,GAAevB,GAAUwB,CAAO,CAAC,CAErC,CACF,CACA,SAASD,GAAexB,EAAKG,EAAwB,CACnD,IAAMsB,EAAUV,EAAQf,CAAG,EAAIA,EAAM,CAAC,GAAGA,CAAG,EAC5C,QAAW0B,KAAWD,EAChBC,EAAQ,UACVC,GAAcD,EAASvB,CAAsB,EAGjD,QAAWuB,KAAWD,EACfC,EAAQ,UACXC,GAAcD,EAASvB,CAAsB,CAGnD,CACA,SAASwB,GAAcD,EAASvB,EAAwB,EAClDuB,IAAY7B,IAAgB6B,EAAQ,gBAIlCA,EAAQ,UACVA,EAAQ,UAAU,EAElBA,EAAQ,IAAI,EAGlB,CAMA,IAAME,GAAqCC,GAAQ,6BAA6B,EAC1EC,GAAiB,IAAI,IACT,OAAO,oBAAoB,MAAM,EAAE,OAAQC,GAAQA,IAAQ,aAAeA,IAAQ,QAAQ,EAAE,IAAKA,GAAQ,OAAOA,EAAI,EAAE,OAAOC,EAAQ,CACvJ,EACMC,GAAwCC,GAA4B,EAC1E,SAASA,IAA8B,CACrC,IAAMC,EAAmB,CAAC,EAC1B,OAAC,WAAY,UAAW,aAAa,EAAE,QAASJ,GAAQ,CACtDI,EAAiBJ,GAAO,YAAYK,EAAM,CACxC,IAAMC,EAAMC,GAAM,IAAI,EACtB,QAASC,EAAI,EAAGC,EAAI,KAAK,OAAQD,EAAIC,EAAGD,IACtCE,GAAMJ,EAAK,MAAOE,EAAI,EAAE,EAE1B,IAAMG,EAAML,EAAIN,GAAK,GAAGK,CAAI,EAC5B,OAAIM,IAAQ,IAAMA,IAAQ,GACjBL,EAAIN,GAAK,GAAGK,EAAK,IAAIE,EAAK,CAAC,EAE3BI,CAEX,CACF,CAAC,EACD,CAAC,OAAQ,MAAO,QAAS,UAAW,QAAQ,EAAE,QAASX,GAAQ,CAC7DI,EAAiBJ,GAAO,YAAYK,EAAM,CACxCO,GAAc,EACd,IAAMD,EAAMJ,GAAM,IAAI,EAAEP,GAAK,MAAM,KAAMK,CAAI,EAC7C,OAAAQ,GAAc,EACPF,CACT,CACF,CAAC,EACMP,CACT,CACA,SAASU,GAAed,EAAK,CAC3B,IAAMe,EAAMR,GAAM,IAAI,EACtB,OAAAG,GAAMK,EAAK,MAAOf,CAAG,EACde,EAAI,eAAef,CAAG,CAC/B,CACA,IAAMgB,GAAN,KAA0B,CACxB,YAAYC,EAAc,GAAOC,EAAW,GAAO,CACjD,KAAK,YAAcD,EACnB,KAAK,SAAWC,CAClB,CACA,IAAIC,EAAQnB,EAAKoB,EAAU,CACzB,IAAMC,EAAc,KAAK,YAAaC,EAAU,KAAK,SACrD,GAAItB,IAAQ,iBACV,MAAO,CAACqB,EACH,GAAIrB,IAAQ,iBACjB,OAAOqB,EACF,GAAIrB,IAAQ,gBACjB,OAAOsB,EACF,GAAItB,IAAQ,WAAaoB,KAAcC,EAAcC,EAAUC,GAAqBC,GAAcF,EAAUG,GAAqBC,IAAa,IAAIP,CAAM,EAC7J,OAAOA,EAET,IAAMQ,EAAgBC,EAAQT,CAAM,EACpC,GAAI,CAACE,EAAa,CAChB,GAAIM,GAAiBE,GAAO3B,GAAuBF,CAAG,EACpD,OAAO,QAAQ,IAAIE,GAAuBF,EAAKoB,CAAQ,EAEzD,GAAIpB,IAAQ,iBACV,OAAOc,EAEX,CACA,IAAMH,EAAM,QAAQ,IAAIQ,EAAQnB,EAAKoB,CAAQ,EAO7C,OANInB,GAASD,CAAG,EAAID,GAAe,IAAIC,CAAG,EAAIH,GAAmBG,CAAG,KAG/DqB,GACHX,GAAMS,EAAQ,MAAOnB,CAAG,EAEtBsB,GACKX,EAELmB,GAAMnB,CAAG,EACJgB,GAAiBI,GAAa/B,CAAG,EAAIW,EAAMA,EAAI,MAEpDqB,GAASrB,CAAG,EACPU,EAAcY,GAAStB,CAAG,EAAIuB,GAASvB,CAAG,EAE5CA,CACT,CACF,EACMwB,GAAN,cAAqCnB,EAAoB,CACvD,YAAYM,EAAU,GAAO,CAC3B,MAAM,GAAOA,CAAO,CACtB,CACA,IAAIH,EAAQnB,EAAKoC,EAAOhB,EAAU,CAChC,IAAIiB,EAAWlB,EAAOnB,GACtB,GAAIsC,GAAWD,CAAQ,GAAKP,GAAMO,CAAQ,GAAK,CAACP,GAAMM,CAAK,EACzD,MAAO,GAET,GAAI,CAAC,KAAK,WACJ,CAACG,GAAUH,CAAK,GAAK,CAACE,GAAWF,CAAK,IACxCC,EAAW9B,GAAM8B,CAAQ,EACzBD,EAAQ7B,GAAM6B,CAAK,GAEjB,CAACR,EAAQT,CAAM,GAAKW,GAAMO,CAAQ,GAAK,CAACP,GAAMM,CAAK,GACrD,OAAAC,EAAS,MAAQD,EACV,GAGX,IAAMI,EAASZ,EAAQT,CAAM,GAAKY,GAAa/B,CAAG,EAAI,OAAOA,CAAG,EAAImB,EAAO,OAASU,GAAOV,EAAQnB,CAAG,EAChGyC,EAAS,QAAQ,IAAItB,EAAQnB,EAAKoC,EAAOhB,CAAQ,EACvD,OAAID,IAAWZ,GAAMa,CAAQ,IACtBoB,EAEME,GAAWN,EAAOC,CAAQ,GACnCM,GAAQxB,EAAQ,MAAOnB,EAAKoC,EAAOC,CAAQ,EAF3CM,GAAQxB,EAAQ,MAAOnB,EAAKoC,CAAK,GAK9BK,CACT,CACA,eAAetB,EAAQnB,EAAK,CAC1B,IAAMwC,EAASX,GAAOV,EAAQnB,CAAG,EAC3BqC,EAAWlB,EAAOnB,GAClByC,EAAS,QAAQ,eAAetB,EAAQnB,CAAG,EACjD,OAAIyC,GAAUD,GACZG,GAAQxB,EAAQ,SAAUnB,EAAK,OAAQqC,CAAQ,EAE1CI,CACT,CACA,IAAItB,EAAQnB,EAAK,CACf,IAAMyC,EAAS,QAAQ,IAAItB,EAAQnB,CAAG,EACtC,OAAI,CAACC,GAASD,CAAG,GAAK,CAACD,GAAe,IAAIC,CAAG,IAC3CU,GAAMS,EAAQ,MAAOnB,CAAG,EAEnByC,CACT,CACA,QAAQtB,EAAQ,CACd,OAAAT,GACES,EACA,UACAS,EAAQT,CAAM,EAAI,SAAWyB,EAC/B,EACO,QAAQ,QAAQzB,CAAM,CAC/B,CACF,EACM0B,GAAN,cAAsC7B,EAAoB,CACxD,YAAYM,EAAU,GAAO,CAC3B,MAAM,GAAMA,CAAO,CACrB,CACA,IAAIH,EAAQnB,EAAK,CAOf,MAAO,EACT,CACA,eAAemB,EAAQnB,EAAK,CAO1B,MAAO,EACT,CACF,EACM8C,GAAkC,IAAIX,GACtCY,GAAmC,IAAIF,GACvCG,GAA0C,IAAIb,GAClD,EACF,EAGA,IAAMc,GAAaC,GAAUA,EACvBC,GAAYC,GAAM,QAAQ,eAAeA,CAAC,EAChD,SAASC,GAAIC,EAAQC,EAAKC,EAAa,GAAOC,EAAY,GAAO,CAC/DH,EAASA,EAAO,QAChB,IAAMI,EAAYC,GAAML,CAAM,EACxBM,EAASD,GAAMJ,CAAG,EACnBC,IACCK,GAAWN,EAAKK,CAAM,GACxBE,GAAMJ,EAAW,MAAOH,CAAG,EAE7BO,GAAMJ,EAAW,MAAOE,CAAM,GAEhC,GAAM,CAAE,IAAKG,CAAK,EAAIZ,GAASO,CAAS,EAClCM,EAAOP,EAAYR,GAAYO,EAAaS,GAAaC,GAC/D,GAAIH,EAAK,KAAKL,EAAWH,CAAG,EAC1B,OAAOS,EAAKV,EAAO,IAAIC,CAAG,CAAC,EACtB,GAAIQ,EAAK,KAAKL,EAAWE,CAAM,EACpC,OAAOI,EAAKV,EAAO,IAAIM,CAAM,CAAC,EACrBN,IAAWI,GACpBJ,EAAO,IAAIC,CAAG,CAElB,CACA,SAASY,GAAIZ,EAAKC,EAAa,GAAO,CACpC,IAAMF,EAAS,KAAK,QACdI,EAAYC,GAAML,CAAM,EACxBM,EAASD,GAAMJ,CAAG,EACxB,OAAKC,IACCK,GAAWN,EAAKK,CAAM,GACxBE,GAAMJ,EAAW,MAAOH,CAAG,EAE7BO,GAAMJ,EAAW,MAAOE,CAAM,GAEzBL,IAAQK,EAASN,EAAO,IAAIC,CAAG,EAAID,EAAO,IAAIC,CAAG,GAAKD,EAAO,IAAIM,CAAM,CAChF,CACA,SAASQ,GAAKd,EAAQE,EAAa,GAAO,CACxC,OAAAF,EAASA,EAAO,QAChB,CAACE,GAAcM,GAAMH,GAAML,CAAM,EAAG,UAAWe,EAAW,EACnD,QAAQ,IAAIf,EAAQ,OAAQA,CAAM,CAC3C,CACA,SAASgB,GAAIpB,EAAO,CAClBA,EAAQS,GAAMT,CAAK,EACnB,IAAMI,EAASK,GAAM,IAAI,EAGzB,OAFcR,GAASG,CAAM,EACR,IAAI,KAAKA,EAAQJ,CAAK,IAEzCI,EAAO,IAAIJ,CAAK,EAChBqB,GAAQjB,EAAQ,MAAOJ,EAAOA,CAAK,GAE9B,IACT,CACA,SAASsB,GAAIjB,EAAKL,EAAO,CACvBA,EAAQS,GAAMT,CAAK,EACnB,IAAMI,EAASK,GAAM,IAAI,EACnB,CAAE,IAAKI,EAAM,IAAKU,CAAK,EAAItB,GAASG,CAAM,EAC5CoB,EAASX,EAAK,KAAKT,EAAQC,CAAG,EAC7BmB,IACHnB,EAAMI,GAAMJ,CAAG,EACfmB,EAASX,EAAK,KAAKT,EAAQC,CAAG,GAIhC,IAAMoB,EAAWF,EAAK,KAAKnB,EAAQC,CAAG,EACtC,OAAAD,EAAO,IAAIC,EAAKL,CAAK,EAChBwB,EAEMb,GAAWX,EAAOyB,CAAQ,GACnCJ,GAAQjB,EAAQ,MAAOC,EAAKL,EAAOyB,CAAQ,EAF3CJ,GAAQjB,EAAQ,MAAOC,EAAKL,CAAK,EAI5B,IACT,CACA,SAAS0B,GAAYrB,EAAK,CACxB,IAAMD,EAASK,GAAM,IAAI,EACnB,CAAE,IAAKI,EAAM,IAAKU,CAAK,EAAItB,GAASG,CAAM,EAC5CoB,EAASX,EAAK,KAAKT,EAAQC,CAAG,EAC7BmB,IACHnB,EAAMI,GAAMJ,CAAG,EACfmB,EAASX,EAAK,KAAKT,EAAQC,CAAG,GAIhC,IAAMoB,EAAWF,EAAOA,EAAK,KAAKnB,EAAQC,CAAG,EAAI,OAC3CsB,EAASvB,EAAO,OAAOC,CAAG,EAChC,OAAImB,GACFH,GAAQjB,EAAQ,SAAUC,EAAK,OAAQoB,CAAQ,EAE1CE,CACT,CACA,SAASC,IAAQ,CACf,IAAMxB,EAASK,GAAM,IAAI,EACnBoB,EAAWzB,EAAO,OAAS,EAC3B0B,EAA4G,OAC5GH,EAASvB,EAAO,MAAM,EAC5B,OAAIyB,GACFR,GAAQjB,EAAQ,QAAS,OAAQ,OAAQ0B,CAAS,EAE7CH,CACT,CACA,SAASI,GAAczB,EAAYC,EAAW,CAC5C,OAAO,SAAiByB,EAAUC,EAAS,CACzC,IAAMC,EAAW,KACX9B,EAAS8B,EAAS,QAClB1B,EAAYC,GAAML,CAAM,EACxBU,EAAOP,EAAYR,GAAYO,EAAaS,GAAaC,GAC/D,OAACV,GAAcM,GAAMJ,EAAW,UAAWW,EAAW,EAC/Cf,EAAO,QAAQ,CAACJ,EAAOK,IACrB2B,EAAS,KAAKC,EAASnB,EAAKd,CAAK,EAAGc,EAAKT,CAAG,EAAG6B,CAAQ,CAC/D,CACH,CACF,CACA,SAASC,GAAqBC,EAAQ9B,EAAYC,EAAW,CAC3D,OAAO,YAAY8B,EAAM,CACvB,IAAMjC,EAAS,KAAK,QACdI,EAAYC,GAAML,CAAM,EACxBkC,EAAcC,GAAM/B,CAAS,EAC7BgC,EAASJ,IAAW,WAAaA,IAAW,OAAO,UAAYE,EAC/DG,EAAYL,IAAW,QAAUE,EACjCI,EAAgBtC,EAAOgC,GAAQ,GAAGC,CAAI,EACtCvB,EAAOP,EAAYR,GAAYO,EAAaS,GAAaC,GAC/D,OAACV,GAAcM,GACbJ,EACA,UACAiC,EAAYE,GAAsBxB,EACpC,EACO,CAEL,MAAO,CACL,GAAM,CAAE,MAAAnB,EAAO,KAAA4C,CAAK,EAAIF,EAAc,KAAK,EAC3C,OAAOE,EAAO,CAAE,MAAA5C,EAAO,KAAA4C,CAAK,EAAI,CAC9B,MAAOJ,EAAS,CAAC1B,EAAKd,EAAM,EAAE,EAAGc,EAAKd,EAAM,EAAE,CAAC,EAAIc,EAAKd,CAAK,EAC7D,KAAA4C,CACF,CACF,EAEA,CAAC,OAAO,WAAY,CAClB,OAAO,IACT,CACF,CACF,CACF,CACA,SAASC,GAAqBC,EAAM,CAClC,OAAO,YAAYT,EAAM,CAQvB,OAAOS,IAAS,SAAW,GAAQA,IAAS,QAAU,OAAS,IACjE,CACF,CACA,SAASC,IAAyB,CAChC,IAAMC,EAA2B,CAC/B,IAAI3C,EAAK,CACP,OAAOF,GAAI,KAAME,CAAG,CACtB,EACA,IAAI,MAAO,CACT,OAAOa,GAAK,IAAI,CAClB,EACA,IAAAD,GACA,IAAAG,GACA,IAAAE,GACA,OAAQI,GACR,MAAAE,GACA,QAASG,GAAc,GAAO,EAAK,CACrC,EACMkB,EAA2B,CAC/B,IAAI5C,EAAK,CACP,OAAOF,GAAI,KAAME,EAAK,GAAO,EAAI,CACnC,EACA,IAAI,MAAO,CACT,OAAOa,GAAK,IAAI,CAClB,EACA,IAAAD,GACA,IAAAG,GACA,IAAAE,GACA,OAAQI,GACR,MAAAE,GACA,QAASG,GAAc,GAAO,EAAI,CACpC,EACMmB,EAA4B,CAChC,IAAI7C,EAAK,CACP,OAAOF,GAAI,KAAME,EAAK,EAAI,CAC5B,EACA,IAAI,MAAO,CACT,OAAOa,GAAK,KAAM,EAAI,CACxB,EACA,IAAIb,EAAK,CACP,OAAOY,GAAI,KAAK,KAAMZ,EAAK,EAAI,CACjC,EACA,IAAKwC,GAAqB,KAAK,EAC/B,IAAKA,GAAqB,KAAK,EAC/B,OAAQA,GAAqB,QAAQ,EACrC,MAAOA,GAAqB,OAAO,EACnC,QAASd,GAAc,GAAM,EAAK,CACpC,EACMoB,EAAmC,CACvC,IAAI9C,EAAK,CACP,OAAOF,GAAI,KAAME,EAAK,GAAM,EAAI,CAClC,EACA,IAAI,MAAO,CACT,OAAOa,GAAK,KAAM,EAAI,CACxB,EACA,IAAIb,EAAK,CACP,OAAOY,GAAI,KAAK,KAAMZ,EAAK,EAAI,CACjC,EACA,IAAKwC,GAAqB,KAAK,EAC/B,IAAKA,GAAqB,KAAK,EAC/B,OAAQA,GAAqB,QAAQ,EACrC,MAAOA,GAAqB,OAAO,EACnC,QAASd,GAAc,GAAM,EAAI,CACnC,EAEA,MADwB,CAAC,OAAQ,SAAU,UAAW,OAAO,QAAQ,EACrD,QAASK,GAAW,CAClCY,EAAyBZ,GAAUD,GACjCC,EACA,GACA,EACF,EACAc,EAA0Bd,GAAUD,GAClCC,EACA,GACA,EACF,EACAa,EAAyBb,GAAUD,GACjCC,EACA,GACA,EACF,EACAe,EAAiCf,GAAUD,GACzCC,EACA,GACA,EACF,CACF,CAAC,EACM,CACLY,EACAE,EACAD,EACAE,CACF,CACF,CACA,GAAM,CACJC,GACAC,GACAC,GACAC,EACF,EAAoBR,GAAuB,EAC3C,SAASS,GAA4BlD,EAAYmD,EAAS,CACxD,IAAMC,EAAmBD,EAAUnD,EAAaiD,GAAkCD,GAA0BhD,EAAa+C,GAA2BD,GACpJ,MAAO,CAAChD,EAAQC,EAAKsD,IACftD,IAAQ,iBACH,CAACC,EACCD,IAAQ,iBACVC,EACED,IAAQ,UACVD,EAEF,QAAQ,IACbwD,GAAOF,EAAkBrD,CAAG,GAAKA,KAAOD,EAASsD,EAAmBtD,EACpEC,EACAsD,CACF,CAEJ,CACA,IAAME,GAA4B,CAChC,IAAqBL,GAA4B,GAAO,EAAK,CAC/D,EACMM,GAA4B,CAChC,IAAqBN,GAA4B,GAAO,EAAI,CAC9D,EACMO,GAA6B,CACjC,IAAqBP,GAA4B,GAAM,EAAK,CAC9D,EAcA,IAAMQ,GAA8B,IAAI,QAClCC,GAAqC,IAAI,QACzCC,GAA8B,IAAI,QAClCC,GAAqC,IAAI,QAC/C,SAASC,GAAcC,EAAS,CAC9B,OAAQA,OACD,aACA,QACH,MAAO,OACJ,UACA,UACA,cACA,UACH,MAAO,WAEP,MAAO,GAEb,CACA,SAASC,GAAcC,EAAO,CAC5B,OAAOA,EAAM,UAAe,CAAC,OAAO,aAAaA,CAAK,EAAI,EAAkBH,GAAcI,GAAUD,CAAK,CAAC,CAC5G,CACA,SAASE,GAASC,EAAQ,CACxB,OAAIC,GAAWD,CAAM,EACZA,EAEFE,GACLF,EACA,GACAG,GACAC,GACAd,EACF,CACF,CACA,SAASe,GAAgBL,EAAQ,CAC/B,OAAOE,GACLF,EACA,GACAM,GACAC,GACAhB,EACF,CACF,CACA,SAASiB,GAASR,EAAQ,CACxB,OAAOE,GACLF,EACA,GACAS,GACAC,GACAlB,EACF,CACF,CAUA,SAASmB,GAAqBC,EAAQC,EAAaC,EAAcC,EAAoBC,EAAU,CAO7F,GANI,CAACC,GAASL,CAAM,GAMhBA,EAAO,SAAc,EAAEC,GAAeD,EAAO,gBAC/C,OAAOA,EAET,IAAMM,EAAgBF,EAAS,IAAIJ,CAAM,EACzC,GAAIM,EACF,OAAOA,EAET,IAAMC,EAAaC,GAAcR,CAAM,EACvC,GAAIO,IAAe,EACjB,OAAOP,EAET,IAAMS,EAAQ,IAAI,MAChBT,EACAO,IAAe,EAAqBJ,EAAqBD,CAC3D,EACA,OAAAE,EAAS,IAAIJ,EAAQS,CAAK,EACnBA,CACT,CACA,SAASC,GAAWC,EAAO,CACzB,OAAIC,GAAWD,CAAK,EACXD,GAAWC,EAAM,OAAU,EAE7B,CAAC,EAAEA,GAASA,EAAM,eAC3B,CACA,SAASC,GAAWD,EAAO,CACzB,MAAO,CAAC,EAAEA,GAASA,EAAM,eAC3B,CACA,SAASE,GAAUF,EAAO,CACxB,MAAO,CAAC,EAAEA,GAASA,EAAM,cAC3B,CACA,SAASG,GAAQH,EAAO,CACtB,OAAOD,GAAWC,CAAK,GAAKC,GAAWD,CAAK,CAC9C,CACA,SAASI,GAAMC,EAAU,CACvB,IAAMC,EAAMD,GAAYA,EAAS,QACjC,OAAOC,EAAMF,GAAME,CAAG,EAAID,CAC5B,CACA,SAASE,GAAQP,EAAO,CACtB,OAAAQ,GAAIR,EAAO,WAAY,EAAI,EACpBA,CACT,CACA,IAAMS,GAAcT,GAAUN,GAASM,CAAK,EAAIU,GAASV,CAAK,EAAIA,EAC5DW,GAAcX,GAAUN,GAASM,CAAK,EAAIY,GAASZ,CAAK,EAAIA,EAElE,SAASa,GAAcC,EAAM,CACvBC,IAAeC,KACjBF,EAAOV,GAAMU,CAAI,EAQfG,GAAaH,EAAK,MAAQA,EAAK,IAAMI,GAAU,EAAE,EAGvD,CACA,SAASC,GAAgBL,EAAMM,EAAQ,CACrCN,EAAOV,GAAMU,CAAI,EACjB,IAAMO,EAAMP,EAAK,IACbO,GASAC,GAAeD,CAAG,CAGxB,CACA,SAASE,GAAMC,EAAG,CAChB,MAAO,CAAC,EAAEA,GAAKA,EAAE,YAAc,GACjC,CACA,SAASC,GAAIzB,EAAO,CAClB,OAAO0B,GAAU1B,EAAO,EAAK,CAC/B,CAIA,SAAS2B,GAAUC,EAAUC,EAAS,CACpC,OAAIC,GAAMF,CAAQ,EACTA,EAEF,IAAIG,GAAQH,EAAUC,CAAO,CACtC,CACA,IAAME,GAAN,KAAc,CACZ,YAAYC,EAAOC,EAAe,CAChC,KAAK,cAAgBA,EACrB,KAAK,IAAM,OACX,KAAK,UAAY,GACjB,KAAK,UAAYA,EAAgBD,EAAQE,GAAMF,CAAK,EACpD,KAAK,OAASC,EAAgBD,EAAQG,GAAWH,CAAK,CACxD,CACA,IAAI,OAAQ,CACV,OAAAI,GAAc,IAAI,EACX,KAAK,MACd,CACA,IAAI,MAAMC,EAAQ,CAChB,IAAMC,EAAiB,KAAK,eAAiBC,GAAUF,CAAM,GAAKG,GAAWH,CAAM,EACnFA,EAASC,EAAiBD,EAASH,GAAMG,CAAM,EAC3CI,GAAWJ,EAAQ,KAAK,SAAS,IACnC,KAAK,UAAYA,EACjB,KAAK,OAASC,EAAiBD,EAASF,GAAWE,CAAM,EACzDK,GAAgB,KAAML,CAAM,EAEhC,CACF,EAIA,SAASM,GAAMC,EAAM,CACnB,OAAOC,GAAMD,CAAI,EAAIA,EAAK,MAAQA,CACpC,CAIA,IAAME,GAAwB,CAC5B,IAAK,CAACC,EAAQC,EAAKC,IAAaC,GAAM,QAAQ,IAAIH,EAAQC,EAAKC,CAAQ,CAAC,EACxE,IAAK,CAACF,EAAQC,EAAKG,EAAOF,IAAa,CACrC,IAAMG,EAAWL,EAAOC,GACxB,OAAIK,GAAMD,CAAQ,GAAK,CAACC,GAAMF,CAAK,GACjCC,EAAS,MAAQD,EACV,IAEA,QAAQ,IAAIJ,EAAQC,EAAKG,EAAOF,CAAQ,CAEnD,CACF,EACA,SAASK,GAAUC,EAAgB,CACjC,OAAOC,GAAWD,CAAc,EAAIA,EAAiB,IAAI,MAAMA,EAAgBT,EAAqB,CACtG,CA4EA,IAAMW,GAAN,KAAsB,CACpB,YAAYC,EAAQC,EAASC,EAAYC,EAAO,CAC9C,KAAK,QAAUF,EACf,KAAK,IAAM,OACX,KAAK,UAAY,GACjB,KAAK,eAAoB,GACzB,KAAK,OAAS,GACd,KAAK,OAAS,IAAIG,GAAeJ,EAAQ,IAAM,CACxC,KAAK,SACR,KAAK,OAAS,GACdK,GAAgB,IAAI,EAExB,CAAC,EACD,KAAK,OAAO,SAAW,KACvB,KAAK,OAAO,OAAS,KAAK,WAAa,CAACF,EACxC,KAAK,eAAoBD,CAC3B,CACA,IAAI,OAAQ,CACV,IAAMI,EAAOC,GAAM,IAAI,EACvB,OAAAC,GAAcF,CAAI,GACdA,EAAK,QAAU,CAACA,EAAK,cACvBA,EAAK,OAAS,GACdA,EAAK,OAASA,EAAK,OAAO,IAAI,GAEzBA,EAAK,MACd,CACA,IAAI,MAAMG,EAAU,CAClB,KAAK,QAAQA,CAAQ,CACvB,CACF,EACA,SAASC,GAASC,EAAiBC,EAAcT,EAAQ,GAAO,CAC9D,IAAIH,EACAa,EACEC,EAAaC,EAAWJ,CAAe,EAC7C,OAAIG,GACFd,EAASW,EACTE,EAEIG,KAEJhB,EAASW,EAAgB,IACzBE,EAASF,EAAgB,KAEd,IAAIZ,GAAgBC,EAAQa,EAAQC,GAAc,CAACD,EAAQV,CAAK,CAM/E,CCpoCA,IAAMc,GAAQ,CAAC,EAOf,SAASC,GAAKC,KAAQC,EAAM,CA+B5B,CACA,SAASC,IAAoB,CAC3B,IAAIC,EAAeC,GAAMA,GAAM,OAAS,GACxC,GAAI,CAACD,EACH,MAAO,CAAC,EAEV,IAAME,EAAkB,CAAC,EACzB,KAAOF,GAAc,CACnB,IAAMG,EAAOD,EAAgB,GACzBC,GAAQA,EAAK,QAAUH,EACzBG,EAAK,eAELD,EAAgB,KAAK,CACnB,MAAOF,EACP,aAAc,CAChB,CAAC,EAEH,IAAMI,EAAiBJ,EAAa,WAAaA,EAAa,UAAU,OACxEA,EAAeI,GAAkBA,EAAe,KAClD,CACA,OAAOF,CACT,CACA,SAASG,GAAYC,EAAO,CAC1B,IAAMC,EAAO,CAAC,EACd,OAAAD,EAAM,QAAQ,CAACE,EAAO,IAAM,CAC1BD,EAAK,KAAK,GAAG,IAAM,EAAI,CAAC,EAAI,CAAC;AAAA,CAChC,EAAG,GAAGE,GAAiBD,CAAK,CAAC,CAC5B,CAAC,EACMD,CACT,CACA,SAASE,GAAiB,CAAE,MAAAC,EAAO,aAAAC,CAAa,EAAG,CACjD,IAAMC,EAAUD,EAAe,EAAI,QAAQA,qBAAkC,GACvEE,EAASH,EAAM,UAAYA,EAAM,UAAU,QAAU,KAAO,GAC5DI,EAAO,QAAQC,GACnBL,EAAM,UACNA,EAAM,KACNG,CACF,IACMG,EAAQ,IAAMJ,EACpB,OAAOF,EAAM,MAAQ,CAACI,EAAM,GAAGG,GAAYP,EAAM,KAAK,EAAGM,CAAK,EAAI,CAACF,EAAOE,CAAK,CACjF,CACA,SAASC,GAAYC,EAAO,CAC1B,IAAMC,EAAM,CAAC,EACPC,EAAO,OAAO,KAAKF,CAAK,EAC9B,OAAAE,EAAK,MAAM,EAAG,CAAC,EAAE,QAASC,GAAQ,CAChCF,EAAI,KAAK,GAAGG,GAAWD,EAAKH,EAAMG,EAAI,CAAC,CACzC,CAAC,EACGD,EAAK,OAAS,GAChBD,EAAI,KAAK,MAAM,EAEVA,CACT,CACA,SAASG,GAAWD,EAAKE,EAAOC,EAAK,CACnC,OAAIC,GAASF,CAAK,GAChBA,EAAQ,KAAK,UAAUA,CAAK,EACrBC,EAAMD,EAAQ,CAAC,GAAGF,KAAOE,GAAO,GAC9B,OAAOA,GAAU,UAAY,OAAOA,GAAU,WAAaA,GAAS,KACtEC,EAAMD,EAAQ,CAAC,GAAGF,KAAOE,GAAO,EAC9BG,GAAMH,CAAK,GACpBA,EAAQD,GAAWD,EAAKM,GAAMJ,EAAM,KAAK,EAAG,EAAI,EACzCC,EAAMD,EAAQ,CAAC,GAAGF,SAAYE,EAAO,GAAG,GACtCK,EAAWL,CAAK,EAClB,CAAC,GAAGF,OAASE,EAAM,KAAO,IAAIA,EAAM,QAAU,IAAI,GAEzDA,EAAQI,GAAMJ,CAAK,EACZC,EAAMD,EAAQ,CAAC,GAAGF,KAAQE,CAAK,EAE1C,CA4CA,SAASM,GAAsBC,EAAIC,EAAUC,EAAMC,EAAM,CACvD,IAAIC,EACJ,GAAI,CACFA,EAAMD,EAAOH,EAAG,GAAGG,CAAI,EAAIH,EAAG,CAChC,OAASK,EAAP,CACAC,GAAYD,EAAKJ,EAAUC,CAAI,CACjC,CACA,OAAOE,CACT,CACA,SAASG,GAA2BP,EAAIC,EAAUC,EAAMC,EAAM,CAC5D,GAAIK,EAAWR,CAAE,EAAG,CAClB,IAAMI,EAAML,GAAsBC,EAAIC,EAAUC,EAAMC,CAAI,EAC1D,OAAIC,GAAOK,GAAUL,CAAG,GACtBA,EAAI,MAAOC,GAAQ,CACjBC,GAAYD,EAAKJ,EAAUC,CAAI,CACjC,CAAC,EAEIE,CACT,CACA,IAAMM,EAAS,CAAC,EAChB,QAASC,EAAI,EAAGA,EAAIX,EAAG,OAAQW,IAC7BD,EAAO,KAAKH,GAA2BP,EAAGW,GAAIV,EAAUC,EAAMC,CAAI,CAAC,EAErE,OAAOO,CACT,CACA,SAASJ,GAAYD,EAAKJ,EAAUC,EAAMU,EAAa,GAAM,CAC3D,IAAMC,EAAeZ,EAAWA,EAAS,MAAQ,KACjD,GAAIA,EAAU,CACZ,IAAIa,EAAMb,EAAS,OACbc,EAAkBd,EAAS,MAC3Be,EAAiFd,EACvF,KAAOY,GAAK,CACV,IAAMG,EAAqBH,EAAI,GAC/B,GAAIG,GACF,QAASN,EAAI,EAAGA,EAAIM,EAAmB,OAAQN,IAC7C,GAAIM,EAAmBN,GAAGN,EAAKU,EAAiBC,CAAS,IAAM,GAC7D,OAINF,EAAMA,EAAI,MACZ,CACA,IAAMI,EAAkBjB,EAAS,WAAW,OAAO,aACnD,GAAIiB,EAAiB,CACnBnB,GACEmB,EACA,KACA,GACA,CAACb,EAAKU,EAAiBC,CAAS,CAClC,EACA,MACF,CACF,CACAG,GAASd,EAAKH,EAAMW,EAAcD,CAAU,CAC9C,CACA,SAASO,GAASd,EAAKH,EAAMW,EAAcD,EAAa,GAAM,CAgB1D,QAAQ,MAAMP,CAAG,CAErB,CAEA,IAAIe,GAAa,GACbC,GAAiB,GACfC,GAAQ,CAAC,EACXC,GAAa,EACXC,GAAsB,CAAC,EACzBC,GAAqB,KACrBC,GAAiB,EACfC,GAAkC,QAAQ,QAAQ,EACpDC,GAAsB,KAE1B,SAASC,GAASC,EAAI,CACpB,IAAMC,EAAIC,IAAuBC,GACjC,OAAOH,EAAKC,EAAE,KAAK,KAAOD,EAAG,KAAK,IAAI,EAAIA,CAAE,EAAIC,CAClD,CACA,SAASG,GAAmBC,EAAI,CAC9B,IAAIC,EAAQC,GAAa,EACrBC,EAAMC,GAAM,OAChB,KAAOH,EAAQE,GAAK,CAClB,IAAME,EAASJ,EAAQE,IAAQ,EACzBG,EAAYF,GAAMC,GAClBE,EAAcC,GAAMF,CAAS,EAC/BC,EAAcP,GAAMO,IAAgBP,GAAMM,EAAU,IACtDL,EAAQI,EAAS,EAEjBF,EAAME,CAEV,CACA,OAAOJ,CACT,CACA,SAASQ,GAASC,EAAK,EACjB,CAACN,GAAM,QAAU,CAACA,GAAM,SAC1BM,EACAC,IAAcD,EAAI,aAAeR,GAAa,EAAIA,EACpD,KACMQ,EAAI,IAAM,KACZN,GAAM,KAAKM,CAAG,EAEdN,GAAM,OAAOL,GAAmBW,EAAI,EAAE,EAAG,EAAGA,CAAG,EAEjDE,GAAW,EAEf,CACA,SAASA,IAAa,CAChB,CAACD,IAAc,CAACE,KAClBA,GAAiB,GACjBhB,GAAsBC,GAAgB,KAAKgB,EAAS,EAExD,CACA,SAASC,GAAcL,EAAK,CAC1B,IAAMM,EAAIZ,GAAM,QAAQM,CAAG,EACvBM,EAAId,IACNE,GAAM,OAAOY,EAAG,CAAC,CAErB,CACA,SAASC,GAAiBC,EAAI,CACvBC,EAAQD,CAAE,EAQbE,GAAoB,KAAK,GAAGF,CAAE,GAP1B,CAACG,IAAsB,CAACA,GAAmB,SAC7CH,EACAA,EAAG,aAAeI,GAAiB,EAAIA,EACzC,IACEF,GAAoB,KAAKF,CAAE,EAK/BN,GAAW,CACb,CACA,SAASW,GAAiBC,EAAMR,EAAIL,GAAaT,GAAa,EAAI,EAAG,CAInE,KAAOc,EAAIZ,GAAM,OAAQY,IAAK,CAC5B,IAAME,EAAKd,GAAMY,GACbE,GAAMA,EAAG,MAIXd,GAAM,OAAOY,EAAG,CAAC,EACjBA,IACAE,EAAG,EAEP,CACF,CACA,SAASO,GAAkBD,EAAM,CAC/B,GAAIJ,GAAoB,OAAQ,CAC9B,IAAMM,EAAU,CAAC,GAAG,IAAI,IAAIN,EAAmB,CAAC,EAEhD,GADAA,GAAoB,OAAS,EACzBC,GAAoB,CACtBA,GAAmB,KAAK,GAAGK,CAAO,EAClC,MACF,CAMA,IALAL,GAAqBK,EAIrBL,GAAmB,KAAK,CAACM,EAAGC,IAAMpB,GAAMmB,CAAC,EAAInB,GAAMoB,CAAC,CAAC,EAChDN,GAAiB,EAAGA,GAAiBD,GAAmB,OAAQC,KAInED,GAAmBC,IAAgB,EAErCD,GAAqB,KACrBC,GAAiB,CACnB,CACF,CACA,IAAMd,GAASE,GAAQA,EAAI,IAAM,KAAO,IAAWA,EAAI,GACjDmB,GAAa,CAACF,EAAGC,IAAM,CAC3B,IAAME,EAAOtB,GAAMmB,CAAC,EAAInB,GAAMoB,CAAC,EAC/B,GAAIE,IAAS,EAAG,CACd,GAAIH,EAAE,KAAO,CAACC,EAAE,IACd,MAAO,GACT,GAAIA,EAAE,KAAO,CAACD,EAAE,IACd,MAAO,EACX,CACA,OAAOG,CACT,EACA,SAAShB,GAAUU,EAAM,CACvBX,GAAiB,GACjBF,GAAa,GAIbP,GAAM,KAAKyB,EAAU,EACrB,IAAME,EAAgGC,GACtG,GAAI,CACF,IAAK9B,GAAa,EAAGA,GAAaE,GAAM,OAAQF,KAAc,CAC5D,IAAMQ,EAAMN,GAAMF,IACdQ,GAAOA,EAAI,SAAW,IAIxBuB,GAAsBvB,EAAK,KAAM,EAAE,CAEvC,CACF,QAAE,CACAR,GAAa,EACbE,GAAM,OAAS,EACfqB,GAAkBD,CAAI,EACtBb,GAAa,GACbd,GAAsB,MAClBO,GAAM,QAAUgB,GAAoB,SACtCN,GAAUU,CAAI,CAElB,CACF,CAuOA,SAASU,GAAKC,EAAUC,KAAUC,EAAS,CACzC,GAAIF,EAAS,YACX,OACF,IAAMG,EAAQH,EAAS,MAAM,OAASI,GA0BlCC,EAAOH,EACLI,EAAkBL,EAAM,WAAW,SAAS,EAC5CM,EAAWD,GAAmBL,EAAM,MAAM,CAAC,EACjD,GAAIM,GAAYA,KAAYJ,EAAO,CACjC,IAAMK,EAAe,GAAGD,IAAa,aAAe,QAAUA,aACxD,CAAE,OAAAE,EAAQ,KAAAC,CAAK,EAAIP,EAAMK,IAAiBJ,GAC5CM,IACFL,EAAOH,EAAQ,IAAKS,GAAMC,GAASD,CAAC,EAAIA,EAAE,KAAK,EAAIA,CAAC,GAElDF,IACFJ,EAAOH,EAAQ,IAAIW,EAAa,EAEpC,CAeA,IAAIC,EACAC,EAAUZ,EAAMW,EAAcE,GAAaf,CAAK,IACpDE,EAAMW,EAAcE,GAAaC,GAAShB,CAAK,CAAC,GAC5C,CAACc,GAAWT,IACdS,EAAUZ,EAAMW,EAAcE,GAAaE,GAAUjB,CAAK,CAAC,IAEzDc,GACFI,GACEJ,EACAf,EACA,EACAK,CACF,EAEF,IAAMe,EAAcjB,EAAMW,EAAc,QACxC,GAAIM,EAAa,CACf,GAAI,CAACpB,EAAS,QACZA,EAAS,QAAU,CAAC,UACXA,EAAS,QAAQc,GAC1B,OAEFd,EAAS,QAAQc,GAAe,GAChCK,GACEC,EACApB,EACA,EACAK,CACF,CACF,CACF,CACA,SAASgB,GAAsBC,EAAMC,EAAYC,EAAU,GAAO,CAChE,IAAMC,EAAQF,EAAW,WACnBG,EAASD,EAAM,IAAIH,CAAI,EAC7B,GAAII,IAAW,OACb,OAAOA,EAET,IAAMC,EAAML,EAAK,MACbM,EAAa,CAAC,EACdC,EAAa,GACjB,GAA2B,CAACC,EAAWR,CAAI,EAAG,CAC5C,IAAMS,EAAeC,GAAS,CAC5B,IAAMC,EAAuBZ,GAAsBW,EAAMT,EAAY,EAAI,EACrEU,IACFJ,EAAa,GACbK,GAAON,EAAYK,CAAoB,EAE3C,EACI,CAACT,GAAWD,EAAW,OAAO,QAChCA,EAAW,OAAO,QAAQQ,CAAW,EAEnCT,EAAK,SACPS,EAAYT,EAAK,OAAO,EAEtBA,EAAK,QACPA,EAAK,OAAO,QAAQS,CAAW,CAEnC,CACA,MAAI,CAACJ,GAAO,CAACE,GACPM,GAASb,CAAI,GACfG,EAAM,IAAIH,EAAM,IAAI,EAEf,OAELc,EAAQT,CAAG,EACbA,EAAI,QAASU,GAAQT,EAAWS,GAAO,IAAI,EAE3CH,GAAON,EAAYD,CAAG,EAEpBQ,GAASb,CAAI,GACfG,EAAM,IAAIH,EAAMM,CAAU,EAErBA,EACT,CACA,SAASU,GAAeC,EAASF,EAAK,CACpC,MAAI,CAACE,GAAW,CAACC,GAAKH,CAAG,EAChB,IAETA,EAAMA,EAAI,MAAM,CAAC,EAAE,QAAQ,QAAS,EAAE,EAC/BI,GAAOF,EAASF,EAAI,GAAG,YAAY,EAAIA,EAAI,MAAM,CAAC,CAAC,GAAKI,GAAOF,EAASrB,GAAUmB,CAAG,CAAC,GAAKI,GAAOF,EAASF,CAAG,EACvH,CAEA,IAAIK,GAA2B,KAC3BC,GAAiB,KACrB,SAASC,GAA4B5C,EAAU,CAC7C,IAAM6C,EAAOH,GACb,OAAAA,GAA2B1C,EAC3B2C,GAAiB3C,GAAYA,EAAS,KAAK,WAAa,KACjD6C,CACT,CAQA,SAASC,GAAQC,EAAIC,EAAMC,GAA0BC,EAAiB,CAGpE,GAFI,CAACF,GAEDD,EAAG,GACL,OAAOA,EAET,IAAMI,EAAsB,IAAIC,IAAS,CACnCD,EAAoB,IACtBE,GAAiB,EAAE,EAErB,IAAMC,EAAeC,GAA4BP,CAAG,EAChDQ,EACJ,GAAI,CACFA,EAAMT,EAAG,GAAGK,CAAI,CAClB,QAAE,CACAG,GAA4BD,CAAY,EACpCH,EAAoB,IACtBE,GAAiB,CAAC,CAEtB,CAIA,OAAOG,CACT,EACA,OAAAL,EAAoB,GAAK,GACzBA,EAAoB,GAAK,GACzBA,EAAoB,GAAK,GAClBA,CACT,CAMA,SAASM,GAAoBC,EAAU,CACrC,GAAM,CACJ,KAAMC,EACN,MAAAC,EACA,MAAAC,EACA,UAAAC,EACA,MAAAC,EACA,aAAc,CAACC,CAAY,EAC3B,MAAAC,EACA,MAAAC,EACA,KAAAC,EACA,OAAAC,EACA,YAAAC,EACA,KAAAC,EACA,WAAAC,EACA,IAAAC,EACA,aAAAC,CACF,EAAIf,EACAgB,EACAC,EACEC,EAAOC,GAA4BnB,CAAQ,EAIjD,GAAI,CACF,GAAIE,EAAM,UAAY,EAAG,CACvB,IAAMkB,EAAahB,GAAaD,EAC1BkB,GASDD,EACLJ,EAASM,GACPZ,EAAO,KACLW,GACAD,EACAT,EACAN,EACAQ,EACAD,EACAE,CACF,CACF,EACAG,EAAmBT,CACrB,KAAO,CACL,IAAMe,EAAUtB,EAIhBe,EAASM,GACPC,EAAQ,OAAS,EAAIA,EACnBlB,EAQI,CAAE,MAAAG,EAAO,MAAAD,EAAO,KAAAE,CAAK,CAC3B,EAAIc,EACFlB,EACA,IAEF,CACF,EACAY,EAAmBhB,EAAU,MAAQO,EAAQgB,GAAyBhB,CAAK,CAC7E,CACF,OAASiB,EAAP,CACAC,GAAW,OAAS,EACpBC,GAAYF,EAAKzB,EAAU,CAAC,EAC5BgB,EAASY,GAAYC,EAAO,CAC9B,CACA,IAAIC,EAAOd,EACPe,EAIJ,GAAId,GAAoBF,IAAiB,GAAO,CAC9C,IAAMiB,EAAO,OAAO,KAAKf,CAAgB,EACnC,CAAE,UAAAgB,EAAU,EAAIH,EAClBE,EAAK,QACHC,GAAa,IACX3B,GAAgB0B,EAAK,KAAKE,EAAe,IAC3CjB,EAAmBkB,GACjBlB,EACAX,CACF,GAEFwB,EAAOM,GAAWN,EAAMb,CAAgB,EA2B9C,CACA,OAAIf,EAAM,OAMR4B,EAAOM,GAAWN,CAAI,EACtBA,EAAK,KAAOA,EAAK,KAAOA,EAAK,KAAK,OAAO5B,EAAM,IAAI,EAAIA,EAAM,MAE3DA,EAAM,aAMR4B,EAAK,WAAa5B,EAAM,YAKxBc,EAASc,EAEXX,GAA4BD,CAAI,EACzBF,CACT,CAwCA,IAAMqB,GAA4BC,GAAU,CAC1C,IAAIC,EACJ,QAAWC,KAAOF,GACZE,IAAQ,SAAWA,IAAQ,SAAWC,GAAKD,CAAG,MAC/CD,IAAQA,EAAM,CAAC,IAAIC,GAAOF,EAAME,IAGrC,OAAOD,CACT,EACMG,GAAuB,CAACJ,EAAOK,IAAU,CAC7C,IAAMJ,EAAM,CAAC,EACb,QAAWC,KAAOF,GACZ,CAACM,GAAgBJ,CAAG,GAAK,EAAEA,EAAI,MAAM,CAAC,IAAKG,MAC7CJ,EAAIC,GAAOF,EAAME,IAGrB,OAAOD,CACT,EAIA,SAASM,GAAsBC,EAAWC,EAAWC,EAAW,CAC9D,GAAM,CAAE,MAAOC,EAAW,SAAUC,EAAc,UAAAC,CAAU,EAAIL,EAC1D,CAAE,MAAOM,EAAW,SAAUC,EAAc,UAAAC,CAAU,EAAIP,EAC1DQ,EAAQJ,EAAU,aAIxB,GAAIJ,EAAU,MAAQA,EAAU,WAC9B,MAAO,GAET,GAAIC,GAAaM,GAAa,EAAG,CAC/B,GAAIA,EAAY,KACd,MAAO,GAET,GAAIA,EAAY,GACd,OAAKL,EAGEO,GAAgBP,EAAWG,EAAWG,CAAK,EAFzC,CAAC,CAACH,EAGN,GAAIE,EAAY,EAAG,CACxB,IAAMG,EAAeV,EAAU,aAC/B,QAASW,EAAI,EAAGA,EAAID,EAAa,OAAQC,IAAK,CAC5C,IAAMC,EAAMF,EAAaC,GACzB,GAAIN,EAAUO,KAASV,EAAUU,IAAQ,CAACC,GAAeL,EAAOI,CAAG,EACjE,MAAO,EAEX,CACF,CACF,KACE,QAAIT,GAAgBG,KACd,CAACA,GAAgB,CAACA,EAAa,SAC1B,GAGPJ,IAAcG,EACT,GAEJH,EAGAG,EAGEI,GAAgBP,EAAWG,EAAWG,CAAK,EAFzC,GAHA,CAAC,CAACH,EAOb,MAAO,EACT,CACA,SAASI,GAAgBP,EAAWG,EAAWS,EAAc,CAC3D,IAAMC,EAAW,OAAO,KAAKV,CAAS,EACtC,GAAIU,EAAS,SAAW,OAAO,KAAKb,CAAS,EAAE,OAC7C,MAAO,GAET,QAASS,EAAI,EAAGA,EAAII,EAAS,OAAQJ,IAAK,CACxC,IAAMC,EAAMG,EAASJ,GACrB,GAAIN,EAAUO,KAASV,EAAUU,IAAQ,CAACC,GAAeC,EAAcF,CAAG,EACxE,MAAO,EAEX,CACA,MAAO,EACT,CACA,SAASI,GAAgB,CAAE,MAAAC,EAAO,OAAAC,CAAO,EAAGC,EAAI,CAC9C,KAAOD,GAAUA,EAAO,UAAYD,IACjCA,EAAQC,EAAO,OAAO,GAAKC,EAC5BD,EAASA,EAAO,MAEpB,CAEA,IAAME,GAAa,aAEnB,SAASC,GAAiBC,EAAMC,EAAoB,CAClD,OAAOC,GAAaC,GAAYH,EAAM,GAAMC,CAAkB,GAAKD,CACrE,CACA,IAAMI,GAAyB,OAAO,IAAI,OAAO,EACjD,SAASC,GAAwBC,EAAW,CAC1C,OAAIC,GAASD,CAAS,EACbJ,GAAaC,GAAYG,EAAW,EAAK,GAAKA,EAE9CA,GAAaF,EAExB,CAIA,SAASI,GAAaC,EAAMC,EAAMC,EAAc,GAAMC,EAAqB,GAAO,CAChF,IAAMC,EAAWC,IAA4BC,GAC7C,GAAIF,EAAU,CACZ,IAAMG,EAAYH,EAAS,KAC3B,GAAIJ,IAASQ,GAAY,CACvB,IAAMC,EAAWC,GACfH,EACA,EAEF,EACA,GAAIE,IAAaA,IAAaR,GAAQQ,IAAaE,GAASV,CAAI,GAAKQ,IAAaG,GAAWD,GAASV,CAAI,CAAC,GACzG,OAAOM,CAEX,CACA,IAAMM,EAGJC,GAAQV,EAASJ,IAASO,EAAUP,GAAOC,CAAI,GAC/Ca,GAAQV,EAAS,WAAWJ,GAAOC,CAAI,EAEzC,MAAI,CAACY,GAAOV,EACHI,EAOFM,CACT,CAKF,CACA,SAASC,GAAQC,EAAUd,EAAM,CAC/B,OAAOc,IAAaA,EAASd,IAASc,EAASJ,GAASV,CAAI,IAAMc,EAASH,GAAWD,GAASV,CAAI,CAAC,GACtG,CAEA,IAAMe,GAAchB,GAASA,EAAK,aAiiBlC,SAASiB,GAAwBC,EAAIC,EAAU,CACzCA,GAAYA,EAAS,cACnBC,EAAQF,CAAE,EACZC,EAAS,QAAQ,KAAK,GAAGD,CAAE,EAE3BC,EAAS,QAAQ,KAAKD,CAAE,EAG1BG,GAAiBH,CAAE,CAEvB,CAgCA,IAAMI,GAAwB,CAAC,EAC/B,SAASC,GAAMC,EAAQC,EAAIC,EAAS,CAMlC,OAAOC,GAAQH,EAAQC,EAAIC,CAAO,CACpC,CACA,SAASC,GAAQH,EAAQC,EAAI,CAAE,UAAAG,EAAW,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,UAAAC,CAAU,EAAIC,GAAW,CACvF,IAAIC,EAaJ,IAAMC,EAAqBC,GAAM,CAC/BC,GACE,yBACAD,EACA,4GACF,CACF,EACME,EAAWC,GAAgB,MAAQL,EAAKM,KAAoB,KAAO,OAASN,EAAG,OAASM,GAAkB,KAC5GC,EACAC,EAAe,GACfC,EAAgB,GA4CpB,GA3CIC,GAAMpB,CAAM,GACdiB,EAAS,IAAMjB,EAAO,MACtBkB,EAAeG,GAAYrB,CAAM,GACxBsB,GAAWtB,CAAM,GAC1BiB,EAAS,IAAMjB,EACfK,EAAO,IACEkB,EAAQvB,CAAM,GACvBmB,EAAgB,GAChBD,EAAelB,EAAO,KAAMY,GAAMU,GAAWV,CAAC,GAAKS,GAAYT,CAAC,CAAC,EACjEK,EAAS,IAAMjB,EAAO,IAAKY,GAAM,CAC/B,GAAIQ,GAAMR,CAAC,EACT,OAAOA,EAAE,MACJ,GAAIU,GAAWV,CAAC,EACrB,OAAOY,GAASZ,CAAC,EACZ,GAAIa,EAAWb,CAAC,EACrB,OAAOc,GAAsBd,EAAGE,EAAU,CAAC,CAI/C,CAAC,GACQW,EAAWzB,CAAM,EACtBC,EACFgB,EAAS,IAAMS,GAAsB1B,EAAQc,EAAU,CAAC,EAExDG,EAAS,IAAM,CACb,GAAI,EAAAH,GAAYA,EAAS,aAGzB,OAAIa,GACFA,EAAQ,EAEHC,GACL5B,EACAc,EACA,EACA,CAACe,CAAS,CACZ,CACF,EAGFZ,EAASa,GAGP7B,GAAMI,EAAM,CACd,IAAM0B,EAAad,EACnBA,EAAS,IAAMO,GAASO,EAAW,CAAC,CACtC,CACA,IAAIJ,EACAE,EAAaG,GAAO,CACtBL,EAAUM,EAAO,OAAS,IAAM,CAC9BP,GAAsBM,EAAIlB,EAAU,CAAC,EACrCa,EAAUM,EAAO,OAAS,MAC5B,CACF,EACIC,EACJ,GAAIC,GAWF,GAVAN,EAAYC,GACP7B,EAEMG,GACTwB,GAA2B3B,EAAIa,EAAU,EAAG,CAC1CG,EAAO,EACPE,EAAgB,CAAC,EAAI,OACrBU,CACF,CAAC,EANDZ,EAAO,EAQLX,IAAU,OAAQ,CACpB,IAAM8B,EAAMC,GAAc,EAC1BH,EAAaE,EAAI,mBAAqBA,EAAI,iBAAmB,CAAC,EAChE,KACE,QAAON,GAGX,IAAIQ,EAAWnB,EAAgB,IAAI,MAAMnB,EAAO,MAAM,EAAE,KAAKF,EAAqB,EAAIA,GAChFyC,EAAM,IAAM,CAChB,GAAI,EAACN,EAAO,OAGZ,GAAIhC,EAAI,CACN,IAAMuC,EAAWP,EAAO,IAAI,GACxB5B,GAAQa,IAAiBC,EAAgBqB,EAAS,KAAK,CAACC,GAAGC,KAAMC,GAAWF,GAAGH,EAASI,GAAE,CAAC,EAAIC,GAAWH,EAAUF,CAAQ,MAC1HX,GACFA,EAAQ,EAEVC,GAA2B3B,EAAIa,EAAU,EAAG,CAC1C0B,EAEAF,IAAaxC,GAAwB,OAASqB,GAAiBmB,EAAS,KAAOxC,GAAwB,CAAC,EAAIwC,EAC5GT,CACF,CAAC,EACDS,EAAWE,EAEf,MACEP,EAAO,IAAI,CAEf,EACAM,EAAI,aAAe,CAAC,CAACtC,EACrB,IAAI2C,EACAtC,IAAU,OACZsC,EAAYL,EACHjC,IAAU,OACnBsC,EAAY,IAAMC,GAAsBN,EAAKzB,GAAYA,EAAS,QAAQ,GAE1EyB,EAAI,IAAM,GACNzB,IACFyB,EAAI,GAAKzB,EAAS,KACpB8B,EAAY,IAAME,GAASP,CAAG,GAEhC,IAAMN,EAAS,IAAIc,GAAe9B,EAAQ2B,CAAS,EAK/C3C,EACEG,EACFmC,EAAI,EAEJD,EAAWL,EAAO,IAAI,EAEf3B,IAAU,OACnBuC,GACEZ,EAAO,IAAI,KAAKA,CAAM,EACtBnB,GAAYA,EAAS,QACvB,EAEAmB,EAAO,IAAI,EAEb,IAAMe,EAAU,IAAM,CACpBf,EAAO,KAAK,EACRnB,GAAYA,EAAS,OACvBmC,GAAOnC,EAAS,MAAM,QAASmB,CAAM,CAEzC,EACA,OAAIC,GACFA,EAAW,KAAKc,CAAO,EAClBA,CACT,CACA,SAASE,GAAclD,EAAQmD,EAAOjD,EAAS,CAC7C,IAAMkD,EAAa,KAAK,MAClBnC,EAASoC,GAASrD,CAAM,EAAIA,EAAO,SAAS,GAAG,EAAIsD,GAAiBF,EAAYpD,CAAM,EAAI,IAAMoD,EAAWpD,GAAUA,EAAO,KAAKoD,EAAYA,CAAU,EACzJnD,EACAwB,EAAW0B,CAAK,EAClBlD,EAAKkD,GAELlD,EAAKkD,EAAM,QACXjD,EAAUiD,GAEZ,IAAMI,EAAMvC,GACZwC,GAAmB,IAAI,EACvB,IAAMC,EAAMtD,GAAQc,EAAQhB,EAAG,KAAKmD,CAAU,EAAGlD,CAAO,EACxD,OAAIqD,EACFC,GAAmBD,CAAG,EAEtBG,GAAqB,EAEhBD,CACT,CACA,SAASH,GAAiBlB,EAAKuB,EAAM,CACnC,IAAMC,EAAWD,EAAK,MAAM,GAAG,EAC/B,MAAO,IAAM,CACX,IAAIJ,EAAMnB,EACV,QAASM,EAAI,EAAGA,EAAIkB,EAAS,QAAUL,EAAKb,IAC1Ca,EAAMA,EAAIK,EAASlB,IAErB,OAAOa,CACT,CACF,CACA,SAAS/B,GAAS2B,EAAOU,EAAM,CAK7B,GAJI,CAACC,GAASX,CAAK,GAAKA,EAAM,WAG9BU,EAAOA,GAAwB,IAAI,IAC/BA,EAAK,IAAIV,CAAK,GAChB,OAAOA,EAGT,GADAU,EAAK,IAAIV,CAAK,EACV/B,GAAM+B,CAAK,EACb3B,GAAS2B,EAAM,MAAOU,CAAI,UACjBtC,EAAQ4B,CAAK,EACtB,QAAST,EAAI,EAAGA,EAAIS,EAAM,OAAQT,IAChClB,GAAS2B,EAAMT,GAAImB,CAAI,UAEhBE,GAAMZ,CAAK,GAAKa,GAAMb,CAAK,EACpCA,EAAM,QAASV,GAAM,CACnBjB,GAASiB,EAAGoB,CAAI,CAClB,CAAC,UACQI,GAAcd,CAAK,EAC5B,QAAWe,KAAOf,EAChB3B,GAAS2B,EAAMe,GAAML,CAAI,EAG7B,OAAOV,CACT,CAOA,SAASgB,GAAeC,EAAOC,EAAY,CACzC,IAAMC,EAAmBC,GACzB,GAAID,IAAqB,KAEvB,OAAOF,EAET,IAAMI,EAAWC,GAAeH,CAAgB,GAAKA,EAAiB,MAChEI,EAAWN,EAAM,OAASA,EAAM,KAAO,CAAC,GAC9C,QAASO,EAAI,EAAGA,EAAIN,EAAW,OAAQM,IAAK,CAC1C,GAAI,CAACC,EAAKC,EAAOC,EAAKC,EAAYC,EAAS,EAAIX,EAAWM,GACtDC,IACEK,EAAWL,CAAG,IAChBA,EAAM,CACJ,QAASA,EACT,QAASA,CACX,GAEEA,EAAI,MACNM,GAASL,CAAK,EAEhBH,EAAS,KAAK,CACZ,IAAAE,EACA,SAAAJ,EACA,MAAAK,EACA,SAAU,OACV,IAAAC,EACA,UAAAC,CACF,CAAC,EAEL,CACA,OAAOX,CACT,CACA,SAASe,GAAoBf,EAAOgB,EAAWZ,EAAUa,EAAM,CAC7D,IAAMX,EAAWN,EAAM,KACjBkB,EAAcF,GAAaA,EAAU,KAC3C,QAAST,EAAI,EAAGA,EAAID,EAAS,OAAQC,IAAK,CACxC,IAAMY,EAAUb,EAASC,GACrBW,IACFC,EAAQ,SAAWD,EAAYX,GAAG,OAEpC,IAAIa,EAAOD,EAAQ,IAAIF,GACnBG,IACFC,GAAc,EACdC,GAA2BF,EAAMhB,EAAU,EAAG,CAC5CJ,EAAM,GACNmB,EACAnB,EACAgB,CACF,CAAC,EACDO,GAAc,EAElB,CACF,CAEA,IAAMC,GAAa,OAAO,UAAU,EAC9BC,GAAa,OAAO,UAAU,EACpC,SAASC,IAAqB,CAC5B,IAAMC,EAAQ,CACZ,UAAW,GACX,UAAW,GACX,aAAc,GACd,cAA+B,IAAI,GACrC,EACA,OAAAC,GAAU,IAAM,CACdD,EAAM,UAAY,EACpB,CAAC,EACDE,GAAgB,IAAM,CACpBF,EAAM,aAAe,EACvB,CAAC,EACMA,CACT,CACA,IAAMG,GAA0B,CAAC,SAAU,KAAK,EAC1CC,GAAgC,CACpC,KAAM,OACN,OAAQ,QACR,UAAW,QAEX,cAAeD,GACf,QAASA,GACT,aAAcA,GACd,iBAAkBA,GAElB,cAAeA,GACf,QAASA,GACT,aAAcA,GACd,iBAAkBA,GAElB,eAAgBA,GAChB,SAAUA,GACV,cAAeA,GACf,kBAAmBA,EACrB,EACME,GAAqB,CACzB,KAAM,iBACN,MAAOD,GACP,MAAME,EAAO,CAAE,MAAAC,CAAM,EAAG,CACtB,IAAM9B,EAAW+B,GAAmB,EAC9BR,EAAQD,GAAmB,EAC7BU,EACJ,MAAO,IAAM,CACX,IAAMC,EAAWH,EAAM,SAAWI,GAAyBJ,EAAM,QAAQ,EAAG,EAAI,EAChF,GAAI,CAACG,GAAY,CAACA,EAAS,OACzB,OAEF,IAAIE,EAAQF,EAAS,GACrB,GAAIA,EAAS,OAAS,EAAG,CACvB,IAAIG,EAAW,GACf,QAAWC,KAAKJ,EACd,GAAII,EAAE,OAASC,GAAS,CAOtBH,EAAQE,EACRD,EAAW,GAET,KACJ,CAEJ,CACA,IAAMG,EAAWC,GAAMX,CAAK,EACtB,CAAE,KAAAY,CAAK,EAAIF,EAIjB,GAAIhB,EAAM,UACR,OAAOmB,GAAiBP,CAAK,EAE/B,IAAMQ,EAAaC,GAAkBT,CAAK,EAC1C,GAAI,CAACQ,EACH,OAAOD,GAAiBP,CAAK,EAE/B,IAAMU,EAAaC,GACjBH,EACAJ,EACAhB,EACAvB,CACF,EACA+C,GAAmBJ,EAAYE,CAAU,EACzC,IAAMG,EAAWhD,EAAS,QACpBiD,EAAgBD,GAAYJ,GAAkBI,CAAQ,EACxDE,EAAuB,GACrB,CAAE,iBAAAC,CAAiB,EAAIR,EAAW,KACxC,GAAIQ,EAAkB,CACpB,IAAMC,EAAMD,EAAiB,EACzBnB,IAAsB,OACxBA,EAAoBoB,EACXA,IAAQpB,IACjBA,EAAoBoB,EACpBF,EAAuB,GAE3B,CACA,GAAID,GAAiBA,EAAc,OAASX,KAAY,CAACe,GAAgBV,EAAYM,CAAa,GAAKC,GAAuB,CAC5H,IAAMI,EAAeR,GACnBG,EACAV,EACAhB,EACAvB,CACF,EAEA,GADA+C,GAAmBE,EAAeK,CAAY,EAC1Cb,IAAS,SACX,OAAAlB,EAAM,UAAY,GAClB+B,EAAa,WAAa,IAAM,CAC9B/B,EAAM,UAAY,GACdvB,EAAS,OAAO,SAAW,IAC7BA,EAAS,OAAO,CAEpB,EACO0C,GAAiBP,CAAK,EACpBM,IAAS,UAAYE,EAAW,OAASL,KAClDgB,EAAa,WAAa,CAACC,EAAIC,EAAaC,IAAiB,CAC3D,IAAMC,EAAqBC,GACzBpC,EACA0B,CACF,EACAS,EAAmB,OAAOT,EAAc,GAAG,GAAKA,EAChDM,EAAGnC,IAAc,IAAM,CACrBoC,EAAY,EACZD,EAAGnC,IAAc,OACjB,OAAOyB,EAAW,YACpB,EACAA,EAAW,aAAeY,CAC5B,EAEJ,CACA,OAAOtB,CACT,CACF,CACF,EACMyB,GAAiBhC,GACvB,SAAS+B,GAAuBpC,EAAO3B,EAAO,CAC5C,GAAM,CAAE,cAAAiE,CAAc,EAAItC,EACtBmC,EAAqBG,EAAc,IAAIjE,EAAM,IAAI,EACrD,OAAK8D,IACHA,EAAqC,OAAO,OAAO,IAAI,EACvDG,EAAc,IAAIjE,EAAM,KAAM8D,CAAkB,GAE3CA,CACT,CACA,SAASZ,GAAuBlD,EAAOiC,EAAON,EAAOvB,EAAU,CAC7D,GAAM,CACJ,OAAA8D,EACA,KAAArB,EACA,UAAAsB,EAAY,GACZ,cAAAC,EACA,QAAAC,EACA,aAAAC,EACA,iBAAAC,EACA,cAAAC,EACA,QAAAC,EACA,aAAAC,EACA,iBAAAC,EACA,eAAAC,EACA,SAAAC,EACA,cAAAC,EACA,kBAAAC,CACF,EAAI9C,EACEuB,EAAM,OAAOxD,EAAM,GAAG,EACtB8D,EAAqBC,GAAuBpC,EAAO3B,CAAK,EACxDgF,EAAW,CAAC5D,EAAM6D,IAAS,CAC/B7D,GAAQE,GACNF,EACAhB,EACA,EACA6E,CACF,CACF,EACMC,GAAgB,CAAC9D,EAAM6D,IAAS,CACpC,IAAME,EAAOF,EAAK,GAClBD,EAAS5D,EAAM6D,CAAI,EACfG,EAAQhE,CAAI,EACVA,EAAK,MAAOiE,IAAUA,GAAM,QAAU,CAAC,GACzCF,EAAK,EACE/D,EAAK,QAAU,GACxB+D,EAAK,CAET,EACMG,GAAQ,CACZ,KAAAzC,EACA,UAAAsB,EACA,YAAYR,EAAI,CACd,IAAIvC,EAAOgD,EACX,GAAI,CAACzC,EAAM,UACT,GAAIuC,EACF9C,EAAOwD,GAAkBR,MAEzB,QAGAT,EAAGnC,KACLmC,EAAGnC,IACD,EAEF,EAEF,IAAM+D,EAAezB,EAAmBN,GACpC+B,GAAgB9B,GAAgBzD,EAAOuF,CAAY,GAAKA,EAAa,GAAG/D,KAC1E+D,EAAa,GAAG/D,IAAY,EAE9BwD,EAAS5D,EAAM,CAACuC,CAAE,CAAC,CACrB,EACA,MAAMA,EAAI,CACR,IAAIvC,EAAOiD,EACPmB,EAAYlB,EACZmB,GAAalB,EACjB,GAAI,CAAC5C,EAAM,UACT,GAAIuC,EACF9C,EAAOyD,GAAYR,EACnBmB,EAAYV,GAAiBR,EAC7BmB,GAAaV,GAAqBR,MAElC,QAGJ,IAAImB,EAAS,GACPP,EAAOxB,EAAGlC,IAAekE,IAAc,CACvCD,IAEJA,EAAS,GACLC,GACFX,EAASS,GAAY,CAAC9B,CAAE,CAAC,EAEzBqB,EAASQ,EAAW,CAAC7B,CAAE,CAAC,EAEtB2B,GAAM,cACRA,GAAM,aAAa,EAErB3B,EAAGlC,IAAc,OACnB,EACIL,EACF8D,GAAc9D,EAAM,CAACuC,EAAIwB,CAAI,CAAC,EAE9BA,EAAK,CAET,EACA,MAAMxB,EAAIiC,EAAQ,CAChB,IAAMC,EAAO,OAAO7F,EAAM,GAAG,EAO7B,GANI2D,EAAGlC,KACLkC,EAAGlC,IACD,EAEF,EAEEE,EAAM,aACR,OAAOiE,EAAO,EAEhBZ,EAASR,EAAe,CAACb,CAAE,CAAC,EAC5B,IAAI+B,GAAS,GACPP,EAAOxB,EAAGnC,IAAemE,GAAc,CACvCD,KAEJA,GAAS,GACTE,EAAO,EACHD,EACFX,EAASL,EAAkB,CAAChB,CAAE,CAAC,EAE/BqB,EAASN,EAAc,CAACf,CAAE,CAAC,EAE7BA,EAAGnC,IAAc,OACbsC,EAAmB+B,KAAU7F,GAC/B,OAAO8D,EAAmB+B,GAE9B,EACA/B,EAAmB+B,GAAQ7F,EACvByE,EACFS,GAAcT,EAAS,CAACd,EAAIwB,CAAI,CAAC,EAEjCA,EAAK,CAET,EACA,MAAMW,EAAQ,CACZ,OAAO5C,GAAuB4C,EAAQ7D,EAAON,EAAOvB,CAAQ,CAC9D,CACF,EACA,OAAOkF,EACT,CACA,SAASxC,GAAiB9C,EAAO,CAC/B,GAAI+F,GAAY/F,CAAK,EACnB,OAAAA,EAAQgG,GAAWhG,CAAK,EACxBA,EAAM,SAAW,KACVA,CAEX,CACA,SAASgD,GAAkBhD,EAAO,CAChC,OAAO+F,GAAY/F,CAAK,EAGmEA,EAAM,SAAWA,EAAM,SAAS,GAAK,OAC5HA,CACN,CACA,SAASmD,GAAmBnD,EAAOsF,EAAO,CACpCtF,EAAM,UAAY,GAAKA,EAAM,UAC/BmD,GAAmBnD,EAAM,UAAU,QAASsF,CAAK,EACxCtF,EAAM,UAAY,KAC3BA,EAAM,UAAU,WAAasF,EAAM,MAAMtF,EAAM,SAAS,EACxDA,EAAM,WAAW,WAAasF,EAAM,MAAMtF,EAAM,UAAU,GAE1DA,EAAM,WAAasF,CAEvB,CACA,SAAShD,GAAyBD,EAAU4D,EAAc,GAAOC,EAAW,CAC1E,IAAIC,EAAM,CAAC,EACPC,EAAqB,EACzB,QAAS7F,EAAI,EAAGA,EAAI8B,EAAS,OAAQ9B,IAAK,CACxC,IAAIgC,EAAQF,EAAS9B,GACfiD,EAAM0C,GAAa,KAAO3D,EAAM,IAAM,OAAO2D,CAAS,EAAI,OAAO3D,EAAM,KAAO,KAAOA,EAAM,IAAMhC,CAAC,EACpGgC,EAAM,OAAS8D,GACb9D,EAAM,UAAY,KACpB6D,IACFD,EAAMA,EAAI,OACR7D,GAAyBC,EAAM,SAAU0D,EAAazC,CAAG,CAC3D,IACSyC,GAAe1D,EAAM,OAASG,KACvCyD,EAAI,KAAK3C,GAAO,KAAOwC,GAAWzD,EAAO,CAAE,IAAAiB,CAAI,CAAC,EAAIjB,CAAK,CAE7D,CACA,GAAI6D,EAAqB,EACvB,QAAS7F,EAAI,EAAGA,EAAI4F,EAAI,OAAQ5F,IAC9B4F,EAAI5F,GAAG,UAAY,GAGvB,OAAO4F,CACT,CAYA,IAAMG,GAAkBC,GAAM,CAAC,CAACA,EAAE,KAAK,cA2IvC,IAAMC,GAAeC,GAAUA,EAAM,KAAK,cACpCC,GAAgB,CACpB,KAAM,YAIN,cAAe,GACf,MAAO,CACL,QAAS,CAAC,OAAQ,OAAQ,KAAK,EAC/B,QAAS,CAAC,OAAQ,OAAQ,KAAK,EAC/B,IAAK,CAAC,OAAQ,MAAM,CACtB,EACA,MAAMC,EAAO,CAAE,MAAAC,CAAM,EAAG,CACtB,IAAMC,EAAWC,GAAmB,EAC9BC,EAAgBF,EAAS,IAC/B,GAAI,CAACE,EAAc,SACjB,MAAO,IAAM,CACX,IAAMC,EAAWJ,EAAM,SAAWA,EAAM,QAAQ,EAChD,OAAOI,GAAYA,EAAS,SAAW,EAAIA,EAAS,GAAKA,CAC3D,EAEF,IAAMC,EAAwB,IAAI,IAC5BC,EAAuB,IAAI,IAC7BC,EAAU,KAIRC,EAAiBP,EAAS,SAC1B,CACJ,SAAU,CACRQ,EACA,EAAGC,EACH,GAAIC,EACJ,EAAG,CAAE,cAAAC,CAAc,CACrB,CACF,EAAIT,EACEU,EAAmBD,EAAc,KAAK,EAC5CT,EAAc,SAAW,CAACN,EAAOiB,EAAWC,EAAQC,EAAOC,KAAc,CACvE,IAAMC,GAAYrB,EAAM,UACxBa,EAAKb,EAAOiB,EAAWC,EAAQ,EAAGP,CAAc,EAChDC,EACES,GAAU,MACVrB,EACAiB,EACAC,EACAG,GACAV,EACAQ,EACAnB,EAAM,aACNoB,EACF,EACAE,GAAsB,IAAM,CAC1BD,GAAU,cAAgB,GACtBA,GAAU,GACZE,GAAeF,GAAU,CAAC,EAE5B,IAAMG,EAAYxB,EAAM,OAASA,EAAM,MAAM,eACzCwB,GACFC,GAAgBD,EAAWH,GAAU,OAAQrB,CAAK,CAEtD,EAAGW,CAAc,CAInB,EACAL,EAAc,WAAcN,GAAU,CACpC,IAAMqB,EAAYrB,EAAM,UACxBa,EAAKb,EAAOgB,EAAkB,KAAM,EAAGL,CAAc,EACrDW,GAAsB,IAAM,CACtBD,EAAU,IACZE,GAAeF,EAAU,EAAE,EAE7B,IAAMG,EAAYxB,EAAM,OAASA,EAAM,MAAM,iBACzCwB,GACFC,GAAgBD,EAAWH,EAAU,OAAQrB,CAAK,EAEpDqB,EAAU,cAAgB,EAC5B,EAAGV,CAAc,CAInB,EACA,SAASe,EAAQ1B,EAAO,CACtB2B,GAAe3B,CAAK,EACpBc,EAASd,EAAOI,EAAUO,EAAgB,EAAI,CAChD,CACA,SAASiB,EAAWC,EAAQ,CAC1BrB,EAAM,QAAQ,CAACR,EAAO8B,IAAQ,CAC5B,IAAMC,EAAOC,GAAiBhC,EAAM,IAAI,EACpC+B,IAAS,CAACF,GAAU,CAACA,EAAOE,CAAI,IAClCE,EAAgBH,CAAG,CAEvB,CAAC,CACH,CACA,SAASG,EAAgBH,EAAK,CAC5B,IAAMI,EAAS1B,EAAM,IAAIsB,CAAG,EACxB,CAACpB,GAAW,CAACyB,GAAgBD,EAAQxB,CAAO,EAC9CgB,EAAQQ,CAAM,EACLxB,GACTiB,GAAejB,CAAO,EAExBF,EAAM,OAAOsB,CAAG,EAChBrB,EAAK,OAAOqB,CAAG,CACjB,CACAM,GACE,IAAM,CAAClC,EAAM,QAASA,EAAM,OAAO,EACnC,CAAC,CAACmC,EAASC,CAAO,IAAM,CACtBD,GAAWT,EAAYG,GAASQ,GAAQF,EAASN,CAAI,CAAC,EACtDO,GAAWV,EAAYG,GAAS,CAACQ,GAAQD,EAASP,CAAI,CAAC,CACzD,EAEA,CAAE,MAAO,OAAQ,KAAM,EAAK,CAC9B,EACA,IAAIS,EAAkB,KAChBC,EAAe,IAAM,CACrBD,GAAmB,MACrBhC,EAAM,IAAIgC,EAAiBE,GAActC,EAAS,OAAO,CAAC,CAE9D,EACA,OAAAuC,GAAUF,CAAY,EACtBG,GAAUH,CAAY,EACtBI,GAAgB,IAAM,CACpBrC,EAAM,QAAS0B,GAAW,CACxB,GAAM,CAAE,QAAAY,EAAS,SAAAC,CAAS,EAAI3C,EACxBJ,EAAQ0C,GAAcI,CAAO,EACnC,GAAIZ,EAAO,OAASlC,EAAM,MAAQkC,EAAO,MAAQlC,EAAM,IAAK,CAC1D2B,GAAe3B,CAAK,EACpB,IAAMgD,GAAKhD,EAAM,UAAU,GAC3BgD,IAAM1B,GAAsB0B,GAAID,CAAQ,EACxC,MACF,CACArB,EAAQQ,CAAM,CAChB,CAAC,CACH,CAAC,EACM,IAAM,CAEX,GADAM,EAAkB,KACd,CAACrC,EAAM,QACT,OAAO,KAET,IAAMI,EAAWJ,EAAM,QAAQ,EACzB8C,EAAW1C,EAAS,GAC1B,GAAIA,EAAS,OAAS,EAIpB,OAAAG,EAAU,KACHH,EACF,GAAI,CAAC2C,GAAQD,CAAQ,GAAK,EAAEA,EAAS,UAAY,IAAM,EAAEA,EAAS,UAAY,KACnF,OAAAvC,EAAU,KACHuC,EAET,IAAIjD,EAAQ0C,GAAcO,CAAQ,EAC5BE,EAAOnD,EAAM,KACb+B,GAAOC,GACXoB,GAAepD,CAAK,EAAIA,EAAM,KAAK,iBAAmB,CAAC,EAAImD,CAC7D,EACM,CAAE,QAAAd,GAAS,QAAAC,EAAS,IAAAe,CAAI,EAAInD,EAClC,GAAImC,KAAY,CAACN,IAAQ,CAACQ,GAAQF,GAASN,EAAI,IAAMO,GAAWP,IAAQQ,GAAQD,EAASP,EAAI,EAC3F,OAAArB,EAAUV,EACHiD,EAET,IAAMnB,EAAM9B,EAAM,KAAO,KAAOmD,EAAOnD,EAAM,IACvCsD,GAAc9C,EAAM,IAAIsB,CAAG,EACjC,OAAI9B,EAAM,KACRA,EAAQuD,GAAWvD,CAAK,EACpBiD,EAAS,UAAY,MACvBA,EAAS,UAAYjD,IAGzBwC,EAAkBV,EACdwB,IACFtD,EAAM,GAAKsD,GAAY,GACvBtD,EAAM,UAAYsD,GAAY,UAC1BtD,EAAM,YACRwD,GAAmBxD,EAAOA,EAAM,UAAU,EAE5CA,EAAM,WAAa,IACnBS,EAAK,OAAOqB,CAAG,EACfrB,EAAK,IAAIqB,CAAG,IAEZrB,EAAK,IAAIqB,CAAG,EACRuB,GAAO5C,EAAK,KAAO,SAAS4C,EAAK,EAAE,GACrCpB,EAAgBxB,EAAK,OAAO,EAAE,KAAK,EAAE,KAAK,GAG9CT,EAAM,WAAa,IACnBU,EAAUV,EACHyD,GAAWR,EAAS,IAAI,EAAIA,EAAWjD,CAChD,CACF,CACF,EACM0D,GAAYzD,GAClB,SAASsC,GAAQoB,EAAS5B,EAAM,CAC9B,OAAI6B,EAAQD,CAAO,EACVA,EAAQ,KAAME,GAAMtB,GAAQsB,EAAG9B,CAAI,CAAC,EAClC+B,GAASH,CAAO,EAClBA,EAAQ,MAAM,GAAG,EAAE,SAAS5B,CAAI,EAC9BgC,GAASJ,CAAO,EAClBA,EAAQ,KAAK5B,CAAI,EAEnB,EACT,CACA,SAASiC,GAAYC,EAAMC,EAAQ,CACjCC,GAAsBF,EAAM,IAAKC,CAAM,CACzC,CACA,SAASE,GAAcH,EAAMC,EAAQ,CACnCC,GAAsBF,EAAM,KAAMC,CAAM,CAC1C,CACA,SAASC,GAAsBF,EAAMI,EAAMH,EAASI,GAAiB,CACnE,IAAMC,EAAcN,EAAK,QAAUA,EAAK,MAAQ,IAAM,CACpD,IAAIvD,EAAUwD,EACd,KAAOxD,GAAS,CACd,GAAIA,EAAQ,cACV,OAEFA,EAAUA,EAAQ,MACpB,CACA,OAAOuD,EAAK,CACd,GAEA,GADAO,GAAWH,EAAME,EAAaL,CAAM,EAChCA,EAAQ,CACV,IAAIxD,EAAUwD,EAAO,OACrB,KAAOxD,GAAWA,EAAQ,QACpBX,GAAYW,EAAQ,OAAO,KAAK,GAClC+D,GAAsBF,EAAaF,EAAMH,EAAQxD,CAAO,EAE1DA,EAAUA,EAAQ,MAEtB,CACF,CACA,SAAS+D,GAAsBR,EAAMI,EAAMH,EAAQQ,EAAe,CAChE,IAAMC,EAAWH,GACfH,EACAJ,EACAS,EACA,EAEF,EACAE,GAAY,IAAM,CAChBC,GAAOH,EAAcL,GAAOM,CAAQ,CACtC,EAAGT,CAAM,CACX,CACA,SAASvC,GAAe3B,EAAO,CAC7BA,EAAM,WAAa,KACnBA,EAAM,WAAa,IACrB,CACA,SAAS0C,GAAc1C,EAAO,CAC5B,OAAOA,EAAM,UAAY,IAAMA,EAAM,UAAYA,CACnD,CAEA,SAASwE,GAAWH,EAAMJ,EAAMC,EAASI,GAAiBQ,EAAU,GAAO,CACzE,GAAIZ,EAAQ,CACV,IAAMa,EAAQb,EAAOG,KAAUH,EAAOG,GAAQ,CAAC,GACzCE,EAAcN,EAAK,QAAUA,EAAK,MAAQ,IAAIe,IAAS,CAC3D,GAAId,EAAO,YACT,OAEFe,GAAc,EACdC,GAAmBhB,CAAM,EACzB,IAAMiB,EAAMC,GAA2BnB,EAAMC,EAAQG,EAAMW,CAAI,EAC/D,OAAAK,GAAqB,EACrBC,GAAc,EACPH,CACT,GACA,OAAIL,EACFC,EAAM,QAAQR,CAAW,EAEzBQ,EAAM,KAAKR,CAAW,EAEjBA,CACT,CAMF,CACA,IAAMgB,GAAcC,GAAc,CAACvB,EAAMC,EAASI,MAE/C,CAACmB,IAAyBD,IAAc,OAAShB,GAAWgB,EAAW,IAAIR,IAASf,EAAK,GAAGe,CAAI,EAAGd,CAAM,EAEtGwB,GAAgBH,GAAW,IAAI,EAC/B5C,GAAY4C,GAAW,GAAG,EAC1BI,GAAiBJ,GAAW,IAAI,EAChC3C,GAAY2C,GAAW,GAAG,EAC1B1C,GAAkB0C,GAAW,KAAK,EAClCX,GAAcW,GAAW,IAAI,EAC7BK,GAAmBL,GAAW,IAAI,EAClCM,GAAoBN,GACxB,KACF,EACMO,GAAkBP,GACtB,KACF,EACA,SAASQ,GAAgB9B,EAAMC,EAASI,GAAiB,CACvDE,GAAW,KAAMP,EAAMC,CAAM,CAC/B,CAEA,SAAS8B,GAAWC,EAAQC,EAAY1F,EAAO2F,EAAO,CACpD,IAAIC,EACElE,EAAS1B,GAASA,EAAM2F,GAC9B,GAAIvC,EAAQqC,CAAM,GAAKnC,GAASmC,CAAM,EAAG,CACvCG,EAAM,IAAI,MAAMH,EAAO,MAAM,EAC7B,QAASI,EAAI,EAAGC,EAAIL,EAAO,OAAQI,EAAIC,EAAGD,IACxCD,EAAIC,GAAKH,EAAWD,EAAOI,GAAIA,EAAG,OAAQnE,GAAUA,EAAOmE,EAAE,CAEjE,SAAW,OAAOJ,GAAW,SAAU,CAIrCG,EAAM,IAAI,MAAMH,CAAM,EACtB,QAASI,EAAI,EAAGA,EAAIJ,EAAQI,IAC1BD,EAAIC,GAAKH,EAAWG,EAAI,EAAGA,EAAG,OAAQnE,GAAUA,EAAOmE,EAAE,CAE7D,SAAWE,GAASN,CAAM,EACxB,GAAIA,EAAO,OAAO,UAChBG,EAAM,MAAM,KACVH,EACA,CAACO,EAAMH,IAAMH,EAAWM,EAAMH,EAAG,OAAQnE,GAAUA,EAAOmE,EAAE,CAC9D,MACK,CACL,IAAM5F,EAAO,OAAO,KAAKwF,CAAM,EAC/BG,EAAM,IAAI,MAAM3F,EAAK,MAAM,EAC3B,QAAS4F,EAAI,EAAGC,EAAI7F,EAAK,OAAQ4F,EAAIC,EAAGD,IAAK,CAC3C,IAAMvE,EAAMrB,EAAK4F,GACjBD,EAAIC,GAAKH,EAAWD,EAAOnE,GAAMA,EAAKuE,EAAGnE,GAAUA,EAAOmE,EAAE,CAC9D,CACF,MAEAD,EAAM,CAAC,EAET,OAAI5F,IACFA,EAAM2F,GAASC,GAEVA,CACT,CAiFA,IAAMK,GAAqBC,GACpBA,EAEDC,GAAoBD,CAAC,EAChBE,GAAeF,CAAC,GAAKA,EAAE,MACzBD,GAAkBC,EAAE,MAAM,EAHxB,KAKLG,GAGYC,GAAuB,OAAO,OAAO,IAAI,EAAG,CAC1D,EAAIJ,GAAMA,EACV,IAAMA,GAAMA,EAAE,MAAM,GACpB,MAAQA,GAAMA,EAAE,KAChB,OAASA,GAA6EA,EAAE,MACxF,OAASA,GAA6EA,EAAE,MACxF,OAASA,GAA6EA,EAAE,MACxF,MAAQA,GAA4EA,EAAE,KACtF,QAAUA,GAAMD,GAAkBC,EAAE,MAAM,EAC1C,MAAQA,GAAMD,GAAkBC,EAAE,IAAI,EACtC,MAAQA,GAAMA,EAAE,KAChB,SAAWA,GAA4BK,GAAqBL,CAAC,EAC7D,aAAeA,GAAMA,EAAE,IAAMA,EAAE,EAAI,IAAMM,GAASN,EAAE,MAAM,GAC1D,UAAYA,GAAMA,EAAE,IAAMA,EAAE,EAAIO,GAAS,KAAKP,EAAE,KAAK,GACrD,OAASA,GAA4BQ,GAAc,KAAKR,CAAC,CAC3D,CAAC,EAGH,IAAMS,GAAkB,CAACC,EAAOC,IAAQD,IAAUE,IAAa,CAACF,EAAM,iBAAmBG,GAAOH,EAAOC,CAAG,EACpGG,GAA8B,CAClC,IAAI,CAAE,EAAGC,CAAS,EAAGJ,EAAK,CACxB,GAAM,CAAE,IAAAK,EAAK,WAAAC,EAAY,KAAAC,EAAM,MAAAC,EAAO,YAAAC,EAAa,KAAAC,EAAM,WAAAC,CAAW,EAAIP,EAIpEQ,EACJ,GAAIZ,EAAI,KAAO,IAAK,CAClB,IAAMa,EAAIJ,EAAYT,GACtB,GAAIa,IAAM,OACR,OAAQA,OACD,GACH,OAAOP,EAAWN,OACf,GACH,OAAOO,EAAKP,OACT,GACH,OAAOK,EAAIL,OACR,GACH,OAAOQ,EAAMR,OAEZ,IAAIF,GAAgBQ,EAAYN,CAAG,EACxC,OAAAS,EAAYT,GAAO,EACZM,EAAWN,GACb,GAAIO,IAASN,IAAaC,GAAOK,EAAMP,CAAG,EAC/C,OAAAS,EAAYT,GAAO,EACZO,EAAKP,GACP,IAGJY,EAAkBR,EAAS,aAAa,KAAOF,GAAOU,EAAiBZ,CAAG,EAE3E,OAAAS,EAAYT,GAAO,EACZQ,EAAMR,GACR,GAAIK,IAAQJ,IAAaC,GAAOG,EAAKL,CAAG,EAC7C,OAAAS,EAAYT,GAAO,EACZK,EAAIL,GACsBc,KACjCL,EAAYT,GAAO,GAEvB,CACA,IAAMe,EAAeC,GAAoBhB,GACrCiB,EAAWC,EACf,GAAIH,EACF,OAAIf,IAAQ,UACVmB,GAAMf,EAAU,MAAOJ,CAAG,EAKrBe,EAAaX,CAAQ,EACvB,IAEJa,EAAYP,EAAK,gBAAkBO,EAAYA,EAAUjB,IAE1D,OAAOiB,EACF,GAAIZ,IAAQJ,IAAaC,GAAOG,EAAKL,CAAG,EAC7C,OAAAS,EAAYT,GAAO,EACZK,EAAIL,GACN,GAELkB,EAAmBP,EAAW,OAAO,iBAAkBT,GAAOgB,EAAkBlB,CAAG,EAGjF,OAAOkB,EAAiBlB,EAiB9B,EACA,IAAI,CAAE,EAAGI,CAAS,EAAGJ,EAAKoB,EAAO,CAC/B,GAAM,CAAE,KAAAb,EAAM,WAAAD,EAAY,IAAAD,CAAI,EAAID,EAClC,OAAIN,GAAgBQ,EAAYN,CAAG,GACjCM,EAAWN,GAAOoB,EACX,IAIEb,IAASN,IAAaC,GAAOK,EAAMP,CAAG,GAC/CO,EAAKP,GAAOoB,EACL,IACElB,GAAOE,EAAS,MAAOJ,CAAG,GAIjCA,EAAI,KAAO,KAAOA,EAAI,MAAM,CAAC,IAAKI,EAI7B,IASLC,EAAIL,GAAOoB,EAGR,GACT,EACA,IAAI,CACF,EAAG,CAAE,KAAAb,EAAM,WAAAD,EAAY,YAAAG,EAAa,IAAAJ,EAAK,WAAAM,EAAY,aAAAU,CAAa,CACpE,EAAGrB,EAAK,CACN,IAAIY,EACJ,MAAO,CAAC,CAACH,EAAYT,IAAQO,IAASN,IAAaC,GAAOK,EAAMP,CAAG,GAAKF,GAAgBQ,EAAYN,CAAG,IAAMY,EAAkBS,EAAa,KAAOnB,GAAOU,EAAiBZ,CAAG,GAAKE,GAAOG,EAAKL,CAAG,GAAKE,GAAOc,GAAqBhB,CAAG,GAAKE,GAAOS,EAAW,OAAO,iBAAkBX,CAAG,CAC3R,EACA,eAAesB,EAAQtB,EAAKuB,EAAY,CACtC,OAAIA,EAAW,KAAO,KACpBD,EAAO,EAAE,YAAYtB,GAAO,EACnBE,GAAOqB,EAAY,OAAO,GACnC,KAAK,IAAID,EAAQtB,EAAKuB,EAAW,MAAO,IAAI,EAEvC,QAAQ,eAAeD,EAAQtB,EAAKuB,CAAU,CACvD,CACF,EAkLA,SAASC,GAAsBC,EAAO,CACpC,OAAOC,EAAQD,CAAK,EAAIA,EAAM,OAC5B,CAACE,EAAYC,KAAOD,EAAWC,GAAK,KAAMD,GAC1C,CAAC,CACH,EAAIF,CACN,CAuEA,IAAII,GAAoB,GACxB,SAASC,GAAaC,EAAU,CAC9B,IAAMC,EAAUC,GAAqBF,CAAQ,EACvCG,EAAaH,EAAS,MACtBI,EAAMJ,EAAS,IACrBF,GAAoB,GAChBG,EAAQ,cACVI,GAASJ,EAAQ,aAAcD,EAAU,IAAI,EAE/C,GAAM,CAEJ,KAAMM,EACN,SAAUC,EACV,QAAAC,EACA,MAAOC,EACP,QAASC,EACT,OAAQC,EAER,QAAAC,EACA,YAAAC,EACA,QAAAC,EACA,aAAAC,EACA,QAAAC,EACA,UAAAC,EACA,YAAAC,EACA,cAAAC,EACA,cAAAC,EACA,UAAAC,EACA,UAAAC,EACA,OAAAC,EACA,cAAAC,GACA,gBAAAC,GACA,cAAAC,EACA,eAAAC,EAEA,OAAAC,EACA,aAAAC,GAEA,WAAAC,EACA,WAAAC,EACA,QAAAC,EACF,EAAI/B,EAaJ,GAHIU,GACFsB,GAAkBtB,EAAeP,EAVqE,IAUxC,EAE5DI,EACF,QAAW0B,MAAO1B,EAAS,CACzB,IAAM2B,GAAgB3B,EAAQ0B,IAC1BE,EAAWD,EAAa,IASxB/B,EAAI8B,IAAOC,GAAc,KAAKhC,CAAU,EAU9C,CAEF,GAAIG,EAAa,CAMf,IAAM+B,GAAO/B,EAAY,KAAKH,EAAYA,CAAU,EAM/CmC,GAASD,EAAI,IAGhBrC,EAAS,KAAOuC,GAASF,EAAI,EAejC,CAEA,GADAvC,GAAoB,GAChBS,EACF,QAAW2B,MAAO3B,EAAiB,CACjC,IAAMiC,GAAMjC,EAAgB2B,IACtBO,GAAML,EAAWI,EAAG,EAAIA,GAAI,KAAKrC,EAAYA,CAAU,EAAIiC,EAAWI,GAAI,GAAG,EAAIA,GAAI,IAAI,KAAKrC,EAAYA,CAAU,EAAIuC,GAIxHC,GAAM,CAACP,EAAWI,EAAG,GAAKJ,EAAWI,GAAI,GAAG,EAAIA,GAAI,IAAI,KAAKrC,CAAU,EAIzEuC,GACEE,EAAIC,GAAS,CACjB,IAAAJ,GACA,IAAAE,EACF,CAAC,EACD,OAAO,eAAevC,EAAK8B,GAAK,CAC9B,WAAY,GACZ,aAAc,GACd,IAAK,IAAMU,EAAE,MACb,IAAME,IAAMF,EAAE,MAAQE,EACxB,CAAC,CAIH,CAEF,GAAIrC,EACF,QAAWyB,MAAOzB,EAChBsC,GAActC,EAAayB,IAAM9B,EAAKD,EAAY+B,EAAG,EAGzD,GAAIxB,EAAgB,CAClB,IAAMsC,GAAWZ,EAAW1B,CAAc,EAAIA,EAAe,KAAKP,CAAU,EAAIO,EAChF,QAAQ,QAAQsC,EAAQ,EAAE,QAASd,IAAQ,CACzCe,GAAQf,GAAKc,GAASd,GAAI,CAC5B,CAAC,CACH,CACItB,GACFP,GAASO,EAASZ,EAAU,GAAG,EAEjC,SAASkD,GAAsBC,GAAUC,GAAM,CACzCC,EAAQD,EAAI,EACdA,GAAK,QAASE,IAAUH,GAASG,GAAM,KAAKnD,CAAU,CAAC,CAAC,EAC/CiD,IACTD,GAASC,GAAK,KAAKjD,CAAU,CAAC,CAElC,CAaA,GAZA+C,GAAsBK,GAAe1C,CAAW,EAChDqC,GAAsBM,GAAW1C,CAAO,EACxCoC,GAAsBO,GAAgB1C,CAAY,EAClDmC,GAAsBQ,GAAW1C,CAAO,EACxCkC,GAAsBS,GAAa1C,CAAS,EAC5CiC,GAAsBU,GAAe1C,CAAW,EAChDgC,GAAsBW,GAAiBnC,CAAa,EACpDwB,GAAsBY,GAAiBtC,EAAa,EACpD0B,GAAsBa,GAAmBtC,EAAe,EACxDyB,GAAsBc,GAAiB5C,CAAa,EACpD8B,GAAsBe,GAAa3C,CAAS,EAC5C4B,GAAsBgB,GAAkBvC,CAAc,EAClD0B,EAAQzB,CAAM,EAChB,GAAIA,EAAO,OAAQ,CACjB,IAAMuC,GAAUnE,EAAS,UAAYA,EAAS,QAAU,CAAC,GACzD4B,EAAO,QAASM,IAAQ,CACtB,OAAO,eAAeiC,GAASjC,GAAK,CAClC,IAAK,IAAM/B,EAAW+B,IACtB,IAAMkC,IAAQjE,EAAW+B,IAAOkC,EAClC,CAAC,CACH,CAAC,CACH,MAAYpE,EAAS,UACnBA,EAAS,QAAU,CAAC,GAGpBuB,GAAUvB,EAAS,SAAW0C,KAChC1C,EAAS,OAASuB,GAEhBM,IAAgB,OAClB7B,EAAS,aAAe6B,IAEtBC,IACF9B,EAAS,WAAa8B,GACpBC,IACF/B,EAAS,WAAa+B,EAC1B,CACA,SAASE,GAAkBtB,EAAeP,EAAKiE,EAA2B3B,GAAM,CAC1EW,EAAQ1C,CAAa,IACvBA,EAAgB2D,GAAgB3D,CAAa,GAE/C,QAAWuB,KAAOvB,EAAe,CAC/B,IAAM6B,EAAM7B,EAAcuB,GACtBqC,EACAjC,GAASE,CAAG,EACV,YAAaA,EACf+B,EAAWC,GACThC,EAAI,MAAQN,EACZM,EAAI,QACJ,EAEF,EAEA+B,EAAWC,GAAOhC,EAAI,MAAQN,CAAG,EAGnCqC,EAAWC,GAAOhC,CAAG,EAEnBiC,GAAMF,CAAQ,EAChB,OAAO,eAAenE,EAAK8B,EAAK,CAC9B,WAAY,GACZ,aAAc,GACd,IAAK,IAAMqC,EAAS,MACpB,IAAMzB,GAAMyB,EAAS,MAAQzB,CAC/B,CAAC,EAED1C,EAAI8B,GAAOqC,CAKf,CACF,CACA,SAASlE,GAAS+C,EAAMpD,EAAU0E,EAAM,CACtCC,GACEtB,EAAQD,CAAI,EAAIA,EAAK,IAAKwB,GAAMA,EAAE,KAAK5E,EAAS,KAAK,CAAC,EAAIoD,EAAK,KAAKpD,EAAS,KAAK,EAClFA,EACA0E,CACF,CACF,CACA,SAAS3B,GAAc8B,EAAKzE,EAAKD,EAAY+B,EAAK,CAChD,IAAM4C,EAAS5C,EAAI,SAAS,GAAG,EAAI6C,GAAiB5E,EAAY+B,CAAG,EAAI,IAAM/B,EAAW+B,GACxF,GAAI8C,GAASH,CAAG,EAAG,CACjB,IAAMI,EAAU7E,EAAIyE,GAChBzC,EAAW6C,CAAO,GACpBC,GAAMJ,EAAQG,CAAO,CAIzB,SAAW7C,EAAWyC,CAAG,EACvBK,GAAMJ,EAAQD,EAAI,KAAK1E,CAAU,CAAC,UACzBmC,GAASuC,CAAG,EACrB,GAAIxB,EAAQwB,CAAG,EACbA,EAAI,QAAS,GAAM9B,GAAc,EAAG3C,EAAKD,EAAY+B,CAAG,CAAC,MACpD,CACL,IAAM+C,EAAU7C,EAAWyC,EAAI,OAAO,EAAIA,EAAI,QAAQ,KAAK1E,CAAU,EAAIC,EAAIyE,EAAI,SAC7EzC,EAAW6C,CAAO,GACpBC,GAAMJ,EAAQG,EAASJ,CAAG,CAI9B,CAIJ,CACA,SAAS3E,GAAqBF,EAAU,CACtC,IAAMmF,EAAOnF,EAAS,KAChB,CAAE,OAAAoF,EAAQ,QAASC,CAAe,EAAIF,EACtC,CACJ,OAAQG,EACR,aAAcC,EACd,OAAQ,CAAE,sBAAAC,CAAsB,CAClC,EAAIxF,EAAS,WACPyF,EAASF,EAAM,IAAIJ,CAAI,EACzBO,EACJ,OAAID,EACFC,EAAWD,EACF,CAACH,EAAa,QAAU,CAACF,GAAU,CAACC,EAE3CK,EAAWP,GAGbO,EAAW,CAAC,EACRJ,EAAa,QACfA,EAAa,QACVK,GAAMC,GAAaF,EAAUC,EAAGH,EAAuB,EAAI,CAC9D,EAEFI,GAAaF,EAAUP,EAAMK,CAAqB,GAEhDlD,GAAS6C,CAAI,GACfI,EAAM,IAAIJ,EAAMO,CAAQ,EAEnBA,CACT,CACA,SAASE,GAAaC,EAAIC,EAAMC,EAAQC,EAAU,GAAO,CACvD,GAAM,CAAE,OAAAZ,EAAQ,QAASC,CAAe,EAAIS,EACxCT,GACFO,GAAaC,EAAIR,EAAgBU,EAAQ,EAAI,EAE3CX,GACFA,EAAO,QACJO,GAAMC,GAAaC,EAAIF,EAAGI,EAAQ,EAAI,CACzC,EAEF,QAAW7D,KAAO4D,EAChB,GAAI,EAAAE,GAAW9D,IAAQ,UAIhB,CACL,IAAM+D,EAAQC,GAA0BhE,IAAQ6D,GAAUA,EAAO7D,GACjE2D,EAAG3D,GAAO+D,EAAQA,EAAMJ,EAAG3D,GAAM4D,EAAK5D,EAAI,EAAI4D,EAAK5D,EACrD,CAEF,OAAO2D,CACT,CACA,IAAMK,GAA4B,CAChC,KAAMC,GACN,MAAOC,GACP,MAAOA,GAEP,QAASC,GACT,SAAUA,GAEV,aAAcC,GACd,QAASA,GACT,YAAaA,GACb,QAASA,GACT,aAAcA,GACd,QAASA,GACT,cAAeA,GACf,cAAeA,GACf,UAAWA,GACX,UAAWA,GACX,UAAWA,GACX,YAAaA,GACb,cAAeA,GACf,eAAgBA,GAEhB,WAAYD,GACZ,WAAYA,GAEZ,MAAOE,GAEP,QAASJ,GACT,OAAQK,EACV,EACA,SAASL,GAAYN,EAAIC,EAAM,CAC7B,OAAKA,EAGAD,EAGE,UAAwB,CAC7B,OAAQY,GACNrE,EAAWyD,CAAE,EAAIA,EAAG,KAAK,KAAM,IAAI,EAAIA,EACvCzD,EAAW0D,CAAI,EAAIA,EAAK,KAAK,KAAM,IAAI,EAAIA,CAC7C,CACF,EAPSA,EAHAD,CAWX,CACA,SAASW,GAAYX,EAAIC,EAAM,CAC7B,OAAOO,GAAmB/B,GAAgBuB,CAAE,EAAGvB,GAAgBwB,CAAI,CAAC,CACtE,CACA,SAASxB,GAAgBO,EAAK,CAC5B,GAAIxB,EAAQwB,CAAG,EAAG,CAChB,IAAM6B,EAAM,CAAC,EACb,QAASC,EAAI,EAAGA,EAAI9B,EAAI,OAAQ8B,IAC9BD,EAAI7B,EAAI8B,IAAM9B,EAAI8B,GAEpB,OAAOD,CACT,CACA,OAAO7B,CACT,CACA,SAASyB,GAAaT,EAAIC,EAAM,CAC9B,OAAOD,EAAK,CAAC,GAAG,IAAI,IAAI,CAAC,EAAE,OAAOA,EAAIC,CAAI,CAAC,CAAC,EAAIA,CAClD,CACA,SAASO,GAAmBR,EAAIC,EAAM,CACpC,OAAOD,EAAKY,GAAuB,OAAO,OAAO,IAAI,EAAGZ,EAAIC,CAAI,EAAIA,CACtE,CACA,SAASM,GAAyBP,EAAIC,EAAM,CAC1C,OAAID,EACExC,EAAQwC,CAAE,GAAKxC,EAAQyC,CAAI,EACtB,CAAC,GAAmB,IAAI,IAAI,CAAC,GAAGD,EAAI,GAAGC,CAAI,CAAC,CAAC,EAE/CW,GACW,OAAO,OAAO,IAAI,EAClCG,GAAsBf,CAAE,EACxBe,GAAsBd,GAAQ,KAAOA,EAAO,CAAC,CAAC,CAChD,EAEOA,CAEX,CACA,SAASS,GAAkBV,EAAIC,EAAM,CACnC,GAAI,CAACD,EACH,OAAOC,EACT,GAAI,CAACA,EACH,OAAOD,EACT,IAAMgB,EAASJ,GAAuB,OAAO,OAAO,IAAI,EAAGZ,CAAE,EAC7D,QAAW3D,KAAO4D,EAChBe,EAAO3E,GAAOoE,GAAaT,EAAG3D,GAAM4D,EAAK5D,EAAI,EAE/C,OAAO2E,CACT,CAEA,SAASC,IAAmB,CAC1B,MAAO,CACL,IAAK,KACL,OAAQ,CACN,YAAaC,GACb,YAAa,GACb,iBAAkB,CAAC,EACnB,sBAAuB,CAAC,EACxB,aAAc,OACd,YAAa,OACb,gBAAiB,CAAC,CACpB,EACA,OAAQ,CAAC,EACT,WAAY,CAAC,EACb,WAAY,CAAC,EACb,SAA0B,OAAO,OAAO,IAAI,EAC5C,aAA8B,IAAI,QAClC,WAA4B,IAAI,QAChC,WAA4B,IAAI,OAClC,CACF,CACA,IAAIC,GAAQ,EACZ,SAASC,GAAa1F,EAAQ2F,EAAS,CACrC,OAAO,SAAmBC,EAAeC,EAAY,KAAM,CACpDhF,EAAW+E,CAAa,IAC3BA,EAAgBV,GAAO,CAAC,EAAGU,CAAa,GAEtCC,GAAa,MAAQ,CAAC9E,GAAS8E,CAAS,IAE1CA,EAAY,MAEd,IAAMC,EAAUP,GAAiB,EAa3BQ,EAAmC,IAAI,QACzCC,EAAY,GACVC,EAAMH,EAAQ,IAAM,CACxB,KAAML,KACN,WAAYG,EACZ,OAAQC,EACR,WAAY,KACZ,SAAUC,EACV,UAAW,KACX,QAAAI,GACA,IAAI,QAAS,CACX,OAAOJ,EAAQ,MACjB,EACA,IAAI,OAAOvE,EAAG,CAMd,EACA,IAAI4E,KAAWzH,EAAS,CACtB,OAAIqH,EAAiB,IAAII,CAAM,IAEpBA,GAAUtF,EAAWsF,EAAO,OAAO,GAC5CJ,EAAiB,IAAII,CAAM,EAC3BA,EAAO,QAAQF,EAAK,GAAGvH,CAAO,GACrBmC,EAAWsF,CAAM,IAC1BJ,EAAiB,IAAII,CAAM,EAC3BA,EAAOF,EAAK,GAAGvH,CAAO,IAMjBuH,CACT,EACA,MAAMG,EAAO,CAET,OAAKN,EAAQ,OAAO,SAASM,CAAK,GAChCN,EAAQ,OAAO,KAAKM,CAAK,EAStBH,CACT,EACA,UAAUI,EAAMC,EAAW,CAIzB,OAAKA,GAMLR,EAAQ,WAAWO,GAAQC,EACpBL,GANEH,EAAQ,WAAWO,EAO9B,EACA,UAAUA,EAAME,EAAW,CAIzB,OAAKA,GAMLT,EAAQ,WAAWO,GAAQE,EACpBN,GANEH,EAAQ,WAAWO,EAO9B,EACA,MAAMG,EAAeC,EAAWC,EAAO,CACrC,GAAI,CAACV,EAAW,CAOd,IAAMW,EAAQC,GAAYhB,EAAeC,CAAS,EAClD,OAAAc,EAAM,WAAab,EAMfW,GAAad,EACfA,EAAQgB,EAAOH,CAAa,EAE5BxG,EAAO2G,EAAOH,EAAeE,CAAK,EAEpCV,EAAY,GACZC,EAAI,WAAaO,EACjBA,EAAc,YAAcP,EAKrBY,GAAeF,EAAM,SAAS,GAAKA,EAAM,UAAU,KAC5D,CAMF,EACA,SAAU,CACJX,IACFhG,EAAO,KAAMiG,EAAI,UAAU,EAK3B,OAAOA,EAAI,WAAW,YAI1B,EACA,QAAQtF,EAAKmG,EAAO,CAMlB,OAAAhB,EAAQ,SAASnF,GAAOmG,EACjBb,CACT,EACA,eAAec,EAAI,CACjBC,GAAaf,EACb,GAAI,CACF,OAAOc,EAAG,CACZ,QAAE,CACAC,GAAa,IACf,CACF,CACF,EACA,OAAOf,CACT,CACF,CACA,IAAIe,GAAa,KAEjB,SAAStF,GAAQf,EAAKmG,EAAO,CAC3B,GAAKG,GAIE,CACL,IAAIxF,EAAWwF,GAAgB,SACzBC,EAAiBD,GAAgB,QAAUA,GAAgB,OAAO,SACpEC,IAAmBzF,IACrBA,EAAWwF,GAAgB,SAAW,OAAO,OAAOC,CAAc,GAEpEzF,EAASd,GAAOmG,CAClB,CACF,CACA,SAAS7D,GAAOtC,EAAKwG,EAAcC,EAAwB,GAAO,CAChE,IAAM3I,EAAWwI,IAAmBI,GACpC,GAAI5I,GAAYuI,GAAY,CAC1B,IAAMvF,EAAWhD,EAAWA,EAAS,QAAU,KAAOA,EAAS,MAAM,YAAcA,EAAS,MAAM,WAAW,SAAWA,EAAS,OAAO,SAAWuI,GAAW,SAAS,SACvK,GAAIvF,GAAYd,KAAOc,EACrB,OAAOA,EAASd,GACX,GAAI,UAAU,OAAS,EAC5B,OAAOyG,GAAyBvG,EAAWsG,CAAY,EAAIA,EAAa,KAAK1I,GAAYA,EAAS,KAAK,EAAI0I,CAI/G,CAGF,CAKA,SAASG,GAAUC,EAAUC,EAAUC,EAAYC,EAAQ,GAAO,CAChE,IAAMC,EAAQ,CAAC,EACTC,EAAQ,CAAC,EACfC,GAAID,EAAOE,GAAmB,CAAC,EAC/BP,EAAS,cAAgC,OAAO,OAAO,IAAI,EAC3DQ,GAAaR,EAAUC,EAAUG,EAAOC,CAAK,EAC7C,QAAWI,KAAOT,EAAS,aAAa,GAChCS,KAAOL,IACXA,EAAMK,GAAO,QAMbP,EACFF,EAAS,MAAQG,EAAQC,EAAQM,GAAgBN,CAAK,EAEjDJ,EAAS,KAAK,MAGjBA,EAAS,MAAQI,EAFjBJ,EAAS,MAAQK,EAKrBL,EAAS,MAAQK,CACnB,CAQA,SAASM,GAAYC,EAAUC,EAAUC,EAAcC,EAAW,CAChE,GAAM,CACJ,MAAAC,EACA,MAAAC,EACA,MAAO,CAAE,UAAAC,CAAU,CACrB,EAAIN,EACEO,EAAkBC,GAAMJ,CAAK,EAC7B,CAACK,CAAO,EAAIT,EAAS,aACvBU,EAAkB,GACtB,IAI+EP,GAAaG,EAAY,IAAM,EAAEA,EAAY,KAE1H,GAAIA,EAAY,EAAG,CACjB,IAAMK,EAAgBX,EAAS,MAAM,aACrC,QAASY,EAAI,EAAGA,EAAID,EAAc,OAAQC,IAAK,CAC7C,IAAIC,EAAMF,EAAcC,GACxB,GAAIE,GAAed,EAAS,aAAca,CAAG,EAC3C,SAEF,IAAME,EAAQd,EAASY,GACvB,GAAIJ,EACF,GAAIO,GAAOX,EAAOQ,CAAG,EACfE,IAAUV,EAAMQ,KAClBR,EAAMQ,GAAOE,EACbL,EAAkB,QAEf,CACL,IAAMO,EAAeC,GAASL,CAAG,EACjCT,EAAMa,GAAgBE,GACpBV,EACAF,EACAU,EACAF,EACAf,EACA,EAEF,CACF,MAEIe,IAAUV,EAAMQ,KAClBR,EAAMQ,GAAOE,EACbL,EAAkB,GAGxB,CACF,MACK,CACDU,GAAapB,EAAUC,EAAUG,EAAOC,CAAK,IAC/CK,EAAkB,IAEpB,IAAIW,EACJ,QAAWR,KAAON,GACZ,CAACN,GACL,CAACe,GAAOf,EAAUY,CAAG,KAEnBQ,EAAWC,GAAUT,CAAG,KAAOA,GAAO,CAACG,GAAOf,EAAUoB,CAAQ,MAC5DZ,EACEP,IACHA,EAAaW,KAAS,QACvBX,EAAamB,KAAc,UACzBjB,EAAMS,GAAOM,GACXV,EACAF,EACAM,EACA,OACAb,EACA,EAEF,GAGF,OAAOI,EAAMS,IAInB,GAAIR,IAAUE,EACZ,QAAWM,KAAOR,GACZ,CAACJ,GAAY,CAACe,GAAOf,EAAUY,CAAG,GAAK,MACzC,OAAOR,EAAMQ,GACbH,EAAkB,GAI1B,CACIA,GACFa,GAAQvB,EAAU,MAAO,QAAQ,CAKrC,CACA,SAASoB,GAAapB,EAAUC,EAAUG,EAAOC,EAAO,CACtD,GAAM,CAACI,EAASe,CAAY,EAAIxB,EAAS,aACrCU,EAAkB,GAClBe,EACJ,GAAIxB,EACF,QAASY,KAAOZ,EAAU,CACxB,GAAIyB,GAAeb,CAAG,EACpB,SAEF,IAAME,EAAQd,EAASY,GACnBc,EACAlB,GAAWO,GAAOP,EAASkB,EAAWT,GAASL,CAAG,CAAC,EACjD,CAACW,GAAgB,CAACA,EAAa,SAASG,CAAQ,EAClDvB,EAAMuB,GAAYZ,GAEjBU,IAAkBA,EAAgB,CAAC,IAAIE,GAAYZ,EAE5CD,GAAed,EAAS,aAAca,CAAG,IAC/C,EAAEA,KAAOR,IAAUU,IAAUV,EAAMQ,MACrCR,EAAMQ,GAAOE,EACbL,EAAkB,GAGxB,CAEF,GAAIc,EAAc,CAChB,IAAMjB,EAAkBC,GAAMJ,CAAK,EAC7BwB,EAAaH,GAAiBI,GACpC,QAASjB,EAAI,EAAGA,EAAIY,EAAa,OAAQZ,IAAK,CAC5C,IAAMC,EAAMW,EAAaZ,GACzBR,EAAMS,GAAOM,GACXV,EACAF,EACAM,EACAe,EAAWf,GACXb,EACA,CAACgB,GAAOY,EAAYf,CAAG,CACzB,CACF,CACF,CACA,OAAOH,CACT,CACA,SAASS,GAAiBV,EAASL,EAAOS,EAAKE,EAAOf,EAAU8B,EAAU,CACxE,IAAMC,EAAMtB,EAAQI,GACpB,GAAIkB,GAAO,KAAM,CACf,IAAMC,EAAahB,GAAOe,EAAK,SAAS,EACxC,GAAIC,GAAcjB,IAAU,OAAQ,CAClC,IAAMkB,EAAeF,EAAI,QACzB,GAAIA,EAAI,OAAS,UAAY,CAACA,EAAI,aAAeG,EAAWD,CAAY,EAAG,CACzE,GAAM,CAAE,cAAAE,CAAc,EAAInC,EACtBa,KAAOsB,EACTpB,EAAQoB,EAActB,IAEtBuB,GAAmBpC,CAAQ,EAC3Be,EAAQoB,EAActB,GAAOoB,EAAa,KACxC,KACA7B,CACF,EACAiC,GAAqB,EAEzB,MACEtB,EAAQkB,CAEZ,CACIF,EAAI,KACFD,GAAY,CAACE,EACfjB,EAAQ,GACCgB,EAAI,KAA4BhB,IAAU,IAAMA,IAAUO,GAAUT,CAAG,KAChFE,EAAQ,IAGd,CACA,OAAOA,CACT,CACA,SAASuB,GAAsBC,EAAMC,EAAYC,EAAU,GAAO,CAChE,IAAMC,EAAQF,EAAW,WACnBG,EAASD,EAAM,IAAIH,CAAI,EAC7B,GAAII,EACF,OAAOA,EAET,IAAMC,EAAML,EAAK,MACXM,EAAa,CAAC,EACdrB,EAAe,CAAC,EAClBsB,EAAa,GACjB,GAA2B,CAACZ,EAAWK,CAAI,EAAG,CAC5C,IAAMQ,EAAeC,GAAS,CAC5BF,EAAa,GACb,GAAM,CAAC1C,EAAO6C,CAAI,EAAIX,GAAsBU,EAAMR,EAAY,EAAI,EAClEU,GAAOL,EAAYzC,CAAK,EACpB6C,GACFzB,EAAa,KAAK,GAAGyB,CAAI,CAC7B,EACI,CAACR,GAAWD,EAAW,OAAO,QAChCA,EAAW,OAAO,QAAQO,CAAW,EAEnCR,EAAK,SACPQ,EAAYR,EAAK,OAAO,EAEtBA,EAAK,QACPA,EAAK,OAAO,QAAQQ,CAAW,CAEnC,CACA,GAAI,CAACH,GAAO,CAACE,EACX,OAAIK,GAASZ,CAAI,GACfG,EAAM,IAAIH,EAAMa,EAAS,EAEpBA,GAET,GAAIC,EAAQT,CAAG,EACb,QAAShC,EAAI,EAAGA,EAAIgC,EAAI,OAAQhC,IAAK,CAInC,IAAM0C,EAAgBpC,GAAS0B,EAAIhC,EAAE,EACjC2C,GAAiBD,CAAa,IAChCT,EAAWS,GAAiBzB,GAEhC,SACSe,EAIT,QAAW/B,KAAO+B,EAAK,CACrB,IAAMU,EAAgBpC,GAASL,CAAG,EAClC,GAAI0C,GAAiBD,CAAa,EAAG,CACnC,IAAMvB,EAAMa,EAAI/B,GACV2C,EAAOX,EAAWS,GAAiBD,EAAQtB,CAAG,GAAKG,EAAWH,CAAG,EAAI,CAAE,KAAMA,CAAI,EAAImB,GAAO,CAAC,EAAGnB,CAAG,EACzG,GAAIyB,EAAM,CACR,IAAMC,EAAeC,GAAa,QAASF,EAAK,IAAI,EAC9CG,EAAcD,GAAa,OAAQF,EAAK,IAAI,EAClDA,EAAK,GAAsBC,EAAe,GAC1CD,EAAK,GAA0BG,EAAc,GAAKF,EAAeE,GAC7DF,EAAe,IAAMzC,GAAOwC,EAAM,SAAS,IAC7ChC,EAAa,KAAK8B,CAAa,CAEnC,CACF,CACF,CAEF,IAAMM,EAAM,CAACf,EAAYrB,CAAY,EACrC,OAAI2B,GAASZ,CAAI,GACfG,EAAM,IAAIH,EAAMqB,CAAG,EAEdA,CACT,CACA,SAASL,GAAiB1C,EAAK,CAC7B,OAAIA,EAAI,KAAO,GAMjB,CACA,SAASgD,GAAQC,EAAM,CACrB,IAAMC,EAAQD,GAAQA,EAAK,SAAS,EAAE,MAAM,4BAA4B,EACxE,OAAOC,EAAQA,EAAM,GAAKD,IAAS,KAAO,OAAS,EACrD,CACA,SAASE,GAAWC,EAAGC,EAAG,CACxB,OAAOL,GAAQI,CAAC,IAAMJ,GAAQK,CAAC,CACjC,CACA,SAASR,GAAaS,EAAMC,EAAe,CACzC,OAAIf,EAAQe,CAAa,EAChBA,EAAc,UAAWC,GAAML,GAAWK,EAAGF,CAAI,CAAC,EAChDjC,EAAWkC,CAAa,GAC1BJ,GAAWI,EAAeD,CAAI,EAAI,EAEpC,EACT,CAwGA,IAAMG,GAAiBC,GAAQA,EAAI,KAAO,KAAOA,IAAQ,UACnDC,GAAsBC,GAAUC,EAAQD,CAAK,EAAIA,EAAM,IAAIE,EAAc,EAAI,CAACA,GAAeF,CAAK,CAAC,EACnGG,GAAgB,CAACL,EAAKM,EAASC,IAAQ,CAC3C,GAAID,EAAQ,GACV,OAAOA,EAET,IAAME,EAAaC,GAAQ,IAAIC,IAMtBT,GAAmBK,EAAQ,GAAGI,CAAI,CAAC,EACzCH,CAAG,EACN,OAAAC,EAAW,GAAK,GACTA,CACT,EACMG,GAAuB,CAACC,EAAUC,EAAOC,IAAa,CAC1D,IAAMP,EAAMK,EAAS,KACrB,QAAWZ,KAAOY,EAAU,CAC1B,GAAIb,GAAcC,CAAG,EACnB,SACF,IAAME,EAAQU,EAASZ,GACvB,GAAIe,EAAWb,CAAK,EAClBW,EAAMb,GAAOK,GAAcL,EAAKE,EAAOK,CAAG,UACjCL,GAAS,KAAM,CAMxB,IAAMM,EAAaP,GAAmBC,CAAK,EAC3CW,EAAMb,GAAO,IAAMQ,CACrB,CACF,CACF,EACMQ,GAAsB,CAACF,EAAUG,IAAa,CAMlD,IAAMT,EAAaP,GAAmBgB,CAAQ,EAC9CH,EAAS,MAAM,QAAU,IAAMN,CACjC,EACMU,GAAY,CAACJ,EAAUG,IAAa,CACxC,GAAIH,EAAS,MAAM,UAAY,GAAI,CACjC,IAAMK,EAAOF,EAAS,EAClBE,GACFL,EAAS,MAAQM,GAAMH,CAAQ,EAC/BI,GAAIJ,EAAU,IAAKE,CAAI,GAEvBR,GACEM,EACAH,EAAS,MAAQ,CAAC,CAAC,CAEzB,MACEA,EAAS,MAAQ,CAAC,EACdG,GACFD,GAAoBF,EAAUG,CAAQ,EAG1CI,GAAIP,EAAS,MAAOQ,GAAmB,CAAC,CAC1C,EACMC,GAAc,CAACT,EAAUG,EAAUO,IAAc,CACrD,GAAM,CAAE,MAAAC,EAAO,MAAAZ,CAAM,EAAIC,EACrBY,EAAoB,GACpBC,EAA2BC,GAC/B,GAAIH,EAAM,UAAY,GAAI,CACxB,IAAMN,EAAOF,EAAS,EAClBE,EAISK,GAAaL,IAAS,EAC/BO,EAAoB,IAEpBG,GAAOhB,EAAOI,CAAQ,EAClB,CAACO,GAAaL,IAAS,GACzB,OAAON,EAAM,IAIjBa,EAAoB,CAACT,EAAS,QAC9BN,GAAqBM,EAAUJ,CAAK,GAEtCc,EAA2BV,CAC7B,MAAWA,IACTD,GAAoBF,EAAUG,CAAQ,EACtCU,EAA2B,CAAE,QAAS,CAAE,GAE1C,GAAID,EACF,QAAW1B,KAAOa,EACZ,CAACd,GAAcC,CAAG,GAAK2B,EAAyB3B,IAAQ,MAC1D,OAAOa,EAAMb,EAIrB,EAEA,SAAS8B,GAAOC,EAAQC,EAAWC,EAAgBR,EAAOS,EAAY,GAAO,CAC3E,GAAI/B,EAAQ4B,CAAM,EAAG,CACnBA,EAAO,QACL,CAACI,EAAGC,IAAMN,GACRK,EACAH,IAAc7B,EAAQ6B,CAAS,EAAIA,EAAUI,GAAKJ,GAClDC,EACAR,EACAS,CACF,CACF,EACA,MACF,CACA,GAAIG,GAAeZ,CAAK,GAAK,CAACS,EAC5B,OAEF,IAAMI,EAAWb,EAAM,UAAY,EAAIc,GAAed,EAAM,SAAS,GAAKA,EAAM,UAAU,MAAQA,EAAM,GAClGvB,EAAQgC,EAAY,KAAOI,EAC3B,CAAE,EAAGE,EAAO,EAAGC,CAAI,EAAIV,EAOvBW,EAASV,GAAaA,EAAU,EAChCW,EAAOH,EAAM,OAASZ,GAAYY,EAAM,KAAO,CAAC,EAAIA,EAAM,KAC1DI,EAAaJ,EAAM,WAWzB,GAVIE,GAAU,MAAQA,IAAWD,IAC3BI,GAASH,CAAM,GACjBC,EAAKD,GAAU,KACXI,GAAOF,EAAYF,CAAM,IAC3BE,EAAWF,GAAU,OAEdK,GAAML,CAAM,IACrBA,EAAO,MAAQ,OAGf3B,EAAW0B,CAAG,EAChBO,GAAsBP,EAAKD,EAAO,GAAI,CAACtC,EAAOyC,CAAI,CAAC,MAC9C,CACL,IAAMM,EAAYJ,GAASJ,CAAG,EACxBS,EAASH,GAAMN,CAAG,EACxB,GAAIQ,GAAaC,EAAQ,CACvB,IAAMC,EAAQ,IAAM,CAClB,GAAIpB,EAAO,EAAG,CACZ,IAAMqB,EAAWH,EAAYH,GAAOF,EAAYH,CAAG,EAAIG,EAAWH,GAAOE,EAAKF,GAAOA,EAAI,MACrFP,EACF/B,EAAQiD,CAAQ,GAAKC,GAAOD,EAAUd,CAAQ,EAEzCnC,EAAQiD,CAAQ,EAWTA,EAAS,SAASd,CAAQ,GACpCc,EAAS,KAAKd,CAAQ,EAXlBW,GACFN,EAAKF,GAAO,CAACH,CAAQ,EACjBQ,GAAOF,EAAYH,CAAG,IACxBG,EAAWH,GAAOE,EAAKF,MAGzBA,EAAI,MAAQ,CAACH,CAAQ,EACjBP,EAAO,IACTY,EAAKZ,EAAO,GAAKU,EAAI,OAM/B,MAAWQ,GACTN,EAAKF,GAAOvC,EACR4C,GAAOF,EAAYH,CAAG,IACxBG,EAAWH,GAAOvC,IAEXgD,IACTT,EAAI,MAAQvC,EACR6B,EAAO,IACTY,EAAKZ,EAAO,GAAK7B,GAIvB,EACIA,GACFiD,EAAM,GAAK,GACXG,GAAsBH,EAAOlB,CAAc,GAE3CkB,EAAM,CAEV,CAGF,CACF,CAkfA,SAASI,IAAmB,CAC1B,IAAMC,EAAW,CAAC,CAiBpB,CAEA,IAAMC,GAAwBC,GAC9B,SAASC,GAAeC,EAAS,CAC/B,OAAOC,GAAmBD,CAAO,CACnC,CAIA,SAASE,GAAmBC,EAASC,EAAoB,CAErDC,GAAiB,EAEnB,IAAMC,EAASC,GAAc,EAC7BD,EAAO,QAAU,GAIjB,GAAM,CACJ,OAAQE,EACR,OAAQC,EACR,UAAWC,EACX,cAAeC,EACf,WAAYC,EACZ,cAAeC,EACf,QAASC,EACT,eAAgBC,EAChB,WAAYC,EACZ,YAAaC,EACb,WAAYC,EAAiBC,GAC7B,oBAAqBC,CACvB,EAAIjB,EACEkB,EAAQ,CAACC,EAAIC,EAAIC,EAAWC,EAAS,KAAMC,EAAkB,KAAMC,EAAiB,KAAMC,EAAQ,GAAOC,EAAe,KAAMC,EAAiF,CAAC,CAACP,EAAG,kBAAoB,CAC5O,GAAID,IAAOC,EACT,OAEED,GAAM,CAACS,GAAgBT,EAAIC,CAAE,IAC/BE,EAASO,GAAgBV,CAAE,EAC3BW,GAAQX,EAAII,EAAiBC,EAAgB,EAAI,EACjDL,EAAK,MAEHC,EAAG,YAAc,KACnBO,EAAY,GACZP,EAAG,gBAAkB,MAEvB,GAAM,CAAE,KAAAW,EAAM,IAAAC,EAAK,UAAAC,CAAU,EAAIb,EACjC,OAAQW,QACDG,GACHC,EAAYhB,EAAIC,EAAIC,EAAWC,CAAM,EACrC,WACGc,GACHC,EAAmBlB,EAAIC,EAAIC,EAAWC,CAAM,EAC5C,WACGgB,GACCnB,GAAM,MACRoB,EAAgBnB,EAAIC,EAAWC,EAAQG,CAAK,EAI9C,WACGe,EACHC,EACEtB,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACF,EACA,cAEIM,EAAY,EACdS,GACEvB,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACF,EACSM,EAAY,EACrBU,GACExB,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACF,GACSM,EAAY,IAaZA,EAAY,MACrBF,EAAK,QACHZ,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAiB,EACF,EAKFZ,GAAO,MAAQT,GACjBsB,GAAOb,EAAKb,GAAMA,EAAG,IAAKK,EAAgBJ,GAAMD,EAAI,CAACC,CAAE,CAE3D,EACMe,EAAc,CAAChB,EAAIC,EAAIC,EAAWC,IAAW,CACjD,GAAIH,GAAM,KACRd,EACEe,EAAG,GAAKX,EAAeW,EAAG,QAAQ,EAClCC,EACAC,CACF,MACK,CACL,IAAMwB,EAAK1B,EAAG,GAAKD,EAAG,GAClBC,EAAG,WAAaD,EAAG,UACrBR,EAAYmC,EAAI1B,EAAG,QAAQ,CAE/B,CACF,EACMiB,EAAqB,CAAClB,EAAIC,EAAIC,EAAWC,IAAW,CACpDH,GAAM,KACRd,EACEe,EAAG,GAAKV,EAAkBU,EAAG,UAAY,EAAE,EAC3CC,EACAC,CACF,EAEAF,EAAG,GAAKD,EAAG,EAEf,EACMoB,EAAkB,CAACnB,EAAIC,EAAWC,EAAQG,IAAU,CACxD,CAACL,EAAG,GAAIA,EAAG,MAAM,EAAIH,EACnBG,EAAG,SACHC,EACAC,EACAG,EACAL,EAAG,GACHA,EAAG,MACL,CACF,EACM2B,EAAkB,CAAC5B,EAAIC,EAAIC,EAAWI,IAAU,CACpD,GAAIL,EAAG,WAAaD,EAAG,SAAU,CAC/B,IAAMG,EAASR,EAAgBK,EAAG,MAAM,EACxC6B,EAAiB7B,CAAE,EACnB,CAACC,EAAG,GAAIA,EAAG,MAAM,EAAIH,EACnBG,EAAG,SACHC,EACAC,EACAG,CACF,CACF,MACEL,EAAG,GAAKD,EAAG,GACXC,EAAG,OAASD,EAAG,MAEnB,EACM8B,EAAiB,CAAC,CAAE,GAAAH,EAAI,OAAAxB,CAAO,EAAGD,EAAW6B,IAAgB,CACjE,IAAIC,EACJ,KAAOL,GAAMA,IAAOxB,GAClB6B,EAAOrC,EAAgBgC,CAAE,EACzBzC,EAAWyC,EAAIzB,EAAW6B,CAAW,EACrCJ,EAAKK,EAEP9C,EAAWiB,EAAQD,EAAW6B,CAAW,CAC3C,EACMF,EAAmB,CAAC,CAAE,GAAAF,EAAI,OAAAxB,CAAO,IAAM,CAC3C,IAAI6B,EACJ,KAAOL,GAAMA,IAAOxB,GAClB6B,EAAOrC,EAAgBgC,CAAE,EACzBxC,EAAWwC,CAAE,EACbA,EAAKK,EAEP7C,EAAWgB,CAAM,CACnB,EACMoB,GAAiB,CAACvB,EAAIC,EAAIC,EAAWC,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcC,IAAc,CACrHF,EAAQA,GAASL,EAAG,OAAS,MACzBD,GAAM,KACRiC,GACEhC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACF,EAEA0B,EACElC,EACAC,EACAG,EACAC,EACAC,EACAC,EACAC,CACF,CAEJ,EACMyB,GAAe,CAACE,EAAOjC,EAAWC,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcC,IAAc,CAClH,IAAImB,EACAS,EACE,CAAE,KAAAxB,EAAM,MAAAyB,EAAO,UAAAvB,EAAW,WAAAwB,GAAY,KAAAC,EAAK,EAAIJ,EAyBrD,GAxBAR,EAAKQ,EAAM,GAAK9C,EACd8C,EAAM,KACN7B,EACA+B,GAASA,EAAM,GACfA,CACF,EACIvB,EAAY,EACdrB,EAAmBkC,EAAIQ,EAAM,QAAQ,EAC5BrB,EAAY,IACrB0B,EACEL,EAAM,SACNR,EACA,KACAvB,EACAC,EACAC,GAASM,IAAS,gBAClBL,EACAC,CACF,EAEE+B,IACFE,GAAoBN,EAAO,KAAM/B,EAAiB,SAAS,EAE7DsC,EAAWf,EAAIQ,EAAOA,EAAM,QAAS5B,EAAcH,CAAe,EAC9DiC,EAAO,CACT,QAAWM,MAAON,EACZM,KAAQ,SAAW,CAACC,GAAeD,EAAG,GACxCvD,EACEuC,EACAgB,GACA,KACAN,EAAMM,IACNrC,EACA6B,EAAM,SACN/B,EACAC,EACAwC,EACF,EAGA,UAAWR,GACbjD,EAAcuC,EAAI,QAAS,KAAMU,EAAM,KAAK,GAE1CD,EAAYC,EAAM,qBACpBS,GAAgBV,EAAWhC,EAAiB+B,CAAK,CAErD,CAWII,IACFE,GAAoBN,EAAO,KAAM/B,EAAiB,aAAa,EAEjE,IAAM2C,GAA0BC,GAAe3C,EAAgBiC,EAAU,EACrES,IACFT,GAAW,YAAYX,CAAE,EAE3BzC,EAAWyC,EAAIzB,EAAWC,CAAM,IAC3BiC,EAAYC,GAASA,EAAM,iBAAmBU,IAA2BR,KAC5EU,GAAsB,IAAM,CAC1Bb,GAAaU,GAAgBV,EAAWhC,EAAiB+B,CAAK,EAC9DY,IAA2BT,GAAW,MAAMX,CAAE,EAC9CY,IAAQE,GAAoBN,EAAO,KAAM/B,EAAiB,SAAS,CACrE,EAAGC,CAAc,CAErB,EACMqC,EAAa,CAACf,EAAIQ,EAAOe,EAAS3C,EAAcH,IAAoB,CAIxE,GAHI8C,GACFtD,EAAe+B,EAAIuB,CAAO,EAExB3C,EACF,QAAS4C,EAAI,EAAGA,EAAI5C,EAAa,OAAQ4C,IACvCvD,EAAe+B,EAAIpB,EAAa4C,EAAE,EAGtC,GAAI/C,EAAiB,CACnB,IAAIgD,EAAUhD,EAAgB,QAI9B,GAAI+B,IAAUiB,EAAS,CACrB,IAAMC,EAAcjD,EAAgB,MACpCsC,EACEf,EACA0B,EACAA,EAAY,QACZA,EAAY,aACZjD,EAAgB,MAClB,CACF,CACF,CACF,EACMoC,EAAgB,CAACc,EAAUpD,EAAWC,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcC,EAAW+C,EAAQ,IAAM,CACjI,QAASJ,EAAII,EAAOJ,EAAIG,EAAS,OAAQH,IAAK,CAC5C,IAAMK,EAAQF,EAASH,GAAK3C,EAAYiD,GAAeH,EAASH,EAAE,EAAIO,GAAeJ,EAASH,EAAE,EAChGpD,EACE,KACAyD,EACAtD,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACF,CACF,CACF,EACM0B,EAAe,CAAClC,EAAIC,EAAIG,EAAiBC,EAAgBC,EAAOC,EAAcC,IAAc,CAChG,IAAMmB,EAAK1B,EAAG,GAAKD,EAAG,GAClB,CAAE,UAAA2D,EAAW,gBAAAC,EAAiB,KAAArB,CAAK,EAAItC,EAC3C0D,GAAa3D,EAAG,UAAY,GAC5B,IAAM6D,EAAW7D,EAAG,OAAS8D,GACvBC,EAAW9D,EAAG,OAAS6D,GACzB1B,GACJhC,GAAmB4D,GAAc5D,EAAiB,EAAK,GACnDgC,GAAY2B,EAAS,sBACvBjB,GAAgBV,GAAWhC,EAAiBH,EAAID,CAAE,EAEhDuC,GACFE,GAAoBxC,EAAID,EAAII,EAAiB,cAAc,EAE7DA,GAAmB4D,GAAc5D,EAAiB,EAAI,EAMtD,IAAM6D,GAAiB3D,GAASL,EAAG,OAAS,gBA2B5C,GA1BI2D,EACFM,GACElE,EAAG,gBACH4D,EACAjC,EACAvB,EACAC,EACA4D,GACA1D,CACF,EAIUC,GACV2D,GACEnE,EACAC,EACA0B,EACA,KACAvB,EACAC,EACA4D,GACA1D,EACA,EACF,EAEEoD,EAAY,EAAG,CACjB,GAAIA,EAAY,GACdS,EACEzC,EACA1B,EACA4D,EACAE,EACA3D,EACAC,EACAC,CACF,UAEIqD,EAAY,GACVE,EAAS,QAAUE,EAAS,OAC9B3E,EAAcuC,EAAI,QAAS,KAAMoC,EAAS,MAAOzD,CAAK,EAGtDqD,EAAY,GACdvE,EAAcuC,EAAI,QAASkC,EAAS,MAAOE,EAAS,MAAOzD,CAAK,EAE9DqD,EAAY,EAAG,CACjB,IAAMU,GAAgBpE,EAAG,aACzB,QAASkD,GAAI,EAAGA,GAAIkB,GAAc,OAAQlB,KAAK,CAC7C,IAAMR,GAAM0B,GAAclB,IACpBmB,GAAOT,EAASlB,IAChBX,GAAO+B,EAASpB,KAClBX,KAASsC,IAAQ3B,KAAQ,UAC3BvD,EACEuC,EACAgB,GACA2B,GACAtC,GACA1B,EACAN,EAAG,SACHI,EACAC,EACAwC,EACF,CAEJ,CACF,CAEEc,EAAY,GACV3D,EAAG,WAAaC,EAAG,UACrBR,EAAmBkC,EAAI1B,EAAG,QAAQ,CAGxC,KAAW,CAACO,GAAaoD,GAAmB,MAC1CQ,EACEzC,EACA1B,EACA4D,EACAE,EACA3D,EACAC,EACAC,CACF,IAEG8B,GAAY2B,EAAS,iBAAmBxB,IAC3CU,GAAsB,IAAM,CAC1Bb,IAAaU,GAAgBV,GAAWhC,EAAiBH,EAAID,CAAE,EAC/DuC,GAAQE,GAAoBxC,EAAID,EAAII,EAAiB,SAAS,CAChE,EAAGC,CAAc,CAErB,EACM6D,GAAqB,CAACK,EAAaC,EAAaC,EAAmBrE,EAAiBC,EAAgBC,EAAOC,IAAiB,CAChI,QAAS4C,EAAI,EAAGA,EAAIqB,EAAY,OAAQrB,IAAK,CAC3C,IAAMuB,EAAWH,EAAYpB,GACvBwB,EAAWH,EAAYrB,GACvBjD,EAGJwE,EAAS,KAERA,EAAS,OAASrD,GAEnB,CAACZ,GAAgBiE,EAAUC,CAAQ,GACnCD,EAAS,UAAa,IAAWhF,EAAegF,EAAS,EAAE,EAGzDD,EAGJ1E,EACE2E,EACAC,EACAzE,EACA,KACAE,EACAC,EACAC,EACAC,EACA,EACF,CACF,CACF,EACM6D,EAAa,CAACzC,EAAIQ,EAAO0B,EAAUE,EAAU3D,EAAiBC,EAAgBC,IAAU,CAC5F,GAAIuD,IAAaE,EAAU,CACzB,GAAIF,IAAaC,GACf,QAAWnB,KAAOkB,EACZ,CAACjB,GAAeD,CAAG,GAAK,EAAEA,KAAOoB,IACnC3E,EACEuC,EACAgB,EACAkB,EAASlB,GACT,KACArC,EACA6B,EAAM,SACN/B,EACAC,EACAwC,EACF,EAIN,QAAWF,KAAOoB,EAAU,CAC1B,GAAInB,GAAeD,CAAG,EACpB,SACF,IAAMX,EAAO+B,EAASpB,GAChB2B,EAAOT,EAASlB,GAClBX,IAASsC,GAAQ3B,IAAQ,SAC3BvD,EACEuC,EACAgB,EACA2B,EACAtC,EACA1B,EACA6B,EAAM,SACN/B,EACAC,EACAwC,EACF,CAEJ,CACI,UAAWkB,GACb3E,EAAcuC,EAAI,QAASkC,EAAS,MAAOE,EAAS,KAAK,CAE7D,CACF,EACMzC,EAAkB,CAACtB,EAAIC,EAAIC,EAAWC,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcC,IAAc,CACtH,IAAMoE,EAAsB3E,EAAG,GAAKD,EAAKA,EAAG,GAAKV,EAAe,EAAE,EAC5DuF,EAAoB5E,EAAG,OAASD,EAAKA,EAAG,OAASV,EAAe,EAAE,EACpE,CAAE,UAAAqE,EAAW,gBAAAC,EAAiB,aAAckB,EAAqB,EAAI7E,EAOrE6E,KACFvE,EAAeA,EAAeA,EAAa,OAAOuE,EAAoB,EAAIA,IAExE9E,GAAM,MACRd,EAAW0F,EAAqB1E,EAAWC,CAAM,EACjDjB,EAAW2F,EAAmB3E,EAAWC,CAAM,EAC/CqC,EACEvC,EAAG,SACHC,EACA2E,EACAzE,EACAC,EACAC,EACAC,EACAC,CACF,GAEImD,EAAY,GAAKA,EAAY,IAAMC,GAEvC5D,EAAG,iBACDkE,GACElE,EAAG,gBACH4D,EACA1D,EACAE,EACAC,EACAC,EACAC,CACF,GAQEN,EAAG,KAAO,MAAQG,GAAmBH,IAAOG,EAAgB,UAE5D2E,GACE/E,EACAC,EACA,EAEF,GAGFkE,GACEnE,EACAC,EACAC,EACA2E,EACAzE,EACAC,EACAC,EACAC,EACAC,CACF,CAGN,EACMgB,GAAmB,CAACxB,EAAIC,EAAIC,EAAWC,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcC,IAAc,CACvHP,EAAG,aAAeM,EACdP,GAAM,KACJC,EAAG,UAAY,IACjBG,EAAgB,IAAI,SAClBH,EACAC,EACAC,EACAG,EACAE,CACF,EAEAwE,GACE/E,EACAC,EACAC,EACAC,EACAC,EACAC,EACAE,CACF,EAGFyE,GAAgBjF,EAAIC,EAAIO,CAAS,CAErC,EACMwE,GAAiB,CAACE,EAAchF,EAAWC,EAAQC,EAAiBC,EAAgBC,EAAOE,IAAc,CAC7G,IAAM2E,EAAYD,EAAa,UAAYE,GACzCF,EACA9E,EACAC,CACF,EAoBA,GAZIgF,GAAYH,CAAY,IAC1BC,EAAS,IAAI,SAAW1D,IAMxB6D,GAAeH,CAAQ,EAKrBA,EAAS,SAAU,CAErB,GADA9E,GAAkBA,EAAe,YAAY8E,EAAUI,EAAiB,EACpE,CAACL,EAAa,GAAI,CACpB,IAAMM,EAAcL,EAAS,QAAUM,GAAYxE,EAAO,EAC1DC,EAAmB,KAAMsE,EAAatF,EAAWC,CAAM,CACzD,CACA,MACF,CACAoF,GACEJ,EACAD,EACAhF,EACAC,EACAE,EACAC,EACAE,CACF,CAKF,EACMyE,GAAkB,CAACjF,EAAIC,EAAIO,IAAc,CAC7C,IAAM2E,EAAWlF,EAAG,UAAYD,EAAG,UACnC,GAAI0F,GAAsB1F,EAAIC,EAAIO,CAAS,EACzC,GAAI2E,EAAS,UAAY,CAACA,EAAS,cAAe,CAIhDQ,GAAyBR,EAAUlF,EAAIO,CAAS,EAIhD,MACF,MACE2E,EAAS,KAAOlF,EAChB2F,GAAcT,EAAS,MAAM,EAC7BA,EAAS,OAAO,OAGlBlF,EAAG,GAAKD,EAAG,GACXmF,EAAS,MAAQlF,CAErB,EACMsF,GAAoB,CAACJ,EAAUD,EAAchF,EAAWC,EAAQE,EAAgBC,EAAOE,IAAc,CACzG,IAAMqF,EAAoB,IAAM,CAC9B,GAAKV,EAAS,UA0FP,CACL,GAAI,CAAE,KAAAnD,EAAM,GAAA8D,EAAI,EAAAC,EAAG,OAAAC,GAAQ,MAAA7D,EAAM,EAAIgD,EACjCc,GAAajE,EACbI,GAIJ4B,GAAcmB,EAAU,EAAK,EACzBnD,GACFA,EAAK,GAAKG,GAAM,GAChBwD,GAAyBR,EAAUnD,EAAMxB,CAAS,GAElDwB,EAAOG,GAEL2D,GACFI,GAAeJ,CAAE,GAEf1D,GAAYJ,EAAK,OAASA,EAAK,MAAM,sBACvCc,GAAgBV,GAAW4D,GAAQhE,EAAMG,EAAK,EAEhD6B,GAAcmB,EAAU,EAAI,EAI5B,IAAMgB,GAAWC,GAAoBjB,CAAQ,EAIvCkB,GAAWlB,EAAS,QAC1BA,EAAS,QAAUgB,GAInBpG,EACEsG,GACAF,GAEAzG,EAAe2G,GAAS,EAAE,EAE1B3F,GAAgB2F,EAAQ,EACxBlB,EACA9E,EACAC,CACF,EAIA0B,EAAK,GAAKmE,GAAS,GACfF,KAAe,MACjBK,GAAgBnB,EAAUgB,GAAS,EAAE,EAEnCJ,GACF9C,GAAsB8C,EAAG1F,CAAc,GAErC+B,GAAYJ,EAAK,OAASA,EAAK,MAAM,iBACvCiB,GACE,IAAMH,GAAgBV,GAAW4D,GAAQhE,EAAMG,EAAK,EACpD9B,CACF,CAQJ,KA5JyB,CACvB,IAAI+B,EACE,CAAE,GAAAT,EAAI,MAAAU,CAAM,EAAI6C,EAChB,CAAE,GAAAqB,GAAI,EAAAC,GAAG,OAAAR,EAAO,EAAIb,EACpBsB,GAAsBC,GAAexB,CAAY,EASvD,GARAlB,GAAcmB,EAAU,EAAK,EACzBoB,IACFL,GAAeK,EAAE,EAEf,CAACE,KAAwBrE,EAAYC,GAASA,EAAM,qBACtDS,GAAgBV,EAAW4D,GAAQd,CAAY,EAEjDlB,GAAcmB,EAAU,EAAI,EACxBxD,GAAMgF,GAAa,CACrB,IAAMC,GAAiB,IAAM,CAI3BzB,EAAS,QAAUiB,GAAoBjB,CAAQ,EAO/CwB,GACEhF,EACAwD,EAAS,QACTA,EACA9E,EACA,IACF,CAIF,EACIoG,GACFvB,EAAa,KAAK,cAAc,EAAE,KAKhC,IAAM,CAACC,EAAS,aAAeyB,GAAe,CAChD,EAEAA,GAAe,CAEnB,KAAO,CAIL,IAAMxD,GAAU+B,EAAS,QAAUiB,GAAoBjB,CAAQ,EAO/DpF,EACE,KACAqD,GACAlD,EACAC,EACAgF,EACA9E,EACAC,CACF,EAIA4E,EAAa,GAAK9B,GAAQ,EAC5B,CAIA,GAHIoD,IACFvD,GAAsBuD,GAAGnG,CAAc,EAErC,CAACoG,KAAwBrE,EAAYC,GAASA,EAAM,gBAAiB,CACvE,IAAMwE,GAAqB3B,EAC3BjC,GACE,IAAMH,GAAgBV,EAAW4D,GAAQa,EAAkB,EAC3DxG,CACF,CACF,EACI6E,EAAa,UAAY,KAAOc,IAAUU,GAAeV,GAAO,KAAK,GAAKA,GAAO,MAAM,UAAY,MACrGb,EAAS,GAAKlC,GAAsBkC,EAAS,EAAG9E,CAAc,EAEhE8E,EAAS,UAAY,GAIrBD,EAAehF,EAAYC,EAAS,IACtC,CAmEF,EACM2G,EAAS3B,EAAS,OAAS,IAAI4B,GACnClB,EACA,IAAMmB,GAASC,CAAM,EACrB9B,EAAS,KAEX,EACM8B,EAAS9B,EAAS,OAAS,IAAM2B,EAAO,IAAI,EAClDG,EAAO,GAAK9B,EAAS,IACrBnB,GAAcmB,EAAU,EAAI,EAM5B8B,EAAO,CACT,EACMtB,GAA2B,CAACR,EAAU+B,EAAW1G,IAAc,CACnE0G,EAAU,UAAY/B,EACtB,IAAMgC,EAAYhC,EAAS,MAAM,MACjCA,EAAS,MAAQ+B,EACjB/B,EAAS,KAAO,KAChBiC,GAAYjC,EAAU+B,EAAU,MAAOC,EAAW3G,CAAS,EAC3D6G,GAAYlC,EAAU+B,EAAU,SAAU1G,CAAS,EACnD8G,GAAc,EACdC,GAAiB,EACjBC,GAAc,CAChB,EACMrD,GAAgB,CAACnE,EAAIC,EAAIC,EAAWC,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcC,EAAY,KAAU,CAC5H,IAAMiH,EAAKzH,GAAMA,EAAG,SACd0H,EAAgB1H,EAAKA,EAAG,UAAY,EACpC2H,EAAK1H,EAAG,SACR,CAAE,UAAA0D,EAAW,UAAA7C,EAAU,EAAIb,EACjC,GAAI0D,EAAY,GACd,GAAIA,EAAY,IAAK,CACnBiE,EACEH,EACAE,EACAzH,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACF,EACA,MACF,SAAWmD,EAAY,IAAK,CAC1BkE,GACEJ,EACAE,EACAzH,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACF,EACA,MACF,EAEEM,GAAY,GACV4G,EAAgB,IAClB7E,GAAgB4E,EAAIrH,EAAiBC,CAAc,EAEjDsH,IAAOF,GACThI,EAAmBS,EAAWyH,CAAE,GAG9BD,EAAgB,GACd5G,GAAY,GACd8G,EACEH,EACAE,EACAzH,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACF,EAEAqC,GAAgB4E,EAAIrH,EAAiBC,EAAgB,EAAI,GAGvDqH,EAAgB,GAClBjI,EAAmBS,EAAW,EAAE,EAE9BY,GAAY,IACd0B,EACEmF,EACAzH,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACF,EAIR,EACMqH,GAAuB,CAACJ,EAAIE,EAAIzH,EAAWC,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcC,IAAc,CAC3HiH,EAAKA,GAAMK,GACXH,EAAKA,GAAMG,GACX,IAAMC,EAAYN,EAAG,OACfO,EAAYL,EAAG,OACfM,EAAe,KAAK,IAAIF,EAAWC,CAAS,EAC9C7E,EACJ,IAAKA,EAAI,EAAGA,EAAI8E,EAAc9E,IAAK,CACjC,IAAM+E,GAAYP,EAAGxE,GAAK3C,EAAYiD,GAAekE,EAAGxE,EAAE,EAAIO,GAAeiE,EAAGxE,EAAE,EAClFpD,EACE0H,EAAGtE,GACH+E,GACAhI,EACA,KACAE,EACAC,EACAC,EACAC,EACAC,CACF,CACF,CACIuH,EAAYC,EACdnF,GACE4E,EACArH,EACAC,EACA,GACA,GACA4H,CACF,EAEAzF,EACEmF,EACAzH,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAyH,CACF,CAEJ,EACML,EAAqB,CAACH,EAAIE,EAAIzH,EAAWiI,EAAc/H,EAAiBC,EAAgBC,EAAOC,EAAcC,IAAc,CAC/H,IAAI2C,EAAI,EACFiF,EAAKT,EAAG,OACVU,EAAKZ,EAAG,OAAS,EACjBa,EAAKF,EAAK,EACd,KAAOjF,GAAKkF,GAAMlF,GAAKmF,GAAI,CACzB,IAAMtI,GAAKyH,EAAGtE,GACRlD,GAAK0H,EAAGxE,GAAK3C,EAAYiD,GAAekE,EAAGxE,EAAE,EAAIO,GAAeiE,EAAGxE,EAAE,EAC3E,GAAI1C,GAAgBT,GAAIC,EAAE,EACxBF,EACEC,GACAC,GACAC,EACA,KACAE,EACAC,EACAC,EACAC,EACAC,CACF,MAEA,OAEF2C,GACF,CACA,KAAOA,GAAKkF,GAAMlF,GAAKmF,GAAI,CACzB,IAAMtI,GAAKyH,EAAGY,GACRpI,GAAK0H,EAAGW,GAAM9H,EAAYiD,GAAekE,EAAGW,EAAG,EAAI5E,GAAeiE,EAAGW,EAAG,EAC9E,GAAI7H,GAAgBT,GAAIC,EAAE,EACxBF,EACEC,GACAC,GACAC,EACA,KACAE,EACAC,EACAC,EACAC,EACAC,CACF,MAEA,OAEF6H,IACAC,GACF,CACA,GAAInF,EAAIkF,GACN,GAAIlF,GAAKmF,EAAI,CACX,IAAMC,GAAUD,EAAK,EACfnI,GAASoI,GAAUH,EAAKT,EAAGY,IAAS,GAAKJ,EAC/C,KAAOhF,GAAKmF,GACVvI,EACE,KACA4H,EAAGxE,GAAK3C,EAAYiD,GAAekE,EAAGxE,EAAE,EAAIO,GAAeiE,EAAGxE,EAAE,EAChEjD,EACAC,GACAC,EACAC,EACAC,EACAC,EACAC,CACF,EACA2C,GAEJ,UACSA,EAAImF,EACb,KAAOnF,GAAKkF,GACV1H,GAAQ8G,EAAGtE,GAAI/C,EAAiBC,EAAgB,EAAI,EACpD8C,QAEG,CACL,IAAMqF,GAAKrF,EACLsF,GAAKtF,EACLuF,GAAmC,IAAI,IAC7C,IAAKvF,EAAIsF,GAAItF,GAAKmF,EAAInF,IAAK,CACzB,IAAM+E,GAAYP,EAAGxE,GAAK3C,EAAYiD,GAAekE,EAAGxE,EAAE,EAAIO,GAAeiE,EAAGxE,EAAE,EAC9E+E,GAAU,KAAO,MAQnBQ,GAAiB,IAAIR,GAAU,IAAK/E,CAAC,CAEzC,CACA,IAAIwF,GACAC,GAAU,EACRC,GAAcP,EAAKG,GAAK,EAC1BK,GAAQ,GACRC,GAAmB,EACjBC,GAAwB,IAAI,MAAMH,EAAW,EACnD,IAAK1F,EAAI,EAAGA,EAAI0F,GAAa1F,IAC3B6F,GAAsB7F,GAAK,EAC7B,IAAKA,EAAIqF,GAAIrF,GAAKkF,EAAIlF,IAAK,CACzB,IAAM8F,GAAYxB,EAAGtE,GACrB,GAAIyF,IAAWC,GAAa,CAC1BlI,GAAQsI,GAAW7I,EAAiBC,EAAgB,EAAI,EACxD,QACF,CACA,IAAI6I,GACJ,GAAID,GAAU,KAAO,KACnBC,GAAWR,GAAiB,IAAIO,GAAU,GAAG,MAE7C,KAAKN,GAAIF,GAAIE,IAAKL,EAAIK,KACpB,GAAIK,GAAsBL,GAAIF,MAAQ,GAAKhI,GAAgBwI,GAAWtB,EAAGgB,GAAE,EAAG,CAC5EO,GAAWP,GACX,KACF,CAGAO,KAAa,OACfvI,GAAQsI,GAAW7I,EAAiBC,EAAgB,EAAI,GAExD2I,GAAsBE,GAAWT,IAAMtF,EAAI,EACvC+F,IAAYH,GACdA,GAAmBG,GAEnBJ,GAAQ,GAEV/I,EACEkJ,GACAtB,EAAGuB,IACHhJ,EACA,KACAE,EACAC,EACAC,EACAC,EACAC,CACF,EACAoI,KAEJ,CACA,IAAMO,GAA6BL,GAAQM,GAAYJ,EAAqB,EAAIlB,GAEhF,IADAa,GAAIQ,GAA2B,OAAS,EACnChG,EAAI0F,GAAc,EAAG1F,GAAK,EAAGA,IAAK,CACrC,IAAMkG,GAAYZ,GAAKtF,EACjB+E,GAAYP,EAAG0B,IACflJ,GAASkJ,GAAY,EAAIjB,EAAKT,EAAG0B,GAAY,GAAG,GAAKlB,EACvDa,GAAsB7F,KAAO,EAC/BpD,EACE,KACAmI,GACAhI,EACAC,GACAC,EACAC,EACAC,EACAC,EACAC,CACF,EACSsI,KACLH,GAAI,GAAKxF,IAAMgG,GAA2BR,IAC5CW,GAAKpB,GAAWhI,EAAWC,GAAQ,CAAC,EAEpCwI,KAGN,CACF,CACF,EACMW,GAAO,CAACnH,EAAOjC,EAAWC,EAAQoJ,EAAUlJ,EAAiB,OAAS,CAC1E,GAAM,CAAE,GAAAsB,EAAI,KAAAf,EAAM,WAAA0B,EAAY,SAAAgB,EAAU,UAAAxC,CAAU,EAAIqB,EACtD,GAAIrB,EAAY,EAAG,CACjBwI,GAAKnH,EAAM,UAAU,QAASjC,EAAWC,EAAQoJ,CAAQ,EACzD,MACF,CACA,GAAIzI,EAAY,IAAK,CACnBqB,EAAM,SAAS,KAAKjC,EAAWC,EAAQoJ,CAAQ,EAC/C,MACF,CACA,GAAIzI,EAAY,GAAI,CAClBF,EAAK,KAAKuB,EAAOjC,EAAWC,EAAQsB,EAAS,EAC7C,MACF,CACA,GAAIb,IAASS,EAAU,CACrBnC,EAAWyC,EAAIzB,EAAWC,CAAM,EAChC,QAASgD,EAAI,EAAGA,EAAIG,EAAS,OAAQH,IACnCmG,GAAKhG,EAASH,GAAIjD,EAAWC,EAAQoJ,CAAQ,EAE/CrK,EAAWiD,EAAM,OAAQjC,EAAWC,CAAM,EAC1C,MACF,CACA,GAAIS,IAASO,GAAQ,CACnBW,EAAeK,EAAOjC,EAAWC,CAAM,EACvC,MACF,CAEA,GADwBoJ,IAAa,GAAKzI,EAAY,GAAKwB,EAEzD,GAAIiH,IAAa,EACfjH,EAAW,YAAYX,CAAE,EACzBzC,EAAWyC,EAAIzB,EAAWC,CAAM,EAChC8C,GAAsB,IAAMX,EAAW,MAAMX,CAAE,EAAGtB,CAAc,MAC3D,CACL,GAAM,CAAE,MAAAmJ,EAAO,WAAAC,EAAY,WAAAC,EAAW,EAAIpH,EACpCqH,GAAU,IAAMzK,EAAWyC,EAAIzB,EAAWC,CAAM,EAChDyJ,GAAe,IAAM,CACzBJ,EAAM7H,EAAI,IAAM,CACdgI,GAAQ,EACRD,IAAcA,GAAW,CAC3B,CAAC,CACH,EACID,EACFA,EAAW9H,EAAIgI,GAASC,EAAY,EAEpCA,GAAa,CAEjB,MAEA1K,EAAWyC,EAAIzB,EAAWC,CAAM,CAEpC,EACMQ,GAAU,CAACwB,EAAO/B,EAAiBC,EAAgBwJ,EAAW,GAAOrJ,EAAY,KAAU,CAC/F,GAAM,CACJ,KAAAI,EACA,MAAAyB,EACA,IAAAxB,EACA,SAAAyC,EACA,gBAAAM,EACA,UAAA9C,EACA,UAAA6C,EACA,KAAApB,CACF,EAAIJ,EAIJ,GAHItB,GAAO,MACTa,GAAOb,EAAK,KAAMR,EAAgB8B,EAAO,EAAI,EAE3CrB,EAAY,IAAK,CACnBV,EAAgB,IAAI,WAAW+B,CAAK,EACpC,MACF,CACA,IAAM2H,GAAmBhJ,EAAY,GAAKyB,EACpCwH,GAAwB,CAACrD,GAAevE,CAAK,EAC/CC,GAIJ,GAHI2H,KAA0B3H,GAAYC,GAASA,EAAM,uBACvDS,GAAgBV,GAAWhC,EAAiB+B,CAAK,EAE/CrB,EAAY,EACdkJ,GAAiB7H,EAAM,UAAW9B,EAAgBwJ,CAAQ,MACrD,CACL,GAAI/I,EAAY,IAAK,CACnBqB,EAAM,SAAS,QAAQ9B,EAAgBwJ,CAAQ,EAC/C,MACF,CACIC,IACFrH,GAAoBN,EAAO,KAAM/B,EAAiB,eAAe,EAE/DU,EAAY,GACdqB,EAAM,KAAK,OACTA,EACA/B,EACAC,EACAG,EACAiB,GACAoI,CACF,EACSjG,IACVhD,IAASS,GAAYsC,EAAY,GAAKA,EAAY,IACjDd,GACEe,EACAxD,EACAC,EACA,GACA,EACF,GACSO,IAASS,GAAYsC,EAAa,KAAc,CAACnD,GAAaM,EAAY,KACnF+B,GAAgBS,EAAUlD,EAAiBC,CAAc,EAEvDwJ,GACFI,GAAO9H,CAAK,CAEhB,EACI4H,KAA0B3H,GAAYC,GAASA,EAAM,mBAAqByH,KAC5E7G,GAAsB,IAAM,CAC1Bb,IAAaU,GAAgBV,GAAWhC,EAAiB+B,CAAK,EAC9D2H,IAAoBrH,GAAoBN,EAAO,KAAM/B,EAAiB,WAAW,CACnF,EAAGC,CAAc,CAErB,EACM4J,GAAU9H,GAAU,CACxB,GAAM,CAAE,KAAAvB,EAAM,GAAAe,EAAI,OAAAxB,EAAQ,WAAAmC,CAAW,EAAIH,EACzC,GAAIvB,IAASS,EAAU,CAUnB6I,GAAevI,EAAIxB,CAAM,EAE3B,MACF,CACA,GAAIS,IAASO,GAAQ,CACnBU,EAAiBM,CAAK,EACtB,MACF,CACA,IAAMgI,EAAgB,IAAM,CAC1BhL,EAAWwC,CAAE,EACTW,GAAc,CAACA,EAAW,WAAaA,EAAW,YACpDA,EAAW,WAAW,CAE1B,EACA,GAAIH,EAAM,UAAY,GAAKG,GAAc,CAACA,EAAW,UAAW,CAC9D,GAAM,CAAE,MAAAkH,EAAO,WAAAC,CAAW,EAAInH,EACxBsH,EAAe,IAAMJ,EAAM7H,EAAIwI,CAAa,EAC9CV,EACFA,EAAWtH,EAAM,GAAIgI,EAAeP,CAAY,EAEhDA,EAAa,CAEjB,MACEO,EAAc,CAElB,EACMD,GAAiB,CAACE,EAAKC,IAAQ,CACnC,IAAIrI,EACJ,KAAOoI,IAAQC,GACbrI,EAAOrC,EAAgByK,CAAG,EAC1BjL,EAAWiL,CAAG,EACdA,EAAMpI,EAER7C,EAAWkL,CAAG,CAChB,EACML,GAAmB,CAAC7E,EAAU9E,EAAgBwJ,IAAa,CAI/D,GAAM,CAAE,IAAAS,EAAK,MAAAC,EAAO,OAAAtD,EAAQ,QAAA7D,EAAS,GAAAoH,CAAG,EAAIrF,EACxCmF,GACFpE,GAAeoE,CAAG,EAEpBC,EAAM,KAAK,EACPtD,IACFA,EAAO,OAAS,GAChBtG,GAAQyC,EAAS+B,EAAU9E,EAAgBwJ,CAAQ,GAEjDW,GACFvH,GAAsBuH,EAAInK,CAAc,EAE1C4C,GAAsB,IAAM,CAC1BkC,EAAS,YAAc,EACzB,EAAG9E,CAAc,EACbA,GAAkBA,EAAe,eAAiB,CAACA,EAAe,aAAe8E,EAAS,UAAY,CAACA,EAAS,eAAiBA,EAAS,aAAe9E,EAAe,YAC1KA,EAAe,OACXA,EAAe,OAAS,GAC1BA,EAAe,QAAQ,EAM7B,EACMwC,GAAkB,CAACS,EAAUlD,EAAiBC,EAAgBwJ,EAAW,GAAOrJ,EAAY,GAAO+C,EAAQ,IAAM,CACrH,QAASJ,EAAII,EAAOJ,EAAIG,EAAS,OAAQH,IACvCxC,GAAQ2C,EAASH,GAAI/C,EAAiBC,EAAgBwJ,EAAUrJ,CAAS,CAE7E,EACME,GAAmByB,GACnBA,EAAM,UAAY,EACbzB,GAAgByB,EAAM,UAAU,OAAO,EAE5CA,EAAM,UAAY,IACbA,EAAM,SAAS,KAAK,EAEtBxC,EAAgBwC,EAAM,QAAUA,EAAM,EAAE,EAE3CsI,GAAS,CAACtI,EAAOjC,EAAWI,IAAU,CACtC6B,GAAS,KACPjC,EAAU,QACZS,GAAQT,EAAU,OAAQ,KAAM,KAAM,EAAI,EAG5CH,EAAMG,EAAU,QAAU,KAAMiC,EAAOjC,EAAW,KAAM,KAAM,KAAMI,CAAK,EAE3EiH,GAAiB,EACjBmD,GAAkB,EAClBxK,EAAU,OAASiC,CACrB,EACMV,GAAY,CAChB,EAAG1B,EACH,GAAIY,GACJ,EAAG2I,GACH,EAAGW,GACH,GAAIjF,GACJ,GAAIxC,EACJ,GAAI2B,GACJ,IAAKD,GACL,EAAGxD,GACH,EAAG7B,CACL,EACI8L,GACAhE,GACJ,OAAI7H,IACF,CAAC6L,GAAShE,EAAW,EAAI7H,EACvB2C,EACF,GAEK,CACL,OAAAgJ,GACA,QAAAE,GACA,UAAWC,GAAaH,GAAQE,EAAO,CACzC,CACF,CACA,SAAS3G,GAAc,CAAE,OAAA8C,EAAQ,OAAAG,CAAO,EAAG4D,EAAS,CAClD/D,EAAO,aAAeG,EAAO,aAAe4D,CAC9C,CACA,SAAS7H,GAAe3C,EAAgBiC,EAAY,CAClD,OAAQ,CAACjC,GAAkBA,GAAkB,CAACA,EAAe,gBAAkBiC,GAAc,CAACA,EAAW,SAC3G,CACA,SAASyC,GAAuB/E,EAAIC,EAAI6K,EAAU,GAAO,CACvD,IAAMC,EAAM/K,EAAG,SACTgL,EAAM/K,EAAG,SACf,GAAIgL,EAAQF,CAAG,GAAKE,EAAQD,CAAG,EAC7B,QAAS7H,EAAI,EAAGA,EAAI4H,EAAI,OAAQ5H,IAAK,CACnC,IAAMsE,EAAKsD,EAAI5H,GACXwE,EAAKqD,EAAI7H,GACTwE,EAAG,UAAY,GAAK,CAACA,EAAG,mBACtBA,EAAG,WAAa,GAAKA,EAAG,YAAc,MACxCA,EAAKqD,EAAI7H,GAAKM,GAAeuH,EAAI7H,EAAE,EACnCwE,EAAG,GAAKF,EAAG,IAERqD,GACH/F,GAAuB0C,EAAIE,CAAE,GAE7BA,EAAG,OAAS5G,KACd4G,EAAG,GAAKF,EAAG,GAKf,CAEJ,CACA,SAAS2B,GAAY8B,EAAK,CACxB,IAAMC,EAAID,EAAI,MAAM,EACdE,EAAS,CAAC,CAAC,EACb,EAAGzC,EAAG5C,EAAGsF,EAAG,EACVC,EAAMJ,EAAI,OAChB,IAAK,EAAI,EAAG,EAAII,EAAK,IAAK,CACxB,IAAMC,EAAOL,EAAI,GACjB,GAAIK,IAAS,EAAG,CAEd,GADA5C,EAAIyC,EAAOA,EAAO,OAAS,GACvBF,EAAIvC,GAAK4C,EAAM,CACjBJ,EAAE,GAAKxC,EACPyC,EAAO,KAAK,CAAC,EACb,QACF,CAGA,IAFArF,EAAI,EACJsF,EAAID,EAAO,OAAS,EACbrF,EAAIsF,GACT,EAAItF,EAAIsF,GAAK,EACTH,EAAIE,EAAO,IAAMG,EACnBxF,EAAI,EAAI,EAERsF,EAAI,EAGJE,EAAOL,EAAIE,EAAOrF,MAChBA,EAAI,IACNoF,EAAE,GAAKC,EAAOrF,EAAI,IAEpBqF,EAAOrF,GAAK,EAEhB,CACF,CAGA,IAFAA,EAAIqF,EAAO,OACXC,EAAID,EAAOrF,EAAI,GACRA,KAAM,GACXqF,EAAOrF,GAAKsF,EACZA,EAAIF,EAAEE,GAER,OAAOD,CACT,CAEA,IAAMI,GAAc5K,GAASA,EAAK,aAyQlC,IAAM6K,EAAW,OAAO,IAAI,OAAO,EAC7BC,GAAO,OAAO,IAAI,OAAO,EACzBC,GAAU,OAAO,IAAI,OAAO,EAC5BC,GAAS,OAAO,IAAI,OAAO,EAC3BC,GAAa,CAAC,EAChBC,GAAe,KACnB,SAASC,EAAUC,EAAkB,GAAO,CAC1CH,GAAW,KAAKC,GAAeE,EAAkB,KAAO,CAAC,CAAC,CAC5D,CACA,SAASC,IAAa,CACpBJ,GAAW,IAAI,EACfC,GAAeD,GAAWA,GAAW,OAAS,IAAM,IACtD,CACA,IAAIK,GAAqB,EACzB,SAASC,GAAiBC,EAAO,CAC/BF,IAAsBE,CACxB,CACA,SAASC,GAAWC,EAAO,CACzB,OAAAA,EAAM,gBAAkBJ,GAAqB,EAAIJ,IAAgBS,GAAY,KAC7EN,GAAW,EACPC,GAAqB,GAAKJ,IAC5BA,GAAa,KAAKQ,CAAK,EAElBA,CACT,CACA,SAASE,EAAmBC,EAAMC,EAAOC,EAAUC,EAAWC,EAAcC,EAAW,CACrF,OAAOT,GACLU,EACEN,EACAC,EACAC,EACAC,EACAC,EACAC,EACA,EAEF,CACF,CACF,CACA,SAASE,GAAYP,EAAMC,EAAOC,EAAUC,EAAWC,EAAc,CACnE,OAAOR,GACLY,GACER,EACAC,EACAC,EACAC,EACAC,EACA,EAEF,CACF,CACF,CACA,SAASK,GAAQd,EAAO,CACtB,OAAOA,EAAQA,EAAM,cAAgB,GAAO,EAC9C,CACA,SAASe,GAAgBC,EAAIC,EAAI,CAM/B,OAAOD,EAAG,OAASC,EAAG,MAAQD,EAAG,MAAQC,EAAG,GAC9C,CAUA,IAAMC,GAAoB,cACpBC,GAAe,CAAC,CAAE,IAAAC,CAAI,IAAMA,GAAO,KAAOA,EAAM,KAChDC,GAAe,CAAC,CACpB,IAAAC,EACA,QAAAC,EACA,QAAAC,CACF,KACM,OAAOF,GAAQ,WACjBA,EAAM,GAAKA,GAENA,GAAO,KAAOG,GAASH,CAAG,GAAKI,GAAMJ,CAAG,GAAKK,EAAWL,CAAG,EAAI,CAAE,EAAGM,GAA0B,EAAGN,EAAK,EAAGC,EAAS,EAAG,CAAC,CAACC,CAAQ,EAAIF,EAAM,MAElJ,SAASO,EAAgBC,EAAMC,EAAQ,KAAMC,EAAW,KAAMC,EAAY,EAAGC,EAAe,KAAMC,EAAYL,IAASM,EAAW,EAAI,EAAGC,EAAc,GAAOC,EAAgC,GAAO,CACnM,IAAMC,EAAQ,CACZ,YAAa,GACb,SAAU,GACV,KAAAT,EACA,MAAAC,EACA,IAAKA,GAASZ,GAAaY,CAAK,EAChC,IAAKA,GAASV,GAAaU,CAAK,EAChC,QAASS,GACT,aAAc,KACd,SAAAR,EACA,UAAW,KACX,SAAU,KACV,UAAW,KACX,WAAY,KACZ,KAAM,KACN,WAAY,KACZ,GAAI,KACJ,OAAQ,KACR,OAAQ,KACR,aAAc,KACd,YAAa,EACb,UAAAG,EACA,UAAAF,EACA,aAAAC,EACA,gBAAiB,KACjB,WAAY,KACZ,IAAKN,EACP,EACA,OAAIU,GACFG,GAAkBF,EAAOP,CAAQ,EAC7BG,EAAY,KACdL,EAAK,UAAUS,CAAK,GAEbP,IACTO,EAAM,WAAad,GAASO,CAAQ,EAAI,EAAI,IAK1CU,GAAqB,GACzB,CAACL,GACDM,KAICJ,EAAM,UAAY,GAAKJ,EAAY,IAEpCI,EAAM,YAAc,IAClBI,GAAa,KAAKJ,CAAK,EAElBA,CACT,CACA,IAAMK,GAAyFC,GAC/F,SAASA,GAAaf,EAAMC,EAAQ,KAAMC,EAAW,KAAMC,EAAY,EAAGC,EAAe,KAAMG,EAAc,GAAO,CAOlH,IANI,CAACP,GAAQA,IAASgB,MAIpBhB,EAAOiB,IAELC,GAAQlB,CAAI,EAAG,CACjB,IAAMmB,EAASC,GACbpB,EACAC,EACA,EAEF,EACA,OAAIC,GACFS,GAAkBQ,EAAQjB,CAAQ,EAEhCU,GAAqB,GAAK,CAACL,GAAeM,KACxCM,EAAO,UAAY,EACrBN,GAAaA,GAAa,QAAQb,CAAI,GAAKmB,EAE3CN,GAAa,KAAKM,CAAM,GAG5BA,EAAO,WAAa,GACbA,CACT,CAIA,GAHIE,GAAiBrB,CAAI,IACvBA,EAAOA,EAAK,WAEVC,EAAO,CACTA,EAAQqB,GAAmBrB,CAAK,EAChC,GAAI,CAAE,MAAOsB,EAAO,MAAAC,CAAM,EAAIvB,EAC1BsB,GAAS,CAAC5B,GAAS4B,CAAK,IAC1BtB,EAAM,MAAQwB,GAAeF,CAAK,GAEhCG,GAASF,CAAK,IACZG,GAAQH,CAAK,GAAK,CAACI,EAAQJ,CAAK,IAClCA,EAAQK,GAAO,CAAC,EAAGL,CAAK,GAE1BvB,EAAM,MAAQ6B,EAAeN,CAAK,EAEtC,CACA,IAAMnB,EAAYV,GAASK,CAAI,EAAI,EAAI+B,GAAW/B,CAAI,EAAI,IAAMgC,GAAWhC,CAAI,EAAI,GAAK0B,GAAS1B,CAAI,EAAI,EAAIH,EAAWG,CAAI,EAAI,EAAI,EAUpI,OAAOD,EACLC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAE,EACA,EACF,CACF,CACA,SAASe,GAAmBrB,EAAO,CACjC,OAAKA,EAEE0B,GAAQ1B,CAAK,GAAKb,MAAqBa,EAAQ4B,GAAO,CAAC,EAAG5B,CAAK,EAAIA,EADjE,IAEX,CACA,SAASmB,GAAWX,EAAOwB,EAAYC,EAAW,GAAO,CACvD,GAAM,CAAE,MAAAjC,EAAO,IAAAT,EAAK,UAAAW,EAAW,SAAAD,CAAS,EAAIO,EACtC0B,EAAcF,EAAaG,GAAWnC,GAAS,CAAC,EAAGgC,CAAU,EAAIhC,EA2CvE,MA1Ce,CACb,YAAa,GACb,SAAU,GACV,KAAMQ,EAAM,KACZ,MAAO0B,EACP,IAAKA,GAAe9C,GAAa8C,CAAW,EAC5C,IAAKF,GAAcA,EAAW,IAI5BC,GAAY1C,EAAMoC,EAAQpC,CAAG,EAAIA,EAAI,OAAOD,GAAa0C,CAAU,CAAC,EAAI,CAACzC,EAAKD,GAAa0C,CAAU,CAAC,EAAI1C,GAAa0C,CAAU,EAC/HzC,EACJ,QAASiB,EAAM,QACf,aAAcA,EAAM,aACpB,SAA8HP,EAC9H,OAAQO,EAAM,OACd,aAAcA,EAAM,aACpB,YAAaA,EAAM,YACnB,UAAWA,EAAM,UAKjB,UAAWwB,GAAcxB,EAAM,OAASH,EAAWH,IAAc,GAAK,GAAKA,EAAY,GAAKA,EAC5F,aAAcM,EAAM,aACpB,gBAAiBA,EAAM,gBACvB,WAAYA,EAAM,WAClB,KAAMA,EAAM,KACZ,WAAYA,EAAM,WAKlB,UAAWA,EAAM,UACjB,SAAUA,EAAM,SAChB,UAAWA,EAAM,WAAaW,GAAWX,EAAM,SAAS,EACxD,WAAYA,EAAM,YAAcW,GAAWX,EAAM,UAAU,EAC3D,GAAIA,EAAM,GACV,OAAQA,EAAM,OACd,IAAKA,EAAM,IACX,GAAIA,EAAM,EACZ,CAEF,CAQA,SAAS4B,EAAgBC,EAAO,IAAKC,EAAO,EAAG,CAC7C,OAAOC,GAAYC,GAAM,KAAMH,EAAMC,CAAI,CAC3C,CAMA,SAASG,EAAmBC,EAAO,GAAIC,EAAU,GAAO,CACtD,OAAOA,GAAWC,EAAU,EAAGC,GAAYC,GAAS,KAAMJ,CAAI,GAAKK,GAAYD,GAAS,KAAMJ,CAAI,CACpG,CACA,SAASM,GAAeC,EAAO,CAC7B,OAAIA,GAAS,MAAQ,OAAOA,GAAU,UAC7BF,GAAYD,EAAO,EACjBI,EAAQD,CAAK,EACfF,GACLI,EACA,KAEAF,EAAM,MAAM,CACd,EACS,OAAOA,GAAU,SACnBG,GAAeH,CAAK,EAEpBF,GAAYM,GAAM,KAAM,OAAOJ,CAAK,CAAC,CAEhD,CACA,SAASG,GAAeH,EAAO,CAC7B,OAAOA,EAAM,KAAO,MAAQA,EAAM,YAAc,IAAMA,EAAM,KAAOA,EAAQK,GAAWL,CAAK,CAC7F,CACA,SAASM,GAAkBC,EAAOC,EAAU,CAC1C,IAAIC,EAAO,EACL,CAAE,UAAAC,CAAU,EAAIH,EACtB,GAAIC,GAAY,KACdA,EAAW,aACFP,EAAQO,CAAQ,EACzBC,EAAO,WACE,OAAOD,GAAa,SAC7B,GAAIE,EAAa,GAAS,CACxB,IAAMC,EAAOH,EAAS,QAClBG,IACFA,EAAK,KAAOA,EAAK,GAAK,IACtBL,GAAkBC,EAAOI,EAAK,CAAC,EAC/BA,EAAK,KAAOA,EAAK,GAAK,KAExB,MACF,KAAO,CACLF,EAAO,GACP,IAAMG,EAAWJ,EAAS,EACtB,CAACI,GAAY,EAAEC,MAAqBL,GACtCA,EAAS,KAAOM,GACPF,IAAa,GAAKE,KACvBA,GAAyB,MAAM,IAAM,EACvCN,EAAS,EAAI,GAEbA,EAAS,EAAI,EACbD,EAAM,WAAa,MAGzB,MACSQ,EAAWP,CAAQ,GAC5BA,EAAW,CAAE,QAASA,EAAU,KAAMM,EAAyB,EAC/DL,EAAO,KAEPD,EAAW,OAAOA,CAAQ,EACtBE,EAAY,IACdD,EAAO,GACPD,EAAW,CAACQ,EAAgBR,CAAQ,CAAC,GAErCC,EAAO,GAGXF,EAAM,SAAWC,EACjBD,EAAM,WAAaE,CACrB,CACA,SAASQ,MAAcC,EAAM,CAC3B,IAAMC,EAAM,CAAC,EACb,QAASC,EAAI,EAAGA,EAAIF,EAAK,OAAQE,IAAK,CACpC,IAAMC,EAAUH,EAAKE,GACrB,QAAWE,KAAOD,EAChB,GAAIC,IAAQ,QACNH,EAAI,QAAUE,EAAQ,QACxBF,EAAI,MAAQI,GAAe,CAACJ,EAAI,MAAOE,EAAQ,KAAK,CAAC,WAE9CC,IAAQ,QACjBH,EAAI,MAAQK,EAAe,CAACL,EAAI,MAAOE,EAAQ,KAAK,CAAC,UAC5CI,GAAKH,CAAG,EAAG,CACpB,IAAMI,EAAWP,EAAIG,GACfK,EAAWN,EAAQC,GACrBK,GAAYD,IAAaC,GAAY,EAAE1B,EAAQyB,CAAQ,GAAKA,EAAS,SAASC,CAAQ,KACxFR,EAAIG,GAAOI,EAAW,CAAC,EAAE,OAAOA,EAAUC,CAAQ,EAAIA,EAE1D,MAAWL,IAAQ,KACjBH,EAAIG,GAAOD,EAAQC,GAGzB,CACA,OAAOH,CACT,CACA,SAASS,GAAgBC,EAAMC,EAAUvB,EAAOwB,EAAY,KAAM,CAChEC,GAA2BH,EAAMC,EAAU,EAAG,CAC5CvB,EACAwB,CACF,CAAC,CACH,CAEA,IAAME,GAAkBC,GAAiB,EACrCC,GAAM,EACV,SAASC,GAAwB7B,EAAO8B,EAAQC,EAAU,CACxD,IAAM7B,EAAOF,EAAM,KACbgC,GAAcF,EAASA,EAAO,WAAa9B,EAAM,aAAe0B,GAChEH,EAAW,CACf,IAAKK,KACL,MAAA5B,EACA,KAAAE,EACA,OAAA4B,EACA,WAAAE,EACA,KAAM,KAEN,KAAM,KACN,QAAS,KAET,OAAQ,KACR,OAAQ,KAER,MAAO,IAAIC,GACT,EAEF,EACA,OAAQ,KACR,MAAO,KACP,QAAS,KACT,YAAa,KACb,UAAW,KACX,SAAUH,EAASA,EAAO,SAAW,OAAO,OAAOE,EAAW,QAAQ,EACtE,YAAa,KACb,YAAa,CAAC,EAEd,WAAY,KACZ,WAAY,KAEZ,aAAcE,GAAsBhC,EAAM8B,CAAU,EACpD,aAAcG,GAAsBjC,EAAM8B,CAAU,EAEpD,KAAM,KAEN,QAAS,KAET,cAAeI,GAEf,aAAclC,EAAK,aAEnB,IAAKkC,GACL,KAAMA,GACN,MAAOA,GACP,MAAOA,GACP,MAAOA,GACP,KAAMA,GACN,WAAYA,GACZ,aAAc,KACd,WAAY,KACZ,WAAY,KAEZ,SAAAL,EACA,WAAYA,EAAWA,EAAS,UAAY,EAC5C,SAAU,KACV,cAAe,GAGf,UAAW,GACX,YAAa,GACb,cAAe,GACf,GAAI,KACJ,EAAG,KACH,GAAI,KACJ,EAAG,KACH,GAAI,KACJ,EAAG,KACH,GAAI,KACJ,IAAK,KACL,GAAI,KACJ,EAAG,KACH,IAAK,KACL,IAAK,KACL,GAAI,KACJ,GAAI,IACN,EAIE,OAAAR,EAAS,IAAM,CAAE,EAAGA,CAAS,EAE/BA,EAAS,KAAOO,EAASA,EAAO,KAAOP,EACvCA,EAAS,KAAOc,GAAK,KAAK,KAAMd,CAAQ,EACpCvB,EAAM,IACRA,EAAM,GAAGuB,CAAQ,EAEZA,CACT,CACA,IAAIe,GAAkB,KAChBC,GAAqB,IAAMD,IAAmB/B,GAChDiC,GACAC,GACAC,GAAa,4BAETD,GAA+BE,GAAc,EAAED,OACnDD,GAA+BE,GAAc,EAAED,IAAc,CAAC,GAEhED,GAA6B,KAAM5B,GAAMyB,GAAkBzB,CAAC,EAC5D2B,GAA8BjB,GAAa,CACrCkB,GAA6B,OAAS,EACxCA,GAA6B,QAASG,GAAMA,EAAErB,CAAQ,CAAC,EAEvDkB,GAA6B,GAAGlB,CAAQ,CAE5C,EAEF,IAAMsB,GAAsBtB,GAAa,CACvCiB,GAA2BjB,CAAQ,EACnCA,EAAS,MAAM,GAAG,CACpB,EACMuB,GAAuB,IAAM,CACjCR,IAAmBA,GAAgB,MAAM,IAAI,EAC7CE,GAA2B,IAAI,CACjC,EAUA,SAASO,GAAoBC,EAAU,CACrC,OAAOA,EAAS,MAAM,UAAY,CACpC,CACA,IAAIC,GAAwB,GAC5B,SAASC,GAAeF,EAAUG,EAAQ,GAAO,CAC/CF,GAAwBE,EACxB,GAAM,CAAE,MAAAC,EAAO,SAAAC,CAAS,EAAIL,EAAS,MAC/BM,EAAaP,GAAoBC,CAAQ,EAC/CO,GAAUP,EAAUI,EAAOE,EAAYH,CAAK,EAC5CK,GAAUR,EAAUK,CAAQ,EAC5B,IAAMI,EAAcH,EAAaI,GAAuBV,EAAUG,CAAK,EAAI,OAC3E,OAAAF,GAAwB,GACjBQ,CACT,CACA,SAASC,GAAuBV,EAAUG,EAAO,CAC/C,IAAIQ,EACJ,IAAMC,EAAYZ,EAAS,KAuB3BA,EAAS,YAA8B,OAAO,OAAO,IAAI,EACzDA,EAAS,MAAQa,GAAQ,IAAI,MAAMb,EAAS,IAAKc,EAA2B,CAAC,EAI7E,GAAM,CAAE,MAAAC,CAAM,EAAIH,EAClB,GAAIG,EAAO,CACT,IAAMC,EAAehB,EAAS,aAAee,EAAM,OAAS,EAAIE,GAAmBjB,CAAQ,EAAI,KAC/FkB,GAAmBlB,CAAQ,EAC3BmB,GAAc,EACd,IAAMV,EAAcW,GAClBL,EACAf,EACA,EACA,CAA+EA,EAAS,MAAOgB,CAAY,CAC7G,EAGA,GAFAK,GAAc,EACdC,GAAqB,EACjBC,GAAUd,CAAW,EAAG,CAE1B,GADAA,EAAY,KAAKa,GAAsBA,EAAoB,EACvDnB,EACF,OAAOM,EAAY,KAAMe,GAAmB,CAC1CC,GAAkBzB,EAAUwB,EAAgBrB,CAAK,CACnD,CAAC,EAAE,MAAOuB,GAAM,CACdC,GAAYD,EAAG1B,EAAU,CAAC,CAC5B,CAAC,EAEDA,EAAS,SAAWS,CAQxB,MACEgB,GAAkBzB,EAAUS,EAAaN,CAAK,CAElD,MACEyB,GAAqB5B,EAAUG,CAAK,CAExC,CACA,SAASsB,GAAkBzB,EAAUS,EAAaN,EAAO,CACnD0B,EAAWpB,CAAW,EACpBT,EAAS,KAAK,kBAChBA,EAAS,UAAYS,EAErBT,EAAS,OAASS,EAEXqB,GAASrB,CAAW,IAS7BT,EAAS,WAAa+B,GAAUtB,CAAW,GAS7CmB,GAAqB5B,EAAUG,CAAK,CACtC,CACA,IAAI6B,GACAC,GAUJ,SAASC,GAAqBC,EAAUC,EAAOC,EAAa,CAC1D,IAAMC,EAAYH,EAAS,KAC3B,GAAI,CAACA,EAAS,OAAQ,CACpB,GAAI,CAACC,GAASG,IAAW,CAACD,EAAU,OAAQ,CAC1C,IAAME,EAAWF,EAAU,UAAYG,GAAqBN,CAAQ,EAAE,SACtE,GAAIK,EAAU,CAIZ,GAAM,CAAE,gBAAAE,EAAiB,gBAAAC,CAAgB,EAAIR,EAAS,WAAW,OAC3D,CAAE,WAAAS,EAAY,gBAAiBC,CAAyB,EAAIP,EAC5DQ,EAAuBC,GAC3BA,GACE,CACE,gBAAAL,EACA,WAAAE,CACF,EACAD,CACF,EACAE,CACF,EACAP,EAAU,OAASC,GAAQC,EAAUM,CAAoB,CAI3D,CACF,CACAX,EAAS,OAASG,EAAU,QAAUU,GAClCC,IACFA,GAAiBd,CAAQ,CAE7B,CAEEe,GAAmBf,CAAQ,EAC3BgB,GAAc,EACd,GAAI,CACFC,GAAajB,CAAQ,CACvB,QAAE,CACAkB,GAAc,EACdC,GAAqB,CACvB,CAYJ,CACA,SAASC,GAAcpB,EAAU,CAC/B,OAAOA,EAAS,aAAeA,EAAS,WAAa,IAAI,MACvDA,EAAS,MAeL,CACF,IAAIqB,EAAQC,EAAK,CACf,OAAAC,GAAMvB,EAAU,MAAO,QAAQ,EACxBqB,EAAOC,EAChB,CACF,CACF,EACF,CASA,SAASE,GAAmBC,EAAU,CACpC,IAAMC,EAAUC,GAAY,CAqB1BF,EAAS,QAAUE,GAAW,CAAC,CACjC,EAeE,MAAO,CACL,IAAI,OAAQ,CACV,OAAOC,GAAcH,CAAQ,CAC/B,EACA,MAAOA,EAAS,MAChB,KAAMA,EAAS,KACf,OAAAC,CACF,CAEJ,CACA,SAASG,GAAeJ,EAAU,CAChC,GAAIA,EAAS,QACX,OAAOA,EAAS,cAAgBA,EAAS,YAAc,IAAI,MAAMK,GAAUC,GAAQN,EAAS,OAAO,CAAC,EAAG,CACrG,IAAIO,EAAQC,EAAK,CACf,GAAIA,KAAOD,EACT,OAAOA,EAAOC,GACT,GAAIA,KAAOC,GAChB,OAAOA,GAAoBD,GAAKR,CAAQ,CAE5C,EACA,IAAIO,EAAQC,EAAK,CACf,OAAOA,KAAOD,GAAUC,KAAOC,EACjC,CACF,CAAC,EAEL,CACA,IAAMC,GAAa,kBACbC,GAAYC,GAAQA,EAAI,QAAQF,GAAaG,GAAMA,EAAE,YAAY,CAAC,EAAE,QAAQ,QAAS,EAAE,EAC7F,SAASC,GAAiBC,EAAWC,EAAkB,GAAM,CAC3D,OAAOC,EAAWF,CAAS,EAAIA,EAAU,aAAeA,EAAU,KAAOA,EAAU,MAAQC,GAAmBD,EAAU,MAC1H,CACA,SAASG,GAAoBlB,EAAUe,EAAWI,EAAS,GAAO,CAChE,IAAIC,EAAON,GAAiBC,CAAS,EACrC,GAAI,CAACK,GAAQL,EAAU,OAAQ,CAC7B,IAAMM,EAAQN,EAAU,OAAO,MAAM,iBAAiB,EAClDM,IACFD,EAAOC,EAAM,GAEjB,CACA,GAAI,CAACD,GAAQpB,GAAYA,EAAS,OAAQ,CACxC,IAAMsB,EAAqBC,GAAa,CACtC,QAAWf,KAAOe,EAChB,GAAIA,EAASf,KAASO,EACpB,OAAOP,CAGb,EACAY,EAAOE,EACLtB,EAAS,YAAcA,EAAS,OAAO,KAAK,UAC9C,GAAKsB,EAAkBtB,EAAS,WAAW,UAAU,CACvD,CACA,OAAOoB,EAAOT,GAASS,CAAI,EAAID,EAAS,MAAQ,WAClD,CACA,SAASK,GAAiBC,EAAO,CAC/B,OAAOR,EAAWQ,CAAK,GAAK,cAAeA,CAC7C,CAEA,IAAMC,GAAW,CAACC,EAAiBC,IAC1BF,GAAWC,EAAiBC,EAAcC,EAAqB,EAGxE,SAASC,GAAEC,EAAMC,EAAiBC,EAAU,CAC1C,IAAMC,EAAI,UAAU,OACpB,OAAIA,IAAM,EACJC,GAASH,CAAe,GAAK,CAACI,EAAQJ,CAAe,EACnDK,GAAQL,CAAe,EAClBM,GAAYP,EAAM,KAAM,CAACC,CAAe,CAAC,EAE3CM,GAAYP,EAAMC,CAAe,EAEjCM,GAAYP,EAAM,KAAMC,CAAe,GAG5CE,EAAI,EACND,EAAW,MAAM,UAAU,MAAM,KAAK,UAAW,CAAC,EACzCC,IAAM,GAAKG,GAAQJ,CAAQ,IACpCA,EAAW,CAACA,CAAQ,GAEfK,GAAYP,EAAMC,EAAiBC,CAAQ,EAEtD,CAEA,IAAMM,GAAgB,OAAO,IAAI,OAAO,EAClCC,GAAgB,IAAM,CAC1B,CACE,IAAMC,EAAMC,GAAOH,EAAa,EAMhC,OAAOE,CACT,CACF,EA+MA,IAAME,GAAU,QCpoPhB,IAAMC,GAAQ,6BACRC,GAAM,OAAO,UAAa,YAAc,SAAW,KACnDC,GAAoBD,IAAuBA,GAAI,cAAc,UAAU,EACvEE,GAAU,CACd,OAAQ,CAACC,EAAOC,EAAQC,IAAW,CACjCD,EAAO,aAAaD,EAAOE,GAAU,IAAI,CAC3C,EACA,OAASF,GAAU,CACjB,IAAMC,EAASD,EAAM,WACjBC,GACFA,EAAO,YAAYD,CAAK,CAE5B,EACA,cAAe,CAACG,EAAKC,EAAOC,EAAIC,IAAU,CACxC,IAAMC,EAAKH,EAAQP,GAAI,gBAAgBD,GAAOO,CAAG,EAAIN,GAAI,cAAcM,EAAKE,EAAK,CAAE,GAAAA,CAAG,EAAI,MAAM,EAChG,OAAIF,IAAQ,UAAYG,GAASA,EAAM,UAAY,MACjDC,EAAG,aAAa,WAAYD,EAAM,QAAQ,EAErCC,CACT,EACA,WAAaC,GAASX,GAAI,eAAeW,CAAI,EAC7C,cAAgBA,GAASX,GAAI,cAAcW,CAAI,EAC/C,QAAS,CAACC,EAAMD,IAAS,CACvBC,EAAK,UAAYD,CACnB,EACA,eAAgB,CAACD,EAAIC,IAAS,CAC5BD,EAAG,YAAcC,CACnB,EACA,WAAaC,GAASA,EAAK,WAC3B,YAAcA,GAASA,EAAK,YAC5B,cAAgBC,GAAab,GAAI,cAAca,CAAQ,EACvD,WAAWH,EAAII,EAAI,CACjBJ,EAAG,aAAaI,EAAI,EAAE,CACxB,EAKA,oBAAoBC,EAASX,EAAQC,EAAQE,EAAOS,EAAOC,EAAK,CAC9D,IAAMC,EAASb,EAASA,EAAO,gBAAkBD,EAAO,UACxD,GAAIY,IAAUA,IAAUC,GAAOD,EAAM,aACnC,KACEZ,EAAO,aAAaY,EAAM,UAAU,EAAI,EAAGX,CAAM,EAC7C,EAAAW,IAAUC,GAAO,EAAED,EAAQA,EAAM,eAArC,KAGG,CACLf,GAAkB,UAAYM,EAAQ,QAAQQ,UAAkBA,EAChE,IAAMI,EAAWlB,GAAkB,QACnC,GAAIM,EAAO,CACT,IAAMa,EAAUD,EAAS,WACzB,KAAOC,EAAQ,YACbD,EAAS,YAAYC,EAAQ,UAAU,EAEzCD,EAAS,YAAYC,CAAO,CAC9B,CACAhB,EAAO,aAAae,EAAUd,CAAM,CACtC,CACA,MAAO,CAELa,EAASA,EAAO,YAAcd,EAAO,WAErCC,EAASA,EAAO,gBAAkBD,EAAO,SAC3C,CACF,CACF,EAEMiB,GAAa,aACbC,GAAY,YACZC,GAAS,OAAO,MAAM,EACtBC,GAAa,CAACf,EAAO,CAAE,MAAAgB,CAAM,IAAMC,GAAEC,GAAgBC,GAAuBnB,CAAK,EAAGgB,CAAK,EAC/FD,GAAW,YAAc,aACzB,IAAMK,GAA+B,CACnC,KAAM,OACN,KAAM,OACN,IAAK,CACH,KAAM,QACN,QAAS,EACX,EACA,SAAU,CAAC,OAAQ,OAAQ,MAAM,EACjC,eAAgB,OAChB,iBAAkB,OAClB,aAAc,OACd,gBAAiB,OACjB,kBAAmB,OACnB,cAAe,OACf,eAAgB,OAChB,iBAAkB,OAClB,aAAc,MAChB,EACMC,GAA4BN,GAAW,MAAwBO,GACnE,CAAC,EACDC,GACAH,EACF,EACMI,GAAW,CAACC,EAAMC,EAAO,CAAC,IAAM,CAChCC,EAAQF,CAAI,EACdA,EAAK,QAASG,GAAOA,EAAG,GAAGF,CAAI,CAAC,EACvBD,GACTA,EAAK,GAAGC,CAAI,CAEhB,EACMG,GAAuBJ,GACpBA,EAAOE,EAAQF,CAAI,EAAIA,EAAK,KAAMG,GAAOA,EAAG,OAAS,CAAC,EAAIH,EAAK,OAAS,EAAI,GAErF,SAASN,GAAuBW,EAAU,CACxC,IAAMC,EAAY,CAAC,EACnB,QAAWC,KAAOF,EACVE,KAAOZ,KACXW,EAAUC,GAAOF,EAASE,IAG9B,GAAIF,EAAS,MAAQ,GACnB,OAAOC,EAET,GAAM,CACJ,KAAAE,EAAO,IACP,KAAAC,EACA,SAAAC,EACA,eAAAC,EAAiB,GAAGH,eACpB,iBAAAI,EAAmB,GAAGJ,iBACtB,aAAAK,EAAe,GAAGL,aAClB,gBAAAM,EAAkBH,EAClB,kBAAAI,EAAoBH,EACpB,cAAAI,EAAgBH,EAChB,eAAAI,EAAiB,GAAGT,eACpB,iBAAAU,EAAmB,GAAGV,iBACtB,aAAAW,EAAe,GAAGX,YACpB,EAAIH,EACEe,EAAYC,GAAkBX,CAAQ,EACtCY,EAAgBF,GAAaA,EAAU,GACvCG,EAAgBH,GAAaA,EAAU,GACvC,CACJ,cAAAI,EACA,QAAAC,EACA,iBAAAC,EACA,QAAAC,EACA,iBAAAC,EACA,eAAAC,GAAiBL,EACjB,SAAAM,GAAWL,EACX,kBAAAM,EAAoBL,CACtB,EAAIpB,EACE0B,EAAc,CAACxD,EAAIyD,EAAUC,KAAS,CAC1CC,GAAsB3D,EAAIyD,EAAWjB,EAAgBH,CAAY,EACjEsB,GAAsB3D,EAAIyD,EAAWlB,EAAoBH,CAAgB,EACzEsB,IAAQA,GAAK,CACf,EACME,EAAc,CAAC5D,EAAI0D,IAAS,CAChC1D,EAAG,WAAa,GAChB2D,GAAsB3D,EAAIyC,CAAc,EACxCkB,GAAsB3D,EAAI2C,CAAY,EACtCgB,GAAsB3D,EAAI0C,CAAgB,EAC1CgB,GAAQA,EAAK,CACf,EACMG,GAAiBJ,GACd,CAACzD,EAAI0D,KAAS,CACnB,IAAMlC,GAAOiC,EAAWH,GAAWL,EAC7Ba,GAAU,IAAMN,EAAYxD,EAAIyD,EAAUC,EAAI,EACpDnC,GAASC,GAAM,CAACxB,EAAI8D,EAAO,CAAC,EAC5BC,GAAU,IAAM,CACdJ,GAAsB3D,EAAIyD,EAAWnB,EAAkBH,CAAc,EACrE6B,GAAmBhE,EAAIyD,EAAWjB,EAAgBH,CAAY,EACzDT,GAAoBJ,EAAI,GAC3ByC,GAAmBjE,EAAIiC,EAAMa,EAAegB,EAAO,CAEvD,CAAC,CACH,EAEF,OAAOzC,GAAOS,EAAW,CACvB,cAAc9B,EAAI,CAChBuB,GAASyB,EAAe,CAAChD,CAAE,CAAC,EAC5BgE,GAAmBhE,EAAImC,CAAc,EACrC6B,GAAmBhE,EAAIoC,CAAgB,CACzC,EACA,eAAepC,EAAI,CACjBuB,GAAS8B,GAAgB,CAACrD,CAAE,CAAC,EAC7BgE,GAAmBhE,EAAIsC,CAAe,EACtC0B,GAAmBhE,EAAIuC,CAAiB,CAC1C,EACA,QAASsB,GAAc,EAAK,EAC5B,SAAUA,GAAc,EAAI,EAC5B,QAAQ7D,EAAI0D,EAAM,CAChB1D,EAAG,WAAa,GAChB,IAAM8D,GAAU,IAAMF,EAAY5D,EAAI0D,CAAI,EAC1CM,GAAmBhE,EAAIyC,CAAc,EACrCyB,GAAY,EACZF,GAAmBhE,EAAI0C,CAAgB,EACvCqB,GAAU,IAAM,CACV,CAAC/D,EAAG,aAGR2D,GAAsB3D,EAAIyC,CAAc,EACxCuB,GAAmBhE,EAAI2C,CAAY,EAC9Bf,GAAoBuB,CAAO,GAC9Bc,GAAmBjE,EAAIiC,EAAMc,EAAee,EAAO,EAEvD,CAAC,EACDvC,GAAS4B,EAAS,CAACnD,EAAI8D,EAAO,CAAC,CACjC,EACA,iBAAiB9D,EAAI,CACnBwD,EAAYxD,EAAI,EAAK,EACrBuB,GAAS2B,EAAkB,CAAClD,CAAE,CAAC,CACjC,EACA,kBAAkBA,EAAI,CACpBwD,EAAYxD,EAAI,EAAI,EACpBuB,GAASgC,EAAmB,CAACvD,CAAE,CAAC,CAClC,EACA,iBAAiBA,EAAI,CACnB4D,EAAY5D,CAAE,EACduB,GAAS6B,EAAkB,CAACpD,CAAE,CAAC,CACjC,CACF,CAAC,CACH,CACA,SAAS6C,GAAkBX,EAAU,CACnC,GAAIA,GAAY,KACd,OAAO,KACF,GAAIiC,GAASjC,CAAQ,EAC1B,MAAO,CAACkC,GAASlC,EAAS,KAAK,EAAGkC,GAASlC,EAAS,KAAK,CAAC,EACrD,CACL,IAAMmC,EAAID,GAASlC,CAAQ,EAC3B,MAAO,CAACmC,EAAGA,CAAC,CACd,CACF,CACA,SAASD,GAASE,EAAK,CAKrB,OAJYC,GAASD,CAAG,CAK1B,CACA,SAASN,GAAmBhE,EAAIwE,EAAK,CACnCA,EAAI,MAAM,KAAK,EAAE,QAASC,GAAMA,GAAKzE,EAAG,UAAU,IAAIyE,CAAC,CAAC,GACvDzE,EAAGa,MAAYb,EAAGa,IAA0B,IAAI,MAAQ,IAAI2D,CAAG,CAClE,CACA,SAASb,GAAsB3D,EAAIwE,EAAK,CACtCA,EAAI,MAAM,KAAK,EAAE,QAASC,GAAMA,GAAKzE,EAAG,UAAU,OAAOyE,CAAC,CAAC,EAC3D,IAAMC,EAAO1E,EAAGa,IACZ6D,IACFA,EAAK,OAAOF,CAAG,EACVE,EAAK,OACR1E,EAAGa,IAAU,QAGnB,CACA,SAASkD,GAAUY,EAAI,CACrB,sBAAsB,IAAM,CAC1B,sBAAsBA,CAAE,CAC1B,CAAC,CACH,CACA,IAAIC,GAAQ,EACZ,SAASX,GAAmBjE,EAAI6E,EAAcC,EAAiBhB,EAAS,CACtE,IAAM1D,EAAKJ,EAAG,OAAS,EAAE4E,GACnBG,EAAoB,IAAM,CAC1B3E,IAAOJ,EAAG,QACZ8D,EAAQ,CAEZ,EACA,GAAIgB,EACF,OAAO,WAAWC,EAAmBD,CAAe,EAEtD,GAAM,CAAE,KAAA7C,EAAM,QAAA+C,EAAS,UAAAC,CAAU,EAAIC,GAAkBlF,EAAI6E,CAAY,EACvE,GAAI,CAAC5C,EACH,OAAO6B,EAAQ,EAEjB,IAAMqB,EAAWlD,EAAO,MACpBmD,EAAQ,EACN7E,EAAM,IAAM,CAChBP,EAAG,oBAAoBmF,EAAUE,CAAK,EACtCN,EAAkB,CACpB,EACMM,EAASC,GAAM,CACfA,EAAE,SAAWtF,GAAM,EAAEoF,GAASH,GAChC1E,EAAI,CAER,EACA,WAAW,IAAM,CACX6E,EAAQH,GACV1E,EAAI,CAER,EAAGyE,EAAU,CAAC,EACdhF,EAAG,iBAAiBmF,EAAUE,CAAK,CACrC,CACA,SAASH,GAAkBlF,EAAI6E,EAAc,CAC3C,IAAMU,EAAS,OAAO,iBAAiBvF,CAAE,EACnCwF,EAAsBzD,IAASwD,EAAOxD,IAAQ,IAAI,MAAM,IAAI,EAC5D0D,EAAmBD,EAAmB,GAAG7E,SAAiB,EAC1D+E,EAAsBF,EAAmB,GAAG7E,YAAoB,EAChEgF,EAAoBC,GAAWH,EAAkBC,CAAmB,EACpEG,EAAkBL,EAAmB,GAAG5E,SAAgB,EACxDkF,EAAqBN,EAAmB,GAAG5E,YAAmB,EAC9DmF,EAAmBH,GAAWC,EAAiBC,CAAkB,EACnE7D,EAAO,KACP+C,EAAU,EACVC,EAAY,EACZJ,IAAiBlE,GACfgF,EAAoB,IACtB1D,EAAOtB,GACPqE,EAAUW,EACVV,EAAYS,EAAoB,QAEzBb,IAAiBjE,GACtBmF,EAAmB,IACrB9D,EAAOrB,GACPoE,EAAUe,EACVd,EAAYa,EAAmB,SAGjCd,EAAU,KAAK,IAAIW,EAAmBI,CAAgB,EACtD9D,EAAO+C,EAAU,EAAIW,EAAoBI,EAAmBpF,GAAaC,GAAY,KACrFqE,EAAYhD,EAAOA,IAAStB,GAAa+E,EAAoB,OAASI,EAAmB,OAAS,GAEpG,IAAME,EAAe/D,IAAStB,IAAc,yBAAyB,KACnE6E,EAAmB,GAAG7E,YAAoB,EAAE,SAAS,CACvD,EACA,MAAO,CACL,KAAAsB,EACA,QAAA+C,EACA,UAAAC,EACA,aAAAe,CACF,CACF,CACA,SAASJ,GAAWK,EAAQrD,EAAW,CACrC,KAAOqD,EAAO,OAASrD,EAAU,QAC/BqD,EAASA,EAAO,OAAOA,CAAM,EAE/B,OAAO,KAAK,IAAI,GAAGrD,EAAU,IAAI,CAACsD,EAAG,IAAMC,GAAKD,CAAC,EAAIC,GAAKF,EAAO,EAAE,CAAC,CAAC,CACvE,CACA,SAASE,GAAKC,EAAG,CACf,OAAIA,IAAM,OACD,EACF,OAAOA,EAAE,MAAM,EAAG,EAAE,EAAE,QAAQ,IAAK,GAAG,CAAC,EAAI,GACpD,CACA,SAASlC,IAAc,CACrB,OAAO,SAAS,KAAK,YACvB,CAEA,SAASmC,GAAWrG,EAAIsG,EAAOzG,EAAO,CACpC,IAAM0G,EAAoBvG,EAAGa,IACzB0F,IACFD,GAASA,EAAQ,CAACA,EAAO,GAAGC,CAAiB,EAAI,CAAC,GAAGA,CAAiB,GAAG,KAAK,GAAG,GAE/ED,GAAS,KACXtG,EAAG,gBAAgB,OAAO,EACjBH,EACTG,EAAG,aAAa,QAASsG,CAAK,EAE9BtG,EAAG,UAAYsG,CAEnB,CAEA,IAAME,GAAc,OAAO,MAAM,EAC3BC,GAAQ,CACZ,YAAYzG,EAAI,CAAE,MAAAsG,CAAM,EAAG,CAAE,WAAAI,CAAW,EAAG,CACzC1G,EAAGwG,IAAexG,EAAG,MAAM,UAAY,OAAS,GAAKA,EAAG,MAAM,QAC1D0G,GAAcJ,EAChBI,EAAW,YAAY1G,CAAE,EAEzB2G,GAAW3G,EAAIsG,CAAK,CAExB,EACA,QAAQtG,EAAI,CAAE,MAAAsG,CAAM,EAAG,CAAE,WAAAI,CAAW,EAAG,CACjCA,GAAcJ,GAChBI,EAAW,MAAM1G,CAAE,CAEvB,EACA,QAAQA,EAAI,CAAE,MAAAsG,EAAO,SAAAM,CAAS,EAAG,CAAE,WAAAF,CAAW,EAAG,CAC3C,CAACJ,GAAU,CAACM,IAEZF,EACEJ,GACFI,EAAW,YAAY1G,CAAE,EACzB2G,GAAW3G,EAAI,EAAI,EACnB0G,EAAW,MAAM1G,CAAE,GAEnB0G,EAAW,MAAM1G,EAAI,IAAM,CACzB2G,GAAW3G,EAAI,EAAK,CACtB,CAAC,EAGH2G,GAAW3G,EAAIsG,CAAK,EAExB,EACA,cAActG,EAAI,CAAE,MAAAsG,CAAM,EAAG,CAC3BK,GAAW3G,EAAIsG,CAAK,CACtB,CACF,EACA,SAASK,GAAW3G,EAAIsG,EAAO,CAC7BtG,EAAG,MAAM,QAAUsG,EAAQtG,EAAGwG,IAAe,MAC/C,CASA,SAASK,GAAWC,EAAIC,EAAMC,EAAM,CAClC,IAAMC,EAAQH,EAAG,MACXI,EAAcC,GAASH,CAAI,EACjC,GAAIA,GAAQ,CAACE,EAAa,CACxB,GAAIH,GAAQ,CAACI,GAASJ,CAAI,EACxB,QAAWK,KAAOL,EACZC,EAAKI,IAAQ,MACfC,GAASJ,EAAOG,EAAK,EAAE,EAI7B,QAAWA,KAAOJ,EAChBK,GAASJ,EAAOG,EAAKJ,EAAKI,EAAI,CAElC,KAAO,CACL,IAAME,EAAiBL,EAAM,QACzBC,EACEH,IAASC,IACXC,EAAM,QAAUD,GAETD,GACTD,EAAG,gBAAgB,OAAO,EAExBS,MAAeT,IACjBG,EAAM,QAAUK,EAEpB,CACF,CAEA,IAAME,GAAc,iBACpB,SAASC,GAASC,EAAOC,EAAMC,EAAK,CAClC,GAAIC,EAAQD,CAAG,EACbA,EAAI,QAASE,GAAML,GAASC,EAAOC,EAAMG,CAAC,CAAC,UAEvCF,GAAO,OACTA,EAAM,IAQJD,EAAK,WAAW,IAAI,EACtBD,EAAM,YAAYC,EAAMC,CAAG,MACtB,CACL,IAAMG,EAAWC,GAAWN,EAAOC,CAAI,EACnCH,GAAY,KAAKI,CAAG,EACtBF,EAAM,YACJO,GAAUF,CAAQ,EAClBH,EAAI,QAAQJ,GAAa,EAAE,EAC3B,WACF,EAEAE,EAAMK,GAAYH,CAEtB,CAEJ,CACA,IAAMM,GAAW,CAAC,SAAU,MAAO,IAAI,EACjCC,GAAc,CAAC,EACrB,SAASH,GAAWN,EAAOU,EAAS,CAClC,IAAMC,EAASF,GAAYC,GAC3B,GAAIC,EACF,OAAOA,EAET,IAAIV,EAAOW,GAASF,CAAO,EAC3B,GAAIT,IAAS,UAAYA,KAAQD,EAC/B,OAAOS,GAAYC,GAAWT,EAEhCA,EAAOY,GAAWZ,CAAI,EACtB,QAASa,EAAI,EAAGA,EAAIN,GAAS,OAAQM,IAAK,CACxC,IAAMT,EAAWG,GAASM,GAAKb,EAC/B,GAAII,KAAYL,EACd,OAAOS,GAAYC,GAAWL,CAElC,CACA,OAAOK,CACT,CAEA,IAAMK,GAAU,+BAChB,SAASC,GAAUC,EAAIC,EAAKC,EAAOC,EAAOC,EAAU,CAClD,GAAID,GAASF,EAAI,WAAW,QAAQ,EAC9BC,GAAS,KACXF,EAAG,kBAAkBF,GAASG,EAAI,MAAM,EAAGA,EAAI,MAAM,CAAC,EAEtDD,EAAG,eAAeF,GAASG,EAAKC,CAAK,MAElC,CACL,IAAMG,EAAYC,GAAqBL,CAAG,EACtCC,GAAS,MAAQG,GAAa,CAACE,GAAmBL,CAAK,EACzDF,EAAG,gBAAgBC,CAAG,EAEtBD,EAAG,aAAaC,EAAKI,EAAY,GAAKH,CAAK,CAE/C,CACF,CAEA,SAASM,GAAaR,EAAIC,EAAKC,EAAOO,EAAcC,EAAiBC,EAAgBC,EAAiB,CACpG,GAAIX,IAAQ,aAAeA,IAAQ,cAAe,CAC5CQ,GACFG,EAAgBH,EAAcC,EAAiBC,CAAc,EAE/DX,EAAGC,GAAOC,GAAS,KAAO,GAAKA,EAC/B,MACF,CACA,IAAMW,EAAMb,EAAG,QACf,GAAIC,IAAQ,SAAWY,IAAQ,YAC/B,CAACA,EAAI,SAAS,GAAG,EAAG,CAClBb,EAAG,OAASE,EACZ,IAAMY,EAAWD,IAAQ,SAAWb,EAAG,aAAa,OAAO,EAAIA,EAAG,MAC5De,EAAWb,GAAS,KAAO,GAAKA,EAClCY,IAAaC,IACff,EAAG,MAAQe,GAETb,GAAS,MACXF,EAAG,gBAAgBC,CAAG,EAExB,MACF,CACA,IAAIe,EAAa,GACjB,GAAId,IAAU,IAAMA,GAAS,KAAM,CACjC,IAAMe,EAAO,OAAOjB,EAAGC,GACnBgB,IAAS,UACXf,EAAQK,GAAmBL,CAAK,EACvBA,GAAS,MAAQe,IAAS,UACnCf,EAAQ,GACRc,EAAa,IACJC,IAAS,WAClBf,EAAQ,EACRc,EAAa,GAEjB,CACA,GAAI,CACFhB,EAAGC,GAAOC,CACZ,OAASgB,EAAP,CAOF,CACAF,GAAchB,EAAG,gBAAgBC,CAAG,CACtC,CAEA,SAASkB,GAAiBnB,EAAIoB,EAAOC,EAASC,EAAS,CACrDtB,EAAG,iBAAiBoB,EAAOC,EAASC,CAAO,CAC7C,CACA,SAASC,GAAoBvB,EAAIoB,EAAOC,EAASC,EAAS,CACxDtB,EAAG,oBAAoBoB,EAAOC,EAASC,CAAO,CAChD,CACA,IAAME,GAAS,OAAO,MAAM,EAC5B,SAASC,GAAWzB,EAAIP,EAASiC,EAAWC,EAAWvB,EAAW,KAAM,CACtE,IAAMwB,EAAW5B,EAAGwB,MAAYxB,EAAGwB,IAAU,CAAC,GACxCK,EAAkBD,EAASnC,GACjC,GAAIkC,GAAaE,EACfA,EAAgB,MAAQF,MACnB,CACL,GAAM,CAAC3C,EAAMsC,CAAO,EAAIQ,GAAUrC,CAAO,EACzC,GAAIkC,EAAW,CACb,IAAMI,EAAUH,EAASnC,GAAWuC,GAAcL,EAAWvB,CAAQ,EACrEe,GAAiBnB,EAAIhB,EAAM+C,EAAST,CAAO,CAC7C,MAAWO,IACTN,GAAoBvB,EAAIhB,EAAM6C,EAAiBP,CAAO,EACtDM,EAASnC,GAAW,OAExB,CACF,CACA,IAAMwC,GAAoB,4BAC1B,SAASH,GAAU9C,EAAM,CACvB,IAAIsC,EACJ,GAAIW,GAAkB,KAAKjD,CAAI,EAAG,CAChCsC,EAAU,CAAC,EACX,IAAIY,EACJ,KAAOA,EAAIlD,EAAK,MAAMiD,EAAiB,GACrCjD,EAAOA,EAAK,MAAM,EAAGA,EAAK,OAASkD,EAAE,GAAG,MAAM,EAC9CZ,EAAQY,EAAE,GAAG,YAAY,GAAK,EAElC,CAEA,MAAO,CADOlD,EAAK,KAAO,IAAMA,EAAK,MAAM,CAAC,EAAIM,GAAUN,EAAK,MAAM,CAAC,CAAC,EACxDsC,CAAO,CACxB,CACA,IAAIa,GAAY,EACVC,GAAoB,QAAQ,QAAQ,EACpCC,GAAS,IAAMF,KAAcC,GAAE,KAAK,IAAMD,GAAY,CAAC,EAAGA,GAAY,KAAK,IAAI,GACrF,SAASH,GAAcM,EAAclC,EAAU,CAC7C,IAAM2B,EAAWb,GAAM,CACrB,GAAI,CAACA,EAAE,KACLA,EAAE,KAAO,KAAK,IAAI,UACTA,EAAE,MAAQa,EAAQ,SAC3B,OAEFQ,GACEC,GAA8BtB,EAAGa,EAAQ,KAAK,EAC9C3B,EACA,EACA,CAACc,CAAC,CACJ,CACF,EACA,OAAAa,EAAQ,MAAQO,EAChBP,EAAQ,SAAWM,GAAO,EACnBN,CACT,CACA,SAASS,GAA8B,EAAGtC,EAAO,CAC/C,GAAIhB,EAAQgB,CAAK,EAAG,CAClB,IAAMuC,EAAe,EAAE,yBACvB,SAAE,yBAA2B,IAAM,CACjCA,EAAa,KAAK,CAAC,EACnB,EAAE,SAAW,EACf,EACOvC,EAAM,IAAKwC,GAAQC,GAAO,CAACA,EAAG,UAAYD,GAAMA,EAAGC,CAAE,CAAC,CAC/D,KACE,QAAOzC,CAEX,CAEA,IAAM0C,GAAa,WACbC,GAAY,CAAC7C,EAAIC,EAAKyB,EAAWC,EAAWxB,EAAQ,GAAOM,EAAcC,EAAiBC,EAAgBC,IAAoB,CAC9HX,IAAQ,QACV6C,GAAW9C,EAAI2B,EAAWxB,CAAK,EACtBF,IAAQ,QACjB8C,GAAW/C,EAAI0B,EAAWC,CAAS,EAC1BqB,GAAK/C,CAAG,EACZgD,GAAgBhD,CAAG,GACtBwB,GAAWzB,EAAIC,EAAKyB,EAAWC,EAAWjB,CAAe,GAElDT,EAAI,KAAO,KAAOA,EAAMA,EAAI,MAAM,CAAC,EAAG,IAAQA,EAAI,KAAO,KAAOA,EAAMA,EAAI,MAAM,CAAC,EAAG,IAASiD,GAAgBlD,EAAIC,EAAK0B,EAAWxB,CAAK,GAC/IK,GACER,EACAC,EACA0B,EACAlB,EACAC,EACAC,EACAC,CACF,GAEIX,IAAQ,aACVD,EAAG,WAAa2B,EACP1B,IAAQ,gBACjBD,EAAG,YAAc2B,GAEnB5B,GAAUC,EAAIC,EAAK0B,EAAWxB,CAAK,EAEvC,EACA,SAAS+C,GAAgBlD,EAAIC,EAAKC,EAAOC,EAAO,CAC9C,OAAIA,EACE,GAAAF,IAAQ,aAAeA,IAAQ,eAG/BA,KAAOD,GAAM4C,GAAW,KAAK3C,CAAG,GAAKkD,EAAWjD,CAAK,GAKvDD,IAAQ,cAAgBA,IAAQ,aAAeA,IAAQ,aAGvDA,IAAQ,QAGRA,IAAQ,QAAUD,EAAG,UAAY,SAGjCC,IAAQ,QAAUD,EAAG,UAAY,YAGjC4C,GAAW,KAAK3C,CAAG,GAAKmD,GAASlD,CAAK,EACjC,GAEFD,KAAOD,CAChB,CAgTA,IAAMqD,GAA8B,IAAI,QAClCC,GAAiC,IAAI,QACrCC,GAAY,OAAO,SAAS,EAC5BC,GAAa,OAAO,UAAU,EAC9BC,GAAsB,CAC1B,KAAM,kBACN,MAAuBC,GAAO,CAAC,EAAGC,GAA2B,CAC3D,IAAK,OACL,UAAW,MACb,CAAC,EACD,MAAMC,EAAO,CAAE,MAAAC,CAAM,EAAG,CACtB,IAAMC,EAAWC,GAAmB,EAC9BC,EAAQC,GAAmB,EAC7BC,EACAC,EACJ,OAAAC,GAAU,IAAM,CACd,GAAI,CAACF,EAAa,OAChB,OAEF,IAAMG,EAAYT,EAAM,WAAa,GAAGA,EAAM,MAAQ,WACtD,GAAI,CAACU,GACHJ,EAAa,GAAG,GAChBJ,EAAS,MAAM,GACfO,CACF,EACE,OAEFH,EAAa,QAAQK,EAAc,EACnCL,EAAa,QAAQM,EAAc,EACnC,IAAMC,EAAgBP,EAAa,OAAOQ,EAAgB,EAC1DC,GAAY,EACZF,EAAc,QAASG,GAAM,CAC3B,IAAMC,EAAKD,EAAE,GACPE,EAAQD,EAAG,MACjBE,GAAmBF,EAAIR,CAAS,EAChCS,EAAM,UAAYA,EAAM,gBAAkBA,EAAM,mBAAqB,GACrE,IAAME,EAAKH,EAAGtB,IAAc0B,GAAM,CAC5BA,GAAKA,EAAE,SAAWJ,IAGlB,CAACI,GAAK,aAAa,KAAKA,EAAE,YAAY,KACxCJ,EAAG,oBAAoB,gBAAiBG,CAAE,EAC1CH,EAAGtB,IAAa,KAChB2B,GAAsBL,EAAIR,CAAS,EAEvC,EACAQ,EAAG,iBAAiB,gBAAiBG,CAAE,CACzC,CAAC,CACH,CAAC,EACM,IAAM,CACX,IAAMG,EAAWC,GAAMxB,CAAK,EACtByB,EAAqBC,GAAuBH,CAAQ,EACtDI,EAAMJ,EAAS,KAAOK,EAC1BtB,EAAeC,EACfA,EAAWN,EAAM,QAAU4B,GAAyB5B,EAAM,QAAQ,CAAC,EAAI,CAAC,EACxE,QAAS6B,EAAI,EAAGA,EAAIvB,EAAS,OAAQuB,IAAK,CACxC,IAAMC,EAAQxB,EAASuB,GACnBC,EAAM,KAAO,MACfC,GACED,EACAE,GAAuBF,EAAON,EAAoBrB,EAAOF,CAAQ,CACnE,CAIJ,CACA,GAAII,EACF,QAASwB,EAAI,EAAGA,EAAIxB,EAAa,OAAQwB,IAAK,CAC5C,IAAMC,EAAQzB,EAAawB,GAC3BE,GACED,EACAE,GAAuBF,EAAON,EAAoBrB,EAAOF,CAAQ,CACnE,EACAT,GAAY,IAAIsC,EAAOA,EAAM,GAAG,sBAAsB,CAAC,CACzD,CAEF,OAAOG,GAAYP,EAAK,KAAMpB,CAAQ,CACxC,CACF,CACF,EACM4B,GAAcnC,GAAU,OAAOA,EAAM,KAChBH,GAAoB,MAE/C,SAASuC,GAAeC,EAAG,CACzB,IAAMC,EAAKD,EAAE,GACTC,EAAGC,KACLD,EAAGC,IAAW,EAEZD,EAAGE,KACLF,EAAGE,IAAY,CAEnB,CACA,SAASC,GAAeJ,EAAG,CACzBK,GAAe,IAAIL,EAAGA,EAAE,GAAG,sBAAsB,CAAC,CACpD,CACA,SAASM,GAAiBN,EAAG,CAC3B,IAAMO,EAASC,GAAY,IAAIR,CAAC,EAC1BS,EAASJ,GAAe,IAAIL,CAAC,EAC7BU,EAAKH,EAAO,KAAOE,EAAO,KAC1BE,EAAKJ,EAAO,IAAME,EAAO,IAC/B,GAAIC,GAAMC,EAAI,CACZ,IAAMC,EAAIZ,EAAE,GAAG,MACf,OAAAY,EAAE,UAAYA,EAAE,gBAAkB,aAAaF,OAAQC,OACvDC,EAAE,mBAAqB,KAChBZ,CACT,CACF,CACA,SAASa,GAAgBZ,EAAIa,EAAMC,EAAW,CAC5C,IAAMC,EAAQf,EAAG,UAAU,EACrBgB,EAAOhB,EAAGiB,IACZD,GACFA,EAAK,QAASE,GAAQ,CACpBA,EAAI,MAAM,KAAK,EAAE,QAASnB,GAAMA,GAAKgB,EAAM,UAAU,OAAOhB,CAAC,CAAC,CAChE,CAAC,EAEHe,EAAU,MAAM,KAAK,EAAE,QAAS,GAAM,GAAKC,EAAM,UAAU,IAAI,CAAC,CAAC,EACjEA,EAAM,MAAM,QAAU,OACtB,IAAMI,EAAYN,EAAK,WAAa,EAAIA,EAAOA,EAAK,WACpDM,EAAU,YAAYJ,CAAK,EAC3B,GAAM,CAAE,aAAAK,CAAa,EAAIC,GAAkBN,CAAK,EAChD,OAAAI,EAAU,YAAYJ,CAAK,EACpBK,CACT,CAEA,IAAME,GAAoBC,GAAU,CAClC,IAAMC,EAAKD,EAAM,MAAM,wBAA0B,GACjD,OAAOE,EAAQD,CAAE,EAAKE,GAAUC,GAAeH,EAAIE,CAAK,EAAIF,CAC9D,EACA,SAASI,GAAmB,EAAG,CAC7B,EAAE,OAAO,UAAY,EACvB,CACA,SAASC,GAAiB,EAAG,CAC3B,IAAMC,EAAS,EAAE,OACbA,EAAO,YACTA,EAAO,UAAY,GACnBA,EAAO,cAAc,IAAI,MAAM,OAAO,CAAC,EAE3C,CACA,IAAMC,GAAY,OAAO,SAAS,EAC5BC,GAAa,CACjB,QAAQhC,EAAI,CAAE,UAAW,CAAE,KAAAiC,EAAM,KAAAC,EAAM,OAAAC,CAAO,CAAE,EAAGZ,EAAO,CACxDvB,EAAG+B,IAAaT,GAAiBC,CAAK,EACtC,IAAMa,EAAeD,GAAUZ,EAAM,OAASA,EAAM,MAAM,OAAS,SACnEc,GAAiBrC,EAAIiC,EAAO,SAAW,QAAUK,GAAM,CACrD,GAAIA,EAAE,OAAO,UACX,OACF,IAAIC,EAAWvC,EAAG,MACdkC,IACFK,EAAWA,EAAS,KAAK,GAEvBH,IACFG,EAAWC,GAAcD,CAAQ,GAEnCvC,EAAG+B,IAAWQ,CAAQ,CACxB,CAAC,EACGL,GACFG,GAAiBrC,EAAI,SAAU,IAAM,CACnCA,EAAG,MAAQA,EAAG,MAAM,KAAK,CAC3B,CAAC,EAEEiC,IACHI,GAAiBrC,EAAI,mBAAoB4B,EAAkB,EAC3DS,GAAiBrC,EAAI,iBAAkB6B,EAAgB,EACvDQ,GAAiBrC,EAAI,SAAU6B,EAAgB,EAEnD,EAEA,QAAQ7B,EAAI,CAAE,MAAA0B,CAAM,EAAG,CACrB1B,EAAG,MAAQ0B,GAAS,KAAO,GAAKA,CAClC,EACA,aAAa1B,EAAI,CAAE,MAAA0B,EAAO,UAAW,CAAE,KAAAO,EAAM,KAAAC,EAAM,OAAAC,CAAO,CAAE,EAAGZ,EAAO,CAEpE,GADAvB,EAAG+B,IAAaT,GAAiBC,CAAK,EAClCvB,EAAG,UACL,OACF,IAAMyC,EAAUN,GAAUnC,EAAG,OAAS,SAAWwC,GAAcxC,EAAG,KAAK,EAAIA,EAAG,MACxE0C,EAAWhB,GAAS,KAAO,GAAKA,EAClCe,IAAYC,IAGZ,SAAS,gBAAkB1C,GAAMA,EAAG,OAAS,UAC3CiC,GAGAC,GAAQlC,EAAG,MAAM,KAAK,IAAM0C,KAIlC1C,EAAG,MAAQ0C,GACb,CACF,EACMC,GAAiB,CAErB,KAAM,GACN,QAAQ3C,EAAI4C,EAAGrB,EAAO,CACpBvB,EAAG+B,IAAaT,GAAiBC,CAAK,EACtCc,GAAiBrC,EAAI,SAAU,IAAM,CACnC,IAAM6C,EAAa7C,EAAG,YAChB8C,EAAeC,GAAS/C,CAAE,EAC1BgD,EAAUhD,EAAG,QACbiD,EAASjD,EAAG+B,IAClB,GAAIN,EAAQoB,CAAU,EAAG,CACvB,IAAMK,EAAQC,GAAaN,EAAYC,CAAY,EAC7CM,EAAQF,IAAU,GACxB,GAAIF,GAAW,CAACI,EACdH,EAAOJ,EAAW,OAAOC,CAAY,CAAC,UAC7B,CAACE,GAAWI,EAAO,CAC5B,IAAMC,EAAW,CAAC,GAAGR,CAAU,EAC/BQ,EAAS,OAAOH,EAAO,CAAC,EACxBD,EAAOI,CAAQ,CACjB,CACF,SAAWC,GAAMT,CAAU,EAAG,CAC5B,IAAMU,EAAS,IAAI,IAAIV,CAAU,EAC7BG,EACFO,EAAO,IAAIT,CAAY,EAEvBS,EAAO,OAAOT,CAAY,EAE5BG,EAAOM,CAAM,CACf,MACEN,EAAOO,GAAiBxD,EAAIgD,CAAO,CAAC,CAExC,CAAC,CACH,EAEA,QAASS,GACT,aAAazD,EAAI0D,EAASnC,EAAO,CAC/BvB,EAAG+B,IAAaT,GAAiBC,CAAK,EACtCkC,GAAWzD,EAAI0D,EAASnC,CAAK,CAC/B,CACF,EACA,SAASkC,GAAWzD,EAAI,CAAE,MAAA0B,EAAO,SAAAiC,CAAS,EAAGpC,EAAO,CAClDvB,EAAG,YAAc0B,EACbD,EAAQC,CAAK,EACf1B,EAAG,QAAUmD,GAAazB,EAAOH,EAAM,MAAM,KAAK,EAAI,GAC7C+B,GAAM5B,CAAK,EACpB1B,EAAG,QAAU0B,EAAM,IAAIH,EAAM,MAAM,KAAK,EAC/BG,IAAUiC,IACnB3D,EAAG,QAAU4D,GAAWlC,EAAO8B,GAAiBxD,EAAI,EAAI,CAAC,EAE7D,CAgBA,IAAM6D,GAAe,CAEnB,KAAM,GACN,QAAQC,EAAI,CAAE,MAAAC,EAAO,UAAW,CAAE,OAAAC,CAAO,CAAE,EAAGC,EAAO,CACnD,IAAMC,EAAaC,GAAMJ,CAAK,EAC9BK,GAAiBN,EAAI,SAAU,IAAM,CACnC,IAAMO,EAAc,MAAM,UAAU,OAAO,KAAKP,EAAG,QAAUQ,GAAMA,EAAE,QAAQ,EAAE,IAC5EA,GAAMN,EAASO,GAAcC,GAASF,CAAC,CAAC,EAAIE,GAASF,CAAC,CACzD,EACAR,EAAGW,IACDX,EAAG,SAAWI,EAAa,IAAI,IAAIG,CAAW,EAAIA,EAAcA,EAAY,EAC9E,CACF,CAAC,EACDP,EAAGW,IAAaC,GAAiBT,CAAK,CACxC,EAGA,QAAQH,EAAI,CAAE,MAAAC,CAAM,EAAG,CACrBY,GAAYb,EAAIC,CAAK,CACvB,EACA,aAAaD,EAAIc,EAAUX,EAAO,CAChCH,EAAGW,IAAaC,GAAiBT,CAAK,CACxC,EACA,QAAQH,EAAI,CAAE,MAAAC,CAAM,EAAG,CACrBY,GAAYb,EAAIC,CAAK,CACvB,CACF,EACA,SAASY,GAAYb,EAAIC,EAAO,CAC9B,IAAMc,EAAaf,EAAG,SACtB,GAAI,EAAAe,GAAc,CAACC,EAAQf,CAAK,GAAK,CAACI,GAAMJ,CAAK,GAMjD,SAAS,EAAI,EAAGgB,EAAIjB,EAAG,QAAQ,OAAQ,EAAIiB,EAAG,IAAK,CACjD,IAAMC,EAASlB,EAAG,QAAQ,GACpBmB,EAAcT,GAASQ,CAAM,EACnC,GAAIH,EACEC,EAAQf,CAAK,EACfiB,EAAO,SAAWE,GAAanB,EAAOkB,CAAW,EAAI,GAErDD,EAAO,SAAWjB,EAAM,IAAIkB,CAAW,UAGrCE,GAAWX,GAASQ,CAAM,EAAGjB,CAAK,EAAG,CACnCD,EAAG,gBAAkB,IACvBA,EAAG,cAAgB,GACrB,MACF,CAEJ,CACI,CAACe,GAAcf,EAAG,gBAAkB,KACtCA,EAAG,cAAgB,IAEvB,CACA,SAASU,GAASV,EAAI,CACpB,MAAO,WAAYA,EAAKA,EAAG,OAASA,EAAG,KACzC,CACA,SAASsB,GAAiBtB,EAAIuB,EAAS,CACrC,IAAMC,EAAMD,EAAU,aAAe,cACrC,OAAOC,KAAOxB,EAAKA,EAAGwB,GAAOD,CAC/B,CA2EA,IAAME,GAAkB,CAAC,OAAQ,QAAS,MAAO,MAAM,EACjDC,GAAiB,CACrB,KAAO,GAAM,EAAE,gBAAgB,EAC/B,QAAU,GAAM,EAAE,eAAe,EACjC,KAAO,GAAM,EAAE,SAAW,EAAE,cAC5B,KAAO,GAAM,CAAC,EAAE,QAChB,MAAQ,GAAM,CAAC,EAAE,SACjB,IAAM,GAAM,CAAC,EAAE,OACf,KAAO,GAAM,CAAC,EAAE,QAChB,KAAO,GAAM,WAAY,GAAK,EAAE,SAAW,EAC3C,OAAS,GAAM,WAAY,GAAK,EAAE,SAAW,EAC7C,MAAQ,GAAM,WAAY,GAAK,EAAE,SAAW,EAC5C,MAAO,CAAC,EAAGC,IAAcF,GAAgB,KAAMG,GAAM,EAAE,GAAGA,SAAW,CAACD,EAAU,SAASC,CAAC,CAAC,CAC7F,EACMC,GAAgB,CAACC,EAAIH,IAClB,CAACI,KAAUC,IAAS,CACzB,QAASC,EAAI,EAAGA,EAAIN,EAAU,OAAQM,IAAK,CACzC,IAAMC,EAAQR,GAAeC,EAAUM,IACvC,GAAIC,GAASA,EAAMH,EAAOJ,CAAS,EACjC,MACJ,CACA,OAAOG,EAAGC,EAAO,GAAGC,CAAI,CAC1B,EAEIG,GAAW,CACf,IAAK,SACL,MAAO,IACP,GAAI,WACJ,KAAM,aACN,MAAO,cACP,KAAM,aACN,OAAQ,WACV,EACMC,GAAW,CAACN,EAAIH,IACZI,GAAU,CAChB,GAAI,EAAE,QAASA,GACb,OAEF,IAAMM,EAAWC,GAAUP,EAAM,GAAG,EACpC,GAAIJ,EAAU,KAAMY,GAAMA,IAAMF,GAAYF,GAASI,KAAOF,CAAQ,EAClE,OAAOP,EAAGC,CAAK,CAEnB,EAGIS,GAAkCC,GAAO,CAAE,UAAAC,EAAU,EAAGC,EAAO,EACjEC,GAEJ,SAASC,IAAiB,CACxB,OAAOC,KAAaA,GAAWC,GAAeC,EAAe,EAC/D,CAYA,IAAMC,GAAY,IAAIC,IAAS,CAC7B,IAAMC,EAAMC,GAAe,EAAE,UAAU,GAAGF,CAAI,EAKxC,CAAE,MAAAG,CAAM,EAAIF,EAClB,OAAAA,EAAI,MAASG,GAAwB,CACnC,IAAMC,EAAYC,GAAmBF,CAAmB,EACxD,GAAI,CAACC,EACH,OACF,IAAME,EAAYN,EAAI,WAClB,CAACO,EAAWD,CAAS,GAAK,CAACA,EAAU,QAAU,CAACA,EAAU,WAC5DA,EAAU,SAAWF,EAAU,WAEjCA,EAAU,UAAY,GACtB,IAAMI,EAAQN,EAAME,EAAW,GAAOA,aAAqB,UAAU,EACrE,OAAIA,aAAqB,UACvBA,EAAU,gBAAgB,SAAS,EACnCA,EAAU,aAAa,aAAc,EAAE,GAElCI,CACT,EACOR,CACT,EAmDA,SAASS,GAAmBC,EAAW,CACrC,OAAIC,GAASD,CAAS,EACR,SAAS,cAAcA,CAAS,EAavCA,CACT,CCh/Ce,SAARE,GAAsBC,EAAK,CACjC,OAAAA,EAAMA,GAAO,IAAI,IAEV,CACN,IAAAA,EACA,GAAGC,EAAMC,EAAS,CACjB,IAAMC,EAAWH,EAAI,IAAIC,CAAI,EACfE,GAAYA,EAAS,KAAKD,CAAO,GAE9CF,EAAI,IAAIC,EAAM,CAACC,CAAO,CAAC,CAEzB,EACA,IAAID,EAAMC,EAAS,CAClB,IAAMC,EAAWH,EAAI,IAAIC,CAAI,EACzBE,GACHA,EAAS,OAAOA,EAAS,QAAQD,CAAO,IAAM,EAAG,CAAC,CAEpD,EACA,KAAKD,EAAMG,EAAK,CACf,MAAM,KAAKJ,EAAI,IAAIC,CAAI,GAAK,CAAC,CAAC,EAC5B,MAAM,EACN,IAAKC,GAAY,CACjBA,EAAQE,CAAG,CACZ,CAAC,EACF,MAAM,KAAKJ,EAAI,IAAI,GAAG,GAAK,CAAC,CAAC,EAC3B,MAAM,EACN,IAAKE,GAAY,CACjBA,EAAQD,EAAMG,CAAG,CAClB,CAAC,CACH,CACD,CACD,CC/BO,IAAMC,EAAUC,GAAK,ECK5B,IAAMC,EAAU,CAEf,cAAe,CACd,OAAQ,8CACR,OAAQ,8CACR,OAAQ,8CACR,OAAQ,8CACR,wBAAyB,uDACzB,WAAY,kDACZ,WAAY,kDACZ,mBAAoB,iDACrB,EAGA,SAAU,CACT,aAAc,uCACd,mBAAoB,6CACpB,oBAAqB,8CACrB,cAAe,0CACf,gBAAiB,0CACjB,wBAAyB,kDACzB,oBAAqB,8CACrB,cAAe,sDACf,iCACC,0DACF,EAGA,YAAa,CACZ,oBAAqB,iEACtB,EAGA,KAAM,CACL,UAAW,gCACX,iBAAkB,uCAClB,iBAAkB,uCAClB,wBAAyB,6CAC1B,EAGA,UAAW,CACV,sBACC,0EACD,uBACC,2EACD,wBAAyB,8DAC1B,EAGA,kBAAmB,CAClB,iBAAkB,qDAClB,uBACC,2FACD,uBACC,2FACD,oBACC,wFACD,6BACC,iGACD,kBACC,sFACD,2BACC,8FACF,EAGA,kBAAmB,CAClB,2BACC,+FACD,aACC,iFACD,iBACC,qFACD,qBACC,yFACD,mBACC,oGACD,qBACC,yFACD,mBACC,uFACD,uBACC,2FACD,2BACC,8FACF,EAGA,WAAY,CACX,KAAM,0BACP,EAGA,OAAQ,CACP,WAAY,oBACZ,cAAe,uBACf,KAAM,aACP,CACD,GCtGC,UAAY,CACP,OAAO,sBACX,OAAO,oBAAsB,UAAY,CACvC,GAAI,CACF,aAAa,MAAM,CACrB,OAASC,EAAP,CACA,GAAI,CACF,OAAO,KAAK,YAAY,EAAE,QAASC,GAAM,aAAa,WAAWA,CAAC,CAAC,CACrE,OAASD,EAAP,CAAW,CACf,CACA,GAAI,CACF,eAAe,MAAM,CACvB,OAASA,EAAP,CAAW,CACb,GAAI,CACF,SAAS,OAAO,EAAI,CACtB,OAASA,EAAP,CACA,SAAS,OAAO,CAClB,CACF,EACF,GAAG,EAIH,IAAOE,GAAQ,CAGb,MAAO,CACL,MAAO,CACL,OAAQ,GACR,KAAM,GACN,KAAM,EACT,MAAO,CAAC,CAAE,KAAM,MAAO,KAAM,iBAAkB,CAAC,EAChD,KAAM,GACH,IAAK,GACL,QAAS,GACT,MAAO,GACP,MAAO,GACV,WAAY,GACZ,UAAW,GACX,aAAc,GACd,YAAa,GACV,OAAQ,GACX,YAAa,GACb,UAAW,GACX,aAAc,GACX,YAAa,KACb,kBAAmB,KACnB,oBAAqB,EAExB,SAAU,MACP,aAAc,KAEd,UAAW,EACX,aAAc,EAEd,mBAAoB,GAEpB,kBAAmB,GAEnB,wBAAyB,KAEzB,YAAa,GACb,kBAAmB,CAAC,EACpB,qBAAsB,KACtB,kBAAmB,EACrB,CACF,EACA,SAAU,CACR,mBAAoB,CAxExB,IAAAC,EAAAC,EA0EM,QAAID,EAAA,KAAK,cAAL,YAAAA,EAAkB,cAAaC,EAAA,KAAK,cAAL,YAAAA,EAAkB,gBAChD,iBAED,KAAK,mBACJ,eAED,YACN,EACA,oBAAqB,CAlFzB,IAAAD,EAmFM,MAAI,CAAC,KAAK,aAAe,CAAC,KAAK,YAAY,KAErC,KAAK,mBACL,qBAEAA,EAAA,KAAK,cAAL,MAAAA,EAAkB,UAClB,sBAED,qBAED,KAAK,YAAY,UAAY,iBAAmB,iBACtD,EACA,kBAAmB,CA/FvB,IAAAA,EAgGM,MAAI,CAAC,KAAK,aAAe,CAAC,KAAK,YAAY,KAErC,KAAK,mBACL,WAEAA,EAAA,KAAK,cAAL,MAAAA,EAAkB,UAClB,UAED,UAGJ,KAAK,mBAA2B,UAC7B,KAAK,YAAY,UAAY,UAAY,SAC/C,EACA,iBAAkB,CAChB,MAAI,CAAC,KAAK,mBAAqB,CAAC,KAAK,kBAAkB,KAClD,uBAEE,KAAK,kBAAkB,IAChC,EACA,kBAAmB,CACjB,MAAI,CAAC,KAAK,mBAAqB,CAAC,KAAK,kBAAkB,KAClD,WAED,KAAK,kBAAkB,SAAW,OAAS,aAAe,cAChE,EACA,gBAAiB,CACf,MAAI,CAAC,KAAK,mBAAqB,CAAC,KAAK,kBAAkB,KAClD,UAED,KAAK,kBAAkB,SAAW,OAAS,UAAY,SAC7D,EACA,iBAAkB,CACnB,OAAO,OAAO,QAAQ,MAAQ,cAC7B,EACA,gBAAiB,CACf,MAAI,CAAC,KAAK,mBAAqB,CAAC,KAAK,kBAAkB,KAClD,aAEA,KAAK,kBAAkB,kBASrB,GANW,IAAI,KAAK,KAAK,kBAAkB,iBAAiB,EACzC,mBAAmB,QAAS,CACxD,KAAM,UACN,OAAQ,UACJ,OAAQ,EACV,CAAC,IAPI,SASP,EACA,iBAAkB,CAChB,MAAI,CAAC,KAAK,mBAAqB,CAAC,KAAK,kBAAkB,KAClD,iBAED,KAAK,kBAAkB,SAAW,OACtC,mBACA,oBACF,EACA,qBAAsB,CACpB,MAAI,CAAC,KAAK,mBAAqB,CAAC,KAAK,kBAAkB,KAClD,UAED,KAAK,kBAAkB,SAAW,OAAS,UAAY,SAC7D,EACA,kBAAmB,CAEpB,MAAI,CAAC,KAAK,mBAAqB,CAAC,KAAK,kBAAkB,MAAQ,CAAC,KAAK,YAC7D,MAED,KAAK,qBAAuB,KAClC,EAEA,WAAY,CACV,IAAME,EAAO,SAAS,KAAK,QAAQ,EACtC,OAAIA,EAAO,IAAY,iBACnBA,EAAO,IAAY,YACnBA,EAAO,IAAY,YAChB,WACN,EACA,eAAgB,CACd,IAAMA,EAAO,SAAS,KAAK,QAAQ,EACtC,OAAIA,EAAO,IAAY,UACnBA,EAAO,IAAY,UACnBA,EAAO,IAAY,UAChB,SACN,CACF,EAEA,MAAO,CAAC,EAER,QAAS,CAEP,eAAeC,EAAO,CAEpB,OAAIA,GAAU,MAA+B,MAAMA,CAAK,KACtDA,EAAQ,GAIT,OAAOA,GAAU,WAChBA,EAAQ,WAAWA,CAAK,GAAK,GAI3BA,EAAM,eAAe,QAAS,CAChC,sBAAuB,EACvB,sBAAuB,CACzB,CAAC,CACH,EAGA,oBAAqB,CAEnB,GAAI,CAAC,KAAK,aAAe,CAAC,KAAK,YAAY,KAAM,CAC/C,KAAK,UAAY,EACjB,KAAK,aAAe,EACpB,MACF,CAGA,OAAO,KAAK,CACV,OAAQC,EAAQ,kBAAkB,mBAClC,KAAM,CACJ,YAAa,KAAK,YAAY,KAC9B,KAAM,OAAO,QAAQ,IACvB,EACA,SAAWC,GAAM,CACXA,EAAE,SACJ,KAAK,UAAY,WAAWA,EAAE,QAAQ,YAAc,CAAC,GAAK,EAC1D,KAAK,aAAe,WAAWA,EAAE,QAAQ,gBAAkB,CAAC,GAAK,IAEjE,KAAK,UAAY,EACjB,KAAK,aAAe,EAExB,EACA,MAAQC,GAAQ,CACd,KAAK,UAAY,EACjB,KAAK,aAAe,CACtB,CACF,CAAC,CACH,EAGA,yBAA0B,CAEpB,KAAK,oBACP,cAAc,KAAK,kBAAkB,EAIvC,KAAK,mBAAmB,EAGxB,KAAK,mBAAqB,YAAY,IAAM,CAC1C,KAAK,mBAAmB,CAC1B,EAAG,GAAK,CACV,EAEA,WAAWC,EAAK,CACjB,KAAK,MAAM,aAAcA,CAAG,CAC3B,EACA,SAAU,CACX,OAAO,UAAU,GAAG,EACjB,SAAS,OAAO,CAClB,EACA,oBAAqB,CACtBC,EAAQ,KAAK,qBAAqB,CACjC,EACA,YAAYC,EAAM,CAChB,KAAK,MAAQ,GACb,KAAK,WAAaA,EAAK,MACvB,KAAK,UAAYA,EAAK,KAGtB,WAAW,IAAM,CACf,KAAK,MAAQ,EACf,EAAG,GAAI,CACT,EACA,QAAS,CACP,IAAIC,EAAK,KACT,OAAAA,EAAG,WAAa,GACT,OAAO,KAAK,CACrB,OAAQ,SACJ,SAAU,SAAUL,EAAG,CACjBA,EAAE,MAINK,EAAG,YAAY,CACnB,MAAO,OACP,KAAM,2CACF,CAAC,EAEN,SAAS,cAAc,WAAW,EAAE,iBAAiB,QAAS,UAAY,CACzE,OAAO,UAAU,QAAQ,EACjB,SAAS,OAAO,CAClB,CAAC,EACL,CACF,CAAC,CACH,EACA,MAAM,iBAAkB,CAxS5B,IAAAV,EAySM,GAAI,CAAC,KAAK,aAAe,CAAC,KAAK,YAAY,KAAM,CAC/C,KAAK,YAAY,CACpB,MAAO,QACP,KAAM,+GACH,CAAC,EACD,MACF,CAGA,KAAK,YAAc,GACnB,KAAK,qBAAuB,KAC5B,KAAK,kBAAoB,GAEzB,GAAI,CAGF,IAAMW,EAAW,MAAM,OAAO,KAAK,CACjC,OAAQP,EAAQ,cAAc,mBAC9B,KAAM,CACJ,YAAa,KAAK,YAAY,KAC9B,oBAAmBJ,EAAA,KAAK,oBAAL,YAAAA,EAAwB,OAAQ,KACnD,KAAM,OAAO,QAAQ,IACvB,CACF,CAAC,EAEGW,EAAS,SAAW,MAAM,QAAQA,EAAS,OAAO,EACpD,KAAK,kBAAoBA,EAAS,QAElC,KAAK,kBAAoB,CAAC,CAE9B,OAASC,EAAP,CACA,KAAK,YAAY,CACpB,MAAO,QACP,KAAM,yGAA2BA,EAAM,SAAW,uEAC/C,CAAC,EACD,KAAK,kBAAoB,CAAC,CAC5B,QAAE,CACA,KAAK,kBAAoB,EAC3B,CACF,EACA,sBAAuB,CACrB,GAAI,CAAC,KAAK,qBACR,OAGF,IAAMC,EAAe,KAAK,qBAAqB,KACzCC,EACR,KAAK,YAAY,yBAA2B,KAAK,YAAY,kBACrDC,EAAc,KAAK,YAAY,aAAe,EAC9CC,EACJ,OAAO,OAAO,aAAa,EAC/B,2CACIH,EACJ,2BAEIC,EACJ,kBACIC,EACCE,EAAc,OAAO,KAAKD,EAAK,OAAO,EACzCC,EAAY,iBACd,OACI,UAAY,CACVA,EAAY,MAAM,CACpB,EACJ,EACE,EAGA,KAAK,YAAc,GACnB,KAAK,qBAAuB,IAC9B,EACA,oBAAqB,CACf,KAAK,aAAe,KAAK,YAAY,SACvC,OAAO,GACT,QAAQ,UAAW,KAAK,YAAY,OAAO,EACtC,KAAMC,GAAgB,CACrB,KAAK,aAAeA,EAAY,YAClC,CAAC,EACA,MAAOZ,GAAQ,CAEhB,CAAC,CAEP,EACA,MAAM,YAAa,CACjB,GAAI,CAEF,KAAK,YAAY,CACpB,MAAO,OACP,KAAM,mBACH,CAAC,EAGG,OAAO,qBACT,MAAM,OAAO,oBAAoB,EAEjC,KAAK,YAAY,CACrB,MAAO,UACP,KAAM,0CACF,CAAC,EAGD,WAAW,IAAM,CACf,SAAS,OAAO,CAClB,EAAG,GAAI,IAGP,aAAa,MAAM,EACnB,eAAe,MAAM,EAErB,KAAK,YAAY,CACrB,MAAO,UACP,KAAM,mCACF,CAAC,EAED,WAAW,IAAM,CACf,SAAS,OAAO,CAClB,EAAG,GAAI,EAEX,OAASM,EAAP,CACA,KAAK,YAAY,CACpB,MAAO,QACP,KAAM,yBAA2BA,EAAM,OACpC,CAAC,CACH,CACF,EACA,MAAM,wBAAyB,CAC7B,GAAI,GAAC,KAAK,aAAe,CAAC,KAAK,mBAI/B,GAAI,CACF,IAAMD,EAAW,MAAM,OAAO,KAAK,CACjC,OAAQP,EAAQ,kBAAkB,6BAClC,KAAM,CACJ,YAAa,KAAK,YAAY,KAC9B,kBAAmB,KAAK,kBAAkB,IAC5C,CACF,CAAC,EAEGO,EAAS,UAAY,SACvB,KAAK,oBAAsBA,EAAS,QAExC,OAASC,EAAP,CACA,KAAK,oBAAsB,CAC7B,CACF,EAEA,aAAc,CAEZ,GAAI,CAAC,UAAU,OAAQ,CACzB,KAAK,SAAW,MACP,KAAK,oBACR,KAAK,kBAAoB,GACzB,KAAK,YAAY,CACrB,MAAO,QACP,KAAM,kIACF,CAAC,GAEH,MACF,CAEA,IAAMO,EAAY,YAAY,IAAI,EAC9BC,EAAY,KACZC,EAAa,GAGjBD,EAAY,WAAW,IAAM,CACtBC,IACHA,EAAa,GAClB,KAAK,SAAW,MAEN,KAAK,oBACR,KAAK,kBAAoB,GACzB,KAAK,YAAY,CACtB,MAAO,QACP,KAAM,kIACD,CAAC,GAGP,EAAG,GAAI,EAEP,OAAO,KAAK,CACV,OAAQjB,EAAQ,WAAW,KAC3B,KAAM,CAAC,EACP,SAAWC,GAAM,CAMf,GALIe,IACF,aAAaA,CAAS,EACtBA,EAAY,MAGVC,EAAY,OAChBA,EAAa,GAEb,IAAMC,EAAU,YAAY,IAAI,EAC1BpB,EAAO,KAAK,MAAMoB,EAAUH,CAAS,EAChD,KAAK,SAAWjB,EAAK,SAAS,EAAE,SAAS,EAAG,GAAG,EAGtCA,EAAO,KACT,KAAK,YAAY,CACtB,MAAO,UACP,KAAM,+IACD,CAAC,EAIC,KAAK,oBACP,KAAK,kBAAoB,GACzB,KAAK,YAAY,CACtB,MAAO,UACP,KAAM,yIACD,CAAC,EAEL,EACA,MAAQI,GAAQ,CACVc,IACF,aAAaA,CAAS,EACtBA,EAAY,MAGV,CAAAC,IACJA,EAAa,GAElB,KAAK,SAAW,MAEN,KAAK,oBACR,KAAK,kBAAoB,GACzB,KAAK,YAAY,CACtB,MAAO,QACP,KAAM,kIACD,CAAC,GAEL,EACA,OAAQ,GACR,aAAc,GACd,MAAO,EACT,CAAC,CACH,EACA,qBAAsB,CAChB,KAAK,eAIT,KAAK,wBAA0B,GAG/B,KAAK,YAAY,EAGjB,KAAK,aAAe,YAAY,IAAM,CACpC,KAAK,YAAY,CACnB,EAAG,GAAI,EACT,EACA,oBAAqB,CACf,KAAK,eACP,cAAc,KAAK,YAAY,EAC/B,KAAK,aAAe,KAEpB,KAAK,wBAA0B,GAEnC,EAIA,kBAAmB,CACjB,GAAI,CAAC,KAAK,mBAAqB,CAAC,KAAK,kBAAkB,KACrD,OAGF,IAAME,EAAmB,KAAK,kBAAkB,KAChD,QAAQ,IAAI,qCAAsCA,CAAgB,EAElE,OAAO,KAAK,CACV,OAAQ,oBACR,KAAM,CACJ,QAAS,oBACT,KAAMA,CACR,EACA,SAAWlB,GAAM,CACf,GAAIA,EAAE,QAAS,CACb,IAAMmB,EAAenB,EAAE,QACvB,QAAQ,IAAI,oCAAqCmB,EAAa,MAAM,EACpE,QAAQ,IAAI,+CAAgDA,EAAa,iBAAiB,EAKxFA,EAAa,SAAW,UACxBA,EAAa,mBAEb,QAAQ,IAAI,kEAAkE,EAC9E,KAAK,YAAY,CACf,MAAO,QACP,KAAM,wNACR,CAAC,EAGD,WAAW,IAAM,CACX,OAAO,oBACT,OAAO,oBAAoB,EAE3B,SAAS,OAAO,CAEpB,EAAG,GAAI,GACEA,EAAa,SAAW,UAAY,CAACA,EAAa,kBAE3D,QAAQ,IAAI,qFAAqF,EAGjG,OAAO,KAAK,CACV,OAAQpB,EAAQ,kBAAkB,uBAClC,KAAM,CAAC,EACP,SAAWqB,GAAkB,CAC3B,GAAIA,EAAc,SAAWA,EAAc,QAAQ,SAAWA,EAAc,QAAQ,KAAM,CACxF,IAAMC,EAAeD,EAAc,QAAQ,KAEvCC,EAAa,OAASH,IAExB,QAAQ,IAAI,oCAAqCG,EAAa,IAAI,EAClE,KAAK,YAAY,CACf,MAAO,QACP,KAAM,wNACR,CAAC,EAGD,WAAW,IAAM,CACX,OAAO,oBACT,OAAO,oBAAoB,EAE3B,SAAS,OAAO,CAEpB,EAAG,GAAI,EAEX,CACF,EACA,MAAQpB,GAAQ,CAEVA,GAAOA,EAAI,SACb,QAAQ,MAAM,sCAAuCA,EAAI,OAAO,CAEpE,EACA,OAAQ,GACR,aAAc,GACd,MAAO,EACT,CAAC,CAEL,CACF,EACA,MAAQA,GAAQ,CAEVA,GAAOA,EAAI,SACb,QAAQ,MAAM,sCAAuCA,EAAI,OAAO,CAEpE,EACA,OAAQ,GACR,aAAc,GACd,MAAO,EACT,CAAC,CACH,EAEA,sBAAuB,CACjB,KAAK,yBAIL,CAAC,KAAK,mBAAqB,CAAC,KAAK,kBAAkB,OAIvD,QAAQ,IAAI,6CAA8C,KAAK,kBAAkB,IAAI,EAGrF,KAAK,iBAAiB,EAGtB,KAAK,wBAA0B,YAAY,IAAM,CAC/C,KAAK,iBAAiB,CACxB,EAAG,GAAI,EACT,EAEA,qBAAsB,CACpB,QAAQ,IAAI,wCAAwC,EACpD,QAAQ,IAAI,8CAA+C,KAAK,uBAAuB,EACnF,KAAK,yBACP,cAAc,KAAK,uBAAuB,EAC1C,KAAK,wBAA0B,KAC/B,QAAQ,IAAI,sCAAsC,GAElD,QAAQ,IAAI,kDAAkD,EAEhE,QAAQ,IAAI,6CAA8C,KAAK,uBAAuB,CACxF,EAGA,qBAAqBqB,EAAQ,CACvBA,GACN,eAAe,QAAQ,6BAA8B,MAAM,EACvD,KAAK,oBAAoB,IAE7B,eAAe,QAAQ,6BAA8B,OAAO,EACxD,KAAK,mBAAmB,EAE5B,EAGA,2BAA4B,CAE1B,GAAI,CAAC,KAAK,wBAAyB,CACjC,QAAQ,IAAI,+FAA+F,EAC3G,MACF,CAEA,QAAQ,IAAI,yDAAyD,EACrE,QAAQ,IAAI,8EAA8E,EAC1F,QAAQ,IAAI,+CAAgD,KAAK,uBAAuB,EACxF,KAAK,oBAAoB,EACzB,QAAQ,IAAI,uDAAuD,CACrE,CACF,EACA,QAAS,UAAY,CACnB,KAAK,UAAU,UAAY,CACzB,GAAI,CAIL,eAAe,QAAQ,4BAA4B,IAAM,SAIpD,KAAK,oBAAoB,EAK3B,KAAK,uBAAyB,IAAM,CAC9B,SAAS,OACX,KAAK,mBAAmB,EAGpB,KAAK,yBACP,KAAK,oBAAoB,CAG/B,EAEA,KAAK,wBAA0B,GACnC,SAAS,iBAAiB,mBAAoB,KAAK,sBAAsB,EAGrE,KAAK,aAAe,IAAM,CACpB,KAAK,oBACP,KAAK,kBAAoB,GACzB,KAAK,YAAY,CACtB,MAAO,UACP,KAAM,yIACD,CAAC,GAGE,KAAK,aAIR,KAAK,YAAY,EAHjB,KAAK,oBAAoB,CAK7B,EAEA,KAAK,cAAgB,IAAM,CAC9B,KAAK,SAAW,MACN,KAAK,oBACR,KAAK,kBAAoB,GACzB,KAAK,YAAY,CACtB,MAAO,QACP,KAAM,kIACD,CAAC,EAEL,EAEJ,OAAO,iBAAiB,SAAU,KAAK,YAAY,EACnD,OAAO,iBAAiB,UAAW,KAAK,aAAa,EAErDnB,EAAQ,GAAG,cAAgBC,GAAS,CAC9B,KAAK,YAAYA,CAAI,CACvB,CAAC,EACLD,EAAQ,GAAG,cAAgBC,GAAS,CAC9B,KAAK,aAAeA,EAAK,IAC3B,CAAC,EACLD,EAAQ,GAAG,uBAAyBC,GAAS,CACvC,KAAK,YAAcA,EAAK,YACxB,KAAK,kBAAoBA,EAAK,kBAC9B,KAAK,mBAAmB,EACxB,KAAK,uBAAuB,EAC5B,KAAK,wBAAwB,CAG/B,CAAC,EACLD,EAAQ,GAAG,mBAAqBC,GAAS,CACnC,KAAK,aAAeA,CACtB,CAAC,EACLD,EAAQ,GAAG,sBAAwBL,GAAU,CACvC,KAAK,mBAAqBA,CAC5B,CAAC,EACLK,EAAQ,GAAG,qBAAuBC,GAAS,CACrC,KAAK,YAAcA,CACrB,CAAC,EACLD,EAAQ,GAAG,wBAA0BC,GAAS,CACxC,KAAK,kBAAoBA,EACzB,KAAK,uBAAuB,EAC5B,KAAK,wBAAwB,EAC7B,KAAK,qBAAqB,CAC5B,CAAC,EACLD,EAAQ,GAAG,oBAAsBC,GAAS,CAChCA,EAAK,cACP,KAAK,YAAcA,EAAK,aAEtBA,EAAK,oBACP,KAAK,kBAAoBA,EAAK,kBACpC,QAAQ,IAAI,gCAAiC,KAAK,kBAAkB,IAAI,GAEpE,KAAK,mBAAmB,EACxB,KAAK,uBAAuB,EAC5B,KAAK,wBAAwB,EAC7B,KAAK,qBAAqB,CAC5B,CAAC,EACLD,EAAQ,GAAG,oBAAqB,IAAM,CAGhC,KAAK,mBAAmB,EAGxB,WAAW,IAAM,CACf,KAAK,uBAAuB,EAC5B,KAAK,mBAAmB,CAC1B,EAAG,GAAI,CACT,CAAC,EACLA,EAAQ,GAAG,SAAWC,GAAS,CACzB,KAAK,OAAS,GACd,KAAK,YAAcA,EAAK,MACxB,KAAK,UAAYA,EAAK,GACxB,CAAC,EACLD,EAAQ,GAAG,WAAY,IAAM,CACvB,KAAK,OAAS,GACnB,KAAK,WAAa,GAClB,KAAK,UAAY,EACd,CAAC,EAGLA,EAAQ,GAAG,wBAAyB,KAAK,yBAAyB,EAGlEA,EAAQ,GAAG,yBAA2BmB,GAAW,CAC3C,KAAK,qBAAqBA,CAAM,CAClC,CAAC,EAGDnB,EAAQ,GAAG,wBAAyB,IAAM,CACxC,KAAK,0BAA0B,CACjC,CAAC,CACH,OAASI,EAAP,CACA,KAAK,YAAY,CACpB,MAAO,QACP,KAAM,2CACH,CAAC,CACH,CACF,CAAC,CACH,EACA,eAAgB,CAEd,KAAK,mBAAmB,EAGxB,KAAK,oBAAoB,EAG3B,SAAS,oBAAoB,QAAS,KAAK,kBAAkB,EAG7D,SAAS,oBAAoB,mBAAoB,KAAK,sBAAsB,EAGtE,KAAK,cACV,OAAO,oBAAoB,SAAU,KAAK,YAAY,EAEjD,KAAK,eACV,OAAO,oBAAoB,UAAW,KAAK,aAAa,EAInD,KAAK,qBACP,cAAc,KAAK,kBAAkB,EACrC,KAAK,mBAAqB,MAI9BJ,EAAQ,IAAI,aAAa,EACzBA,EAAQ,IAAI,aAAa,EACzBA,EAAQ,IAAI,sBAAsB,EAClCA,EAAQ,IAAI,kBAAkB,EAC9BA,EAAQ,IAAI,oBAAoB,EAChCA,EAAQ,IAAI,uBAAuB,EACnCA,EAAQ,IAAI,mBAAmB,EAC/BA,EAAQ,IAAI,mBAAmB,EAC/BA,EAAQ,IAAI,QAAQ,EACpBA,EAAQ,IAAI,UAAU,EACtBA,EAAQ,IAAI,wBAAwB,EACpCA,EAAQ,IAAI,wBAAyB,KAAK,yBAAyB,CACnE,CACF,ECr4BA,IAAMoB,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,QAAU,UAAU,WAAa,oDAAoD,gBAAgB,oBAAoB,aAAa,gCAAgC,OAAS,OAAO,SAAW,SAAS,IAAM,IAAI,UAAU,MAAM,CAAE,EACjTC,GAA0BC,EAAoB,IAAK,CACvD,MAAO,wBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,gBAAgB,CACrD,EAAG,KAAM,EAAgB,EACnBC,GAAa,CACjBF,EACF,EACMG,GAAa,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,aAAa,OAAO,kBAAkB,MAAM,CAAE,EACpIC,GAAa,CAAE,MAAO,CAAC,MAAQ,UAAU,cAAc,MAAM,YAAY,MAAM,CAAE,EACjFC,GAAa,CAAE,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,IAAM,MAAM,QAAU,UAAU,gBAAgB,MAAM,OAAS,oCAAoC,WAAa,oDAAoD,MAAQ,UAAU,YAAY,OAAO,cAAc,MAAM,cAAc,SAAS,cAAc,IAAI,OAAS,OAAO,aAAa,YAAY,CAAE,EACvXC,GAA0BL,EAAoB,IAAK,CACvD,MAAO,kBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,gBAAgB,CACrD,EAAG,KAAM,EAAgB,EACnBM,GAAa,CAAE,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,IAAM,MAAM,QAAU,UAAU,gBAAgB,MAAM,OAAS,oCAAoC,WAAa,oDAAoD,MAAQ,UAAU,YAAY,OAAO,cAAc,MAAM,cAAc,SAAS,cAAc,IAAI,OAAS,OAAO,aAAa,YAAY,CAAE,EACvXC,GAA0BP,EAAoB,IAAK,CACvD,MAAO,kBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,gBAAgB,CACrD,EAAG,KAAM,EAAgB,EACnBQ,GAAc,CAAE,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,IAAM,MAAM,QAAU,UAAU,gBAAgB,MAAM,OAAS,mCAAmC,WAAa,oDAAoD,MAAQ,UAAU,YAAY,OAAO,cAAc,MAAM,cAAc,SAAS,cAAc,IAAI,OAAS,OAAO,aAAa,YAAY,CAAE,EACvXC,GAA2BT,EAAoB,IAAK,CACxD,MAAO,wBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,gBAAgB,CACrD,EAAG,KAAM,EAAgB,EACnBU,GAAc,CAAE,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,IAAM,MAAM,QAAU,UAAU,gBAAgB,MAAM,OAAS,oCAAoC,WAAa,oDAAoD,MAAQ,UAAU,YAAY,OAAO,cAAc,MAAM,cAAc,SAAS,cAAc,IAAI,OAAS,OAAO,aAAa,YAAY,CAAE,EACxXC,GAA2BX,EAAoB,IAAK,CACxD,MAAO,sBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,gBAAgB,CACrD,EAAG,KAAM,EAAgB,EACnBY,GAAc,CAAE,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,IAAM,MAAM,QAAU,UAAU,gBAAgB,MAAM,OAAS,oCAAoC,WAAa,oDAAoD,MAAQ,UAAU,YAAY,OAAO,cAAc,MAAM,cAAc,SAAS,cAAc,IAAI,OAAS,OAAO,aAAa,YAAY,CAAE,EACxXC,GAA2Bb,EAAoB,IAAK,CACxD,MAAO,oBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,gBAAgB,CACrD,EAAG,KAAM,EAAgB,EACnBc,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,KAAK,CAAE,EAC7EC,GAA2Bf,EAAoB,IAAK,CACxD,MAAO,kBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,SAAS,CAC9C,EAAG,KAAM,EAAgB,EACnBgB,GAAc,CAClBD,EACF,EACME,GAA2BjB,EAAoB,IAAK,CACxD,MAAO,iBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,SAAS,CAC9C,EAAG,KAAM,EAAgB,EACnBkB,GAAc,CAClBD,EACF,EACME,GAA2BnB,EAAoB,IAAK,CACxD,MAAO,uBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,SAAS,CAC9C,EAAG,KAAM,EAAgB,EACnBoB,GAAc,CAClBD,EACF,EACME,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,SAAW,QAAQ,IAAM,IAAI,KAAO,IAAI,MAAQ,OAAO,OAAS,OAAO,WAAa,qBAAqB,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,UAAU,MAAM,CACtM,EACMC,GAAc,CAAE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,MAAM,YAAY,QAAQ,MAAQ,MAAM,aAAa,OAAO,aAAa,OAAO,aAAa,+BAA+B,CAAE,EAC3LC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,gBAAgB,mBAAmB,CAAE,EAC9EC,GAAc,CAAE,MAAO,CAAC,OAAS,IAAI,MAAQ,OAAO,YAAY,OAAO,cAAc,KAAK,CAAE,EAC5FC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,MAAQ,OAAO,cAAc,KAAK,CAAE,EAC7EC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,kBAAkB,SAAS,cAAc,QAAQ,CAAE,EAC5FC,GAAc,CAAE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,OAAO,SAAW,SAAS,aAAa,+BAA+B,CAAE,EACtIC,GAAc,CAAE,MAAO,CAAC,WAAa,oDAAoD,MAAQ,QAAQ,QAAU,YAAY,gBAAgB,oBAAoB,SAAW,UAAU,CAAE,EAC1LC,GAA2B7B,EAAoB,OAAQ,CAAE,MAAO,CAAC,MAAQ,QAAQ,QAAU,OAAO,cAAc,SAAS,IAAM,IAAI,YAAY,UAAU,cAAc,KAAK,CAAE,EAAG,CACxKA,EAAoB,IAAK,CACpC,MAAO,kBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,CAAC,EACY8B,EAAiB,+FAAoB,CACpD,EAAG,EAAgB,EACbC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,OAAO,aAAa,MAAM,CAAE,EAClFC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,aAAa,SAAS,QAAU,MAAM,CAChD,EACMC,GAA2BjC,EAAoB,MAAO,CAAE,MAAO,CAAC,YAAY,OAAO,MAAQ,MAAM,CAAE,EAAG,yEAAmB,EAAgB,EACzIkC,GAAc,CAClBD,EACF,EACME,GAA2BnC,EAAoB,MAAO,CAAE,MAAO,CAAC,aAAa,SAAS,QAAU,MAAM,CAAE,EAAG,CAClGA,EAAoB,MAAO,CAAE,MAAO,CAAC,YAAY,OAAO,MAAQ,MAAM,CAAE,EAAG,6GAAwB,CAClH,EAAG,EAAgB,EACboC,GAAc,CAAE,MAAO,CAAC,MAAQ,OAAO,kBAAkB,WAAW,YAAY,QAAQ,CAAE,EAC1FC,GAA2BrC,EAAoB,QAAS,KAAM,CACrDA,EAAoB,KAAM,CAAE,MAAO,CAAC,WAAa;AAAA;AAAA;AAAA;AAAA,cAAwJ,gBAAgB,oBAAoB,MAAQ,OAAO,CAAE,EAAG,CAC/PA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,QAAQ,cAAc,MAAM,MAAQ,OAAO,CAAE,EAAG,wCAAU,EAC5HA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,SAAS,cAAc,MAAM,MAAQ,OAAO,CAAE,EAAG,8CAAW,EAC9HA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,SAAS,cAAc,MAAM,MAAQ,OAAO,CAAE,EAAG,kCAAS,EAC5HA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,QAAQ,cAAc,MAAM,MAAQ,OAAO,CAAE,EAAG,uEAAgB,EAClIA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,SAAS,cAAc,MAAM,MAAQ,OAAO,CAAE,EAAG,wCAAU,EAC7HA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,OAAO,cAAc,MAAM,MAAQ,OAAO,CAAE,EAAG,wCAAU,CAC1I,CAAC,CACH,EAAG,EAAgB,EACbsC,GAAc,CAAC,UAAW,cAAc,EACxCC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,OAAO,CAAE,EAC/DC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,QAAQ,CAAE,EAChEC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,QAAQ,CAAE,EAChEC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,QAAQ,cAAc,KAAK,CAAE,EACnFC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,QAAQ,CAAE,EAChEC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,OAAO,cAAc,KAAK,CAAE,EAClFC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,kBAAkB,WAAW,IAAM,MAAM,QAAU,OAAO,aAAa,mBAAmB,CAAE,EAC5JC,GAA2B9C,EAAoB,MAAO,CAAE,MAAO,CAAC,KAAO,GAAG,CAAE,EAAG,KAAM,EAAgB,EACrG+C,GAAc,CAAC,UAAU,EACzBC,GAA2BhD,EAAoB,IAAK,CACxD,MAAO,kBACP,MAAO,CAAC,cAAc,KAAK,CAC7B,EAAG,KAAM,EAAgB,EAElB,SAASiD,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,OAAQC,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzDC,EAAoB,+CAA+C,EACnEA,EAAoB,oBAAoB,EACxCA,EAAoB,+CAA+C,EACnE3D,EAAoB,MAAO,KAAM,CAC/BA,EAAoB,MAAOF,GAAY,CACrC6D,EAAoB,+CAA+C,EACnEA,EAAoB,cAAc,EAClCA,EAAoB,+CAA+C,EACnE3D,EAAoB,MAAO,CACzB,QAASmD,EAAO,KAAOA,EAAO,GAAK,IAAIS,IAAUV,EAAK,SAAWA,EAAK,QAAQ,GAAGU,CAAI,GACrF,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,QAAU,UAAU,OAAS,UAAU,gBAAgB,KAAK,EACvI,MAAO,YACT,EAAG3D,EAAU,EACb0D,EAAoB,+CAA+C,EACnEA,EAAoB,eAAe,EACnCA,EAAoB,+CAA+C,EACnE3D,EAAoB,MAAOE,GAAY,CACrCF,EAAoB,MAAO,CACzB,MAAO6D,EAAgB,CAC7BX,EAAK,qBAAuB,kBACzB,uHACAA,EAAK,qBAAuB,kBAC5BA,EAAK,qBAAuB,sBAC5B,iBAAiBA,EAAK,iCAAiCA,EAAK,kCAC5DA,EAAK,qBAAuB,oBAC5B,iBAAiBA,EAAK,iCAAiCA,EAAK,kCAC5DA,EAAK,qBAAuB,qBAC5B,iBAAiBA,EAAK,iCAAiCA,EAAK,kCAC5D,4IACF,CAAC,QAAU,cAAc,cAAc,SAAS,IAAM,MAAM,QAAU,UAAU,gBAAgB,MAAM,OAAS,YAAY,YAAY,OAAO,cAAc,MAAM,cAAc,SAAS,cAAc,IAAI,OAAS,OAAO,aAAa,YAAY,CAAC,CAAC,CACnP,EAAG,CACDlD,EAAoB,OAAQG,GAAY2D,EAAiBZ,EAAK,iBAAiB,EAAG,CAAY,CAChG,EAAG,CAAa,EAChBS,EAAoB,eAAe,EACnC3D,EAAoB,MAAO,CACzB,MAAO6D,EAAgB,CAC7BX,EAAK,mBAAqB,aACvB,wHACAA,EAAK,mBAAqB,eAC1B,0HACA,oGACF,CAAC,QAAU,cAAc,cAAc,SAAS,IAAM,MAAM,QAAU,UAAU,gBAAgB,MAAM,OAAS,YAAY,WAAa,OAAO,YAAY,OAAO,cAAc,MAAM,cAAc,SAAS,cAAc,IAAI,OAAS,OAAO,aAAa,YAAY,CAAC,CAAC,CACvQ,EAAG,CACDlD,EAAoB,IAAK,CACvB,MAAO,wBACP,MAAO6D,EAAgB,2BAA2BX,EAAK,gBAAgB,CACzE,EAAG,KAAM,CAAa,EACtBlD,EAAoB,OAAQ,KAAM8D,EAAiBZ,EAAK,eAAe,EAAG,CAAY,CACxF,EAAG,CAAa,EAChBS,EAAoB,cAAc,EAClC3D,EAAoB,MAAOI,GAAY,CACrCC,GACAL,EAAoB,OAAQ,KAAM8D,EAAiBZ,EAAK,eAAe,EAAG,CAAY,CACxF,CAAC,EACDS,EAAoB,qBAAqB,EACzC3D,EAAoB,MAAO,CACzB,MAAO6D,EAAgB,CAC7BX,EAAK,kBAAoB,eACtB,wHACA,gFACF,CAAC,QAAU,cAAc,cAAc,SAAS,IAAM,MAAM,QAAU,UAAU,gBAAgB,MAAM,OAAS,YAAY,WAAa,OAAO,YAAY,OAAO,cAAc,MAAM,cAAc,SAAS,cAAc,IAAI,OAAS,OAAO,aAAa,YAAY,CAAC,CAAC,CACvQ,EAAG,CACDlD,EAAoB,IAAK,CACvB,MAAO,sBACP,MAAO6D,EAAgB,2BAA2BX,EAAK,qBAAqB,CAC9E,EAAG,KAAM,CAAa,EACtBlD,EAAoB,OAAQ,KAAM8D,EAAiBZ,EAAK,cAAc,EAAG,CAAY,CACvF,EAAG,CAAa,EAChBS,EAAoB,gBAAgB,EACpC3D,EAAoB,MAAOM,GAAY,CACrCC,GACAP,EAAoB,OAAQ,KAAM,QAAU8D,EAAiBZ,EAAK,gBAAgB,EAAG,CAAY,CACnG,CAAC,EACDS,EAAoB,cAAc,EAClC3D,EAAoB,MAAOQ,GAAa,CACtCC,GACAT,EAAoB,OAAQ,KAAM8D,EAAiBZ,EAAK,eAAeA,EAAK,SAAS,CAAC,EAAG,CAAY,CACvG,CAAC,EACDS,EAAoB,cAAc,EAClC3D,EAAoB,MAAOU,GAAa,CACtCC,GACAX,EAAoB,OAAQ,KAAM8D,EAAiBZ,EAAK,eAAeA,EAAK,YAAY,CAAC,EAAG,CAAY,CAC1G,CAAC,EACDS,EAAoB,cAAc,EAClC3D,EAAoB,MAAO,CACzB,MAAO6D,EAAgB,CAC7BX,EAAK,YAAc,iBAChB,wHACAA,EAAK,YAAc,YACnB,yHACAA,EAAK,YAAc,YACnB,wHACA,wHACF,CAAC,QAAU,cAAc,cAAc,SAAS,IAAM,MAAM,QAAU,UAAU,gBAAgB,MAAM,OAAS,YAAY,WAAa,OAAO,YAAY,OAAO,cAAc,MAAM,cAAc,SAAS,cAAc,IAAI,OAAS,OAAO,aAAa,YAAY,CAAC,CAAC,CACvQ,EAAG,CACDlD,EAAoB,IAAK,CACvB,MAAO,eACP,MAAO6D,EAAgB,2BAA2BX,EAAK,eAAe,CACxE,EAAG,KAAM,CAAa,EACtBlD,EAAoB,OAAQ,KAAM8D,EAAiBZ,EAAK,QAAQ,EAAI,KAAM,CAAY,CACxF,EAAG,CAAa,EAChBS,EAAoB,iBAAiB,EACrC3D,EAAoB,MAAOY,GAAa,CACtCC,GACAb,EAAoB,OAAQ,KAAM8D,EAAiBZ,EAAK,YAAY,IAAI,EAAG,CAAY,CACzF,CAAC,CACH,CAAC,EACDS,EAAoB,+CAA+C,EACnEA,EAAoB,kBAAkB,EACtCA,EAAoB,+CAA+C,EACnE3D,EAAoB,MAAOc,GAAa,CACtC6C,EAAoB,sCAAsC,EAC1D3D,EAAoB,SAAU,CAC5B,QAASmD,EAAO,KAAOA,EAAO,GAAK,IAAIS,IAAUV,EAAK,iBAAmBA,EAAK,gBAAgB,GAAGU,CAAI,GACrG,MAAO,sEACP,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,IAAM,MAAM,QAAU,UAAU,gBAAgB,MAAM,OAAS,qCAAqC,WAAa;AAAA;AAAA;AAAA;AAAA,SAAyI,YAAY,OAAO,cAAc,MAAM,OAAS,OAAO,YAAY,OAAO,aAAa,aAAa,OAAS,SAAS,EAClc,aAAcT,EAAO,KAAOA,EAAO,GAAKY,GAAU,CACxDA,EAAO,cAAc,MAAM,WAAa,0BACxCA,EAAO,cAAc,MAAM,YAAc,0BACzCA,EAAO,cAAc,MAAM,UAAY,8BACxC,GACO,aAAcZ,EAAO,KAAOA,EAAO,GAAKY,GAAU,CACxDA,EAAO,cAAc,MAAM,WAC1B,6EACDA,EAAO,cAAc,MAAM,YAAc,2BACzCA,EAAO,cAAc,MAAM,UAAY,EACxC,GACO,aAAc,oBAChB,EAAG/C,GAAa,EAAuB,EACvC2C,EAAoB,6BAA6B,EACjD3D,EAAoB,SAAU,CAC5B,QAASmD,EAAO,KAAOA,EAAO,GAAK,IAAIS,IAAUV,EAAK,YAAcA,EAAK,WAAW,GAAGU,CAAI,GAC3F,MAAO,2GACP,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,IAAM,MAAM,QAAU,UAAU,gBAAgB,MAAM,OAAS,mCAAmC,WAAa;AAAA;AAAA;AAAA;AAAA,SAAuI,OAAS,UAAU,YAAY,OAAO,cAAc,MAAM,OAAS,OAAO,YAAY,OAAO,aAAa,YAAY,EAC9b,aAAcT,EAAO,KAAOA,EAAO,GAAKY,GAAU,CACxDA,EAAO,cAAc,MAAM,WAAa,0BACxCA,EAAO,cAAc,MAAM,YAAc,yBACzCA,EAAO,cAAc,MAAM,UAAY,8BACxC,GACO,aAAcZ,EAAO,KAAOA,EAAO,GAAKY,GAAU,CACxDA,EAAO,cAAc,MAAM,WAC1B,2EACDA,EAAO,cAAc,MAAM,YAAc,yBACzCA,EAAO,cAAc,MAAM,UAAY,EACxC,GACO,aAAc,aAChB,EAAG7C,GAAa,EAAuB,EACvCyC,EAAoB,iCAAiC,EACnDT,EAAK,YAAY,wBAmBfS,EAAoB,OAAQ,EAAI,GAlB/BH,EAAW,EAAGC,EAAoB,SAAU,CAC3C,IAAK,EACL,QAASN,EAAO,KAAOA,EAAO,GAAK,IAAIS,IAAUV,EAAK,oBAAsBA,EAAK,mBAAmB,GAAGU,CAAI,GAC3G,MAAO,yFACP,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,IAAM,MAAM,QAAU,UAAU,gBAAgB,MAAM,OAAS,mCAAmC,WAAa;AAAA;AAAA;AAAA;AAAA,SAAsI,OAAS,UAAU,YAAY,OAAO,cAAc,MAAM,OAAS,OAAO,YAAY,OAAO,aAAa,YAAY,EAC7b,aAAcT,EAAO,KAAOA,EAAO,GAAKY,GAAU,CAC5DA,EAAO,cAAc,MAAM,WAAa,0BACxCA,EAAO,cAAc,MAAM,YAAc,yBACzCA,EAAO,cAAc,MAAM,UAAY,8BACxC,GACW,aAAcZ,EAAO,KAAOA,EAAO,GAAKY,GAAU,CAC5DA,EAAO,cAAc,MAAM,WAC1B,0EACDA,EAAO,cAAc,MAAM,YAAc,yBACzCA,EAAO,cAAc,MAAM,UAAY,EACxC,GACW,aAAc,WAChB,EAAG3C,GAAa,EAAuB,EAE7C,CAAC,CACH,CAAC,EACDuC,EAAoB,YAAY,EAC/BT,EAAK,OACDM,EAAW,EAAGC,EAAoB,MAAO,CACxC,IAAK,EACL,MAAOI,EAAgB,CAC/BX,EAAK,aAAe,UACjB,2FACAA,EAAK,aAAe,QACpB,2FACAA,EAAK,aAAe,OACpB,2FACA,2FACF,CAAC,SAAW,QAAQ,IAAM,OAAO,KAAO,MAAM,UAAY,mBAAmB,YAAY,QAAQ,YAAY,QAAQ,QAAU,YAAY,gBAAgB,MAAM,MAAQ,QAAQ,cAAc,MAAM,YAAY,OAAO,UAAU,OAAO,OAAS,UAAU,aAAa,iCAAiC,aAAa,QAAQ,CAAC,CAAC,EAC1T,QAASC,EAAO,MAAQA,EAAO,IAAMY,GAAWb,EAAK,MAAQ,GAC/D,EAAGY,EAAiBZ,EAAK,SAAS,EAAG,CAAmB,GACxDS,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,iBAAiB,EACpCT,EAAK,QACDM,EAAW,EAAGC,EAAoB,MAAOpC,GAAa,CACrDrB,EAAoB,MAAOsB,GAAa,CACtCtB,EAAoB,MAAOuB,GAAa,CACtCvB,EAAoB,KAAMwB,GAAasC,EAAiBZ,EAAK,WAAW,EAAG,CAAY,CACzF,CAAC,EACDlD,EAAoB,MAAOyB,GAAaqC,EAAiBZ,EAAK,SAAS,EAAG,CAAY,CACxF,CAAC,CACH,CAAC,GACDS,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,+CAA+C,EACnEA,EAAoB,wBAAwB,EAC5CA,EAAoB,+CAA+C,EACnE3D,EAAoB,MAAO0B,GAAa,CACtCiC,EAAoB,iBAAiB,EACpCT,EAAK,aACDM,EAAW,EAAGC,EAAoB,MAAO,CACxC,IAAK,EACL,QAASN,EAAO,MAAQA,EAAO,IAAMY,GAAWb,EAAK,YAAc,IACnE,MAAO,CAAC,SAAW,QAAQ,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,IAAI,WAAa,qBAAqB,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,UAAU,MAAM,CAChM,EAAG,CACDS,EAAoB,SAAS,EAC7B3D,EAAoB,MAAO,CACzB,QAASmD,EAAO,MAAQA,EAAO,IAAMa,GAAe,IAAM,CAAC,EAAG,CAAC,MAAM,CAAC,GACtE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,MAAM,aAAa,iCAAiC,YAAY,OAAO,YAAY,QAAQ,MAAQ,OAAO,aAAa,OAAO,SAAW,QAAQ,CAChM,EAAG,CACDL,EAAoB,QAAQ,EAC5B3D,EAAoB,MAAO2B,GAAa,CACtCgC,EAAoB,+CAA+C,EACnEA,EAAoB,eAAe,EACnCA,EAAoB,+CAA+C,EACnE3D,EAAoB,MAAO4B,GAAa,CACtCC,GACA7B,EAAoB,SAAU,CAC5B,QAASmD,EAAO,MAAQA,EAAO,IAAMY,GAAWb,EAAK,YAAc,IACnE,MAAO,CAAC,SAAW,WAAW,IAAM,MAAM,MAAQ,MAAM,WAAa,OAAO,OAAS,OAAO,YAAY,SAAS,MAAQ,QAAQ,OAAS,UAAU,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,gBAAgB,KAAK,CAC7Q,EAAG,QAAK,CACV,CAAC,EACDS,EAAoB,+CAA+C,EACnEA,EAAoB,aAAa,EACjCA,EAAoB,+CAA+C,EACnE3D,EAAoB,MAAO+B,GAAa,CACtC4B,EAAoB,iBAAiB,EACpCT,EAAK,mBACDM,EAAW,EAAGC,EAAoB,MAAOzB,GAAaE,EAAW,GACjE,CAACgB,EAAK,mBAAqBA,EAAK,kBAAkB,SAAW,GAC3DM,EAAW,EAAGC,EAAoBC,EAAW,CAAE,IAAK,CAAE,EAAG,CACxDC,EAAoB,eAAe,EACnCxB,EACF,EAAG,IAA6C,IAC/CqB,EAAW,EAAGC,EAAoBC,EAAW,CAAE,IAAK,CAAE,EAAG,CACxDC,EAAoB,SAAS,EAC7B3D,EAAoB,QAASoC,GAAa,CACxCC,GACArC,EAAoB,QAAS,KAAM,EAChCwD,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMO,GAAYf,EAAK,kBAAoBgB,IACnFV,EAAW,EAAGC,EAAoB,KAAM,CAC9C,IAAKS,EAAQ,KACb,QAASH,GAAWb,EAAK,qBAAuBgB,EAChD,MAAOL,EAAgB,CAChDX,EAAK,sBACLA,EAAK,qBAAqB,OAASgB,EAAQ,KACxC,wCACA,mBACF,CAAC,gBAAgB,mBAAmB,CAAC,CAAC,EACd,aAAcf,EAAO,MAAQA,EAAO,IAAMY,GACnEA,EAAO,cAAc,MAAM,WAAa,WAEf,aAAcA,GACvCA,EAAO,cAAc,MAAM,WAC1Bb,EAAK,sBACLA,EAAK,qBAAqB,OAASgB,EAAQ,KACxC,UACA,aAEmB,EAAG,CACDlE,EAAoB,KAAMuC,GAAauB,EAAiBI,EAAQ,eAAiBA,EAAQ,UAAY,GAAG,EAAG,CAAY,EACvHlE,EAAoB,KAAMwC,GAAasB,EAAiBI,EAAQ,cAAgB,GAAG,EAAG,CAAY,EAClGlE,EAAoB,KAAMyC,GAAaqB,EAAiBI,EAAQ,aACrFA,EAAQ,aAAa,MAAM,GAAG,EAAE,GAChC,GAAG,EAAG,CAAY,EACGlE,EAAoB,KAAM0C,GAAaoB,EAAiBI,EAAQ,IAAI,EAAG,CAAY,EACnFlE,EAAoB,KAAM2C,GAAa,CACrC3C,EAAoB,OAAQ,CAC1B,MAAO6D,EAAgB,CAClD,QAAS,eACT,QAAS,WACT,aAAc,OACd,SAAU,UACV,WAAY,MACZ,WAAY,SACZ,iBACEK,EAAQ,gBACRA,EAAQ,UAAY,OAClB,WACCA,EAAQ,gBACTA,EAAQ,UAAY,SACpB,WACCA,EAAQ,gBACTA,EAAQ,UACR,cACA,WACCA,EAAQ,gBACTA,EAAQ,UAAY,SACpB,WACCA,EAAQ,gBACTA,EAAQ,UACR,qBACA,UACA,UACJ,OACEA,EAAQ,gBACRA,EAAQ,UAAY,OAClB,WACCA,EAAQ,gBACTA,EAAQ,UAAY,SACpB,WACCA,EAAQ,gBACTA,EAAQ,UACR,cACA,WACCA,EAAQ,gBACTA,EAAQ,UAAY,SACpB,WACCA,EAAQ,gBACTA,EAAQ,UACR,qBACA,UACA,UACJ,QACEA,EAAQ,gBACRA,EAAQ,UAAY,OAClB,qBACCA,EAAQ,gBACTA,EAAQ,UAAY,SACpB,qBACCA,EAAQ,gBACTA,EAAQ,UACR,cACA,qBACCA,EAAQ,gBACTA,EAAQ,UAAY,SACpB,qBACCA,EAAQ,gBACTA,EAAQ,UACR,qBACA,oBACA,mBACL,CAAC,CACyB,EAAGJ,EAAiBI,EAAQ,gBAAkBA,EAAQ,QAAU,GAAG,EAAG,CAAmB,CAC3F,CAAC,EACDlE,EAAoB,KAAM4C,GAAakB,EAAiBZ,EAAK,eAAegB,EAAQ,aAAe,CAAC,CAAC,EAAG,CAAY,CACtH,EAAG,GAAuC5B,EAAW,EACtD,EAAG,GAAwB,EAC9B,CAAC,CACH,CAAC,CACH,EAAG,IAA6C,EACxD,CAAC,EACDqB,EAAoB,+CAA+C,EACnEA,EAAoB,eAAe,EACnCA,EAAoB,+CAA+C,EACnE3D,EAAoB,MAAO6C,GAAa,CACtCC,GACA9C,EAAoB,SAAU,CAC5B,QAASmD,EAAO,MAAQA,EAAO,IAAMY,GAAWb,EAAK,YAAc,IACnE,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,cAAc,MAAM,OAAS,QAAQ,WAAa,oDAAoD,MAAQ,OAAO,EACzU,aAAcC,EAAO,MAAQA,EAAO,IAAMY,GAAU,CACjEA,EAAO,cAAc,MAAM,WAAa,UACxCA,EAAO,cAAc,MAAM,YAAc,UACzCA,EAAO,cAAc,MAAM,UAC1B,8BACF,GACc,aAAcZ,EAAO,MAAQA,EAAO,IAAMY,GAAU,CACjEA,EAAO,cAAc,MAAM,WAC1B,oDACDA,EAAO,cAAc,MAAM,YAAc,UACzCA,EAAO,cAAc,MAAM,UAAY,EACxC,EACY,EAAG,mCAAW,EAAuB,EACrC/D,EAAoB,SAAU,CAC5B,QAASmD,EAAO,MAAQA,EAAO,IAAM,IAAIS,IAAUV,EAAK,sBAAwBA,EAAK,qBAAqB,GAAGU,CAAI,GACjH,SAAU,CAACV,EAAK,qBAChB,MAAOW,EAAgB,CAAC,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,cAAc,MAAM,OAAS,QAAQ,WAAa,oDAAoD,MAAQ,OAAO,EACtWX,EAAK,qBAEH,GADA,iFAEJ,CAAC,EACa,aAAcC,EAAO,MAAQA,EAAO,IAAMY,GAAU,CAC7Db,EAAK,uBACRa,EAAO,cAAc,MAAM,WAAa,UACxCA,EAAO,cAAc,MAAM,YAAc,UACzCA,EAAO,cAAc,MAAM,UAC1B,+BAEH,GACc,aAAcZ,EAAO,MAAQA,EAAO,IAAMY,GAAU,CAC7Db,EAAK,uBACRa,EAAO,cAAc,MAAM,WAC1B,oDACDA,EAAO,cAAc,MAAM,YAAc,UACzCA,EAAO,cAAc,MAAM,UAAY,GAEzC,EACY,EAAG,CACDf,GACAlB,EAAiB,kCAAS,CAC5B,EAAG,GAAuCiB,EAAW,CACvD,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,GACDY,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,CAAC,CACH,EAAG,IAA6C,CAClD,CCvgBiLQ,GAAO,OAASC,GAAOD,GAAO,OAAS,kEAAkE,IAAOA,GAAQA,GCEzS,IAAOE,GAAQ,CACb,MAAO,CACL,MAAO,CACL,gBAAiB,EACjB,mBAAoB,CACtB,CACF,EACA,QAAS,CACP,IAAIC,EAAOC,EAAWC,EAAeC,EAAiB,CACpD,GAAI,CACF,MAAI,CAACF,GAAaA,GAAa,IAC7BA,EAAY,KAAK,oBAAsB,GAGzCE,EAAkB,oBACX,IAAIH,EAAOC,EAAWC,EAAeC,CAAe,CAC7D,OAASC,EAAP,CACA,OAAO,WAAWJ,GAAS,CAAC,EAAE,QAAQC,GAAa,CAAC,CACtD,CACF,EAEA,eAAeD,EAAOC,EAAW,CAC/B,GAAI,CAEF,OAAO,cACLD,EACA,KACAC,GAAa,KAAK,oBAAsB,CAC1C,CACF,OAASG,EAAP,CACA,OAAO,WAAWJ,GAAS,CAAC,EAAE,QAAQC,GAAa,CAAC,CACtD,CACF,EAEA,YAAYD,EAAOC,EAAW,CAC5B,GAAI,CAEF,OAAO,cACLD,EACA,KACAC,GAAa,KAAK,iBAAmB,CACvC,CACF,OAASG,EAAP,CACA,OAAO,WAAWJ,GAAS,CAAC,EAAE,QAAQC,GAAa,CAAC,CACtD,CACF,EAEA,oBACEI,EACAC,EACAL,EACAM,EAAc,GACdC,EACA,CACA,IAAIR,EAAQ,EACZ,GAAI,CACF,IAAIS,EAAS,WAAWD,EAAO,OAAO,KAAK,EACtC,MAAMC,CAAM,IACfT,EAAQS,GAENF,GAAeP,EAAQ,IACzBA,EAAQA,EAAQ,IAElBA,EAAQ,KAAK,eAAeQ,EAAO,OAAO,MAAOP,CAAS,CAC5D,OAASS,EAAP,CACAV,EAAQ,WAAWQ,EAAO,OAAO,OAAS,CAAC,EAAE,QAAQP,GAAa,CAAC,CACrE,CAEA,OAAI,OAAOI,GAAO,SAChBA,EAAGC,GAAcN,EAEjB,KAAKM,GAAcN,EAEdA,CACT,EAEA,iBAAiBK,EAAIC,EAAYL,EAAWM,EAAc,GAAOC,EAAQ,CACvE,IAAIR,EAAQ,EACZ,GAAI,CACFA,EAAQ,WAAWQ,EAAO,OAAO,KAAK,EAClC,MAAMR,CAAK,EACbA,EAAQ,EACCO,GAAeP,EAAQ,IAChCA,EAAQA,EAAQ,IAElBA,EAAQ,KAAK,YAAYQ,EAAO,OAAO,MAAOP,CAAS,CACzD,OAASS,EAAP,CACAV,EAAQ,WAAWQ,EAAO,OAAO,OAAS,CAAC,EAAE,QAAQP,GAAa,CAAC,CACrE,CAEA,OAAI,OAAOI,GAAO,SAChBA,EAAGC,GAAcN,EAEjB,KAAKM,GAAcN,EAEdA,CACT,EAEA,eAAeW,EAAU,CACvB,MAAO,EACT,EAEA,SAASX,EAAO,CACd,GAAI,CAEF,MADgB,qCACD,KAAKA,CAAK,GAAK,gBAChC,OAASI,EAAP,CACA,MAAO,EACT,CACF,CACF,EAEA,SAAU,CAIR,KAAK,gBAAkB,EACvB,KAAK,mBAAqB,CAC5B,CACF,ECjHA,SAASQ,GAASC,EAAMC,EAAM,CAC5B,IAAIC,EACJ,OAAO,YAA6BC,EAAM,CACxC,IAAMC,EAAU,KACVC,EAAQ,IAAM,CAClB,aAAaH,CAAO,EACpBF,EAAK,MAAMI,EAASD,CAAI,CAC1B,EACA,aAAaD,CAAO,EACpBA,EAAU,WAAWG,EAAOJ,CAAI,CAClC,CACF,CAEA,IAAMK,GAAc,CAElB,SAAU,WACV,cAAe,gBACf,yBAA0B,2BAG1B,YAAa,cACb,aAAc,cAGd,qBAAsB,uBACtB,gBAAiB,kBACjB,2BAA4B,6BAG5B,uBAAwB,wBAC1B,EAEMC,GAAY,CAChB,kBAAmB,EACnB,oBAAqB,GACrB,iBAAkB,IAClB,eAAgB,GAChB,eAAgB,GAClB,EAEMC,GAAa,CACjB,KAAM,OACN,KAAM,MACR,EASA,IAAOC,GAAQ,CACb,KAAM,gBAEN,OAAQ,CAACC,EAAM,EAGf,MAAO,CACL,MAAO,CAEL,YAAa,KACb,MAAO,CAAC,EAGR,WAAYC,GAAW,KACvB,WAAY,kBACZ,QAAS,GACT,eAAgB,GAGhB,YAAa,CAAC,iBAAiB,EAC/B,MAAO,CAAC,EAGR,OAAQ,GACR,aAAc,GACd,eAAgB,GAGhB,aAAc,IAGd,YAAa,EACb,mBAAoB,EAGpB,oBAAqB,KACrB,SAAU,KAGV,IAAK,EAGL,kBAAmB,KAGnB,yBAA0B,GAC1B,mBAAoB,GAGpB,kBAAmB,GACnB,cAAe,GAGf,UAAW,IAAI,GACjB,CACF,EAGA,MAAO,CACL,cAAcC,EAAUC,EAAU,CAC5BD,EAAS,SAAWC,EAAS,QAC/B,KAAK,qBAAqBD,CAAQ,EAEpC,KAAK,2BAA2B,CAClC,EAEA,SAASE,EAAQC,EAAQ,CACvB,GAAI,KAAK,yBAA0B,CACjC,KAAK,yBAA2B,GAChC,MACF,CACIA,IAAW,QAAaD,IAAWC,GACrC,KAAK,UAAU,CAEnB,EAEA,YAAa,CACX,KAAK,2BAA2B,CAClC,CACF,EAGA,SAAU,CACR,eAAgB,CACd,KAAK,OAAS,KAAK,WAAW,KAAK,YAAY,EAG/C,IAAMC,EAAc,KAAK,aAAe,kBAClCC,EACJ,KAAK,QAAU,KAAK,OAAO,QAAUC,GAAU,kBAE7CC,EAAe,CAAC,EAChBC,EAAqB,CAAC,EAG1B,GAAIJ,EAAa,CACf,IAAMK,EAAa,KAAK,WAAW,YAAY,EAC/CD,EAAqB,KAAK,MAAM,OAAQE,GACtCA,EAAK,WAAW,YAAY,EAAE,SAASD,CAAU,CACnD,CACF,MACED,EAAqB,KAAK,MAI5B,GAAI,CAACH,EACHE,EAAeC,EAAmB,MAChC,EACAF,GAAU,mBACZ,MACK,CAEL,IAAMK,EAAc,KAAK,OAAO,YAAY,EAC5CJ,EAAeC,EAAmB,OAAQE,GACxCA,EAAK,UAAU,YAAY,EAAE,SAASC,CAAW,CACnD,EAGIJ,EAAa,SAAW,IAC1BA,EAAeC,EAAmB,OAAQE,GACxCA,EAAK,UAAU,YAAY,EAAE,SAASC,CAAW,CACnD,EAEJ,CAEA,OAAOJ,EAAa,MAAM,EAAGD,GAAU,mBAAmB,CAC5D,EAEA,kBAAmB,CACjB,OAAK,KAAK,kBAGH,CACL,UAAW,GAAG,KAAK,kBAAoB,MACzC,EAJS,CAAC,CAKZ,EAEA,gBAAiB,CACf,KAAM,CACJ,OAAO,KAAK,YACd,EACA,IAAKM,GAAS,SAAUZ,EAAU,CAChC,KAAK,aAAeA,EACpB,KAAK,kBAAkBA,CAAQ,CACjC,EAAGM,GAAU,cAAc,CAC7B,CACF,EAEA,QAAS,CACP,4BAA6B,CAC3B,KAAK,UAAU,IAAM,CAEnB,sBAAsB,IAAM,CAC5B,KAAK,uBAAuB,CAC5B,CAAC,CACH,CAAC,CACH,EAEA,wBAAyB,CA1N7B,IAAAO,EA2NM,IAAMC,EAAY,KAAK,MAAM,gBACvBC,EAAWD,EAAYA,EAAU,KAAOA,EAAY,KAE1D,GAAI,CAACC,GAAY,OAAOA,EAAS,uBAA0B,WACzD,OAGF,IAAMC,EACJ,OAAO,eAAeH,EAAA,SAAS,kBAAT,YAAAA,EAA0B,eAAgB,EAE9D,CAACG,GAKL,sBAAsB,IAAM,CAC5B,IAAMC,EAAOF,EAAS,sBAAsB,EACtCG,EAAYF,EAAiBC,EAAK,IAAMX,GAAU,eAEpD,OAAO,SAASY,CAAS,IAC3B,KAAK,kBAAoB,KAAK,IAC5BZ,GAAU,iBACV,KAAK,MAAMY,CAAS,CACtB,EAEF,CAAC,CACH,EAEA,sBAAuB,CACrB,GAAI,CAAC,KAAK,eAAe,KAAK,EAAG,OAGjC,GAAI,KAAK,mBAAoB,CAC3B,KAAK,mBAAqB,GAC1B,KAAK,eAAiB,GACtB,MACF,CAEA,KAAK,gBAAgB,KAAK,eAAe,KAAK,CAAC,EAC/C,KAAK,eAAiB,GAEtB,IAAMC,EAAe,SAAS,cAAc,gBAAgB,EACxDA,IAAcA,EAAa,MAAQ,GACzC,EAEA,gBAAgBC,EAAe,CAI7B,GAAI,KAAK,kBAAmB,CAE1BC,EAAQ,KAAK,cAAe,CAC1B,KAAM,0FACN,MAAO,OACT,CAAC,EACD,MACF,CAMA,OAAO,KAAK,CACV,OAAQC,EAAQ,KAAK,iBACrB,KAAM,CACJ,YAAa,KAAK,YAClB,cAAeF,CACjB,EACA,SAAWG,GAAa,CA/RhC,IAAAV,GAgScA,EAAAU,GAAA,YAAAA,EAAU,UAAV,MAAAV,EAAmB,UAErB,KAAK,iBAAiBU,EAAS,OAAO,EAEtCF,EAAQ,KAAK,cAAe,CAC1B,KAAM,mCACN,MAAO,OACT,CAAC,CAEL,EACA,MAAQG,GAAU,CAChBH,EAAQ,KAAK,cAAe,CAC1B,KAAM,2BACN,MAAO,OACT,CAAC,CACH,CACF,CAAC,CACH,EAEA,iBAAiBX,EAAM,CAIrB,GAAI,KAAK,kBAAmB,CAG1BW,EAAQ,KAAK,cAAe,CAC1B,KAAM,ycACN,MAAO,OACT,CAAC,EACD,MACF,CAEAA,EAAQ,KAAKI,GAAY,SAAUf,CAAI,CACzC,EAEA,aAAc,CACZW,EAAQ,KAAKI,GAAY,YAAa,MAAM,CAC9C,EAEA,mBAAoB,CACd,KAAK,kBACP,KAAK,gBAAkB,GACvB,KAAK,aAAe,IAEtB,KAAK,UAAU,CACjB,EAEA,WAAY,CACV,GAAI,CAAC,KAAK,YAAa,CACrBJ,EAAQ,KAAK,cAAe,CAC1B,KAAM,4BACN,MAAO,OACT,CAAC,EACD,MACF,CAEA,IAAMK,EAAK,KACX,KAAK,QAAU,GACf,IAAIC,EAAS,KAAK,WAAW,KAAK,YAAY,EAC1CC,EAAK,GACLC,EAAK,GAELF,IACFE,EAAKF,GAEHD,EAAG,YAAc,oBACnBE,EAAKF,EAAG,WAAW,YAAY,GAQjC,OAAO,KAAK,CACV,OAAQJ,EAAQ,KAAK,UACrB,KAAM,CACJ,YAAaI,EAAG,YAChB,WAAYA,EAAG,oBACf,WAAYE,EACZ,aAAcC,EACd,SAAUH,EAAG,QACf,EACA,SAAU,SAAUI,EAAG,CACjBA,EAAE,UACJJ,EAAG,OAASI,EAAE,SAAW,CAAC,GAAG,IAAKC,IAAQ,CACxC,UAAWA,EAAG,UACd,UAAWA,EAAG,UACd,WAAYA,EAAG,WACf,MAAOA,EAAG,MACV,KAAMA,EAAG,KACT,gBAAiBA,EAAG,gBACpB,UAAWA,EAAG,UACd,SAAUA,EAAG,SACb,WAAYA,EAAG,WACf,UAAWA,EAAG,UACd,MAAOA,EAAG,MAEV,aAAc,CAAC,EACf,eAAgB,CAAC,EACjB,cAAe,CAAC,CAClB,EAAE,EAEFL,EAAG,eAAe,EAClBL,EAAQ,KAAK,gBAAiBK,EAAG,KAAK,EACtCA,EAAG,QAAU,GACbA,EAAG,eAAiB,GACpBA,EAAG,2BAA2B,EAElC,EACA,MAAO,SAAUM,EAAK,CACpB,QAAQ,IAAI,sCAAuCA,CAAG,CACxD,CACF,CAAC,CACH,EAEA,gBAAiB,CACf,KAAK,UAAU,MAAM,EAErB,KAAK,MAAM,QAAStB,GAAS,CAE3B,KAAK,UAAU,IAAIA,EAAK,UAAU,YAAY,EAAGA,CAAI,EAGrD,KAAK,UAAU,IAAIA,EAAK,UAAU,YAAY,EAAGA,CAAI,CACvD,CAAC,CACH,EAEA,kBAAmB,CACjB,GAAI,EAAC,KAAK,YAIV,GACE,KAAK,YAAY,aACjB,KAAK,YAAY,YAAY,OAAS,EAEtC,KAAK,YAAY,YAAY,QAASuB,GAAY,CAEhD,IAAMC,EACJ,OAAOD,GAAY,SAAWA,EAAUA,EAAQ,WAC9CC,GAAaA,IAAc,mBAC7B,KAAK,YAAY,KAAKA,CAAS,CAEnC,CAAC,MACI,CACL,IAAMR,EAAK,KACX,OAAO,KAAK,CACV,OAAQJ,EAAQ,KAAK,iBACrB,KAAM,CAAC,EACP,SAAU,SAAUQ,EAAG,CACjBA,EAAE,SACJA,EAAE,QAAQ,QAASG,GAAY,CAC7BP,EAAG,YAAY,KAAKO,EAAQ,IAAI,CAClC,CAAC,CAEL,EACA,MAAO,SAAUD,EAAK,CACpB,QAAQ,IAAI,6CAA8CA,CAAG,CAC/D,CACF,CAAC,CACH,CACF,EAEA,iBAAkB,CA2BhB,MA1BsB,CACpB,CACE,MAAO,GAAG,WAAW,EACrB,MAAO,QACP,SAAU,GACV,IAAK,YACL,MAAO,KACT,EACA,CACE,MAAO,GAAG,WAAW,EACrB,MAAO,QACP,SAAU,GACV,IAAK,YACL,MAAO,KACT,EACA,CAAE,MAAO,GAAG,OAAO,EAAG,IAAK,OAAQ,MAAO,QAAS,MAAO,IAAK,EAC/D,CACE,MAAO,GAAG,KAAK,EACf,MAAO,aACP,IAAK,aACL,MAAO,SACP,MAAO,KACT,EACA,CAAE,MAAO,GAAG,KAAK,EAAG,IAAK,YAAa,MAAO,SAAU,MAAO,IAAK,CACrE,CAGF,EAEA,eAAetB,EAAM,CAInB,GAAI,KAAK,kBAAmB,CAG1BW,EAAQ,KAAK,cAAe,CAC1B,KAAM,ycACN,MAAO,OACT,CAAC,EACD,MACF,CAGAA,EAAQ,KAAK,WAAYc,GAAAC,GAAA,GACpB1B,GADoB,CAEvB,IAAK,KAAK,KAAO,CACnB,EAAC,EACD,KAAK,IAAM,EAEX,KAAK,UAAU,IAAM,CAxf3B,IAAAG,GAyfQA,EAAA,KAAK,MAAM,iBAAX,MAAAA,EAA2B,OAC7B,CAAC,CACH,EAEA,SAASH,EAAM,CAIb,GAAI,KAAK,kBAAmB,CAG1BW,EAAQ,KAAK,cAAe,CAC1B,KAAM,ycACN,MAAO,OACT,CAAC,EACD,MACF,CAGAA,EAAQ,KAAK,WAAYc,GAAAC,GAAA,GACpB1B,GADoB,CAEvB,IAAK,KAAK,KAAO,CACnB,EAAC,EACD,KAAK,IAAM,EAEX,KAAK,UAAU,IAAM,CAlhB3B,IAAAG,GAmhBQA,EAAA,KAAK,MAAM,iBAAX,MAAAA,EAA2B,OAC7B,CAAC,CACH,EAEA,WAAWwB,EAAK,CACd,OAAOA,GAAO,EAChB,EAEA,WAAY,CACV,KAAK,aAAe,GACpB,KAAK,gBAAkB,EACzB,EAEA,kBAAkBC,EAAa,CAC7B,IAAMZ,EAAK,KAMX,GAHA,KAAK,eAAiB,GAGlB,CAACY,GAAeA,EAAY,KAAK,IAAM,GAAI,CAC7C,KAAK,UAAU,EACf,MACF,CAEA,IAAMC,EAAgBD,EAAY,KAAK,EAOvC,GAHE,QAAQ,KAAKC,CAAa,GAAKA,EAAc,QAAU,EAG1C,CACb,OAAO,KAAK,CACV,OAAQjB,EAAQ,KAAK,iBACrB,KAAM,CACJ,YAAaI,EAAG,YAChB,cAAea,CACjB,EACA,SAAU,SAAUT,EAAG,CA1jBjC,IAAAjB,EA2jBYa,EAAG,eAAiB,IAEhBb,EAAAiB,GAAA,YAAAA,EAAG,UAAH,MAAAjB,EAAY,WAEda,EAAG,iBAAiBI,EAAE,OAAO,EAE7BJ,EAAG,gBAAkB,GACrBA,EAAG,aAAe,IAGlBA,EAAG,qBAAqBa,CAAa,CAEzC,EACA,MAAO,SAAUP,EAAK,CACpBN,EAAG,eAAiB,GAEpBA,EAAG,qBAAqBa,CAAa,CACvC,CACF,CAAC,EACD,MACF,CAGA,KAAK,qBAAqBA,CAAa,CACzC,EAEA,qBAAqBD,EAAa,CAChC,IAAMZ,EAAK,KAGX,OAAO,KAAK,CACV,OAAQJ,EAAQ,KAAK,UACrB,KAAM,CACJ,YAAaI,EAAG,YAChB,WAAYA,EAAG,oBACf,WACEA,EAAG,aAAe,kBACdA,EAAG,WAAW,YAAY,EAC1B,GACN,aAAcY,EACd,SAAUZ,EAAG,QACf,EACA,SAAU,SAAUI,EAAG,CAErBJ,EAAG,eAAiB,GAEhBI,EAAE,UACJJ,EAAG,OAASI,EAAE,SAAW,CAAC,GAAG,IAAKC,GAAQI,GAAAC,GAAA,GACrCL,GADqC,CAExC,WAAYA,EAAG,WACf,gBAAiBA,EAAG,iBAAmBA,EAAG,KAC1C,UAAWA,EAAG,WAAaA,EAAG,KAC9B,MAAOA,EAAG,MACV,aAAc,MAAM,QAAQA,EAAG,YAAY,EACvCA,EAAG,aACH,CAAC,EACL,eAAgB,MAAM,QAAQA,EAAG,cAAc,EAC3CA,EAAG,eACH,CAAC,EACL,cAAe,MAAM,QAAQA,EAAG,aAAa,EACzCA,EAAG,cACH,CAAC,CACP,EAAE,EACFL,EAAG,eAAe,EAClBL,EAAQ,KAAK,gBAAiBK,EAAG,KAAK,EAE1C,EACA,MAAO,SAAUM,EAAK,CAEpBN,EAAG,eAAiB,GACpB,QAAQ,IAAI,iDAAkDM,CAAG,CACnE,CACF,CAAC,CACH,EAEA,qBAAqBQ,EAAO,CAC1BnB,EAAQ,KAAK,2BAA4BmB,CAAK,CAChD,EAEA,cAAe,CACb,IAAMd,EAAK,KAGX,GAAI,CAGA,SAAS,sBACT,SAAS,qBAAqB,SAE9B,OAAO,WAAW,QAAQ,CAE9B,OAASe,EAAP,CACA,QAAQ,IAAI,oDAAqDA,CAAC,CACpE,CAEA,OAAO,SAAS,SAAU,CACxB,eAAgB,CAAC,EAAE,EACnB,eAAgB,GAChB,aAAc,GACd,cAAe,SAAUC,EAAQ,CAC/B,OAAAA,EAAO,yBAAyB,EACzB,OAAO,eAAeA,CAAM,CACrC,EACA,OAAQ,SAAUC,EAAO,CAEvBjB,EAAG,mBAAqB,GAGxBA,EAAG,eAAiB,GAGpBA,EAAG,eAAeiB,CAAK,CACzB,CACF,CAAC,CACH,EACA,eAAeA,EAAO,CAEpB,KAAK,gBAAgBA,CAAK,CAC5B,CACF,EAEA,QAAS,UAAY,CACnB,KAAK,UAAU,UAAY,CAAC,CAAC,EAC7BtB,EAAQ,GAAG,uBAAyBuB,GAAS,CAC3C,KAAK,YAAcA,EAAK,YAExB,KAAK,yBAA2B,GAChC,KAAK,SACH,KAAK,aAAe,KAAK,YAAY,SACjC,KAAK,YAAY,SACjB,KAAK,SACX,KAAK,UAAU,EACf,KAAK,iBAAiB,EACtB,KAAK,WAAa,KAAK,YAAY,uBAC/B,OACA,MACN,CAAC,EAEDvB,EAAQ,GAAG,yBAA2BuB,GAAS,CAC7C,KAAK,YAAcA,EAAK,YACxB,KAAK,mBAAqBA,EAAK,kBACjC,CAAC,EACDvB,EAAQ,GAAG,6BAA+BuB,GAAS,CACjD,KAAK,oBAAsBA,CAC7B,CAAC,EACDvB,EAAQ,GAAG,kBAAoBuB,GAAS,CACtC,KAAK,SAAWA,CAClB,CAAC,EACDvB,EAAQ,GAAG,sBAAuB,IAAM,CACtC,KAAK,eAAiB,GACtB,KAAK,gBAAkB,GACvB,KAAK,aAAe,GAChB,KAAK,aAAe,oBACtB,KAAK,WAAa,kBAClB,KAAK,UAAU,EAEnB,CAAC,EAGDA,EAAQ,GAAG,sBAAwBuB,GAAS,CAI1C,KAAK,kBAAoB,CAAC,EACxBA,EAAK,aAAeA,EAAK,YAAY,eAIzC,CAAC,EAGDvB,EAAQ,GAAG,cAAgBuB,GAAS,CAI9B,CAACA,GAAS,CAACA,EAAK,WAAa,CAACA,EAAK,eAErC,KAAK,kBAAoB,GAGzB,KAAK,kBAAoB,CAAC,CAACA,EAAK,cAIpC,CAAC,EAGDvB,EAAQ,GAAG,oBAAqB,IAAM,CAChC,KAAK,oBAEP,KAAK,kBAAoB,GAE7B,CAAC,CACH,EAGA,SAAU,CAER,KAAK,UAAU,IAAM,CACnB,WAAW,IAAM,CACf,KAAK,aAAa,CACpB,EAAG,GAAG,CACR,CAAC,EAGD,KAAK,2BAA2B,EAChC,OAAO,iBAAiB,SAAU,KAAK,0BAA0B,CACnE,EAGA,eAAgB,CAEV,KAAK,sBACP,aAAa,KAAK,oBAAoB,EAIxC,GAAI,CAGA,SAAS,sBACT,SAAS,qBAAqB,SAE9B,OAAO,WAAW,QAAQ,CAE9B,OAAS,EAAP,CAGF,CAGAA,EAAQ,KAAK,sBAAsB,EACnCA,EAAQ,KAAK,0BAA0B,EACvCA,EAAQ,KAAK,wBAAwB,EACrCA,EAAQ,KAAK,4BAA4B,EACzCA,EAAQ,KAAK,iBAAiB,EAC9BA,EAAQ,KAAK,qBAAqB,EAClCA,EAAQ,KAAK,qBAAqB,EAClCA,EAAQ,KAAK,aAAa,EAC1BA,EAAQ,KAAK,mBAAmB,EAGhC,OAAO,oBAAoB,SAAU,KAAK,0BAA0B,CACtE,CACF,EC7yBA,IAAMwB,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,OAAS,OAAO,WAAa,QAAQ,SAAW,QAAQ,CAAE,EAC5HC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,QAAU,MAAM,WAAa,YAAY,gBAAgB,mBAAmB,CAAE,EAClIC,GAAa,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,GAAG,CAAE,EACnDC,GAAa,CAAE,MAAO,CAAC,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,QAAU,QAAQ,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,SAAW,UAAU,CAAE,EAC3NC,GAA0BC,EAAoB,IAAK,CACvD,MAAO,gBACP,MAAO,CAAC,MAAQ,UAAU,cAAc,IAAI,YAAY,MAAM,CAChE,EAAG,KAAM,EAAgB,EACnBC,GAAa,CAAC,OAAO,EACrBC,GAA0BF,EAAoB,OAAQ,CAAE,MAAO,CAAC,QAAU,WAAM,SAAW,WAAW,MAAQ,MAAM,IAAM,MAAM,UAAY,mBAAmB,YAAY,OAAO,MAAQ,UAAU,iBAAiB,MAAM,CAAE,EAAG,SAAK,EAAgB,EACrPG,GAAa,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,GAAG,CAAE,EACnDC,GAA0BJ,EAAoB,IAAK,CACvD,MAAO,uBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnBK,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,SAAW,SAAS,SAAW,UAAU,CAAE,EACzHC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,SAAW,WAAW,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,MAAM,WAAa,UAAU,SAAW,SAAS,UAAU,IAAI,CACzI,EACMC,GAA2BP,EAAoB,MAAO,CAAE,MAAO,CAAC,OAAS,OAAO,WAAa,UAAU,mBAAmB,QAAQ,CAAE,EAAG,KAAM,EAAgB,EAC7JQ,GAAc,CAClBD,EACF,EACME,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,QAAU,MAAM,WAAa,YAAY,gBAAgB,mBAAmB,CAAE,EACnIC,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,GAAG,CAAE,EACpDC,GAAc,CAAE,MAAO,CAAC,SAAW,WAAW,QAAU,OAAO,cAAc,SAAS,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,OAAS,OAAO,SAAW,QAAQ,CAAE,EACnMC,GAA2BZ,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,QAAU,QAAQ,OAAS,MAAM,CAAE,EAAG,CACrIA,EAAoB,IAAK,CACpC,MAAO,kBACP,MAAO,CAAC,MAAQ,UAAU,YAAY,MAAM,CAC9C,CAAC,CACH,EAAG,EAAgB,EACba,GAAc,CAAC,cAAe,UAAU,EACxCC,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,GAAG,CAAE,EACpDC,GAAc,CAAE,MAAO,CAAC,SAAW,WAAW,QAAU,OAAO,cAAc,SAAS,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,OAAS,OAAO,SAAW,QAAQ,CAAE,EACnMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,SAAW,WAAW,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,MAAM,WAAa,UAAU,SAAW,SAAS,UAAU,IAAI,CACzI,EACMC,GAA2BjB,EAAoB,MAAO,CAAE,MAAO,CAAC,OAAS,OAAO,WAAa,UAAU,mBAAmB,QAAQ,CAAE,EAAG,KAAM,EAAgB,EAC7JkB,GAAc,CAClBD,EACF,EACME,GAA2BnB,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,QAAU,QAAQ,OAAS,MAAM,CAAE,EAAG,CACrIA,EAAoB,IAAK,CACpC,MAAO,kBACP,MAAO,CAAC,MAAQ,UAAU,YAAY,MAAM,CAC9C,CAAC,CACH,EAAG,EAAgB,EACboB,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,SAAW,SAAS,aAAa,GAAG,CAAE,EACpHC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,SAAW,SAAS,aAAa,GAAG,CACpG,EACMC,GAAc,CAAC,UAAW,OAAO,EACjCC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,KAAO,IAAI,aAAa,QAAQ,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,WAAa,UAAU,gBAAgB,oBAAoB,SAAW,QAAQ,CAC3L,EACMC,GAAc,CAAC,MAAO,KAAK,EAC3BC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,KAAO,IAAI,aAAa,QAAQ,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,WAAa,oDAAoD,gBAAgB,oBAAoB,YAAY,SAAS,cAAc,MAAM,MAAQ,SAAS,CAC5Q,EACMC,GAAc,CAAE,MAAO,CAAC,QAAU,MAAM,WAAa,QAAQ,QAAU,OAAO,iBAAiB,SAAS,IAAM,KAAK,CAAE,EACrHC,GAAc,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,gBAAgB,MAAM,SAAW,SAAS,cAAc,SAAS,gBAAgB,UAAU,CAAE,EAC9KC,GAAc,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,SAAS,CAAE,EACrFC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,SAAW,SAAS,aAAa,GAAG,CACpG,EACMC,GAAc,CAAE,MAAO,CAAC,MAAQ,OAAO,YAAY,OAAO,kBAAkB,WAAW,YAAY,UAAU,WAAa,QAAQ,eAAe,MAAM,CAAE,EACzJC,GAAc,CAAE,MAAO,CAAC,gBAAgB,mBAAmB,CAAE,EAC7DC,GAAc,CAAC,UAAW,OAAO,EACjCC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,MAAQ,UAAU,cAAc,MAAM,cAAc,SAAS,SAAW,SAAS,gBAAgB,UAAU,CACrH,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,cAAc,SAAS,SAAW,SAAS,gBAAgB,UAAU,CAC/E,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,cAAc,SAAS,SAAW,SAAS,gBAAgB,UAAU,CAC/E,EAEO,SAASC,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,OAAQC,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzDC,EAAoB,+CAA+C,EACnEA,EAAoB,4BAA4B,EAChDA,EAAoB,+CAA+C,EACnE9C,EAAoB,MAAOL,GAAY,CACrCmD,EAAoB,+CAA+C,EACnEA,EAAoB,4CAA4C,EAChEA,EAAoB,+CAA+C,EACnE9C,EAAoB,MAAOJ,GAAY,CACrCI,EAAoB,MAAOH,GAAY,CACrCG,EAAoB,MAAOF,GAAY,CACrCC,GACAgD,GAAgB/C,EAAoB,SAAU,CAC5C,sBAAuBsC,EAAO,KAAOA,EAAO,GAAKU,GAAYX,EAAK,WAAcW,GAChF,SAAUV,EAAO,KAAOA,EAAO,GAAK,IAAIW,IAAUZ,EAAK,mBAAqBA,EAAK,kBAAkB,GAAGY,CAAI,GAC1G,MAAO,CAAC,KAAO,IAAI,OAAS,OAAO,OAAS,OAAO,WAAa,cAAc,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,OAAS,UAAU,QAAU,OAAO,gBAAgB,OAAO,WAAa,OAAO,qBAAqB,OAAO,kBAAkB,OAAO,aAAa,QAAQ,CACpS,EAAG,EACAN,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMK,GAAYb,EAAK,YAAcc,IAC7ER,EAAW,EAAGC,EAAoB,SAAU,CAClD,IAAKO,EACL,MAAOA,CACT,EAAGC,EAAiBD,IAAU,kBAAoB,wFAAoBA,CAAK,EAAG,EAAqBlD,EAAU,EAC9G,EAAG,GAAwB,EAC9B,EAAG,GAAoC,EAAG,CACxC,CAACoD,GAAehB,EAAK,UAAU,CACjC,CAAC,EACDS,EAAoB,kBAAkB,EACtC5C,EACF,CAAC,CACH,CAAC,EACDF,EAAoB,MAAOG,GAAY,CACrCH,EAAoB,SAAU,CAC5B,QAASsC,EAAO,KAAOA,EAAO,GAAK,IAAIW,IAAUZ,EAAK,aAAeA,EAAK,YAAY,GAAGY,CAAI,GAC7F,MAAO,CAAC,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,IAAM,MAAM,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,SAAS,cAAc,MAAM,OAAS,UAAU,WAAa,QAAQ,MAAQ,SAAS,CAC7Q,EAAG,CACD7C,GACAJ,EAAoB,OAAQ,KAAMoD,EAAiBf,EAAK,WAAW,EAAI,wCAAW,CAAY,CAChG,CAAC,CACH,CAAC,CACH,CAAC,EACDrC,EAAoB,MAAOK,GAAa,CACtCyC,EAAoB,oBAAoB,EACvCT,EAAK,SACDM,EAAW,EAAGC,EAAoB,MAAOtC,GAAaE,EAAW,GAClEsC,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,+CAA+C,EACnEA,EAAoB,iBAAiB,EACrCA,EAAoB,+CAA+C,EACnE9C,EAAoB,MAAOS,GAAa,CACtCqC,EAAoB,kBAAkB,EACtC9C,EAAoB,MAAOU,GAAa,CACtCV,EAAoB,MAAOW,GAAa,CACtCC,GACAkC,EAAoB,mDAAmD,EACvEC,GAAgB/C,EAAoB,QAAS,CAC3C,KAAM,OACN,YACAqC,EAAK,kBACD,uJACA,sEAEJ,sBAAuBC,EAAO,KAAOA,EAAO,GAAKU,GAAYX,EAAK,eAAkBW,GACpF,QAASV,EAAO,KAAOA,EAAO,GAAKgB,GAAU,IAAIL,IAAUZ,EAAK,sBAAwBA,EAAK,qBAAqB,GAAGY,CAAI,EAAI,CAAC,OAAO,CAAC,GACtI,IAAK,iBACL,SAAUZ,EAAK,kBACf,UAAW,GACX,MAAOkB,EAAgB,CACvB,KAAM,EACN,OAAQ,OACR,QAAS,OACT,WAAY,cACZ,QAAS,UACT,SAAU,SACV,MAAOlB,EAAK,kBAAoB,OAAS,UACzC,WAAY,MACZ,OAAQ,OACR,OAAQA,EAAK,kBAAoB,cAAgB,OACjD,UAAW,QACb,CAAC,CACD,EAAG,KAAM,GAAuCxB,EAAW,EAAG,CAC5D,CAAC2C,GAAanB,EAAK,cAAc,CACnC,CAAC,EACAA,EAAK,gBACDM,EAAW,EAAGC,EAAoB,SAAU,CAC3C,IAAK,EACL,QAASN,EAAO,KAAOA,EAAO,GAAKU,GAAWX,EAAK,eAAiB,IACpE,KAAM,SACN,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,MAAQ,OAAO,OAAS,OAAO,OAAS,OAAO,WAAa,cAAc,MAAQ,OAAO,YAAY,OAAO,OAAS,UAAU,eAAe,MAAM,gBAAgB,MAAM,QAAU,IAAI,cAAc,GAAG,CACtR,EAAG,QAAK,GACRS,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,CAAC,EACDA,EAAoB,eAAe,EACnC9C,EAAoB,MAAOc,GAAa,CACtCd,EAAoB,MAAOe,GAAa,CACrCsB,EAAK,gBACDM,EAAW,EAAGC,EAAoB,MAAO5B,GAAaE,EAAW,GAClE4B,EAAoB,OAAQ,EAAI,EACpC3B,GACA2B,EAAoB,eAAe,EACnCC,GAAgB/C,EAAoB,QAAS,CAC3C,KAAM,OACN,YAAa,qDACb,sBAAuBsC,EAAO,KAAOA,EAAO,GAAKU,GAAYX,EAAK,gBAAmBW,GACrF,UAAWV,EAAO,KAAOA,EAAO,GAAKgB,GAAU,IAAIL,IAAUZ,EAAK,WAAaA,EAAK,UAAU,GAAGY,CAAI,EAAI,CAAC,KAAK,CAAC,GAChH,IAAK,kBACL,MAAO,CAAC,KAAO,IAAI,OAAS,OAAO,QAAU,OAAO,WAAa,cAAc,QAAU,UAAU,YAAY,SAAS,MAAQ,UAAU,cAAc,MAAM,OAAS,OAAO,aAAa,QAAQ,CACrM,EAAG,KAAM,GAAoC,EAAG,CAC9C,CAACO,GAAanB,EAAK,eAAe,CACpC,CAAC,EACAA,EAAK,iBACDM,EAAW,EAAGC,EAAoB,SAAU,CAC3C,IAAK,EACL,QAASN,EAAO,KAAOA,EAAO,GAAKU,GAAWX,EAAK,gBAAkB,IACrE,KAAM,SACN,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,MAAQ,OAAO,OAAS,OAAO,OAAS,OAAO,WAAa,cAAc,MAAQ,OAAO,YAAY,OAAO,OAAS,UAAU,eAAe,MAAM,gBAAgB,MAAM,QAAU,IAAI,cAAc,GAAG,CACtR,EAAG,QAAK,GACRS,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,CAAC,CACH,CAAC,EACDA,EAAoB,+CAA+C,EACnEA,EAAoB,sBAAsB,EAC1CA,EAAoB,+CAA+C,EACnE9C,EAAoB,MAAOoB,GAAa,CACtC0B,EAAoB,aAAa,EAChCT,EAAK,YAAc,QACfM,EAAW,EAAGC,EAAoB,MAAOvB,GAAa,CACrDrB,EAAoB,MAAO,CACzB,IAAK,kBACL,MAAOuD,EAAgB,CAAClB,EAAK,iBAAkB,CAAC,QAAU,OAAO,wBAAwB,wCAAwC,IAAM,MAAM,QAAU,MAAM,aAAa,MAAM,CAAC,CAAC,CACpL,EAAG,EACAM,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMK,GAAYb,EAAK,cAAe,CAACoB,EAAMC,KACrFf,EAAW,EAAGC,EAAoB,MAAO,CAC/C,IAAKc,EACL,QAASV,GAAWX,EAAK,SAASoB,CAAI,EACtC,MACNpB,EAAK,kBACD,kCACAoB,EAAK,UAEH,MAAOF,EAAgB,CAC7B,SAAU,WACV,aAAc,MACd,UAAW,gCACX,OAAQlB,EAAK,kBAAoB,cAAgB,UACjD,WAAY,OACZ,SAAU,SACV,WAAY,QACZ,QAAS,OACT,cAAe,SACf,OAAQ,QACR,UAAW,QACX,QAASA,EAAK,kBAAoB,GAAM,EACxC,OAAQA,EAAK,kBAAoB,iBAAmB,MACtD,CAAC,CACK,EAAG,CACDS,EAAoB,iBAAiB,EACpCW,EAAK,aAAe,QAChBd,EAAW,EAAGC,EAAoB,MAAO,CACxC,IAAK,EACL,MAAOW,EAAgB,CAAC,CAAC,SAAW,WAAW,IAAM,MAAM,MAAQ,MAAM,UAAU,IAAI,QAAU,OAAO,cAAc,SAAS,QAAU,UAAU,gBAAgB,OAAO,YAAY,OAAO,cAAc,MAAM,kBAAkB,WAAW,EAAG,CAC3P,WACEE,EAAK,WAAa,GACd,yBACAA,EAAK,YAAc,EACnB,yBACA,yBACN,MAAO,OACT,CAAC,CAAC,CACQ,EAAGL,EAAiBf,EAAK,YAAYoB,EAAK,UAAU,CAAC,EAAG,CAAmB,GAC3EX,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,yBAAyB,EAC5CW,EAAK,OACDd,EAAW,EAAGC,EAAoB,MAAOrB,GAAa,CACrDvB,EAAoB,MAAO,CACzB,IAAKyD,EAAK,MACV,IAAKA,EAAK,UACV,QAASnB,EAAO,KAAOA,EAAO,GAAKU,GAAWA,EAAO,OAAO,MAAM,QAAU,QAC5E,MAAO,CAAC,MAAQ,OAAO,OAAS,OAAO,aAAa,OAAO,CAC7D,EAAG,KAAM,GAAgCxB,EAAW,CACtD,CAAC,IACAmB,EAAW,EAAGC,EAAoB,MAAOnB,GAAa2B,EAAiBK,EAAK,UAAU,UAAU,EAAG,CAAC,EAAE,YAAY,CAAC,EAAG,CAAY,GACvIX,EAAoB,gBAAgB,EACpC9C,EAAoB,MAAO0B,GAAa,CACtC1B,EAAoB,MAAO2B,GAAayB,EAAiBK,EAAK,SAAS,EAAG,CAAY,EACtFzD,EAAoB,MAAO4B,GAAawB,EAAiBf,EAAK,eAAeoB,EAAK,IAAI,CAAC,EAAI,MAAQL,EAAiBK,EAAK,SAAS,EAAG,CAAY,CACnJ,CAAC,CACH,EAAG,GAAuBnC,EAAW,EACtC,EAAG,GAAwB,EAC9B,EAAG,CAAa,CAClB,CAAC,GACDwB,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,aAAa,EAChCT,EAAK,YAAc,QACfM,EAAW,EAAGC,EAAoB,MAAOf,GAAa,CACrD7B,EAAoB,MAAO,CACzB,IAAK,kBACL,MAAOuD,EAAgB,CAAClB,EAAK,iBAAkB,CAAC,KAAO,IAAI,aAAa,IAAI,aAAa,OAAO,aAAa,SAAS,QAAU,IAAI,QAAU,OAAO,CAAC,CAAC,CACzJ,EAAG,CACDrC,EAAoB,QAAS8B,GAAa,CACxC9B,EAAoB,QAAS,KAAM,CACjCA,EAAoB,KAAM+B,GAAa,EACpCY,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMK,GAAYb,EAAK,gBAAgB,EAAIsB,IACnFhB,EAAW,EAAGC,EAAoB,KAAM,CAC9C,IAAKe,EAAO,MACZ,MAAOJ,EAAgB,CAAC,CAAE,UAAWI,EAAO,OAAS,MAAO,EAAG,CAAC,QAAU,WAAW,YAAY,UAAU,cAAc,MAAM,MAAQ,UAAU,WAAa;AAAA;AAAA;AAAA;AAAA,yBAAoL,gBAAgB,oBAAoB,SAAW,SAAS,IAAM,IAAI,UAAU,IAAI,cAAc,SAAS,SAAW,SAAS,gBAAgB,UAAU,CAAC,CAAC,CAC3e,EAAGP,EAAiBO,EAAO,OAASA,EAAO,IAAI,EAAG,CAAmB,EACtE,EAAG,GAAwB,EAC9B,CAAC,CACH,CAAC,EACD3D,EAAoB,QAAS,KAAM,EAChC2C,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMK,GAAYb,EAAK,cAAgBoB,IAC/Ed,EAAW,EAAGC,EAAoB,KAAM,CAC9C,IAAKa,EAAK,UACV,QAAST,GAAWX,EAAK,eAAeoB,CAAI,EAC5C,MACNpB,EAAK,kBACD,kCACAoB,EAAK,UAEH,MAAOF,EAAgB,CAC7B,aAAc,oBACd,OAAQlB,EAAK,kBAAoB,cAAgB,UACjD,QAASA,EAAK,kBAAoB,GAAM,CAC1C,CAAC,CACK,EAAG,EACAM,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMK,GAAYb,EAAK,gBAAgB,EAAIsB,IACnFhB,EAAW,EAAGC,EAAoB,KAAM,CAC9C,IAAKe,EAAO,MACZ,MAAOJ,EAAgB,CAAC,CAAE,UAAWI,EAAO,OAAS,MAAO,EAAG,CAAC,QAAU,YAAY,YAAY,UAAU,MAAQ,UAAU,iBAAiB,SAAS,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,GAAG,CAAC,CAAC,CACjP,EAAG,CACAA,EAAO,MAAQ,QACXhB,EAAW,EAAGC,EAAoB,OAAQX,GAAamB,EAAiBf,EAAK,eAAeoB,EAAK,IAAI,CAAC,EAAG,CAAY,GACrHE,EAAO,MAAQ,cACbhB,EAAW,EAAGC,EAAoB,OAAQV,GAAakB,EAAiBf,EAAK,YAAYoB,EAAK,UAAU,CAAC,EAAG,CAAY,IACxHd,EAAW,EAAGC,EAAoB,OAAQT,GAAaiB,EAAiBK,EAAKE,EAAO,IAAI,EAAG,CAAY,EAChH,EAAG,CAAa,EACjB,EAAG,GAAwB,EAC9B,EAAG,GAAuB3B,EAAW,EACtC,EAAG,GAAwB,EAC9B,CAAC,CACH,CAAC,CACH,EAAG,CAAa,CAClB,CAAC,GACDc,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,CAAC,CACH,CAAC,CACH,EAAG,IAA6C,CAClD,CCrVmMc,GAAO,OAASC,GAAOD,GAAO,OAAS,6EAA6E,IAAOA,GAAQA,GCItU,IAAME,GAAc,CAClB,aAAc,cACd,qBAAsB,uBACtB,wBAAyB,0BACzB,aAAc,eACd,uBAAwB,yBACxB,0BAA2B,4BAE3B,qBAAsB,uBACtB,qBAAsB,uBACtB,8BAA+B,+BACjC,EAEMC,GAAsB,CAC1B,uBAAwB,6BACxB,wBAAyB,mCACzB,mBAAoB,6BACtB,EAEMC,GAAmB,CACvB,iBAAkB,iCAClB,iBAAkB,qCACpB,EAEMC,GAAiB,CACrB,iBAAkB,6BAClB,sBAAuB,gCACvB,2BAA4B,4BAC5B,uBAAwB,uBAC1B,EAEMC,GAAgB,CACpB,WAAY,YACd,EAEMC,GAAY,CAChB,gBAAiB,IACjB,YAAa,IACb,QAAS,EACX,EAEMC,GAAiB,CACrB,eAAgB,aAChB,UAAW,mBACb,EAEOC,GAAQ,CACb,KAAM,iBACN,MAAO,CACL,MAAO,CACL,eAAgB,GAChB,YAAa,KACb,YAAa,GACb,cAAe,GACf,OAAQ,GACR,UAAW,GACX,SAAU,GACV,mBAAoB,GACpB,cAAe,EACf,cAAeH,GAAc,WAC7B,OAAQ,GACR,eAAgB,KAChB,gBAAiB,KACjB,MAAO,GACP,OAAQ,CAAC,EACT,UAAW,GACX,WAAY,CAAC,EACb,QAAS,CAAC,CACZ,CACF,EAEA,QAAS,CACP,cAAe,CACb,KAAK,eAAiB,GACtB,KAAK,eAAe,CACtB,EACA,gBAAiB,CACf,KAAK,cAAgB,GACrB,KAAK,OAAS,GACd,KAAK,UAAY,GACjB,KAAK,SAAW,GAChB,KAAK,mBAAqB,GAC1B,KAAK,cAAgB,EACrB,KAAK,MAAQ,OAAO,SAAS,iBAAiB,gBAAgB,EAC9D,KAAK,UAAY,OAAO,SAAS,iBAAiB,WAAW,EAC7D,KAAK,YAAc,GACnB,KAAK,cAAgBA,GAAc,WACnC,KAAK,OAAS,GACd,KAAK,eAAiB,KACtB,KAAK,gBAAkB,IACzB,EAEA,mBAAoB,CACd,KAAK,OAAO,OAAS,GAEzB,OAAO,GACJ,SAAS,iBAAkB,CAC1B,OAAQ,CAAC,MAAM,EACf,QAAS,CAAE,SAAU,CAAE,EACvB,MAAOC,GAAU,gBACjB,SAAU,MACZ,CAAC,EACA,KAAMG,GAAS,CACVA,EAAK,OAAS,IAChB,KAAK,OAASA,EAAK,IAAKC,GAAOA,EAAG,IAAI,EAE1C,CAAC,EACA,MAAOC,GAAQ,CACd,QAAQ,IAAI,+CAAgDA,CAAG,EAC/D,KAAK,YAAYP,GAAe,sBAAuB,OAAO,CAChE,CAAC,CACL,EAEA,uBAAwB,CAClB,KAAK,WAAW,OAAS,GAE7B,OAAO,GACJ,SAAS,YAAa,CACrB,OAAQ,CAAC,MAAM,EACf,QAAS,CAAE,SAAU,CAAE,EACvB,MAAOE,GAAU,YACjB,SAAU,MACZ,CAAC,EACA,KAAMG,GAAS,CACVA,EAAK,OAAS,IAChB,KAAK,WAAaA,EAAK,IAAKC,GAAOA,EAAG,IAAI,EAE9C,CAAC,EACA,MAAOC,GAAQ,CACd,QAAQ,IAAI,mDAAoDA,CAAG,EACnE,KAAK,YAAYP,GAAe,2BAA4B,OAAO,CACrE,CAAC,CACL,EAEA,YAAa,CACX,OAAO,GACJ,SAAS,SAAU,CAClB,OAAQ,CAAC,MAAM,EACf,YAAaE,GAAU,OACzB,CAAC,EACA,KAAMG,GAAS,CACVA,EAAK,OAAS,IAChB,KAAK,QAAUA,EAAK,IAAKC,GAAOA,EAAG,IAAI,EAE3C,CAAC,EACA,MAAOC,GAAQ,CACd,QAAQ,IAAI,wCAAyCA,CAAG,EACxD,KAAK,YAAYP,GAAe,uBAAwB,OAAO,CACjE,CAAC,CACL,EAEA,cAAe,CACb,OAAK,KAAK,cAIL,KAAK,MAIL,KAAK,UAIH,IAHL,KAAK,YAAYF,GAAoB,mBAAoB,OAAO,EACzD,KALP,KAAK,YAAYA,GAAoB,wBAAyB,OAAO,EAC9D,KALP,KAAK,YAAYA,GAAoB,uBAAwB,OAAO,EAC7D,GAWX,EAEA,eAAgB,CACd,GAAI,CAAC,KAAK,aAAa,EACrB,OAGF,IAAMU,EAAO,CACX,YAAa,KAAK,YAClB,cAAe,KAAK,cACpB,QAAS,KAAK,YAAY,QAC1B,OAAQ,KAAK,OACb,UAAW,KAAK,UAChB,SAAU,KAAK,SACf,mBAAoB,KAAK,mBACzB,cAAe,KAAK,cACpB,eAAgB,KAAK,MACrB,UAAW,KAAK,UAChB,cAAe,KAAK,cACpB,OAAQ,KAAK,OACb,OAAQ,KAAK,YAAc,SAAW,SACtC,gBAAiB,KAAK,UAAU,KAAK,WAAW,CAClD,EAEA,OAAO,KAAK,CACV,OAAQ,KAAK,YACTC,EAAQ,SAAS,gBACjBA,EAAQ,SAAS,cACrB,KAAMD,EACN,SAAWE,GAAM,CACX,CAACA,EAAE,KAAOA,EAAE,QAAQ,KACtB,KAAK,sBAAsBA,EAAE,QAAQ,KAAMF,CAAI,EAE/C,KAAK,oBAAoB,CAE7B,EACA,MAAQD,GAAQ,CACd,QAAQ,IAAI,2CAA4CA,CAAG,EAC3D,KAAK,oBAAoB,CAC3B,CACF,CAAC,EAED,KAAK,eAAiB,EACxB,EAEA,sBAAsBI,EAAcH,EAAM,CACxC,IAAMI,EAAW,CAAC,CAAC,KAAK,YAClBC,EAAUD,EACZb,GAAiB,iBACjBA,GAAiB,iBAErBS,EAAK,KAAOG,EAEPC,EAMH,OAAO,KAAK,CACV,OAAQH,EAAQ,SAAS,aACzB,KAAM,CAAE,YAAaE,CAAa,EAClC,SAAWD,GAAM,CACX,CAACA,EAAE,KAAOA,EAAE,UAEdI,EAAQ,KAAKjB,GAAY,0BAA2Ba,EAAE,OAAO,EAE7DI,EAAQ,KAAKjB,GAAY,wBAAyBa,EAAE,OAAO,EAE/D,EACA,MAAQH,GAAQ,CAEhB,CACF,CAAC,GAnBDO,EAAQ,KAAKjB,GAAY,qBAAsBW,CAAI,EACnDM,EAAQ,KAAKjB,GAAY,aAAcc,CAAY,EACnDG,EAAQ,KAAKjB,GAAY,sBAAsB,GAoBjD,KAAK,aAAa,CACpB,EAEA,qBAAsB,CACpB,KAAK,YAAYG,GAAe,iBAAkB,OAAO,CAC3D,EAEA,YAAYe,EAAMC,EAAO,CACvBF,EAAQ,KAAKjB,GAAY,aAAc,CAAE,KAAAkB,EAAM,MAAAC,CAAM,CAAC,CACxD,EAEA,qBAAqBX,EAAM,CACrB,CAACA,IAEL,KAAK,cAAgBA,EAAK,cAC1B,KAAK,YAAcA,EAAK,KACxB,KAAK,OAASA,EAAK,QAAU,GAC7B,KAAK,UAAYA,EAAK,WAAa,GACnC,KAAK,SAAWA,EAAK,UAAY,GACjC,KAAK,mBAAqBA,EAAK,oBAAsB,GACrD,KAAK,cAAgBA,EAAK,eAAiB,EAC3C,KAAK,MAAQA,EAAK,eAClB,KAAK,UAAYA,EAAK,UACtB,KAAK,cAAgBA,EAAK,eAAiB,aAC3C,KAAK,eAAiBA,EAAK,eAC3B,KAAK,gBAAkBA,EAAK,gBAC5B,KAAK,OAASA,EAAK,QAAU,GAC/B,EAEA,wBAAyB,CACvBS,EAAQ,GACNjB,GAAY,qBACZ,KAAK,wBACP,EACAiB,EAAQ,GACNjB,GAAY,qBACZ,KAAK,wBACP,EACAiB,EAAQ,GACNjB,GAAY,8BACZ,KAAK,gCACP,CACF,EAEA,yBAAyBQ,EAAM,CAC7B,KAAK,eAAiB,GACtB,KAAK,qBAAqBA,CAAI,EAE9B,KAAK,kBAAkB,EACvB,KAAK,sBAAsB,EAC3B,KAAK,WAAW,CAClB,EAEA,yBAAyBA,EAAM,CAC7B,KAAK,YAAcA,EAAK,WAC1B,EAEA,iCAAiCA,EAAM,CACrC,KAAK,YAAcA,EAAK,WAC1B,CACF,EAEA,SAAU,CACR,KAAK,uBAAuB,EAE5B,KAAK,MACH,OAAO,SAAS,iBAAiB,gBAAgB,GACjDF,GAAe,eACjB,KAAK,UACH,OAAO,SAAS,iBAAiB,WAAW,GAAKA,GAAe,SACpE,EAEA,eAAgB,CAEdW,EAAQ,KACNjB,GAAY,qBACZ,KAAK,wBACP,EACAiB,EAAQ,KACNjB,GAAY,qBACZ,KAAK,wBACP,EACAiB,EAAQ,KACNjB,GAAY,8BACZ,KAAK,gCACP,CACF,CACF,EC1UA,IAAMoB,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,kBAAkB,SAAS,cAAc,QAAQ,CAAE,EAC3FC,GAAa,CAAE,MAAO,CAAC,WAAa,OAAO,gBAAgB,OAAO,SAAW,SAAS,aAAa,gCAAgC,CAAE,EACrIC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,QAAU,WAAW,WAAa,oDAAoD,MAAQ,OAAO,CAAE,EAClLC,GAA0BC,EAAoB,IAAK,CACvD,MAAO,yBACP,MAAO,CAAC,MAAQ,QAAQ,YAAY,OAAO,OAAS,iDAAiD,CACvG,EAAG,KAAM,EAAgB,EACnBC,GAAa,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,OAAO,cAAc,MAAM,iBAAiB,OAAO,CAAE,EACnGC,GAA0BF,EAAoB,IAAK,CACvD,MAAO,gBACP,MAAO,CAAC,MAAQ,QAAQ,YAAY,OAAO,OAAS,gDAAgD,CACtG,EAAG,KAAM,EAAgB,EACnBG,GAAa,CACjBD,EACF,EACME,GAAa,CAAE,MAAO,CAAC,QAAU,UAAU,CAAE,EAC7CC,GAAa,CAAE,MAAO,CAAC,gBAAgB,KAAK,CAAE,EAC9CC,GAA2BN,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,MAAQ,OAAO,gBAAgB,MAAM,cAAc,KAAK,CAAE,EAAG,8DAAkB,EAAgB,EACtMO,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,gBAAgB,KAAK,CAAE,EAC5EC,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,IAAI,gBAAgB,KAAK,CAAE,EAC1EC,GAA2BT,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,MAAQ,OAAO,gBAAgB,MAAM,cAAc,KAAK,CAAE,EAAG,8EAAmB,EAAgB,EACvMU,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,IAAI,gBAAgB,KAAK,CAAE,EAC1EC,GAA2BX,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,MAAQ,OAAO,gBAAgB,MAAM,cAAc,KAAK,CAAE,EAAG,yCAAY,EAAgB,EAChMY,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,gBAAgB,KAAK,CAAE,EAC5EC,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,IAAI,gBAAgB,KAAK,CAAE,EAC1EC,GAA2Bd,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,MAAQ,OAAO,gBAAgB,MAAM,cAAc,KAAK,CAAE,EAAG,sGAAuB,EAAgB,EAC3Me,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,IAAI,gBAAgB,KAAK,CAAE,EAC1EC,GAA2BhB,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,MAAQ,OAAO,gBAAgB,MAAM,cAAc,KAAK,CAAE,EAAG,mCAAW,EAAgB,EAC/LiB,GAA2BjB,EAAoB,SAAU,CAAE,MAAO,EAAG,EAAG,2BAAQ,EAAgB,EAChGkB,GAAc,CAAC,OAAO,EACtBC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,gBAAgB,KAAK,CAAE,EAC5EC,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,IAAI,gBAAgB,KAAK,CAAE,EAC1EC,GAA2BrB,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,MAAQ,OAAO,gBAAgB,MAAM,cAAc,KAAK,CAAE,EAAG,kEAAiB,EAAgB,EACrMsB,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,IAAI,gBAAgB,KAAK,CAAE,EAC1EC,GAA2BvB,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,MAAQ,OAAO,gBAAgB,MAAM,cAAc,KAAK,CAAE,EAAG,6GAAyB,EAAgB,EAC7MwB,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,gBAAgB,KAAK,CAAE,EAC5EC,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,IAAI,gBAAgB,KAAK,CAAE,EAC1EC,GAA2B1B,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,MAAQ,OAAO,gBAAgB,MAAM,cAAc,KAAK,CAAE,EAAG,sFAAsB,EAAgB,EAC1M2B,GAA2B3B,EAAoB,SAAU,CAAE,MAAO,EAAG,EAAG,2BAAQ,EAAgB,EAChG4B,GAAc,CAAC,OAAO,EACtBC,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,YAAY,IAAI,gBAAgB,KAAK,CAAE,EAC1EC,GAA2B9B,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,MAAQ,OAAO,gBAAgB,MAAM,cAAc,KAAK,CAAE,EAAG,iDAAe,EAAgB,EACnM+B,GAA2B/B,EAAoB,SAAU,CAAE,MAAO,EAAG,EAAG,2BAAQ,EAAgB,EAChGgC,GAAc,CAAC,OAAO,EACtBC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,gBAAgB,KAAK,CAC5D,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,KAAO,IAAI,YAAY,IAAI,gBAAgB,KAAK,CAC1D,EACMC,GAA2BnC,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,MAAQ,OAAO,gBAAgB,MAAM,cAAc,KAAK,CAAE,EAAG,8EAAmB,EAAgB,EACvMoC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,KAAO,IAAI,YAAY,IAAI,gBAAgB,KAAK,CAC1D,EACMC,GAA2BrC,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,MAAQ,OAAO,gBAAgB,MAAM,cAAc,KAAK,CAAE,EAAG,yCAAY,EAAgB,EAChMsC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,kBAAkB,WAAW,IAAM,MAAM,QAAU,WAAW,WAAa,UAAU,aAAa,mBAAmB,CAAE,EAChKC,GAA2BvC,EAAoB,IAAK,CACxD,MAAO,gBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnBwC,GAA2BxC,EAAoB,IAAK,CACxD,MAAO,gBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EAElB,SAASyC,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,OAAQC,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzDC,EAAoB,+CAA+C,EACnEA,EAAoB,0BAA0B,EAC9CA,EAAoB,+CAA+C,EACnEnD,EAAoB,MAAOJ,GAAY,CACrCuD,EAAoB,iBAAiB,EACpCT,EAAK,gBACDM,EAAW,EAAGC,EAAoB,MAAO,CACxC,IAAK,EACL,QAASN,EAAO,MAAQA,EAAO,IAAM,IAAIS,IAAUV,EAAK,cAAgBA,EAAK,aAAa,GAAGU,CAAI,GACjG,MAAO,CAAC,SAAW,QAAQ,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,IAAI,WAAa,qBAAqB,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,UAAU,MAAM,CAChM,EAAG,CACDD,EAAoB,SAAS,EAC7BnD,EAAoB,MAAO,CACzB,QAAS2C,EAAO,MAAQA,EAAO,IAAMU,GAAe,IAAM,CAAC,EAAG,CAAC,MAAM,CAAC,GACtE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,MAAM,aAAa,iCAAiC,YAAY,QAAQ,MAAQ,MAAM,aAAa,OAAO,SAAW,QAAQ,CAC5K,EAAG,CACDF,EAAoB,iBAAiB,EACrCnD,EAAoB,MAAOH,GAAY,CACrCsD,EAAoB,+CAA+C,EACnEA,EAAoB,gBAAgB,EACpCA,EAAoB,+CAA+C,EACnEnD,EAAoB,MAAOF,GAAY,CACrCC,GACAoD,EAAoB,kCAAkC,EACtDnD,EAAoB,OAAQC,GAAYqD,EAAiBZ,EAAK,YAAc,sEAAiB,mDAAW,EAAG,CAAY,EACvH1C,EAAoB,SAAU,CAC5B,QAAS2C,EAAO,KAAOA,EAAO,GAAK,IAAIS,IAAUV,EAAK,cAAgBA,EAAK,aAAa,GAAGU,CAAI,GAC/F,MAAO,CAAC,WAAa,4BAA4B,OAAS,OAAO,gBAAgB,MAAM,QAAU,MAAM,OAAS,UAAU,QAAU,OAAO,cAAc,SAAS,kBAAkB,QAAQ,CAC9L,EAAGjD,EAAU,CACf,CAAC,EACDgD,EAAoB,+CAA+C,EACnEA,EAAoB,cAAc,EAClCA,EAAoB,+CAA+C,EACnEnD,EAAoB,MAAOI,GAAY,CACrC+C,EAAoB,iBAAiB,EACrCnD,EAAoB,MAAOK,GAAY,CACrC8C,EAAoB,iBAAiB,EACrC7C,GACAiD,GAAgBvD,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuB2C,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,cAAiBc,GACnF,YAAa,0DACb,MAAO,CAAC,MAAQ,OAAO,QAAU,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,MAAQ,UAAU,WAAa,OAAO,QAAU,OAAO,OAAS,MAAM,CACzL,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACC,GAAaf,EAAK,aAAa,CAClC,CAAC,CACH,CAAC,EACDS,EAAoB,mBAAmB,EACvCnD,EAAoB,MAAOO,GAAa,CACtCP,EAAoB,MAAOQ,GAAa,CACtC2C,EAAoB,UAAU,EAC9B1C,GACA8C,GAAgBvD,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuB2C,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,OAAUc,GAC5E,YAAa,4EACb,MAAO,CAAC,MAAQ,OAAO,QAAU,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,MAAQ,UAAU,WAAa,OAAO,QAAU,OAAO,OAAS,MAAM,CACzL,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACC,GAAaf,EAAK,MAAM,CAC3B,CAAC,CACH,CAAC,EACD1C,EAAoB,MAAOU,GAAa,CACtCyC,EAAoB,UAAU,EAC9BxC,GACA4C,GAAgBvD,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuB2C,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,UAAac,GAC/E,YAAa,uCACb,MAAO,CAAC,MAAQ,OAAO,QAAU,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,MAAQ,UAAU,WAAa,OAAO,QAAU,OAAO,OAAS,MAAM,CACzL,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACC,GAAaf,EAAK,SAAS,CAC9B,CAAC,CACH,CAAC,CACH,CAAC,EACDS,EAAoB,kBAAkB,EACtCnD,EAAoB,MAAOY,GAAa,CACtCZ,EAAoB,MAAOa,GAAa,CACtCsC,EAAoB,SAAS,EAC7BrC,GACAyC,GAAgBvD,EAAoB,QAAS,CAC3C,KAAM,QACN,sBAAuB2C,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,SAAYc,GAC9E,YAAa,oGACb,MAAO,CAAC,MAAQ,OAAO,QAAU,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,MAAQ,UAAU,WAAa,OAAO,QAAU,OAAO,OAAS,MAAM,CACzL,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACC,GAAaf,EAAK,QAAQ,CAC7B,CAAC,CACH,CAAC,EACD1C,EAAoB,MAAOe,GAAa,CACtCoC,EAAoB,UAAU,EAC9BnC,GACAuC,GAAgBvD,EAAoB,SAAU,CAC5C,sBAAuB2C,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,OAAUc,GAC5E,MAAO,CAAC,MAAQ,OAAO,QAAU,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,MAAQ,UAAU,WAAa,OAAO,QAAU,OAAO,OAAS,OAAO,OAAS,UAAU,WAAa,OAAO,mBAAmB,yJAAyJ,oBAAoB,YAAY,sBAAsB,mBAAmB,gBAAgB,MAAM,CAC5e,EAAG,CACDL,EAAoB,UAAU,EAC9BlC,IACC+B,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMQ,GAAYhB,EAAK,QAAUiB,IACzEX,EAAW,EAAGC,EAAoB,SAAU,CAClD,IAAKU,EACL,MAAOA,CACT,EAAGL,EAAiBK,CAAC,EAAG,EAAqBzC,EAAW,EACzD,EAAG,GAAwB,EAC9B,EAAG,GAAoB,EAAG,CACxB,CAAC0C,GAAelB,EAAK,MAAM,CAC7B,CAAC,CACH,CAAC,CACH,CAAC,EACDS,EAAoB,iCAAiC,EACrDnD,EAAoB,MAAOmB,GAAa,CACtCnB,EAAoB,MAAOoB,GAAa,CACtC+B,EAAoB,iBAAiB,EACrC9B,GACAkC,GAAgBvD,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuB2C,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,mBAAsBc,GACxF,YAAa,iCACb,MAAO,CAAC,MAAQ,OAAO,QAAU,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,MAAQ,UAAU,WAAa,OAAO,QAAU,OAAO,OAAS,MAAM,CACzL,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACC,GAAaf,EAAK,kBAAkB,CACvC,CAAC,CACH,CAAC,EACD1C,EAAoB,MAAOsB,GAAa,CACtC6B,EAAoB,YAAY,EAChC5B,GACAgC,GAAgBvD,EAAoB,QAAS,CAC3C,KAAM,SACN,sBAAuB2C,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,cAAiBc,GACnF,YAAa,2GACb,IAAK,IACL,IAAK,MACL,KAAM,OACN,MAAO,CAAC,MAAQ,OAAO,QAAU,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,MAAQ,UAAU,WAAa,OAAO,QAAU,OAAO,OAAS,MAAM,CACzL,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACC,GAAaf,EAAK,aAAa,CAClC,CAAC,CACH,CAAC,CACH,CAAC,EACDS,EAAoB,8BAA8B,EAClDnD,EAAoB,MAAOwB,GAAa,CACtCxB,EAAoB,MAAOyB,GAAa,CACtC0B,EAAoB,kBAAkB,EACtCzB,GACA6B,GAAgBvD,EAAoB,SAAU,CAC5C,sBAAuB2C,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,MAASc,GAC3E,SAAU,GACV,MAAO,CAAC,MAAQ,OAAO,QAAU,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,MAAQ,UAAU,WAAa,OAAO,QAAU,OAAO,OAAS,OAAO,OAAS,UAAU,WAAa,OAAO,mBAAmB,yJAAyJ,oBAAoB,YAAY,sBAAsB,mBAAmB,gBAAgB,MAAM,CAC5e,EAAG,CACDL,EAAoB,UAAU,EAC9BxB,IACCqB,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMQ,GAAYhB,EAAK,OAASiB,IACxEX,EAAW,EAAGC,EAAoB,SAAU,CAClD,IAAKU,EACL,MAAOA,CACT,EAAGL,EAAiBK,CAAC,EAAG,EAAqB/B,EAAW,EACzD,EAAG,GAAwB,EAC9B,EAAG,GAAoB,EAAG,CACxB,CAACgC,GAAelB,EAAK,KAAK,CAC5B,CAAC,CACH,CAAC,EACD1C,EAAoB,MAAO6B,GAAa,CACtCsB,EAAoB,aAAa,EACjCrB,GACAyB,GAAgBvD,EAAoB,SAAU,CAC5C,sBAAuB2C,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,UAAac,GAC/E,SAAU,GACV,MAAO,CAAC,MAAQ,OAAO,QAAU,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,MAAQ,UAAU,WAAa,OAAO,QAAU,OAAO,OAAS,OAAO,OAAS,UAAU,WAAa,OAAO,mBAAmB,yJAAyJ,oBAAoB,YAAY,sBAAsB,mBAAmB,gBAAgB,MAAM,CAC5e,EAAG,CACDL,EAAoB,UAAU,EAC9BpB,IACCiB,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMQ,GAAYhB,EAAK,WAAamB,IAC5Eb,EAAW,EAAGC,EAAoB,SAAU,CAClD,IAAKY,EACL,MAAOA,CACT,EAAGP,EAAiBO,CAAC,EAAG,EAAqB7B,EAAW,EACzD,EAAG,GAAwB,EAC9B,EAAG,GAAoB,EAAG,CACxB,CAAC4B,GAAelB,EAAK,SAAS,CAChC,CAAC,CACH,CAAC,CACH,CAAC,EACDS,EAAoB,2CAA2C,EAC9DT,EAAK,iBAAmBA,EAAK,gBACzBM,EAAW,EAAGC,EAAoB,MAAOhB,GAAa,CACpDS,EAAK,iBACDM,EAAW,EAAGC,EAAoB,MAAOf,GAAa,CACrDiB,EAAoB,mBAAmB,EACvChB,GACAoB,GAAgBvD,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuB2C,EAAO,MAAQA,EAAO,IAAMa,GAAYd,EAAK,gBAAmBc,GACvF,SAAU,GACV,MAAO,CAAC,MAAQ,OAAO,QAAU,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,WAAa,UAAU,MAAQ,UAAU,QAAU,OAAO,OAAS,OAAO,OAAS,aAAa,CACnN,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACC,GAAaf,EAAK,eAAe,CACpC,CAAC,CACH,CAAC,GACDS,EAAoB,OAAQ,EAAI,EACnCT,EAAK,gBACDM,EAAW,EAAGC,EAAoB,MAAOb,GAAa,CACrDe,EAAoB,UAAU,EAC9Bd,GACAkB,GAAgBvD,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuB2C,EAAO,MAAQA,EAAO,IAAMa,GAAYd,EAAK,eAAkBc,GACtF,SAAU,GACV,MAAO,CAAC,MAAQ,OAAO,QAAU,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,WAAa,UAAU,MAAQ,UAAU,QAAU,OAAO,OAAS,OAAO,OAAS,aAAa,CACnN,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACC,GAAaf,EAAK,cAAc,CACnC,CAAC,CACH,CAAC,GACDS,EAAoB,OAAQ,EAAI,CACtC,CAAC,GACDA,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,CAAC,EACDA,EAAoB,+CAA+C,EACnEA,EAAoB,gBAAgB,EACpCA,EAAoB,+CAA+C,EACnEnD,EAAoB,MAAOsC,GAAa,CACtCa,EAAoB,iBAAiB,EACrCnD,EAAoB,SAAU,CAC5B,QAAS2C,EAAO,MAAQA,EAAO,IAAM,IAAIS,IAAUV,EAAK,cAAgBA,EAAK,aAAa,GAAGU,CAAI,GACjG,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,IAAM,MAAM,QAAU,WAAW,gBAAgB,MAAM,OAAS,oBAAoB,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,WAAa,WAAW,OAAS,OAAO,WAAa,QAAQ,MAAQ,SAAS,CACrR,EAAG,CACDD,EAAoB,UAAU,EAC9BZ,GACAuB,EAAiB,kCAAS,CAC5B,CAAC,EACDX,EAAoB,iBAAiB,EACrCnD,EAAoB,SAAU,CAC5B,QAAS2C,EAAO,MAAQA,EAAO,IAAM,IAAIS,IAAUV,EAAK,eAAiBA,EAAK,cAAc,GAAGU,CAAI,GACnG,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,IAAM,MAAM,QAAU,WAAW,gBAAgB,MAAM,OAAS,oBAAoB,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,WAAa,WAAW,OAAS,OAAO,WAAa,oDAAoD,MAAQ,OAAO,CAC/T,EAAG,CACDD,EAAoB,qBAAqB,EACzCX,GACAsB,EAAiB,IAAMR,EAAiBZ,EAAK,YAAc,iCAAU,gCAAO,EAAG,CAAY,CAC7F,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,GACDS,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,EAAG,IAA6C,CAClD,CC5TqMY,GAAO,OAASC,GAAOD,GAAO,OAAS,8EAA8E,IAAOA,GAAQA,GCKzU,IAAME,GAAc,CACnB,gBAAiB,kBACjB,aAAc,cACd,qBAAsB,uBACtB,oBAAqB,sBACrB,qBAAsB,uBACtB,8BAA+B,gCAC/B,aAAc,eACd,qBAAsB,uBACtB,wBAAyB,0BACzB,sBAAuB,wBACvB,0BAA2B,4BAC3B,uBAAwB,yBACxB,yBAA0B,0BAC3B,EAEMC,GAAiB,CAEtB,iBAAkB,uLAElB,uBAAwB,+HAExB,6BAA8B,kOAE9B,gBAAiB,mFAEjB,mBAAoB,sIAEpB,oBAAqB,wJAErB,qBAAsB,0IACvB,EAEOC,GAAQ,CACd,KAAM,WACN,WAAY,CAAE,eAAAC,EAAe,EAC7B,MAAO,CACN,MAAO,CACN,YAAa,KACb,UAAW,CAAC,EACZ,SAAU,GACV,SAAU,GACV,cAAe,CAAC,EAChB,aAAc,GACd,cAAe,KACf,QAAS,GACT,gBAAiB,GACjB,aAAc,GACd,cAAe,GACf,kBAAmB,CAAC,EACpB,cAAe,EAChB,CACD,EAEA,QAAS,CACR,oBAAqB,CA5DvB,IAAAC,EAAAC,EAAAC,EA6DG,GAAI,CACH,GAAI,KAAK,UAAU,OAAS,EAAG,OAE/B,KAAK,mBAAmB,EAAE,EAG1B,IAAMC,IACLH,EAAA,KAAK,cAAL,YAAAA,EAAkB,aAAYE,GAAAD,EAAA,KAAK,cAAL,YAAAA,EAAkB,cAAlB,YAAAC,EAA+B,UAC1DC,IACH,KAAK,SAAWA,EAChBC,EAAQ,KAAKR,GAAY,gBAAiB,KAAK,QAAQ,EAEzD,OAASS,EAAP,CACD,QAAQ,IAAI,0CAA2CA,CAAK,EAC5D,KAAK,YAAYR,GAAe,iBAAkB,OAAO,CAC1D,CACD,EAEA,qBAAsB,CACrB,KAAK,mBAAmB,EAAE,EAC1B,KAAK,aAAe,EACrB,EAEA,mBAAmBS,EAAa,GAAI,CACnC,GAAI,CAAC,KAAK,YAAa,CACtB,KAAK,YAAYT,GAAe,uBAAwB,OAAO,EAC/D,MACD,CAKA,IAAMU,EAAO,CACZ,YAH2B,KAAK,YAAY,aAAe,KAAK,YAIhE,MAAO,GACR,EACID,EAAW,KAAK,IAAGC,EAAK,YAAcD,EAAW,KAAK,GAE1D,KAAK,QAAU,GAEf,OAAO,KAAK,CACX,OAAQE,EAAQ,SAAS,mBACzB,KAAAD,EACA,SAAWE,GAAM,CAChB,GAAIA,EAAE,UACL,KAAK,UAAYA,EAAE,QACnB,KAAK,kBAAoBA,EAAE,QAGvB,CAAC,KAAK,eAAiB,KAAK,UAAU,CACzC,IAAMC,EAAW,KAAK,UAAU,KAAMC,GAAMA,EAAE,OAAS,KAAK,QAAQ,EAChED,GACH,KAAK,gBAAkBA,EAAS,cAChC,KAAK,cAAgBA,EACrB,KAAK,cAAgB,KAGrB,QAAQ,IACP,oDACA,KAAK,QACN,EAEI,KAAK,UAAY,CAAC,KAAK,cAAc,MACxC,KAAK,mCAAmC,KAAK,QAAQ,EAGxD,CAED,KAAK,QAAU,EAChB,EACA,MAAQE,GAAQ,CACf,QAAQ,IAAI,0CAA2CA,CAAG,EAC1D,KAAK,YAAYf,GAAe,gBAAiB,OAAO,EACxD,KAAK,QAAU,EAChB,CACD,CAAC,CACF,EAEA,cAAcgB,EAAO,CA3IvB,IAAAb,EA4IG,IAAMM,IAAaN,EAAAa,GAAA,YAAAA,EAAO,SAAP,YAAAb,EAAe,QAAS,GAC3C,KAAK,gBAAkBM,EACvB,KAAK,aAAe,GACpB,KAAK,cAAgB,GAEjB,KAAK,eAAe,aAAa,KAAK,aAAa,EACvD,KAAK,cAAgB,WAAW,IAAM,CACrC,KAAK,mBAAmBA,CAAU,CACnC,EAAG,GAAG,CACP,EAEA,eAAeQ,EAAU,CACxB,KAAK,SAAWA,EAAS,KACzB,KAAK,gBAAkBA,EAAS,cAChC,KAAK,cAAgBA,EACrB,KAAK,aAAe,GACpB,KAAK,cAAgB,GACrBV,EAAQ,KAAKR,GAAY,gBAAiBkB,EAAS,IAAI,CACxD,EAEA,aAAc,CACT,CAAC,KAAK,eACN,KAAK,kBAAkB,OAAS,GAAK,KAAK,eAAiB,EAC9D,KAAK,eAAe,KAAK,kBAAkB,KAAK,cAAc,EACpD,KAAK,kBAAkB,OAAS,GAC1C,KAAK,eAAe,KAAK,kBAAkB,EAAE,EAE/C,EAEA,cAAe,CACV,KAAK,cAAgB,KAAK,kBAAkB,OAAS,GACxD,KAAK,eAEP,EAEA,YAAa,CACR,KAAK,cAAgB,GACxB,KAAK,eAEP,EAEA,cAAe,CACd,GAAI,CACHV,EAAQ,KAAKR,GAAY,qBAAsB,IAAI,CACpD,OAASgB,EAAP,CACD,QAAQ,IAAI,oCAAqCA,CAAG,EACpD,KAAK,YAAYf,GAAe,mBAAoB,OAAO,CAC5D,CACD,EAEA,eAAgB,CACf,GAAI,CACHO,EAAQ,KAAKR,GAAY,qBAAsB,KAAK,aAAa,CAClE,OAASgB,EAAP,CACD,QAAQ,IAAI,qCAAsCA,CAAG,EACrD,KAAK,YAAYf,GAAe,oBAAqB,OAAO,CAC7D,CACD,EAEA,YAAYkB,EAASC,EAAO,CAC3BZ,EAAQ,KAAKR,GAAY,aAAc,CAAE,QAAAmB,EAAS,MAAAC,CAAM,CAAC,CAC1D,EAIA,mBAAmB,EAAG,CACrB,GAAI,CAEH,IAAMC,EACJ,OAAO,EAAE,cAAiB,YAAc,EAAE,aAAa,GAAM,EAAE,MAAQ,CAAC,EAGpEC,EACL,KAAK,eAAe,YACjB,KAAK,IACL,KAAK,KAAO,KAAK,IAAI,eAAe,YACpC,KAAK,IAAI,IACT,KAIEC,EAAUD,EACbA,EAAK,cAAc,eAAe,EAClC,SAAS,cAAc,eAAe,EACzC,GAAI,CAACC,EAAS,OAGd,GAAIF,GAAQA,EAAK,OAAQ,CACxB,QAASG,EAAI,EAAGA,EAAIH,EAAK,OAAQG,IAChC,GACCH,EAAKG,KAAOD,GACXF,EAAKG,aAAc,MAAQD,EAAQ,SAASF,EAAKG,EAAE,EAEpD,OAIF,KAAK,aAAe,GACpB,MACD,CAGKD,EAAQ,SAAS,EAAE,MAAM,IAC7B,KAAK,aAAe,GAEtB,OAASP,EAAP,CACD,QAAQ,IAAI,0CAA2CA,CAAG,EAC1D,KAAK,aAAe,EACrB,CACD,EAEA,wBAAyB,CACxB,GAAI,CACHR,EAAQ,GAAGR,GAAY,oBAAqB,KAAK,uBAAuB,EACxEQ,EAAQ,GAAGR,GAAY,qBAAsB,KAAK,wBAAwB,EAC1EQ,EAAQ,GACPR,GAAY,8BACZ,KAAK,gCACN,EACAQ,EAAQ,GAAGR,GAAY,aAAc,KAAK,iBAAiB,EAC3DQ,EAAQ,GAAGR,GAAY,qBAAsB,KAAK,uBAAuB,EACzEQ,EAAQ,GAAGR,GAAY,wBAAyB,KAAK,0BAA0B,EAC/EQ,EAAQ,GAAGR,GAAY,sBAAuB,KAAK,yBAAyB,EAC5EQ,EAAQ,GACPR,GAAY,0BACZ,KAAK,2BACN,EACAQ,EAAQ,GAAGR,GAAY,uBAAwB,KAAK,0BAA0B,EAC9EQ,EAAQ,GACPR,GAAY,yBACZ,KAAK,4BACN,CACD,OAASgB,EAAP,CACD,QAAQ,IAAI,8CAA+CA,CAAG,EAC9D,KAAK,YAAYf,GAAe,qBAAsB,OAAO,CAC9D,CACD,EAEA,wBAAwBwB,EAAO,CAC9B,KAAK,aAAeA,CACrB,EACA,yBAAyBC,EAAY,CAzRvC,IAAAtB,EA2RG,KAAK,YAAcsB,EAGnB,IAAMnB,GAAmBH,EAAAsB,GAAA,YAAAA,EAAY,cAAZ,YAAAtB,EAAyB,SAC9CG,IACH,KAAK,SAAWA,EAEhB,KAAK,mCAAmCA,CAAgB,EACxDC,EAAQ,KAAKR,GAAY,gBAAiB,KAAK,QAAQ,GAExD,KAAK,mBAAmB,CACzB,EACA,iCAAiC2B,EAAa,CAC7C,KAAK,YAAcA,EACnB,KAAK,mBAAmB,CACzB,EACA,kBAAkBT,EAAU,CAC3B,KAAK,SAAWA,CACjB,EACA,wBAAwBA,EAAU,CACjC,KAAK,UAAU,KAAKA,CAAQ,CAC7B,EACA,2BAA2BU,EAAiB,CAC3C,IAAMC,EAAQ,KAAK,UAAU,UAAWd,GAAMA,EAAE,OAASa,EAAgB,IAAI,EACzEC,IAAU,KACb,KAAK,UAAUA,GAASC,MAAA,GACpB,KAAK,UAAUD,IACfD,GAGN,EACA,0BAA0BH,EAAO,CAChC,KAAK,SAAWA,CACjB,EACA,4BAA4BM,EAAM,CACjC,KAAK,cAAgBA,CACtB,EACA,4BAA6B,CAC5B,KAAK,mBAAmB,CACzB,EACA,8BAA+B,CAC9B,KAAK,mBAAmB,EAAE,CAC3B,EAGA,mCAAmCC,EAAe,CAC7C,CAACA,GAEL,OAAO,KAAK,CACX,OAAQpB,EAAQ,SAAS,aACzB,KAAM,CACL,YAAaoB,CACd,EACA,SAAWnB,GAAM,CACZA,EAAE,UACL,KAAK,cAAgBA,EAAE,QACvB,KAAK,gBAAkBA,EAAE,QAAQ,eAAiBmB,EAClD,KAAK,cAAgB,GAEhB,KAAK,UAAU,KAAMjB,GAAMA,EAAE,OAASiB,CAAa,IACvD,KAAK,UAAU,QAAQnB,EAAE,OAAO,EAChC,KAAK,kBAAoB,KAAK,WAGjC,EACA,MAAQG,GAAQ,CACf,QAAQ,IAAI,0DAA2DA,CAAG,CAC3E,CACD,CAAC,CACF,CACD,EAEA,SAAU,CAGT,KAAK,yBAA4B,GAAM,KAAK,mBAAmB,CAAC,EAEhE,SAAS,iBAAiB,QAAS,KAAK,yBAA0B,EAAI,CACvE,EAEA,eAAgB,CACX,KAAK,2BACR,SAAS,oBAAoB,QAAS,KAAK,yBAA0B,EAAI,EACzE,KAAK,yBAA2B,KAElC,EAEA,SAAU,CACT,KAAK,UAAU,IAAM,CACpB,KAAK,uBAAuB,CAC7B,CAAC,CACF,EAEA,MAAO,CACN,SAASiB,EAAQ,CAChB,IAAMnB,EAAW,KAAK,UAAU,KAAMC,GAAMA,EAAE,OAASkB,CAAM,EACzDnB,IAAU,KAAK,gBAAkBA,EAAS,eAC9CN,EAAQ,KAAKR,GAAY,gBAAiBiC,CAAM,CACjD,CACD,CACD,EClCAC,GAAK,QAAUC,GAAAC,GAAA,GACXF,GAAK,SADM,CAGd,YAAYG,EAAM,CACjB,IAAMC,GAAKD,GAAQ,IAAI,SAAS,EAC5BE,EAAI,EACR,QAASC,EAAI,EAAGA,EAAIF,EAAE,OAAQE,IAC7BD,GAAKA,GAAK,GAAKA,EAAID,EAAE,WAAWE,CAAC,EACjCD,GAAK,EAGN,MAAO,OADK,KAAK,IAAIA,CAAC,EAAI,cAE3B,EAGA,UAAUF,EAAM,CACf,IAAMC,GAAKD,GAAQ,IAAI,SAAS,EAC5BE,EAAI,EACR,QAAS,EAAI,EAAG,EAAID,EAAE,OAAQ,IAC7BC,GAAKA,GAAK,GAAKA,EAAID,EAAE,WAAW,CAAC,EACjCC,GAAK,EAEN,OAAO,KAAK,IAAIA,CAAC,EAAI,GACtB,EAEA,iBAAkB,CACjB,MAAO,SACR,CACD,GAEA,IAAOL,GAAQA,GCzXf,IAAMO,GAAa,CAAE,MAAO,CAAC,cAAc,mEAAmE,CAAE,EAC1GC,GAAa,CAAE,MAAO,CAAC,SAAW,WAAW,QAAU,OAAO,cAAc,SAAS,QAAU,OAAO,CAAE,EACxGC,GAAa,CAAC,cAAe,UAAU,EACvCC,GAAa,CACjB,cAAe,OACf,MAAO,CAAC,SAAW,WAAW,MAAQ,MAAM,QAAU,OAAO,IAAM,MAAM,cAAc,SAAS,OAAS,MAAM,CACjH,EACMC,GAAa,CAAC,UAAU,EACxBC,GAA0BC,EAAoB,IAAK,CAAE,MAAO,sBAAuB,EAAG,KAAM,EAAgB,EAC5GC,GAAa,CACjBF,EACF,EACMG,GAAa,CAAC,UAAU,EACxBC,GAA0BH,EAAoB,IAAK,CAAE,MAAO,cAAe,EAAG,KAAM,EAAgB,EACpGI,GAAc,CAClBD,EACF,EACME,GAAc,CAClB,IAAK,EACL,KAAM,UACN,MAAO,CAAC,SAAW,WAAW,IAAM,mBAAmB,KAAO,IAAI,MAAQ,IAAI,WAAa,OAAO,OAAS,mCAAmC,gBAAgB,OAAO,aAAa,qCAAqC,UAAU,OAAO,aAAa,QAAQ,aAAa,OAAO,QAAU,KAAK,CAClS,EACMC,GAAc,CAAC,gBAAiB,UAAW,eAAgB,aAAc,gBAAiB,WAAW,EACrGC,GAAc,CAAE,cAAe,MAAO,EACtCC,GAAc,CAAC,YAAY,EAC3BC,GAAc,CAAC,IAAI,EACnBC,GAAc,CAAC,YAAY,EAC3BC,GAAc,CAAC,YAAY,EAC3BC,GAAc,CAAC,MAAM,EACrBC,GAA2Bb,EAAoB,IAAK,CACxD,KAAM,yBACN,UAAW,gBACb,EAAG,CACYA,EAAoB,SAAU,CACzC,GAAI,KACJ,GAAI,KACJ,EAAG,GACL,CAAC,EACYA,EAAoB,UAAW,CAC1C,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACN,CAAC,CACH,EAAG,EAAgB,EACbc,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,YAAY,GAAG,CAAE,EACpFC,GAAc,CAAE,MAAO,CAAC,cAAc,OAAO,MAAQ,UAAU,YAAY,OAAO,cAAc,SAAS,SAAW,SAAS,gBAAgB,UAAU,CAAE,EACzJC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,YAAY,OAAO,MAAQ,UAAU,aAAa,MAAM,cAAc,GAAG,CACnF,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,YAAY,OAAO,MAAQ,UAAU,aAAa,MAAM,cAAc,GAAG,CACnF,EACMC,GAAc,CAClB,IAAK,EACL,KAAM,SACN,YAAa,SACb,MAAO,CAAC,SAAW,WAAW,IAAM,mBAAmB,KAAO,IAAI,MAAQ,IAAI,WAAa,OAAO,OAAS,mCAAmC,gBAAgB,OAAO,QAAU,OAAO,aAAa,qCAAqC,UAAU,MAAM,CAC1P,EACMC,GAA2BnB,EAAoB,MAAO,CAAE,MAAO,CAAC,MAAQ,OAAO,OAAS,MAAM,WAAa,UAAU,gBAAgB,MAAM,SAAW,QAAQ,CAAE,EAAG,CAC1JA,EAAoB,MAAO,CAAE,MAAO,CAAC,OAAS,OAAO,WAAa;AAAA;AAAA;AAAA;AAAA,UAA2I,gBAAgB,KAAK,CAAE,CAAC,CACpP,EAAG,EAAgB,EACboB,GAAc,CAClBD,EACF,EAEO,SAASE,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,IAAMC,EAA4BC,GAAkB,gBAAgB,EAEpE,OAAQC,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzDC,EAAoB,+CAA+C,EACnEA,EAAoB,sBAAsB,EAC1CA,EAAoB,+CAA+C,EACnEjC,EAAoB,MAAON,GAAY,CACrCuC,EAAoB,+CAA+C,EACnEA,EAAoB,6BAA0B,EAC9CA,EAAoB,+CAA+C,EACnEjC,EAAoB,MAAO,CACzB,MAAOkC,EAAgB,CAAC,CAC5B,gBAAiBZ,EAAK,aAAe,UAAY,OAClD,EAAG,CAAC,SAAW,WAAW,MAAQ,OAAO,iBAAiB,MAAM,CAAC,CAAC,CAC/D,EAAG,CACDW,EAAoB,+CAA+C,EACnEA,EAAoB,iBAAiB,EACrCA,EAAoB,+CAA+C,EACnEjC,EAAoB,MAAOL,GAAY,CACrCsC,EAAoB,yBAAyB,EAC7CE,GAAgBnC,EAAoB,QAAS,CAC3C,KAAM,OACN,YAAa,oEACb,sBAAuBuB,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,gBAAmBc,GACrF,SAAUd,EAAK,SACf,QAASC,EAAO,KAAOA,EAAO,GAAK,IAAIc,IAAUf,EAAK,qBAAuBA,EAAK,oBAAoB,GAAGe,CAAI,GAC7G,QAASd,EAAO,KAAOA,EAAO,GAAK,IAAIc,IAAUf,EAAK,eAAiBA,EAAK,cAAc,GAAGe,CAAI,GACjG,UAAW,CACTd,EAAO,KAAOA,EAAO,GAAKe,GAAU,IAAID,IAAUf,EAAK,aAAeA,EAAK,YAAY,GAAGe,CAAI,EAAI,CAAC,OAAO,CAAC,GAC3Gd,EAAO,KAAOA,EAAO,GAAKe,GAAU,IAAID,IAAUf,EAAK,cAAgBA,EAAK,aAAa,GAAGe,CAAI,EAAI,CAAC,MAAM,CAAC,GAC5Gd,EAAO,KAAOA,EAAO,GAAKe,GAAU,IAAID,IAAUf,EAAK,YAAcA,EAAK,WAAW,GAAGe,CAAI,EAAI,CAAC,IAAI,CAAC,GACtGd,EAAO,KAAOA,EAAO,GAAKe,GAAUF,GAAWd,EAAK,aAAe,GAAQ,CAAC,KAAK,CAAC,EACpF,EACA,oBAAqB,OACrB,gBAAiB,eACjB,KAAM,WACN,MAAOY,EAAgB,CAAC,CAAC,MAAQ,OAAO,QAAU,sBAAsB,OAAS,sBAAsB,OAAS,kCAAkC,gBAAgB,OAAO,YAAY,OAAO,WAAa,OAAO,aAAa,aAAa,QAAU,MAAM,EAChQZ,EAAK,SAAW,2DAA6D,EAC9E,CAAC,CACI,EAAG,KAAM,GAAuC1B,EAAU,EAAG,CAC3D,CAAC2C,GAAajB,EAAK,eAAe,CACpC,CAAC,EACDW,EAAoB,+BAA+B,EACnDjC,EAAoB,MAAOH,GAAY,CACrCoC,EAAoB,wBAAwB,EAC5CjC,EAAoB,SAAU,CAC5B,QAASuB,EAAO,KAAOA,EAAO,GAAK,IAAIc,IAAUf,EAAK,eAAiBA,EAAK,cAAc,GAAGe,CAAI,GACjG,SAAUf,EAAK,SACf,MAAO,gBACP,KAAM,SACN,aAAcC,EAAO,KAAOA,EAAO,GAAKa,GAAU,CACpDd,EAAK,WACTc,EAAO,cAAc,MAAM,WAAa,0BACxCA,EAAO,cAAc,MAAM,OAC1B,oCACDA,EAAO,cAAc,MAAM,UAC1B,+BAEH,GACQ,aAAcb,EAAO,KAAOA,EAAO,GAAKa,GAAU,CACpDd,EAAK,WACTc,EAAO,cAAc,MAAM,WAAa,cACxCA,EAAO,cAAc,MAAM,OAAS,OACpCA,EAAO,cAAc,MAAM,UAAY,GAEzC,GACQ,MAAOF,EAAgB,CAAC,CAAC,WAAa,cAAc,OAAS,OAAO,QAAU,MAAM,OAAS,UAAU,MAAQ,UAAU,gBAAgB,MAAM,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,OAAS,OAAO,MAAQ,OAAO,YAAY,MAAM,EAAGZ,EAAK,SAAW,sCAAwC,EAAE,CAAC,CAC1U,EAAGrB,GAAY,GAAuCH,EAAU,EAChEmC,EAAoB,uBAAuB,EAC3CjC,EAAoB,SAAU,CAC5B,QAASuB,EAAO,MAAQA,EAAO,IAAM,IAAIc,IAAUf,EAAK,cAAgBA,EAAK,aAAa,GAAGe,CAAI,GACjG,SAAUf,EAAK,SACf,MAAO,eACP,KAAM,SACN,aAAcC,EAAO,MAAQA,EAAO,IAAMa,GAAU,CACtDd,EAAK,WACTc,EAAO,cAAc,MAAM,WAAa,0BACxCA,EAAO,cAAc,MAAM,OAC1B,oCACDA,EAAO,cAAc,MAAM,UAC1B,+BAEH,GACQ,aAAcb,EAAO,MAAQA,EAAO,IAAMa,GAAU,CACtDd,EAAK,WACTc,EAAO,cAAc,MAAM,WAAa,cACxCA,EAAO,cAAc,MAAM,OAAS,OACpCA,EAAO,cAAc,MAAM,UAAY,GAEzC,GACQ,MAAOF,EAAgB,CAAC,CAAC,WAAa,cAAc,OAAS,OAAO,QAAU,MAAM,OAAS,UAAU,MAAQ,UAAU,gBAAgB,MAAM,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,OAAS,OAAO,MAAQ,OAAO,YAAY,MAAM,EAAGZ,EAAK,SAAW,sCAAwC,EAAE,CAAC,CAC1U,EAAGlB,GAAa,GAAuCF,EAAU,CACnE,CAAC,CACH,CAAC,EACD+B,EAAoB,+CAA+C,EACnEA,EAAoB,qBAAqB,EACzCA,EAAoB,+CAA+C,EAClEX,EAAK,cAAgBA,EAAK,kBAAkB,OAAS,GACjDQ,EAAW,EAAGC,EAAoB,MAAO1B,GAAa,EACpDyB,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMQ,GAAYlB,EAAK,kBAAmB,CAACmB,EAAMC,KACzFZ,EAAW,EAAGC,EAAoB,MAAO,CAC/C,IAAKU,EAAK,KACV,KAAM,SACN,gBAAiBC,IAAUpB,EAAK,cAChC,QAASc,GAAWd,EAAK,eAAemB,CAAI,EAC5C,aAAcL,GAAWd,EAAK,cAAgBoB,EAC9C,MAAO,gBACP,aAAcA,EACd,gBAAiBA,IAAUpB,EAAK,cAChC,MAAO,CAAC,QAAU,OAAO,IAAM,OAAO,cAAc,SAAS,QAAU,OAAO,OAAS,UAAU,gBAAgB,MAAM,mBAAmB,uCAAuC,EACjL,YAAaoB,EAAQ,IAAM,CAC7B,EAAG,CACDT,EAAoB,sBAAsB,EAC1CjC,EAAoB,MAAOO,GAAa,CACtC0B,EAAoB,0EAA0E,GAC7FH,EAAW,EAAGC,EAAoB,MAAO,CACxC,MAAO,GACP,OAAQ,GACR,QAAS,YACT,MAAO,CAAC,cAAc,IAAI,QAAU,QAAQ,gBAAgB,MAAM,SAAW,SAAS,EACtF,KAAM,MACN,cACbU,EAAK,eAAiB,KAAK,OAAO,CAAC,EAAE,YAAY,EAAI,SAE1C,EAAG,CACDzC,EAAoB,OAAQ,KAAM,CAChCA,EAAoB,iBAAkB,CACpC,GAAI,IAAIsB,EAAK,UAAUmB,EAAK,aAAa,IACzC,GAAI,IACJ,GAAI,IACJ,GAAI,IACJ,GAAI,GACN,EAAG,CACDzC,EAAoB,OAAQ,CAC1B,OAAQ,IACR,aAAc,OAAOsB,EAAK,UAC3CmB,EAAK,aACN,YACgB,EAAG,KAAM,EAAe/B,EAAW,EACnCV,EAAoB,OAAQ,CAC1B,OAAQ,IACR,aAAc,OAAOsB,EAAK,UAC3CmB,EAAK,aACN,YACgB,EAAG,KAAM,EAAe9B,EAAW,CACrC,EAAG,EAAeF,EAAW,CAC/B,CAAC,EACDwB,EAAoB,uBAAuB,EAC3CjC,EAAoB,OAAQ,CAC1B,EAAG,IACH,EAAG,IACH,MAAO,KACP,OAAQ,KACR,KAAM,SAASsB,EAAK,UAAUmB,EAAK,aAAa,KAChD,GAAI,IACJ,GAAI,GACN,EAAG,KAAM,EAAe7B,EAAW,EACnCqB,EAAoB,gEAAgE,EACpFpB,EACF,EAAG,EAAeL,EAAW,EAC/B,CAAC,EACDyB,EAAoB,iBAAiB,EACrCjC,EAAoB,MAAOc,GAAa,CACtCmB,EAAoB,iBAAiB,EACrCjC,EAAoB,MAAOe,GAAa4B,EAAiBF,EAAK,aAAa,EAAG,CAAY,EAC1FR,EAAoB,iBAAiB,EACpCQ,EAAK,WACDX,EAAW,EAAGC,EAAoB,MAAOf,GAAa2B,EAAiBF,EAAK,SAAS,EAAG,CAAY,IACpGX,EAAW,EAAGC,EAAoB,MAAOd,GAAa,aAAa,EAC1E,CAAC,CACH,EAAG,GAAgCX,EAAW,EAC/C,EAAG,GAAwB,EAC9B,CAAC,GACD2B,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,+CAA+C,EACnEA,EAAoB,qBAAqB,EACzCA,EAAoB,+CAA+C,EAClEX,EAAK,cAAgBA,EAAK,SACtBQ,EAAW,EAAGC,EAAoB,MAAOb,GAAaE,EAAW,GAClEa,EAAoB,OAAQ,EAAI,CACtC,EAAG,CAAa,EAChBA,EAAoB,+CAA+C,EACnEA,EAAoB,0BAA0B,EAC9CA,EAAoB,+CAA+C,EACnEW,GAAahB,CAAyB,CACxC,CAAC,CACH,EAAG,IAA6C,CAClD,CClQ6QiB,GAAO,OAASC,GAAOD,GAAO,OAAS,wEAAwE,IAAOA,GAAQA,GCO3Y,IAAME,GAAY,CACjB,kBAAmB,EACnB,oBAAqB,GACrB,iBAAkB,IAClB,eAAgB,GAChB,eAAgB,GACjB,EAGOC,GAAQ,CACd,KAAM,UAEN,OAAQ,CAACC,EAAM,EAEf,WAAY,CACX,SAAAC,EACD,EAEA,MAAO,CACN,WAAY,CACX,KAAM,QACN,QAAS,EACV,EACA,aAAc,CACb,KAAM,OACN,QAAS,IACV,EACA,aAAc,CACb,KAAM,CAAC,QAAS,MAAM,EACtB,QAAS,EACV,CACD,EAGA,MAAO,CACN,MAAO,CAEN,kBAAmB,KAEnB,YAAa,KACb,kBAAmB,KACnB,YAAa,KACb,WAAY,KACZ,SAAU,GACV,cAAe,CAAC,EAChB,+BAAgC,EAChC,0BAA2B,EAC3B,UAAW,EACX,MAAO,CAAC,EACR,YAAa,CAAC,EACd,+BAAgC,KAChC,gBAAiB,EACjB,mBAAoB,EACpB,qBAAsB,GACtB,aAAc,OAAO,SAAS,QAAQ,EACtC,mBAAoB,GACpB,gCAAiC,GAEjC,iBAAkB,GAClB,WAAY,GAEZ,oBAAqB,KACrB,iBAAkB,GAGlB,eAAgB,CAAC,EACjB,cAAe,KAGf,kBAAmB,KACnB,gBAAiB,EACjB,qBAAsB,EAGtB,qBAAsB,KAGtB,8BAA+B,EAC/B,4BAA6B,GAG7B,cAAe,CACd,CAEC,MAAO,oDACP,MAAO,QACP,SAAU,GACV,IAAK,YACL,MAAO,KACR,EACA,CAEC,MAAO,oDACP,MAAO,SACP,SAAU,GACV,IAAK,YACL,MAAO,KACR,EACA,CAEC,MAAO,uCACP,IAAK,MACL,MAAO,SACP,MAAO,KACR,EACA,CAEC,MAAO,uCACP,IAAK,MACL,MAAO,SACP,MAAO,IACR,EACA,CAEC,MAAO,gEACP,IAAK,kBACL,MAAO,SACP,MAAO,IACR,EACA,CAEC,MAAO,iCACP,IAAK,OACL,MAAO,SACP,MAAO,IACR,EACA,CAEC,MAAO,4DACP,IAAK,sBACL,MAAO,SACP,MAAO,IACR,EACA,CAEC,MAAO,0DACP,IAAK,kBACL,MAAO,SACP,MAAO,KACR,EACA,CAEC,MAAO,mDACP,IAAK,SACL,MAAO,SACP,MAAO,IACR,EACA,CACC,MAAO,GACP,IAAK,UACL,MAAO,MACP,SAAU,GACV,MAAO,IACR,CACD,CACD,CACD,EAGA,SAAU,CAET,yBAA0B,CAxK5B,IAAAC,EAAAC,EAAAC,EAyKG,GAAI,GAACF,EAAA,KAAK,cAAL,MAAAA,EAAkB,WAAY,CAAC,KAAK,YACxC,MAAO,GAKR,IAAMG,EAAe,KAAK,IAAI,KAAK,YAAY,aAAe,CAAC,EACzDC,IAAYH,EAAA,KAAK,cAAL,YAAAA,EAAkB,4BAA6B,OAGjE,KAFiBC,EAAA,KAAK,cAAL,YAAAA,EAAkB,YAAa,KAAK,mBAEvC,CAGb,IAAMG,EAAgB,KAAK,YAAY,SAAS,OAAO,CAACC,EAAKC,IACrDD,EAAM,KAAK,IAAI,KAAK,IAAIC,EAAE,QAAU,CAAC,CAAC,EAC3C,CAAC,EAGEC,EAAgB,KAAK,IAAI,KAAK,IAAI,KAAK,YAAY,gBAAkB,CAAC,CAAC,EACvEC,EAAiB,KAAK,IAAI,KAAK,IAAI,KAAK,0BAA4B,CAAC,CAAC,EACtEC,EAAmBL,EAAgBG,EAAgBC,EAEnDE,EAAkB,KAAK,IAAIR,CAAY,EAG7C,GAAIO,EAAmBC,EACtB,MAAO,EAET,KAEC,SAAWC,KAAW,KAAK,YAAY,SACtC,GACCA,EAAQ,kBAAoBR,GAC5B,KAAK,IAAIQ,EAAQ,QAAU,CAAC,EAAIT,EAEhC,MAAO,GAKV,MAAO,EACR,EAGA,6BAA8B,CArNhC,IAAAH,EAAAC,EAAAC,EAAAW,EAAAC,EAiOG,GAXI,GAACd,EAAA,KAAK,cAAL,MAAAA,EAAkB,WAAY,CAAC,KAAK,eAKxBC,EAAA,KAAK,cAAL,YAAAA,EAAkB,YAAa,KAAK,oBAMjD,KAAK,YAAY,6BAA+B,EACnD,MAAO,GAIR,IAAIc,EAAa,KAAK,MAAIb,EAAA,KAAK,cAAL,YAAAA,EAAkB,iBAAkB,EAAG,CAAC,IAC9DW,EAAA,KAAK,cAAL,YAAAA,EAAkB,WAAY,MAAM,QAAQ,KAAK,YAAY,QAAQ,GACxE,KAAK,YAAY,SAAS,QAASD,GAAY,CAC9CG,GAAc,KAAK,IAAIH,EAAQ,QAAU,EAAG,CAAC,CAC9C,CAAC,EAEFG,GAAc,KAAK,IAAI,KAAK,0BAA4B,EAAG,CAAC,EAC5DA,EAAa,KAAK,IAAIA,EAAY,CAAC,EAGnC,IAAMC,EAAa,KAAK,MAAIF,EAAA,KAAK,cAAL,YAAAA,EAAkB,cAAe,EAAG,CAAC,EAIjE,OAAIC,GAAc,IAEZ,MAAK,YAAY,uBASnBA,EAAaC,EAAa,GAK/B,EACA,kBAAmB,CAClB,OAAK,KAAK,kBAGH,CACN,UAAW,GAAG,KAAK,kBAAoB,MACxC,EAJQ,CAAC,CAKV,EACA,gBAAiB,CA7QnB,IAAAhB,EAAAC,EAAAC,EA8QG,IAAIe,EAAU,CAAC,GAAG,KAAK,aAAa,EAEpC,OAAKjB,EAAA,KAAK,cAAL,MAAAA,EAAkB,mCACtBiB,EAAUA,EAAQ,OAAQC,GAAWA,EAAO,MAAQ,qBAAqB,IAGrEjB,EAAA,KAAK,cAAL,MAAAA,EAAkB,+BACtBgB,EAAUA,EAAQ,OAAQC,GAAWA,EAAO,MAAQ,iBAAiB,IAIjEhB,EAAA,KAAK,cAAL,MAAAA,EAAkB,wCACtBe,EAAUA,EAAQ,OAAQC,GAAWA,EAAO,MAAQ,MAAM,GAGpDD,CACR,EACA,UAAW,CA/Rb,IAAAjB,EAgSG,QAAOA,EAAA,KAAK,cAAL,YAAAA,EAAkB,YAAa,EACvC,EACA,oBAAqB,CAlSvB,IAAAA,EAAAC,EAAAC,EAAAW,EAmSG,IAAMM,EACL,KAAK,aAAe,MAAM,SAAQnB,EAAA,KAAK,cAAL,YAAAA,EAAkB,QAAQ,GACzDC,EAAA,KAAK,cAAL,YAAAA,EAAkB,SAClB,CAAC,EACCmB,EACL,KAAK,aAAe,MAAM,SAAQlB,EAAA,KAAK,cAAL,YAAAA,EAAkB,QAAQ,GACzDW,EAAA,KAAK,cAAL,YAAAA,EAAkB,SAClB,CAAC,EACCQ,EAAWF,EAAgB,OAASA,EAAkBC,EAGxDE,EAAaD,EAAS,KAAMT,GAAYA,EAAQ,SAAW,CAAC,EAGhE,MAAI,CAACU,GAAcD,EAAS,OAAS,IACpCC,EAAaD,EAAS,IAGhBC,EAAaA,EAAW,gBAAkB,IAClD,EACA,iBAAkB,CAvTpB,IAAAtB,EAAAC,EAAAC,EAAAW,EAAAC,EAAAS,EAAAC,EAyTG,OAAKxB,EAAA,KAAK,QAAL,MAAAA,EAAY,SAMbC,EAAA,KAAK,cAAL,YAAAA,EAAkB,YAAa,KAAK,mCAMpCC,EAAA,KAAK,cAAL,YAAAA,EAAkB,cAAaW,EAAA,KAAK,cAAL,YAAAA,EAAkB,iCACnC,KAAK,IACrB,KAAK,IAAI,KAAK,YAAY,+BAA+B,aAAe,CAAC,CAC1E,GAEgB,IACR,GAML,KAAK,UAAY,GAACC,EAAA,KAAK,cAAL,MAAAA,EAAkB,WAAkB,KAIzDS,EAAA,KAAK,cAAL,YAAAA,EAAkB,kBAAmB,MAAQC,EAAA,KAAK,cAAL,YAAAA,EAAkB,iBAAkB,EAE1E,GAID,KAAK,iBAAiB,EAlCG,EAmCjC,EACA,UAAW,CACV,OAAO,KAAK,OAAS,KAAK,MAAM,OAAS,CAC1C,EACA,kBAAmB,CAElB,OAAO,KAAK,iBAAiB,GAAK,CAAC,CAAC,KAAK,kBAC1C,EAMA,mBAAoB,CAzWtB,IAAAxB,EA0WG,OAAO,MAAIA,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAA2B,CAAC,CAC1D,EAMA,kBAAmB,CAjXrB,IAAAA,EAkXG,OAAO,MAAIA,EAAA,KAAK,cAAL,YAAAA,EAAkB,YAAa,CAAC,CAC5C,EAMA,2BAA4B,CAzX9B,IAAAA,EA0XG,OAAO,MAAIA,EAAA,KAAK,cAAL,YAAAA,EAAkB,cAAe,CAAC,CAC9C,EAGA,wBAAyB,CA9X3B,IAAAA,EA+XG,IAAMyB,EAAQ,MAAIzB,EAAA,KAAK,cAAL,YAAAA,EAAkB,QAAS,CAAC,EACxC0B,EAAa,IAAI,KAAK,gCAAkC,CAAC,EAC/D,OAAO,IAAKD,EAAQC,EAAc,IAAK,KAAK,kBAAkB,CAC/D,CACD,EAEA,QAAS,CACR,4BAA6B,CAC5B,KAAK,UAAU,IAAM,CAEpB,sBAAsB,IAAM,CAC3B,KAAK,uBAAuB,CAC7B,CAAC,CACF,CAAC,CACF,EACA,wBAAyB,CA9Y3B,IAAA1B,EA+YG,IAAM2B,EAAY,KAAK,MAAM,gBACvBC,EAAWD,EAAYA,EAAU,KAAOA,EAAY,KAE1D,GAAI,CAACC,GAAY,OAAOA,EAAS,uBAA0B,WAC1D,OAGD,IAAMC,EACL,OAAO,eAAe7B,EAAA,SAAS,kBAAT,YAAAA,EAA0B,eAAgB,EAE7D,CAAC6B,GAKL,sBAAsB,IAAM,CAC3B,IAAMC,EAAOF,EAAS,sBAAsB,EACtCG,EAAYF,EAAiBC,EAAK,IAAMlC,GAAU,eAEpD,OAAO,SAASmC,CAAS,IAC5B,KAAK,kBAAoB,KAAK,IAC7BnC,GAAU,iBACV,KAAK,MAAMmC,CAAS,CACrB,EAEF,CAAC,CACF,EAGA,cAAcC,EAAMC,EAAO,CAE1B,KAAK,YAAYD,EAAMC,CAAK,CAC7B,EAEA,eAAeD,EAAMC,EAAO,CAE3B,KAAK,YAAYD,EAAMC,CAAK,CAC7B,EAEA,mBAAmBD,EAAMC,EAAO,CAE/B,KAAK,sBAAsBD,EAAMC,CAAK,CACvC,EAGA,aAAaC,EAAUC,EAASC,EAAY,CAC3C,GAAI,CAACA,GAAcA,IAAe,EAAG,MAAO,GAE5C,IAAIC,EAAY,EAChB,OAAIF,IAAY,YAEfE,EAAYH,EAAWA,GAAY,EAAIE,EAAa,KAC1CD,IAAY,cAEtBE,EAAYH,GAAYE,EAAa,MAG/B,IAAIC,EAAW,KAAK,kBAAkB,CAC9C,EAMA,aAAaC,EAAWN,EAAO,KAAM,CAEpC,OAAI,OAAO,WAAc,WACjB,UAAUM,EAAWN,CAAI,EAIV,CAAC,MAAO,YAAa,aAAc,mBAAmB,EAC1D,SAASM,CAAS,EAC7B,KAAK,iBAAmB,EAIzB,KAAK,oBAAsB,CACnC,EAEA,YAAYN,EAAMC,EAAO,CA/d3B,IAAAjC,EAAAC,EAAAC,EAieG,IAAIqC,IACHvC,EAAAiC,GAAA,YAAAA,EAAO,SAAP,YAAAjC,EAAe,SAAU,OAAY,OAAOiC,EAAM,OAAO,KAAK,EAAI,OAAOD,EAAK,GAAG,EAG5EQ,EAAS,KAAK,IAAID,CAAY,GAAK,EAGrCP,EAAK,SAAWQ,EAASR,EAAK,SAEjCS,EAAQ,KAAK,cAAe,CAC3B,KAAM,gPAAkDT,EAAK,UAC7D,MAAO,SACR,CAAC,EAEDA,EAAK,KAAM/B,EAAA,KAAK,cAAL,MAAAA,EAAkB,UAAY,CAAC+B,EAAK,QAAUA,EAAK,SAG9DA,EAAK,KAAM9B,EAAA,KAAK,cAAL,MAAAA,EAAkB,UAAY,CAACsC,EAASA,EAGpDR,EAAK,OAAS,KAAK,oBAAoBA,CAAI,EAC3C,KAAK,wBAAwB,CAG9B,EAEA,WAAWA,EAAMC,EAAO,CAEvB,KAAK,YAAYD,EAAMC,CAAK,CAC7B,EAEA,iBAAiBD,EAAM,CAhgBzB,IAAAhC,EAigBG,IAAM0C,EAAa,KAAK,IAAI,OAAOV,EAAK,GAAG,GAAK,CAAC,EAGjD,GAAIA,EAAK,SAAWU,GAAcV,EAAK,QAAS,CAE/CS,EAAQ,KAAK,cAAe,CAC3B,KAAM,0OAAiDT,EAAK,UAC5D,MAAO,SACR,CAAC,EACD,MACD,EAGIhC,EAAA,KAAK,cAAL,MAAAA,EAAkB,UACrBgC,EAAK,IAAM,EAAEU,EAAa,GAE1BV,EAAK,IAAMU,EAAa,EAGzBV,EAAK,OAAS,KAAK,oBAAoBA,CAAI,EAC3CS,EAAQ,KAAK,eAAgBT,CAAI,EACjC,KAAK,wBAAwB,CAC9B,EAEA,iBAAiBA,EAAM,CAzhBzB,IAAAhC,EA0hBG,IAAM0C,EAAa,KAAK,IAAI,OAAOV,EAAK,GAAG,GAAK,CAAC,EAC3CW,EAAS,KAAK,IAAI,EAAGD,EAAa,CAAC,EAErCC,IAAW,EACd,KAAK,YAAYX,CAAI,IAGjBhC,EAAA,KAAK,cAAL,MAAAA,EAAkB,UACrBgC,EAAK,IAAM,CAACW,EAEZX,EAAK,IAAMW,EAEZX,EAAK,OAAS,KAAK,oBAAoBA,CAAI,EAC3CS,EAAQ,KAAK,eAAgBT,CAAI,EACjC,KAAK,wBAAwB,EAE/B,EAEA,kBAAkBA,EAAM,CACvB,GAAI,CAACA,EAAM,MAAO,GAClB,GAAIA,EAAK,gBAAiB,OAAO,IAAIA,EAAK,eAAe,GAAK,EAE9D,IAAMY,EAAY,IAAIZ,EAAK,eAAe,GAAK,IAAIA,EAAK,IAAI,GAAK,EAC3Da,EAAqB,IAAIb,EAAK,mBAAmB,GAAK,EAC5D,OAAOa,EAAqB,GAAKD,EAAY,GAC1C,IAAKA,EAAYC,EAAsB,GAAG,GAAK,CAEnD,EAEA,cAAe,CAGdJ,EAAQ,KAAK,wBAAyB,EAAI,EAC1C,KAAK,YAAc,SACnB,KAAK,aAAe,CAAC,QAAQ,EAC7BA,EAAQ,KAAK,sBAAuB,KAAK,WAAW,EACpD,KAAK,mBAAqB,GAC1BA,EAAQ,KAAK,sBAAuB,KAAK,kBAAkB,EAGtD,KAAK,aAQT,KAAK,YAAY,UAAY,EAC7BA,EAAQ,KAAK,qBAAsB,KAAK,WAAW,IARnD,KAAK,YAAc,CAClB,UAAW,EACX,UAAW,CACZ,EACAA,EAAQ,KAAK,qBAAsB,KAAK,WAAW,EAMrD,EAEA,YAAYT,EAAM,CACjB,IAAMc,EAAQ,KAAK,MAAM,UAAWC,GAAOA,EAAG,aAAef,EAAK,WAAW,EACzEc,GAAS,IACZ,KAAK,MAAM,OAAOA,EAAO,CAAC,EAC1B,KAAK,wBAAwB,EAEzB,KAAK,MAAM,SAAW,EACzB,KAAK,sBAAsB,EAE3BL,EAAQ,KAAK,eAAgBT,CAAI,EAGpC,EAEA,MAAM,SAASA,EAAM,CA7lBvB,IAAAhC,EA8lBG,GAAI,EAACgC,GAAA,MAAAA,EAAM,WAAW,OAEtB,IAAMgB,EAAW,OAAO,OAAO,CAAC,EAAGhB,CAAI,EACvCgB,EAAS,IAAMA,EAAS,KAAOA,EAAS,WAAa,MAErD,IAAMC,EAAgB,KAAK,MAAM,KAC/BC,GACAA,EAAS,YAAcF,EAAS,WAAaE,EAAS,MAAQF,EAAS,GACzE,EAEIC,GACHA,EAAc,IAAM,IAAIA,EAAc,GAAG,EAAI,IAAID,EAAS,GAAG,EAC7DC,EAAc,OAAS,KAAK,oBAAoBA,CAAa,IAE7DD,EAAS,YAAc,KAAK,cAAc,EAC1CA,EAAS,YAAc,KACvBA,EAAS,mBAAqB,EAC9BA,EAAS,cAAgB,EACzBA,EAAS,gBAAkB,EAC3BA,EAAS,aAAe,EACxBA,EAAS,OAAS,KAAK,oBAAoBA,CAAQ,EACnD,KAAK,MAAM,KAAKA,CAAQ,GAIzB,KAAK,wBAAwB,EAEzB,KAAK,MAAM,SAAW,GAAK,GAAChD,EAAA,KAAK,cAAL,MAAAA,EAAkB,OACjD,KAAK,qBAAqB,EAE1B,KAAK,wBAAwB,GAE7ByC,EAAQ,KAAK,aAAcQ,GAAiBD,CAAQ,CAEtD,EAEA,yBAA0B,CAEpB,KAAK,cACT,KAAK,YAAc,CAAC,GAIrB,IAAMG,EAAM,KAAK,gBAAgB,MAAM,EAGvC,KAAK,uBAAuBA,CAAG,EAG/B,KAAK,YAAY,MAAQA,EAAI,MAC7B,KAAK,YAAY,UAAYA,EAAI,UACjC,KAAK,YAAY,yBAA2BA,EAAI,yBAChD,KAAK,YAAY,gBAAkBA,EAAI,gBACvC,KAAK,YAAY,UAAYA,EAAI,UACjC,KAAK,YAAY,wBAA0BA,EAAI,wBAC/C,KAAK,YAAY,YAAcA,EAAI,YAInC,KAAK,iBAAmB,EACzB,EACA,eAAgB,CACf,OAAO,KAAK,IAAI,EAAE,SAAS,EAAE,EAAI,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,OAAO,CAAC,CACrE,EAEA,oBAAoBnB,EAAM,CACzB,IAAMoB,EAAM,IAAIpB,EAAK,GAAG,GAAK,EACvBqB,EAAgB,IAAIrB,EAAK,eAAe,GAAK,EAGnD,GAAIqB,EAAgB,EAAG,CACtB,IAAMC,EAAkB,IAAItB,EAAK,mBAAmB,GAAK,EAErDsB,EAAkB,GAErBtB,EAAK,gBAAkB,IACrBqB,EAAgBC,EAAmB,IACpC,KAAK,aAAa,kBAAmBtB,CAAI,CAC1C,EAGAA,EAAK,KAAO,IACXqB,EAAgBrB,EAAK,gBACrB,KAAK,aAAa,OAAQA,CAAI,CAC/B,IAGAA,EAAK,gBAAkB,EACvBA,EAAK,KAAOqB,EAEd,MACCrB,EAAK,KAAOqB,EACZrB,EAAK,gBAAkB,EAIxB,OAAO,IAAIA,EAAK,KAAOoB,EAAK,KAAK,aAAa,SAAUpB,CAAI,CAAC,CAC9D,EAIA,yBAAyBA,EAAMsB,EAAiB,CAG/C,IAAMD,EAAgB,IAAIrB,EAAK,eAAe,GAAK,EACnD,GAAIqB,GAAiB,GAAKC,GAAmB,EAAG,OAAOD,EAGvD,IAAME,EAAiB,IACrBF,EAAgBC,EAAmB,IACpC,KAAK,aAAa,kBAAmBtB,CAAI,CAC1C,EACA,OAAO,IAAIqB,EAAgBE,EAAgB,KAAK,aAAa,OAAQvB,CAAI,CAAC,CAC3E,EAEA,mBAAoB,CACnB,KAAK,YAAc,UACnB,KAAK,aAAe,CAAC,SAAS,EAC9B,KAAK,aAAe,OAAO,SAAS,QAAQ,EAC5C,KAAK,MAAQ,CAAC,EACd,KAAK,YAAc,CAAC,EACpB,KAAK,+BAAiC,EACtC,KAAK,0BAA4B,EACjCS,EAAQ,KAAK,sBAAuB,KAAK,WAAW,EAEpDA,EAAQ,KAAK,qBAAsB,IAAI,EAEvCA,EAAQ,KAAK,qBAAqB,CACnC,EAEA,iBAAiBe,EAAc,KAAM,CAhuBvC,IAAAxD,EAiuBG,IAAMmD,EAAMK,GAAe,KAAK,YAiBhC,OAbIL,GAAA,YAAAA,EAAK,kBAAmB,KAAQA,GAAA,YAAAA,EAAK,iBAAkB,IAOvDA,GAAA,YAAAA,EAAK,YAAa,KAAK,kCAAoC,KAM3DA,GAAA,YAAAA,EAAK,aAAaA,GAAA,YAAAA,EAAK,iCACT,KAAK,IACrB,KAAK,IAAIA,EAAI,+BAA+B,aAAe,CAAC,CAC7D,GAEgB,IACR,KAIQnD,EAAAmD,GAAA,YAAAA,EAAK,WAAL,YAAAnD,EAAe,KAAMO,GAAM,KAAK,IAAI,KAAK,IAAIA,EAAE,MAAM,CAAC,EAAI,KAAM,EAElF,EACA,MAAM,sBAAuB,CAE5B,YAAK,iBAAmB,GACjB,IACR,EACA,eAAe4C,EAAK,CAEnB,OAAO,QAAQ,QAAQ,IAAI,CAC5B,EAEA,MAAM,oBAAoBA,EAAM,KAAMM,EAAS,OAAQ,CAEtD,OAAO,IACR,EAEA,gBAAgBA,EAAS,OAAQ,CA9wBnC,IAAAzD,EAAAC,EAoxBG,IALID,EAAA,KAAK,cAAL,MAAAA,EAAkB,uBAKlB,KAAK,MAAM,SAAW,GAAK,GAACC,EAAA,KAAK,cAAL,MAAAA,EAAkB,MACjD,OAAO,QAAQ,QAAQ,EAIxB,IAAMkD,EAAM,KAAK,gBAAgBM,CAAM,EACvC,OAAO,KAAK,oBAAoBN,EAAKM,CAAM,CAC5C,EAEA,MAAM,gBAAiB,CA7xBzB,IAAAzD,EAAAC,EA8xBG,GAAI,KAAK,eAAeD,EAAA,KAAK,cAAL,YAAAA,EAAkB,MACzC,GAAI,CACH,IAAM0D,EAAS,MAAM,OAAO,KAAK,CAChC,OAAQ,oBACR,KAAM,CACL,QAAS,gBACT,MAAMzD,EAAA,KAAK,cAAL,YAAAA,EAAkB,IACzB,CACD,CAAC,EAEGyD,EAAO,UACV,KAAK,YAAcA,EAAO,QACtBA,EAAO,QAAQ,QAClB,KAAK,MAAQA,EAAO,QAAQ,OAG/B,OAASC,EAAP,CACD,QAAQ,IAAI,qCAAsCA,CAAK,CACxD,CAEF,EAEA,gBAAiB,CAGhBlB,EAAQ,KAAK,mBAAmB,EAEhC,KAAK,sBAAsB,EAC3BA,EAAQ,KAAK,eAAgB,OAAO,CACrC,EAGA,MAAM,mBAAoB,CACrB,KAAK,SAER,MAAM,KAAK,mBAAmB,EAG9B,MAAM,KAAK,mBAAmB,CAEhC,EAGA,MAAM,oBAAqB,CAC1B,GAAI,CAAC,KAAK,OAAS,KAAK,MAAM,SAAW,EAAG,CAC3CA,EAAQ,KAAK,cAAe,CAC3B,KAAM,sGACN,MAAO,SACR,CAAC,EACD,MACD,CAEA,GAAI,CACH,IAAMU,EAAM,KAAK,gBAAgB,OAAO,EACxC,KAAK,uBAAuBA,CAAG,EAG/BA,EAAI,UAAY,EAChBA,EAAI,UAAY,EAEhB,OAAO,KAAK,CACX,OAAQS,EAAQ,cAAc,WAC9B,KAAM,CACL,YAAaT,CACd,EACA,SAAWU,GAAM,CACZA,EAAE,UACL,QAAQ,IAAI,4BAA6BA,EAAE,QAAQ,IAAI,EACvDpB,EAAQ,KAAK,cAAe,CAC3B,KAAM,qFAAoBoB,EAAE,QAAQ,OACpC,MAAO,SACR,CAAC,EAED,KAAK,sBAAsB,EAE7B,EACA,MAAQC,GAAQ,CACf,QAAQ,IAAI,yCAA0CA,CAAG,EACzDrB,EAAQ,KAAK,cAAe,CAC3B,KAAM,yFACN,MAAO,OACR,CAAC,CACF,CACD,CAAC,CACF,OAASkB,EAAP,CACD,QAAQ,IAAI,yCAA0CA,CAAK,EAC3DlB,EAAQ,KAAK,cAAe,CAC3B,KAAM,yFACN,MAAO,OACR,CAAC,CACF,CACD,EAGA,MAAM,oBAAqB,CA53B7B,IAAAzC,EA63BG,GAAI,CACH,IAAM+D,GAAyB/D,EAAA,KAAK,oBAAL,YAAAA,EAAwB,KACvD,QAAQ,IACP,0DACA+D,CACD,EAEA,OAAO,KAAK,CACX,OAAQH,EAAQ,cAAc,WAC9B,KAAM,CACL,kBAAmBG,CACpB,EACA,SAAWF,GAAM,CAz4BtB,IAAA7D,EA04BM,QAAQ,IACP,0CACAA,EAAA6D,EAAE,UAAF,YAAA7D,EAAW,SAAU,EACrB,UACD,EACI6D,EAAE,SAAWA,EAAE,QAAQ,OAAS,EAEnCpB,EAAQ,KAAK,qBAAsBoB,EAAE,OAAO,EAE5CpB,EAAQ,KAAK,cAAe,CAC3B,KAAM,4GACN,MAAO,MACR,CAAC,CAEH,EACA,MAAQqB,GAAQ,CACf,QAAQ,IAAI,yCAA0CA,CAAG,EACzDrB,EAAQ,KAAK,cAAe,CAC3B,KAAM,oIACN,MAAO,OACR,CAAC,CACF,CACD,CAAC,CACF,OAASkB,EAAP,CACD,QAAQ,IAAI,yCAA0CA,CAAK,EAC3DlB,EAAQ,KAAK,cAAe,CAC3B,KAAM,oIACN,MAAO,OACR,CAAC,CACF,CACD,EAEA,uBAAwB,CA16B1B,IAAAzC,EA26BG,KAAK,kBAAkB,EACvB,KAAK,WAAa,KAClB,KAAK,YAAc,GACnB,KAAK,mBAAqB,GAC1B,KAAK,YAAc,UACnB,KAAK,aAAe,CAAC,SAAS,EAG9ByC,EAAQ,KAAK,wBAAyB,EAAK,EAC3CA,EAAQ,KAAK,sBAAuB,KAAK,WAAW,EACpDA,EAAQ,KAAK,sBAAuB,EAAK,EACzCA,EAAQ,KAAK,qBAAsB,IAAI,EAEvC,KAAK,WAAWzC,EAAA,KAAK,cAAL,YAAAA,EAAkB,WAAY,KAAK,SACnD,KAAK,cAAgB,KACrB,KAAK,gCAAkC,GAGvC,KAAK,wBAAwB,CAC9B,EAEA,YAAYgE,EAAO,CAAC,EAAG,CAh8BzB,IAAAhE,EAk8BGyC,EAAQ,KAAK,cAAeuB,CAAI,EAEhCvB,EAAQ,KAAK,wBAAyB,EAAK,EAC3C,KAAK,YAAc,CAAC,EACpB,KAAK,WAAa,GAGd,CAACuB,EAAK,MAAQ,CAACA,EAAK,WACvB,KAAK,MAAQ,CAAC,EACd,KAAK,UAAWhE,EAAA,KAAK,cAAL,YAAAA,EAAkB,SAClC,KAAK,YAAc,GACnB,KAAK,+BAAiC,EACtC,KAAK,YAAc,UACnB,KAAK,aAAe,CAAC,SAAS,EAC9ByC,EAAQ,KAAK,sBAAuB,KAAK,WAAW,IAEhDuB,EAAK,YACRvB,EAAQ,KAAK,wBAAyB,EAAI,EAC1C,KAAK,YAAc,SACnB,KAAK,aAAe,CAAC,QAAQ,EAC7BA,EAAQ,KAAK,sBAAuB,KAAK,WAAW,GAErD,KAAK,YAAcuB,EACnB,KAAK,MAAQA,EAAK,OAAS,CAAC,EAG5BvB,EAAQ,KAAK,qBAAsBuB,CAAI,EAGvC,KAAK,MAAM,QAAShC,GAAS,CACvBA,EAAK,cACTA,EAAK,YAAc,KAAK,OAAO,EAAE,GAI9BgC,EAAK,WAAahC,EAAK,MAC1BA,EAAK,oBAAsB,KAAK,IAAIA,EAAK,GAAG,EAC5CA,EAAK,QAAU,KAAK,IAAIA,EAAK,GAAG,EAElC,CAAC,EAED,KAAK,aAAegC,EAAK,aAAe,CAAC,GAAG,IAAKC,GAAWC,GAAAC,GAAA,GACxDF,GADwD,CAE3D,cAAe,EAChB,EAAE,EACF,KAAK,MAAM,QAASjC,GAAS,CAC5BA,EAAK,UAAYA,EAAK,WAAaA,EAAK,gBACnCA,EAAK,cACTA,EAAK,YAAc,KAAK,OAAO,EAAE,GAE9BA,EAAK,UACR,KAAK,cAAcA,EAAMA,EAAK,QAAQ,CAExC,CAAC,EACD,KAAK,YAAYgC,EAAK,QAAQ,EAC9B,KAAK,aAAeA,EAAK,cAAgB,OAAO,SAAS,QAAQ,EAEjE,KAAK,+BAAiCA,EAAK,+BAC3C,KAAK,MAAM,QAAShC,GAAS,CACxBA,EAAK,YACRA,EAAK,mBAAqB,CAAC,EACPA,EAAK,UAAU,MAAM;AAAA,CAAI,EACjC,QAASoC,GAAY,CAC5BA,EAAQ,QACXpC,EAAK,mBAAmB,KAAKoC,CAAO,CAEtC,CAAC,EACDpC,EAAK,yBAA2BA,EAAK,mBAAmB,OAE1D,CAAC,EAEH,EAEA,gBAAgByB,EAAS,OAAQ,CA3gCnC,IAAAzD,EAAAC,EAAAC,EAAAW,EAAAC,EAAAS,EAAAC,EAAA6C,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EA4gCG,IAAMC,EAAgBlB,IAAW,WAAaA,IAAW,QACnDN,EAAM,CAAC,EAGb,OACC,KAAK,eACLnD,EAAA,KAAK,cAAL,YAAAA,EAAkB,OAClB,GAACC,EAAA,KAAK,cAAL,MAAAA,EAAkB,yBAEnBkD,EAAI,MAAOjD,EAAA,KAAK,cAAL,YAAAA,EAAkB,OAEzBW,EAAA,KAAK,cAAL,YAAAA,EAAkB,aAAc,SACnCsC,EAAI,UAAY,KAAK,YAAY,YAGnCA,EAAI,QAAU,gBACdA,EAAI,OAAS,EACbA,EAAI,oBAAsB,EAC1BA,EAAI,SAAUrC,EAAA,KAAK,cAAL,YAAAA,EAAkB,QAChCqC,EAAI,aAAc5B,EAAA,KAAK,cAAL,YAAAA,EAAkB,KACpC4B,EAAI,UAAW3B,EAAA,KAAK,cAAL,YAAAA,EAAkB,SACjC2B,EAAI,eAAgBkB,EAAA,KAAK,cAAL,YAAAA,EAAkB,cACtClB,EAAI,SAAW,KAAK,SACpBA,EAAI,aAAe,KAAK,aACxBA,EAAI,uBAAyB,KAAK,kBAC/B,KAAK,kBAAkB,KACvB,KAEHA,EAAI,MAAQ,KAAK,0BAA0B,EAG3CA,EAAI,+BAAiC,IAAI,KAAK,8BAA8B,EAE5EA,EAAI,oBAAoBmB,EAAA,KAAK,cAAL,YAAAA,EAAkB,oBAAqB,YAG3D,KAAK,kBACRnB,EAAI,gBAAkB,IAAI,KAAK,eAAe,GAI3C,KAAK,gCACRA,EAAI,8BAAgC,KAAK,+BAEtC,KAAK,8BACRA,EAAI,4BAA8B,KAAK,6BAGxCA,EAAI,YAAc,KAAK,YACnBwB,IACHxB,EAAI,SAAW,KAAK,aAAa,GAG9B,KAAK,cACRA,EAAI,WAAYoB,EAAA,KAAK,cAAL,YAAAA,EAAkB,UAClCpB,EAAI,gBAAiBqB,EAAA,KAAK,cAAL,YAAAA,EAAkB,iBAEnCC,EAAA,KAAK,cAAL,YAAAA,EAAkB,kBAAmB,SACxCtB,EAAI,eACH,KAAK,YAAY,iBAAmB,IACpC,KAAK,YAAY,gBAAkB,GAGjCA,EAAI,kBAAkBuB,EAAA,KAAK,cAAL,YAAAA,EAAkB,YAC3CvB,EAAI,SAAW,KAAK,YAAY,WAI3BA,CACR,EAEA,2BAA4B,CAC3B,OAAO,KAAK,MAAM,IAAKnB,GAAS,CAplCnC,IAAAhC,EAqlCI,IAAIoD,EAAMpB,EAAK,KAAO,KAElBhC,EAAA,KAAK,cAAL,YAAAA,EAAkB,YAAa,KAAK,sBACvCoD,EAAM,CAAC,KAAK,IAAIA,CAAG,GAGpB,IAAMwB,EAAU,CACf,UAAW5C,EAAK,UAChB,IAAAoB,EACA,KAAM,IAAIpB,EAAK,KAAM,KAAK,aAAa,OAAQA,CAAI,CAAC,EACpD,gBAAiB,IAChBA,EAAK,gBACL,KAAK,aAAa,kBAAmBA,CAAI,CAC1C,EACA,oBAAqB,IACpBA,EAAK,qBAAuB,EAC5B,KAAK,aAAa,sBAAuBA,CAAI,CAC9C,EACA,gBAAiB,IAChBA,EAAK,iBAAmB,EACxB,KAAK,aAAa,kBAAmBA,CAAI,CAC1C,EACA,IAAKA,EAAK,KAAOA,EAAK,UACtB,UAAWA,EAAK,UAChB,SAAUA,EAAK,QAChB,EAEA,OAAIA,EAAK,qBACR4C,EAAQ,mBAAqB5C,EAAK,mBAClC4C,EAAQ,UAAY5C,EAAK,WAAaA,EAAK,oBAGrC4C,CACR,CAAC,CACF,EAEA,cAAe,CAznCjB,IAAA5E,EAAAC,EAAAC,EAAAW,EAAAC,EA0nCG,IAAIO,EAAW,CAAC,EAGhB,GACC,KAAK,aACL,MAAM,SAAQrB,EAAA,KAAK,cAAL,YAAAA,EAAkB,QAAQ,KACxCC,EAAA,KAAK,cAAL,YAAAA,EAAkB,SAAS,QAE3BoB,EAAW,KAAK,YAAY,SAAS,IAAKd,IAAO,CAChD,OAAQ,KAAK,IAAIA,EAAE,MAAM,EACzB,gBAAiBA,EAAE,gBACnB,QAASA,EAAE,QACX,QAASA,EAAE,SAAW,GACtB,IAAKA,EAAE,GACR,EAAE,UACQ,KAAK,aAAe,MAAM,SAAQL,EAAA,KAAK,cAAL,YAAAA,EAAkB,QAAQ,EAAG,CACzE,IAAI2E,EAAa,IAEjBhE,EAAA,KAAK,cAAL,MAAAA,EAAkB,SAAS,QAAQ,CAACD,EAASkC,IAAU,CAClDlC,EAAQ,UAASiE,EAAa,IAClCxD,EAAS,KAAK,CACb,OAAQ,EACR,gBAAiBT,EAAQ,gBACzB,QAASA,EAAQ,QACjB,QAASA,EAAQ,SAAW,GAC5B,IAAKkC,EAAQ,CACd,CAAC,CACF,GAEI,CAAC+B,GAAcxD,EAAS,OAAS,IAAGA,EAAS,GAAG,QAAU,EAC/D,CAIA,IAAMyD,GAAchE,EAAA,KAAK,cAAL,YAAAA,EAAkB,YAElCiE,EADgB1D,EAAS,OAAO,CAACf,EAAKC,IAAMD,EAAMC,EAAE,OAAQ,CAAC,EACtCuE,EAG3B,OAAI,KAAK,IAAIC,CAAI,GAAK,KAAQ,KAAK,IAAIA,CAAI,GAAK,GAAO1D,EAAS,OAAS,IACxEA,EAAS,GAAG,OAAS,KAAK,IAAIA,EAAS,GAAG,OAAS0D,CAAI,GAGjD1D,CACR,EAEA,eAAe8B,EAAK,CACnB,IAAM6B,EAAK,KACX,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CAEvC,GAAI,CAAC/B,EAAI,KAAM,CACd+B,EAAO,IAAI,MAAM,mCAAmC,CAAC,EACrD,MACD,CAEA,OAAO,KAAK,CACX,OAAQtB,EAAQ,cAAc,OAC9B,KAAM,CACL,KAAMT,CACP,EACA,MAAO,GACP,SAAU,SAAUU,EAAG,CACtB,GAAIA,EAAE,UAAY,OACjB,GAAIA,EAAE,UAAY,KACjBmB,EAAG,YAAc,KACjBA,EAAG,MAAQ,CAAC,EACZC,EAAQ,IAAI,MACN,CAIN,GAHAD,EAAG,YAAcnB,EAAE,QAGfA,EAAE,QAAQ,YAAa,CAE1BmB,EAAG,YAAcnB,EAAE,QAAQ,YAAY,IAAKI,GAAWC,GAAAC,GAAA,GACnDF,GADmD,CAEtD,cAAe,EAChB,EAAE,EAGF,IAAIkB,EAAsB,EACpBC,EAA0BJ,EAAG,YAAY,KAC7Cf,GAAUA,EAAM,aAClB,EAEImB,GACHD,EAAsB,IACrBC,EAAwB,mBACzB,EACAJ,EAAG,+BAAiCG,EAEpCH,EAAG,0BAA4BG,GACrBH,EAAG,0BAA4B,IAEzCA,EAAG,0BAA4B,GAIhCvC,EAAQ,KAAK,qBAAsBuC,EAAG,WAAW,EAEjD,IAAMK,EAAgBL,EAAG,YAAY,OACnCf,GAAUA,EAAM,aAClB,EAEIoB,EAAc,OAAS,GAC1B5C,EAAQ,KAAK,oBAAqB4C,CAAa,CAEjD,CAEAJ,EAAQD,EAAG,WAAW,CACvB,MAEAE,EAAO,IAAI,MAAM,0BAA0B,CAAC,CAE9C,EACA,MAAO,SAAUpB,EAAK,CACjBA,EAAI,SAAWA,EAAI,QAAQ,SAAS,4BAA4B,EACnEkB,EAAG,eAAe,EAChB,KAAK,IAAMC,EAAQD,EAAG,WAAW,CAAC,EAClC,MAAOM,GAAgB,CACvBJ,EAAOI,CAAW,CACnB,CAAC,EAEFJ,EAAOpB,CAAG,CAEZ,CACD,CAAC,CACF,CAAC,CACF,EAEA,MAAM,iBAAkB,CAEvB,IAAMX,EAAM,KAAK,gBAAgB,SAAS,EAG1C,YAAK,uBAAuBA,CAAG,EAG1B,KAAK,cACT,KAAK,YAAc,CAAC,GAErB,KAAK,YAAY,MAAQA,EAAI,MAC7B,KAAK,YAAY,UAAYA,EAAI,UACjC,KAAK,YAAY,yBAA2BA,EAAI,yBAChD,KAAK,YAAY,gBAAkBA,EAAI,gBACvC,KAAK,YAAY,UAAYA,EAAI,UACjC,KAAK,YAAY,YAAcA,EAAI,YAGnC,KAAK,YAAY,MAAQA,EAAI,MAEtBA,CACR,EAEA,MAAM,cAAe,CAnxCvB,IAAAnD,EAAAC,EAAAC,EAAAW,EAsxCG4B,EAAQ,KAAK,eAAgB,CAAE,KAAM,yEAAmB,MAAO,MAAO,CAAC,EAEvE,GAAI,CAGH,KAAK,wBAAwB,EAE7B,IAAMe,EAAc,MAAM,KAAK,gBAAgB,EAK/C,GAAI,EAACA,GAAA,MAAAA,EAAa,YAAYA,GAAA,YAAAA,EAAa,SAAS,UAAW,EAE9D,GAAI,CACH,IAAM+B,EAAiB,MAAM,OAAO,KAAK,CACxC,OAAQ3B,EAAQ,YAAY,oBAC5B,KAAM,CACL,aAAa5D,EAAA,KAAK,cAAL,YAAAA,EAAkB,KAC/B,UACCC,EAAA,KAAK,cAAL,YAAAA,EAAkB,UAClB,OAAO,SAAS,iBAAiB,SAAS,CAC5C,CACD,CAAC,EAEGsF,EAAe,UAClB/B,EAAY,SAAW,CACtB,CACC,gBAAiB+B,EAAe,QAAQ,gBAGxC,OAAQ,IAAI/B,GAAA,YAAAA,EAAa,WAAW,EACpC,QAAS+B,EAAe,QAAQ,QAChC,QAAS,CACV,CACD,EAMF,OAAS5B,EAAP,CACD,QAAQ,IAAI,wCAAyCA,CAAK,CAC3D,CAGDlB,EAAQ,KAAK,2BAA4Be,CAAW,EACpDf,EAAQ,KAAK,eAAgB,MAAM,EAEnC,KAAK,YAAc,CAAC,GAEhBvC,EAAA,KAAK,cAAL,MAAAA,EAAkB,mCACrB,KAAK,aAAYW,EAAA,KAAK,cAAL,YAAAA,EAAkB,QAAQ,EAG5C4B,EAAQ,KAAK,uBAAuB,EACpCA,EAAQ,KAAK,cAAc,CAC5B,OAASkB,EAAP,CACD,QAAQ,IAAI,qCAAsCA,CAAK,EACvDlB,EAAQ,KAAK,cAAc,EAC3BA,EAAQ,KAAK,cAAe,CAC3B,KAAM,oHAA4BkB,EAAM,QACxC,MAAO,OACR,CAAC,CACF,CACD,EAEA,cAAe,CAz1CjB,IAAA3D,EA21CO,GAACA,EAAA,KAAK,cAAL,MAAAA,EAAkB,oBAEvByC,EAAQ,KAAK,eAAgB,CAC5B,YAAa,KAAK,YAClB,kBAAmB,KAAK,mBAAqB,IAC9C,CAAC,CACF,EAEA,gBAAiB,CAChBA,EAAQ,KAAK,eAAgB,OAAO,CACrC,EAEA,YAAY+C,EAAU,CACrB,KAAK,SAAWA,EAChB,KAAK,eAAe,EACpB/C,EAAQ,KAAK,eAAgB,KAAK,QAAQ,EACtC,KAAK,cACR,KAAK,YAAY,eAAiB,GAClC,KAAK,YAAY,cAAgB,GACjC,KAAK,YAAY,eAAiB,IAEnC,KAAK,uBAAuB,CAC7B,EAEA,wBAAyB,CACxB,IAAMuC,EAAK,KACP,KAAK,UACR,OAAO,KAAK,CACX,OAAQpB,EAAQ,SAAS,aACzB,KAAM,CACL,YAAaoB,EAAG,QACjB,EACA,MAAO,GACP,SAAWnB,GAAM,CAChB,IAAM4B,EAAU5B,EAAE,QACbA,EAAE,MACNmB,EAAG,cAAgBb,GAAA,GACfsB,GAEJhD,EAAQ,KAAK,4BAA6BuC,EAAG,aAAa,GAE3DA,EAAG,kBAAkB,EAGrBA,EAAG,wBAAwB,CAC5B,CACD,CAAC,CAEH,EAEA,gBAAiB,CA74CnB,IAAAhF,EAAAC,EA84CG,IAAIyF,GAAa1F,EAAA,KAAK,cAAL,YAAAA,EAAkB,mBACnC,GAAI,KAAK,eAAiB,KAAK,YAAa,CAC3C,GAAM,CAAE,oBAAA2F,EAAqB,0BAAAC,CAA0B,EAAI,KAAK,cAC1DC,GAAiB5F,EAAA,KAAK,cAAL,YAAAA,EAAkB,mBACrC0F,GAAuBA,GAAuBE,EACjDH,EAAaC,EAEbC,GACAA,GAA6BC,IAE7BH,EAAaE,EAEf,CACA,OAAOF,CACR,EAEA,sBAAsB1D,EAAMC,EAAO,CA95CrC,IAAAjC,EAAAC,EAg6CG,GAAI,GAACD,EAAA,KAAK,cAAL,MAAAA,EAAkB,uCAAuC,CAE7DyC,EAAQ,KAAK,cAAe,CAC3B,KAAM,gPACN,MAAO,SACR,CAAC,EACD,MACD,CAEA,IAAIqD,EAAc,WAAW7D,EAAM,OAAO,KAAK,GAAK,EAC9C8D,IAAc9F,EAAA,KAAK,cAAL,YAAAA,EAAkB,iCAAkC,IAEpE6F,EAAc,IAAGA,EAAc,GAC/BA,EAAcC,IACjBD,EAAcC,GAIf/D,EAAK,oBAAsB8D,EAG3B,IAAMzC,EAAgB,IAAIrB,EAAK,eAAe,GAAK,EAC/CqB,EAAgB,IACfyC,EAAc,GACjB9D,EAAK,gBAAkB,IACrBqB,EAAgByC,EAAe,IAChC,KAAK,aAAa,kBAAmB9D,CAAI,CAC1C,EACAA,EAAK,KAAO,IACXqB,EAAgBrB,EAAK,gBACrB,KAAK,aAAa,OAAQA,CAAI,CAC/B,IAEAA,EAAK,gBAAkB,EACvBA,EAAK,KAAOqB,IAIdrB,EAAK,OAAS,KAAK,oBAAoBA,CAAI,EAC3C,KAAK,wBAAwB,CAC9B,EAEA,YAAYA,EAAMC,EAAO,CA18C3B,IAAAjC,EAAAC,EA48CG,GAAI,GAACD,EAAA,KAAK,cAAL,MAAAA,EAAkB,uCAAuC,CAE7DyC,EAAQ,KAAK,cAAe,CAC3B,KAAM,gPACN,MAAO,SACR,CAAC,EACD,MACD,CAKA,IAAIuD,EAAa/D,EAAM,OAAO,MAAM,SAAS,EAAE,QAAQ,KAAM,EAAE,EAC3DgE,EAAU,WAAWD,CAAU,GAAK,EAClC3C,EAAgB,IAAIrB,EAAK,eAAe,GAAK,EAE/CiE,EAAU,IAAGA,EAAU,GACvBA,EAAU5C,IACb4C,EAAU5C,EAEVZ,EAAQ,KAAK,cAAe,CAC3B,KAAM,oIACN,MAAO,OACR,CAAC,GAIEY,EAAgB,GACnBrB,EAAK,gBAAkB,IACtBqB,EAAgB4C,EAChB,KAAK,aAAa,kBAAmBjE,CAAI,CAC1C,EACAA,EAAK,oBAAsB,IACzB,IAAMA,EAAK,gBAAmBqB,EAC/B,KAAK,aAAa,sBAAuBrB,CAAI,CAC9C,IAEAA,EAAK,gBAAkB,EACvBA,EAAK,oBAAsB,GAI5B,IAAM+D,IAAc9F,EAAA,KAAK,cAAL,YAAAA,EAAkB,iCAAkC,IACpE+B,EAAK,oBAAsB+D,IAC9B/D,EAAK,oBAAsB+D,EAC3B/D,EAAK,gBAAkB,IACrBqB,EAAgB0C,EAAe,IAChC,KAAK,aAAa,kBAAmB/D,CAAI,CAC1C,EACAiE,EAAU,IACT5C,EAAgBrB,EAAK,gBACrB,KAAK,aAAa,OAAQA,CAAI,CAC/B,GAIDA,EAAK,KAAOiE,EACZjE,EAAK,OAAS,KAAK,oBAAoBA,CAAI,EAC3C,KAAK,wBAAwB,CAG9B,EAEA,mBAAoB,CA3gDtB,IAAAhC,EA4gDG,IAAI0F,EAAa,KAAK,eAAe,EACjCA,KAAc1F,EAAA,KAAK,cAAL,YAAAA,EAAkB,sBACnC0F,EAAa,MAEdjD,EAAQ,KAAK,6BAA8BiD,CAAU,CACtD,EAEA,gBAAgBzD,EAAO,CAnhDzB,IAAAjC,EAqhDG,GAAI,GAACA,EAAA,KAAK,cAAL,MAAAA,EAAkB,6CACtB,OAID,IAAMkG,EAAQ,IAAIjE,EAAM,OAAO,KAAK,GAAK,EACzC,KAAK,+BAAiCiE,EAEtC,KAAK,uBAAuB,CAC7B,EAEA,gBAAiB,CAEhB,KAAK,uBAAuB,CAC7B,EAEA,wBAAyB,CAriD3B,IAAAlG,EAAAC,EAAAC,EAuiDG,GAAI,GAACF,EAAA,KAAK,cAAL,MAAAA,EAAkB,8CAGrB,OAAK,0BAA4B,GACjC,KAAK,+BAAiC,GAGhC,CAEN,KAAK,iCACJC,EAAA,KAAK,cAAL,YAAAA,EAAkB,iCAAkC,EACrD,MACD,CAGD,IAAMiG,EAAQ,IAAI,KAAK,8BAA8B,GAAK,EACpDH,IAAc7F,EAAA,KAAK,cAAL,YAAAA,EAAkB,oCAAqC,IAEvEgG,EAAQ,EACX,KAAK,+BAAiC,EAC5BA,EAAQH,IAClB,KAAK,+BAAiCA,GAKtC,KAAK,0BAA4B,GACjC,KAAK,iCAAmC,KAAK,4BAE7C,KAAK,0BAA4B,GAGlC,KAAK,wBAAwB,CAC9B,EAEA,cAAc/D,EAAM,CACf,CAACA,EAAK,gBACVA,EAAK,UAAY,GACjBA,EAAK,mBAAmB,QAASoC,GAAY,CAC5CpC,EAAK,WAAaoC,EAAU;AAAA,CAC7B,CAAC,EACDpC,EAAK,yBAA2BA,EAAK,mBAAmB,OACpDA,EAAK,0BAA4BA,EAAK,YACzCA,EAAK,IAAMA,EAAK,yBAEhB,KAAK,aAAa,GAEpB,EAEA,cAAcA,EAAMkE,EAAOC,EAAS,GAAM,CACzC,GAAI,CAACnE,EAAK,eAAiB,CAAC,MAAM,QAAQA,EAAK,aAAa,EAC3D,OAGD,IAAMgD,EAAK,KACX,OAAO,KAAK,CACX,OAAQpB,EAAQ,KAAK,wBACrB,KAAM,CACL,UAAW5B,EAAK,UAChB,oBAAqBA,EAAK,YAC1B,oBAAqB,KAAK,MAC1B,cAAeA,EAAK,cACpB,mBAAoBkE,GAAS,IAC9B,EACA,MAAO,GACP,SAAU,SAAUrC,EAAG,CAxmD3B,IAAA7D,EAAAC,EAymDK,GAAI4D,EAAE,SAAWA,EAAE,QAAQ,QAAS,CACnC,IAAMH,EAASG,EAAE,QACXuC,EAAgB1C,EAAO,eAE7B1B,EAAK,SAAWoE,EAAc,SAC9BpE,EAAK,iBAAmBoE,EAAc,iBACtCpE,EAAK,qBAAuBoE,EAAc,YAC1CpE,EAAK,cAAgB0B,EAAO,WAExB0C,EAAc,aACjBpE,EAAK,YAAcoE,EAAc,YACjCpE,EAAK,gBAAkBoE,EAAc,YACrCpE,EAAK,KAAOoE,EAAc,aAChBD,IACVnE,EAAK,YAAc,KACnBgD,EAAG,mBAAmBhD,CAAI,GAI3BgD,EAAG,UAAU,CACd,MACChD,EAAK,SAAW,KAChBA,EAAK,iBAAmB,KACxBA,EAAK,qBAAuB,KAC5BA,EAAK,YAAc,KACnBA,EAAK,gBAAgBhC,EAAA6D,EAAE,UAAF,YAAA7D,EAAW,aAAc,CAAC,GAE3CC,EAAA4D,EAAE,UAAF,MAAA5D,EAAW,SACdwC,EAAQ,KAAK,cAAe,CAC3B,KAAMoB,EAAE,QAAQ,QAChB,MAAO,SACR,CAAC,EAIFmB,EAAG,UAAU,CAEf,EACA,MAAO,SAAUlB,EAAK,CACrBrB,EAAQ,KAAK,cAAe,CAC3B,KAAM,+GAA4BqB,EAAI,SAAW,wEACjD,MAAO,OACR,CAAC,CACF,CACD,CAAC,CACF,EAEA,iBAAiB,EAAG,CACf,EAAE,MAAQ,MAAQ,EAAE,SAAW,EAAE,WACpC,EAAE,eAAe,EACjB,KAAK,aAAa,EAEpB,EAEA,qBAAqB,EAAG,CACnB,EAAE,MAAQ,MAAQ,EAAE,SAAW,EAAE,WACpC,EAAE,eAAe,EACjB,KAAK,YAAY,KAAK,MAAM,EAAE,EAEhC,EAEA,mBAAmB,EAAG,CACjB,EAAE,MAAQ,MAAQ,EAAE,SAAW,EAAE,WACpC,EAAE,eAAe,EACjB,KAAK,SAAW,CAAC,EACjB,KAAK,SAAS,KAAK,KAAK,MAAM,EAAE,EAElC,EAEA,oBAAoB,EAAG,CAClB,EAAE,MAAQ,MAAQ,EAAE,SAAW,EAAE,WACpC,EAAE,eAAe,EACjB,KAAK,MAAM,SAAS,MAAM,EAE5B,EAEA,OAAOuC,EAAQ,CACd,OAAO,OAAO,WACX,OAAO,WAAW,EAAE,UAAU,EAAGA,CAAM,EACvC,KAAK,OAAO,EACX,SAAS,EAAE,EACX,UAAU,EAAG,EAAIA,CAAM,CAC5B,EAEA,mBAAmBrE,EAAMiC,EAAO,CAC/B,IAAIqC,EAAU,GAGd,GAAI,CAACtE,EAAK,YACT,MAAO,GAGR,GAAI,CACH,IAAMuE,EAAc,KAAK,MAAMvE,EAAK,WAAW,EAC/C,GAAI,CAAC,MAAM,QAAQuE,CAAW,EAC7B,MAAO,GAGR,QAAWC,KAAUD,EAAa,CACjC,IAAME,EAAc,KAAK,YAAY,KAAM1D,GAAOyD,GAAUzD,EAAG,MAAM,EACrE,GAAI0D,GAAeA,EAAY,YAAcxC,EAAM,KAAM,CACxDqC,EAAU,GACV,KACD,CACD,CACD,OAAS3C,EAAP,CACD,eAAQ,IAAI,wCAAyCA,CAAK,EACnD,EACR,CAEA,OAAO2C,CACR,EAEA,kBAAkBI,EAAU,CAE3B,GAAIA,GAAY,MAAM,QAAQA,CAAQ,GAAKA,EAAS,OAAS,EAAG,CAE/D,IAAMC,EAAmB,IAAI,IAE7B,KAAK,MAAM,QAAS3E,GAAS,CAC5B2E,EAAiB,IAAI3E,EAAK,UAAWA,CAAI,CAC1C,CAAC,EAGD,KAAK,MAAQ0E,EAAS,IAAKE,GAAY,CAEtC,IAAMC,EAAYF,EAAiB,IAAIC,EAAQ,SAAS,EAGxD,OAAIC,GAAA,YAAAA,EAAW,kBAAmB,CAACD,EAAQ,kBAC1CA,EAAQ,gBAAkBC,EAAU,kBAIjCA,GAAA,YAAAA,EAAW,YAAa,CAACD,EAAQ,YACpCA,EAAQ,UAAYC,EAAU,YAI3BA,GAAA,YAAAA,EAAW,cAAe,CAACD,EAAQ,cACtCA,EAAQ,YAAcC,EAAU,aAG1BD,CACR,CAAC,CACF,CACD,EAEA,mBAAoB,CAEnB,KAAK,iBAAmB,EACzB,EAEA,uBAAuBzD,EAAK,CAlwD9B,IAAAnD,EAAAC,EAAAC,EAmwDG,GAAI,CAACiD,GAAO,CAACA,EAAI,MAAO,OAGxB,IAAI1B,EAAQ,EACRqF,EAAY,EACZC,EAAsB,EAE1B5D,EAAI,MAAM,QAASnB,GAAS,CAG3BA,EAAK,IAAM,IAAIA,EAAK,IAAK,KAAK,aAAa,MAAOA,CAAI,CAAC,EAEvD,IAAMoB,EAAMpB,EAAK,KAAO,EAClBqB,EAAgB,IAAIrB,EAAK,eAAe,GAAK,EAC7CsB,EAAkB,IAAItB,EAAK,mBAAmB,GAAK,EAGrDsB,EAAkB,GAAKD,EAAgB,GAC1CrB,EAAK,gBAAkB,IACrBqB,EAAgBC,EAAmB,IACpC,KAAK,aAAa,kBAAmBtB,CAAI,CAC1C,EACAA,EAAK,KAAO,IACXqB,EAAgBrB,EAAK,gBACrB,KAAK,aAAa,OAAQA,CAAI,CAC/B,IAEAA,EAAK,KAAOqB,EACZrB,EAAK,gBAAkB,GAIxBA,EAAK,OAAS,IAAIA,EAAK,KAAOoB,EAAK,KAAK,aAAa,SAAUpB,CAAI,CAAC,EAEpEP,GAASO,EAAK,OACd8E,GAAa1D,EACb2D,GAAuB/E,EAAK,gBAAkB,KAAK,IAAIoB,CAAG,CAC3D,CAAC,EAEDD,EAAI,MAAQ,IAAI1B,EAAO,KAAK,aAAa,OAAO,CAAC,EACjD0B,EAAI,UAAY2D,EAChB3D,EAAI,yBAA2B,IAC9B4D,EACA,KAAK,aAAa,0BAA0B,CAC7C,EAIA5D,EAAI,UAAY,IAAIA,EAAI,MAAO,KAAK,aAAa,WAAW,CAAC,EAG7D,IAAM6D,GAAWhH,EAAA,KAAK,cAAL,YAAAA,EAAkB,eAC7BmC,GAAUlC,EAAA,KAAK,cAAL,YAAAA,EAAkB,cAC5BmC,EAAa,KAAIlC,EAAA,KAAK,cAAL,YAAAA,EAAkB,gBAAgB,GAAK,EACxD+G,EAAoB9E,GAAA,YAAAA,EAAS,QAAQ,WAAY,IAAI,OAEvD6E,GACH,QAAQ,IAAI,gCAAiC,IAAI7D,EAAI,SAAS,CAAC,EAG5D6D,GAAYC,GAAqB7E,EAAa,GAEjDe,EAAI,UAAY,IAAIA,EAAI,UAAW,KAAK,aAAa,WAAW,CAAC,EAE7D8D,IAAsB,aAGzB9D,EAAI,YAAc,IAAIA,EAAI,UAAW,KAAK,aAAa,aAAa,CAAC,EACrEA,EAAI,UAAY,IACfA,EAAI,WAAa,EAAIf,EAAa,KAClC,KAAK,aAAa,WAAW,CAC9B,EACAe,EAAI,wBAA0B,IAC7BA,EAAI,YAAcA,EAAI,UACtB,KAAK,aAAa,yBAAyB,CAC5C,GACU8D,IAAsB,cAIhC9D,EAAI,wBAA0B,IAC7BA,EAAI,WAAaf,EAAa,KAC9B,KAAK,aAAa,yBAAyB,CAC5C,EAEAe,EAAI,wBAA0B,IAAIA,EAAI,wBAAyB,KAAK,aAAa,yBAAyB,CAAC,EAC3GA,EAAI,YAAc,IACjBA,EAAI,UAAYA,EAAI,wBACpB,KAAK,aAAa,aAAa,CAChC,KAGDA,EAAI,wBAA0B,EAE9BA,EAAI,YAAc,IAAIA,EAAI,UAAW,KAAK,aAAa,aAAa,CAAC,GAKtE,KAAK,kBAAkBA,CAAG,EAC1B,KAAK,oBAAoBA,CAAG,EAI5B,IAAM+D,EAAkB/D,EAAI,mBAAqB,YAC7C6D,GAAY7D,EAAI,gBAAkB,GAAK+D,IAAoB,cAE9D/D,EAAI,UAAY,IAAIA,EAAI,UAAW,KAAK,aAAa,WAAW,CAAC,EAG7D8D,IAAsB,aACzB9D,EAAI,wBAA0B,IAC7BA,EAAI,WAAaf,EAAa,KAC9B,KAAK,aAAa,yBAAyB,CAC5C,EAEAe,EAAI,wBAA0B,IAAIA,EAAI,wBAAyB,KAAK,aAAa,yBAAyB,CAAC,EAC3GA,EAAI,YAAc,IACjBA,EAAI,UAAYA,EAAI,wBACpB,KAAK,aAAa,aAAa,CAChC,GACU8D,IAAsB,cAEhC9D,EAAI,YAAc,IACjBA,EAAI,WAAa,EAAIf,EAAa,KAClC,KAAK,aAAa,aAAa,CAChC,EACAe,EAAI,wBAA0B,IAC7BA,EAAI,YAAcA,EAAI,UACtB,KAAK,aAAa,yBAAyB,CAC5C,IASFA,EAAI,YAAc,IAAIA,EAAI,YAAa,KAAK,aAAa,aAAa,CAAC,EACvEA,EAAI,UAAY,IAAIA,EAAI,UAAW,KAAK,aAAa,WAAW,CAAC,CAClE,EAGA,kBAAkBA,EAAK,CAEtB,GAAI,CAACA,EAAI,gCAAkCA,EAAI,gCAAkC,EAAG,CACnFA,EAAI,gBAAkB,EACtBA,EAAI,qBAAuB,EAC3B,MACD,CAEA,IAAM+D,EAAkB/D,EAAI,mBAAqB,YAC7CgE,EAAe,EAGfD,IAAoB,cACvBC,EAAe,IAAIhE,EAAI,WAAW,GAAK,EAC7B+D,IAAoB,YAC9BC,EAAe,IAAIhE,EAAI,SAAS,GAAK,EAErCgE,EAAe,IAAIhE,EAAI,KAAK,GAAK,EAGlCA,EAAI,gBAAkB,IACpBgE,EAAehE,EAAI,+BAAkC,IACtD,KAAK,aAAa,iBAAiB,CACpC,EAGAA,EAAI,qBAAuB,IAC1BA,EAAI,iBAAmB,EACvB,KAAK,aAAa,sBAAsB,CACzC,CACD,EAEA,oBAAoBA,EAAK,CACxB,GAAI,CAACA,EAAI,iBAAmBA,EAAI,iBAAmB,EAAG,OAEtD,IAAM+D,EAAkB/D,EAAI,mBAAqB,YAI7C+D,IAAoB,cACvB/D,EAAI,YAAc,IACjBA,EAAI,YAAcA,EAAI,gBACtB,KAAK,aAAa,aAAa,CAChC,EACU+D,IAAoB,cAE9B/D,EAAI,UAAY,IACfA,EAAI,UAAYA,EAAI,gBACpB,KAAK,aAAa,WAAW,CAC9B,EAEIA,EAAI,wBAA0B,EACjCA,EAAI,YAAc,IACjBA,EAAI,UAAYA,EAAI,wBACpB,KAAK,aAAa,aAAa,CAChC,EAGAA,EAAI,YAAc,IAAIA,EAAI,UAAW,KAAK,aAAa,aAAa,CAAC,EAGxE,EAGA,4BAA4BA,EAAK,CAChC,GAAI,CAACA,GAAO,CAACA,EAAI,MAAO,MAAO,GAE/B,IAAIiE,EAAmB,GACnBC,EAAqB,GA6BzB,GA1BAlE,EAAI,MAAM,QAASnB,GAAS,CAC3B,GAAI,IAAIA,EAAK,mBAAmB,EAAI,EAAG,CACtCoF,EAAmB,GAGnB,IAAM/D,EAAgB,IAAIrB,EAAK,eAAe,EACxCsF,EAAyB,IAC7BjE,EAAgBrB,EAAK,oBAAuB,IAC7C,KAAK,aAAa,kBAAmBA,CAAI,CAC1C,EACMuF,EAAe,IACpBlE,EAAgBiE,EAChB,KAAK,aAAa,OAAQtF,CAAI,CAC/B,EAEI,KAAK,IAAIA,EAAK,gBAAkBsF,CAAsB,EAAI,IAI1D,KAAK,IAAItF,EAAK,KAAOuF,CAAY,EAAI,GAG1C,CACD,CAAC,EAGG,IAAIpE,EAAI,8BAA8B,EAAI,EAAG,CAChDkE,EAAqB,GAErB,IAAMG,EAAUrE,EAAI,mBAAqB,YACnCsE,EAAOtE,EAAI,OAAO,MAAMqE,CAAO,IAAM,EACrCE,EAAmB,IACvBD,EAAOtE,EAAI,+BAAkC,IAC9C,KAAK,aAAa,iBAAiB,CACpC,EAEI,KAAK,IAAIA,EAAI,gBAAkBuE,CAAgB,EAAI,GAGxD,CAOA,MAAO,EACR,EAEA,cAAe,CA3gEjB,IAAA1H,IA4gEOA,EAAA,KAAK,cAAL,YAAAA,EAAkB,OAAQ,KAAK,OAAS,KAAK,MAAM,QAAU,GAChE,KAAK,eAAe,CAEtB,EAEA,gBAAiB,CAjhEnB,IAAAA,EAAAC,EAAAC,EAAAW,EAAAC,EAAAS,EAAAC,EAAA6C,EAsiEG,GApBI,GAACrE,EAAA,KAAK,cAAL,MAAAA,EAAkB,OAGnB,KAAK,aAAe,KAAK,YAAY,OAAS,GAY9C,IANHC,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAA2B,KAC7CC,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAA2B,OAC7CW,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAA2B,MAC7CC,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAA2B,QAC7CS,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAA2B,SAO1C,CAAC,KAAK,OAAS,KAAK,MAAM,OAAS,EACtC,OAID,IAAMoG,EAAW,IAAGnG,EAAA,KAAK,cAAL,YAAAA,EAAkB,QAAQ,KAAK,MAAM,SACnDoG,EAAM,KAAK,IAAI,EAErB,GACC,KAAK,cACL,KAAK,aAAa,MAAQD,GAC1BC,EAAM,KAAK,aAAa,UAAY,IACnC,CAED,KAAK,gBAAgB,KAAK,aAAa,IAAI,EAC3C,MACD,CAGI,KAAK,oBAKT,KAAK,kBAAoB,GAEzB,OAAO,KAAK,CACX,OAAQhE,EAAQ,UAAU,sBAC1B,KAAM,CACL,cAAcS,EAAA,KAAK,cAAL,YAAAA,EAAkB,IACjC,EACA,SAAWR,GAAM,CAChB,KAAK,kBAAoB,GAErBA,EAAE,UAEL,KAAK,aAAe,CACnB,IAAK8D,EACL,KAAM9D,EAAE,QACR,UAAW+D,CACZ,EAEA,KAAK,gBAAgB/D,EAAE,OAAO,EAEhC,EACA,MAAQA,GAAM,CACb,KAAK,kBAAoB,EAC1B,CACD,CAAC,EACF,EAEA,iBAAiB2C,EAAQ,CAExB,OADa,KAAK,MAAM,KAAMzD,GAAOA,EAAG,aAAeyD,CAAM,CAE9D,EAEA,aAAavC,EAAO,CAEnB,OAAO,IACR,EAEA,gBAAgB4D,EAAQ,CACvBpF,EAAQ,KAAK,oBAAqBoF,CAAM,CACzC,EAEA,oBAAoBA,EAAQ,CAE3B,IAAMC,EAAM,MAAM,QAAQD,CAAM,EAAIA,EAASA,EAAS,CAACA,CAAM,EAAI,CAAC,EAGlE,GAAIC,EAAI,SAAW,EAAG,EAGpB,KAAK,+BAAiC,GACtC,KAAK,0BAA4B,KAEjC,KAAK,+BAAiC,EACtC,KAAK,0BAA4B,GAGlC,KAAK,wBAAwB,EAC7B,KAAK,YAAc,CAAC,EACpB,KAAK,wBAAwB,EAC7B,MACD,CAEA,IAAMC,EAAUD,EACd,OAAQE,GAAMA,IAAMA,EAAE,YAAcA,EAAE,MAAQA,EAAE,MAAM,EACtD,IAAKA,GAAM,CACX,IAAMC,GAAQD,EAAE,YAAcA,EAAE,MAAQ,IAAI,SAAS,EAAE,KAAK,EACtDE,GAASF,EAAE,OAAS,IAAI,SAAS,EAAE,KAAK,EACxCxB,EAASwB,EAAE,OACjB,OAAIC,EAAa,CAAE,WAAYA,EAAM,OAAAzB,EAAQ,cAAe,EAAK,EAC1D,CAAE,MAAA0B,EAAO,OAAA1B,EAAQ,cAAe,EAAK,CAC7C,CAAC,EAEF,KAAK,YAAcuB,EAGnB,KAAK,2BAA2BA,CAAO,CACxC,EAKA,2BAA2BF,EAAQ,CAClC,GAAI,CAACA,GAAUA,EAAO,SAAW,EAChC,OAID,IAAMM,EAAoBN,EAAO,OAC/BG,GACA,CAAC,cAAe,WAAY,iBAAkB,EAAE,EAAE,SACjDA,EAAE,YAAc,EACjB,GAAKA,EAAE,mBACT,EAEMI,EAAaP,EAAO,OACxBG,GACA,CAAC,YAAa,aAAc,OAAO,EAAE,SAASA,EAAE,UAAU,GAC1DA,EAAE,mBACJ,EAGA,GAAIG,EAAkB,OAAS,EAAG,CAEjCA,EAAkB,KACjB,CAACE,EAAGC,IAAM,IAAIA,EAAE,mBAAmB,EAAI,IAAID,EAAE,mBAAmB,CACjE,EACA,IAAME,EAAYJ,EAAkB,GAEpC,KAAK,+BAAiC,IAAII,EAAU,mBAAmB,EACvE,KAAK,0BAA4B,IAAIA,EAAU,mBAAmB,EAGlE,KAAK,MAAM,QAASvG,GAAS,CACxBA,EAAK,0BACRA,EAAK,oBAAsB,EAC3BA,EAAK,gBAAkB,EACvBA,EAAK,KAAOA,EAAK,gBACjB,OAAOA,EAAK,wBACZ,OAAOA,EAAK,YAEd,CAAC,CACF,MAAWoG,EAAW,OAAS,IAG9B,KAAK,+BAAiC,EACtC,KAAK,0BAA4B,EAGjCA,EAAW,QAASnE,GAAU,CAC7B,IAAMX,EAAkB,IAAIW,EAAM,mBAAmB,EAC/CuE,EAAYvE,EAAM,YAAcA,EAAM,KAE5C,KAAK,MAAM,QAASjC,GAAS,CAC5B,IAAIyG,EAAc,GAgBlB,IAbCxE,EAAM,aAAe,aACrBjC,EAAK,YAAciC,EAAM,WAIzBA,EAAM,aAAe,cACrBjC,EAAK,aAAeiC,EAAM,YAGhBA,EAAM,aAAe,SAAWjC,EAAK,QAAUiC,EAAM,SAC/DwE,EAAc,IAGXA,EAAa,CAChB,IAAMpF,EAAgB,IAAIrB,EAAK,eAAe,EAC9CA,EAAK,oBAAsBsB,EAC3BtB,EAAK,gBAAkB,IACrBqB,EAAgBC,EAAmB,IACpC,KAAK,aAAa,kBAAmBtB,CAAI,CAC1C,EACAA,EAAK,KAAO,IACXqB,EAAgBrB,EAAK,gBACrB,KAAK,aAAa,OAAQA,CAAI,CAC/B,EACAA,EAAK,wBAA0B,GAC/BA,EAAK,YAAcwG,CACpB,CACD,CAAC,CACF,CAAC,GAGF,KAAK,wBAAwB,CAC9B,EAKA,eAAevE,EAAO,CACrB,IAAMX,EAAkB,IAAIW,EAAM,mBAAmB,EAC/CyE,EAAYzE,EAAM,WAExB,GAAI,CAACX,GAAmB,CAACoF,EAAW,OAEpC,IAAMF,EAAYvE,EAAM,MAAQA,EAAM,WAClC0E,EAAyB,GAE7B,KAAK,MAAM,QAAS3G,GAAS,CAC5B,IAAIyG,EAAc,IAEdC,IAAc,aAAe1G,EAAK,YAAciC,EAAM,WAE/CyE,IAAc,cAAgB1G,EAAK,aAAeiC,EAAM,YAExDyE,IAAc,SAAW1G,EAAK,QAAUiC,EAAM,SACxDwE,EAAc,IAKdA,IACC,CAACzG,EAAK,yBAA2BA,EAAK,cAAgBwG,KAIlDxG,EAAK,gCACTA,EAAK,8BAAgC,IAAIA,EAAK,qBAAuB,CAAC,GAIvEA,EAAK,wBAA0B,GAC/BA,EAAK,YAAcwG,EAEnBxG,EAAK,oBAAsBsB,EAG3BtB,EAAK,KAAO,KAAK,yBAAyBA,EAAMsB,CAAe,EAC/DtB,EAAK,OAAS,KAAK,oBAAoBA,CAAI,EAGtC2G,IACC,KAAK,cACT,KAAK,YAAc,CAAC,GAID,KAAK,YAAY,KACnCX,GAAMA,EAAE,aAAeQ,GAAaR,EAAE,aAAeU,CACvD,IAGC,KAAK,YAAY,KAAK,CACrB,WAAYF,EACZ,WAAYE,EACZ,oBAAqBpF,EACrB,cAAe,GACf,OAAQtB,EAAK,aAAeA,EAAK,MAAQ,EAC1C,CAAC,EACD2G,EAAyB,KAI7B,CAAC,EAGD,KAAK,wBAAwB,CAC9B,EAEA,iBAAiBC,EAAc,CAC9B,IAAM9F,EAAQ,KAAK,YAAY,UAAWC,GAAOA,EAAG,SAAW6F,EAAa,MAAM,EAC9E9F,EAAQ,IACX,KAAK,YAAY,OAAOA,EAAO,CAAC,CAElC,EAEA,cAAcmB,EAAO,CACpB,IAAM4E,EAAW,CAChB,WAAY5E,EAAM,KAClB,OAAQA,EAAM,OACd,SAAUA,EAAM,SAChB,MAAOA,EAAM,MACb,MAAO,KAAK,UAAUA,EAAM,KAAK,EACjC,UAAWA,EAAM,UACjB,iBAAkBA,EAAM,iBACxB,cAAeA,EAAM,aACtB,EACA,KAAK,YAAY,KAAK4E,CAAQ,CAC/B,EAMA,yBAA0B,CA10E5B,IAAA7I,EAi1EG,GALI,GAACA,EAAA,KAAK,cAAL,MAAAA,EAAkB,yBAKnB,CAAC,KAAK,gBAAkB,KAAK,eAAe,SAAW,EAC1D,OAID,GAAI,CAAC,KAAK,OAAS,KAAK,MAAM,SAAW,EAAG,CAC3C,KAAK,oBAAoB,EACzB,MACD,CAGA,IAAM8I,EAAW,KAAK,MAAM,OAAO,CAACxI,EAAK0B,IAAS1B,EAAM,IAAI0B,EAAK,KAAO,CAAC,EAAG,CAAC,EACvE+G,EAAc,KAAK,MAAM,OAC9B,CAACzI,EAAK0B,IAAS1B,EAAM,IAAI0B,EAAK,KAAO,CAAC,EAAI,IAAIA,EAAK,MAAQ,CAAC,EAC5D,CACD,EAGMgH,EAAmB,KAAK,eAAe,OAAQ/E,GAAU,CAn2ElE,IAAAjE,EAq2EI,IAAMiJ,EAAQ,OAAO,SAAS,QAAQ,EAkBtC,OAjBIhF,EAAM,YAAcgF,EAAQhF,EAAM,YAClCA,EAAM,YAAcgF,EAAQhF,EAAM,YAGlCA,EAAM,SAAW6E,EAAW,IAAI7E,EAAM,OAAO,GAC7CA,EAAM,SAAW6E,EAAW,IAAI7E,EAAM,OAAO,GAG7CA,EAAM,SAAW8E,EAAc,IAAI9E,EAAM,OAAO,GAChDA,EAAM,SAAW8E,EAAc,IAAI9E,EAAM,OAAO,GAGhDA,EAAM,aAAe,YAAcA,EAAM,WAAa,KAAK,UAK3DA,EAAM,aAAe,mBAEvB,GAACjE,EAAA,KAAK,gBAAL,MAAAA,EAAoB,iBACrB,KAAK,cAAc,iBAAmBiE,EAAM,gBAErC,GAKLA,EAAM,aAAe,YACjB,KAAK,MAAM,KAAMjC,GAASA,EAAK,YAAciC,EAAM,SAAS,EAGhEA,EAAM,aAAe,aACjB,KAAK,MAAM,KAAMjC,GAASA,EAAK,aAAeiC,EAAM,UAAU,EAGlEA,EAAM,aAAe,QACjB,KAAK,MAAM,KAAMjC,GAASA,EAAK,QAAUiC,EAAM,KAAK,EAGrD,EACR,CAAC,EAGD,KAAK,qBAAqB+E,CAAgB,CAC3C,EAKA,qBAAqBnB,EAAQ,CAC5B,GAAI,CAACA,GAAUA,EAAO,SAAW,EAAG,CACnC,KAAK,oBAAoB,EACzB,MACD,CAGA,IAAMqB,EAAerB,EAAO,KAAK,CAACQ,EAAGC,IAChCD,EAAE,MAAQ,CAACC,EAAE,KAAa,GAC1B,CAACD,EAAE,MAAQC,EAAE,KAAa,EACvB,IAAIA,EAAE,mBAAmB,EAAI,IAAID,EAAE,mBAAmB,CAC7D,EAGKc,EAAmBD,EAAa,KACpCjF,GACAA,EAAM,MACNA,EAAM,qBACN,CAAC,cAAe,WAAY,iBAAkB,EAAE,EAAE,SACjDA,EAAM,YAAc,EACrB,CACF,EAEIkF,GACH,KAAK,+BAAiC,IAAIA,EAAiB,mBAAmB,EAC9E,KAAK,0BAA4B,IAAIA,EAAiB,mBAAmB,EAGzE,KAAK,YAAc,CAClB,CACC,WAAYA,EAAiB,KAC7B,WAAYA,EAAiB,WAC7B,oBAAqBA,EAAiB,oBACtC,cAAe,GACf,OAAQ,EACT,CACD,GAGA,KAAK,YAAc,CAAC,EAIrB,IAAMC,EAAoB,IAAI,IAE9BF,EAAa,QAASjF,GAAU,CAC/B,GAAI,CAACA,EAAM,MAAQ,CAACA,EAAM,oBAAqB,OAE/C,IAAMuE,EAAYvE,EAAM,YAAcA,EAAM,KAC5C,KAAK,MAAM,QAASjC,GAAS,CAC5B,IAAIyG,EAAc,GAkBlB,IAhBIxE,EAAM,aAAe,aAAejC,EAAK,YAAciC,EAAM,WAGhEA,EAAM,aAAe,cACrBjC,EAAK,aAAeiC,EAAM,YAGhBA,EAAM,aAAe,SAAWjC,EAAK,QAAUiC,EAAM,SAC/DwE,EAAc,IAKdA,IACC,CAACzG,EAAK,yBAA2BA,EAAK,cAAgBwG,GAE1C,CAEb,IAAMa,EAAW,GAAGb,KAAavE,EAAM,aAClCmF,EAAkB,IAAIC,CAAQ,IAClCD,EAAkB,IAAIC,CAAQ,EAGzB,KAAK,cACT,KAAK,YAAc,CAAC,GAGrB,KAAK,YAAY,KAAK,CACrB,WAAYb,EACZ,WAAYvE,EAAM,WAClB,oBAAqBA,EAAM,oBAC3B,cAAe,GACf,OAAQjC,EAAK,MAAQA,EAAK,KAAO,EAClC,CAAC,GAIGA,EAAK,gCACTA,EAAK,8BAAgC,IACpCA,EAAK,qBAAuB,CAC7B,GAIDA,EAAK,wBAA0B,GAC/BA,EAAK,YAAcwG,EAEnBxG,EAAK,oBAAsB,IAAIiC,EAAM,mBAAmB,EAGxDjC,EAAK,KAAO,KAAK,yBAChBA,EACA,IAAIiC,EAAM,mBAAmB,CAC9B,EACAjC,EAAK,OAAS,KAAK,oBAAoBA,CAAI,CAC5C,CACD,CAAC,CACF,CAAC,EAGD,KAAK,wBAAwB,CAC9B,EAKA,qBAAsB,EAEjB,KAAK,+BAAiC,GAAK,KAAK,0BAA4B,KAC/E,KAAK,+BAAiC,EACtC,KAAK,0BAA4B,IAE9B,CAAC,KAAK,aAAe,KAAK,YAAY,SAAW,KACpD,KAAK,YAAc,CAAC,EAEtB,EAMA,wBAAwBwG,EAAY,KAAM,CACzC,IAAIc,EAAgB,GAEpB,YAAK,MAAM,QAAStH,GAAS,CAE5B,GAAIA,EAAK,wBAAyB,CAEjC,GAAIwG,GAAaxG,EAAK,cAAgBwG,EACrC,OAID,IAAMe,EAAmB,IAAIvH,EAAK,+BAAiC,CAAC,EACpEA,EAAK,oBAAsBuH,EAG3B,IAAMC,EAAa,IAAIxH,EAAK,eAAe,GAAK,EAChD,GAAIwH,EAAa,EAAG,CACnB,GAAID,EAAmB,EAAG,CACzB,IAAME,EAAmBD,EAAaD,EAAoB,IAG1DvH,EAAK,KAAO,IAAIwH,EAAaC,CAAe,CAC7C,MAECzH,EAAK,KAAOwH,EAEbxH,EAAK,OAAS,KAAK,oBAAoBA,CAAI,CAC5C,CAGA,OAAOA,EAAK,wBACZ,OAAOA,EAAK,YACZ,OAAOA,EAAK,8BAEZsH,EAAgB,EACjB,CACD,CAAC,EAGGA,GACH,KAAK,wBAAwB,EAGvBA,CACR,EAEA,cAAe,CAEd,GAAI,CAAC,KAAK,aAAe,KAAK,WAAY,OAG1C,IAAMnG,EAAM,KAAK,gBAAgB,OAAO,EACxC,KAAK,uBAAuBA,CAAG,EAM/B,IAAMuG,EAAevG,EAAI,iBAAmB,IAAQA,EAAI,gBAAkB,EAEpEwG,GACLxG,GAAA,YAAAA,EAAK,aACLA,GAAA,YAAAA,EAAK,iCACL,KAAK,IAAI,KAAK,IAAIA,EAAI,+BAA+B,aAAe,CAAC,CAAC,GAAK,IAEtEyG,EAAqB,KAAK,kCAAoC,GACpE,GACC,CAACF,GACD,CAACC,GACD,CAACC,GACD,CAAC,KAAK,iBAAiBzG,CAAG,EACzB,CAEDV,EAAQ,KAAK,cAAe,CAC3B,KAAM,qQACN,MAAO,SACR,CAAC,EACD,MACD,CAEA,KAAK,WAAa,GAElBA,EAAQ,KAAK,eAAgB,CAAE,KAAM,+EAAoB,MAAO,MAAO,CAAC,GAIpE,CAACU,EAAI,MAAQA,EAAI,YAAc,KAClCA,EAAI,UAAY,GAIjB,IAAM0G,EAAc1G,EAAI,UACrBA,EAAI,eACH,iBACA,eACD,aACG2G,EAAgB3G,EAAI,KACvB,mBAAmBA,EAAI,OACvB,uBACH,QAAQ,IAAI,8BAA8B2G,YAAwBD,GAAa,EAG/E,OAAO,KAAK,CACX,OAAQ,yDACR,KAAM,CACL,YAAa1G,CACd,EACA,SAAWU,GAAM,CAxoFrB,IAAA7D,EAAAC,EA4oFK,GAHAwC,EAAQ,KAAK,cAAc,EAC3B,KAAK,WAAa,IAEdzC,EAAA6D,EAAE,UAAF,MAAA7D,EAAW,KAAM,CACpB,IAAM+J,GAAe9J,EAAA,KAAK,cAAL,YAAAA,EAAkB,kBAGjC+J,EAAY,OAAO,OAAO,aAC/B,2CAA2CnG,EAAE,QAAQ,eAAekG,mCACrE,EAEA,OAAO,KAAKC,CAAS,EAErBvH,EAAQ,KAAK,mBAAoBoB,EAAE,QAAQ,IAAI,EAG/CpB,EAAQ,KAAK,mBAAmB,EAGhC,KAAK,sBAAsB,EAG3BA,EAAQ,KAAK,eAAgB,OAAO,EAEpCA,EAAQ,KAAK,mBAAmB,EAGhCA,EAAQ,KAAK,qBAAqB,CACnC,MACCA,EAAQ,KAAK,cAAe,CAE3B,KAAM,gEACN,MAAO,OACR,CAAC,CAEH,EACA,MAAQqB,GAAQ,CACfrB,EAAQ,KAAK,cAAc,EAC3B,KAAK,WAAa,GAClBA,EAAQ,KAAK,cAAe,CAC3B,MAAMqB,GAAA,YAAAA,EAAK,UAAW,mBACtB,MAAO,OACR,CAAC,CACF,CACD,CAAC,CACF,EAEA,mBAAmB9B,EAAM,CAExB,GAAI,GAACA,GAAQ,CAACA,EAAK,WAAa,CAAC,KAAK,UAItC,GAAI,CAEH,IAAMiI,EAAc,KAAK,SAAS,KAChCC,GAAYA,EAAQ,YAAclI,EAAK,SACzC,EAEIiI,IAEoB,CACtB,kBACA,OACA,YACA,WACA,aACA,YACA,YACA,aACA,iBACA,gBACA,WACD,EAEe,QAASE,GAAU,CAC7BF,EAAY,eAAeE,CAAK,IACnCnI,EAAKmI,GAASF,EAAYE,GAE5B,CAAC,EAGDnI,EAAK,cAAgB,GAEvB,OAAS2B,EAAP,CACD,QAAQ,IAAI,0CAA2CA,CAAK,CAC7D,CACD,CACD,EAEA,SAAU,CAETlB,EAAQ,GAAG,yBAA0B,IAAM,CAC1C,KAAK,aAAa,CACnB,CAAC,EAIDA,EAAQ,GAAG,uBAAyBuB,GAAS,CA3uF/C,IAAAhE,EAAAC,EA4uFG,KAAK,YAAc+D,EAAK,YACxB,KAAK,aAAYhE,EAAAgE,EAAK,cAAL,YAAAhE,EAAkB,QAAQ,EAC3C,KAAK,kBAAoBgE,EAAK,kBAM9B,KAAK,gBAAkB,EACvB,KAAK,mBAAqB,EAC1B,KAAK,YAAc,UACnBvB,EAAQ,KAAK,sBAAuB,KAAK,WAAW,EAEpD,QAAQ,IAAI,wCAAwCxC,EAAA+D,EAAK,cAAL,YAAA/D,EAAkB,IAAI,CAC3E,CAAC,EACDwC,EAAQ,GAAG,WAAaT,GAAS,CAChC,KAAK,SAASA,CAAI,CACnB,CAAC,EACDS,EAAQ,GAAG,kBAAoB+C,GAAa,CAC3C,KAAK,YAAYA,CAAQ,EAErB,KAAK,gBAAkBA,IAC1B,KAAK,cAAgBA,EACrB,KAAK,wBAAwB,EAE/B,CAAC,EACD/C,EAAQ,GAAG,yBAA0B,IAAM,CAC1C,KAAK,uBAAuB,CAC7B,CAAC,EACDA,EAAQ,GAAG,cAAe,IAAM,CAE/B,KAAK,sBAAsB,EAC3BA,EAAQ,KAAK,eAAgB,OAAO,CACrC,CAAC,EACDA,EAAQ,GAAG,eAAiBuB,GAAS,CA9wFvC,IAAAhE,EA+wFG,KAAK,YAAYgE,CAAI,GAEjBhE,EAAA,KAAK,cAAL,MAAAA,EAAkB,YACrB,KAAK,+BAAiC,CAACgE,EAAK,+BAC5C,KAAK,WAAaA,EAIpB,CAAC,EAEDvB,EAAQ,GAAG,aAAeuB,GAAS,CAClC,KAAK,UAAYA,EAEjB,KAAK,eAAiBA,GAAQ,CAAC,EAE3B,KAAK,OAAS,KAAK,MAAM,OAAS,GACrC,KAAK,wBAAwB,CAE/B,CAAC,EACDvB,EAAQ,GAAG,wBAA0BuB,GAAS,CAC7C,KAAK,oBAAoBA,CAAI,CAC9B,CAAC,EACDvB,EAAQ,GAAG,gBAAkBuB,GAAS,CACrC,KAAK,SAAWA,EAChB,KAAK,MAAM,QAAShC,GAAS,CAC5B,KAAK,mBAAmBA,CAAI,CAC7B,CAAC,CACF,CAAC,EACDS,EAAQ,GAAG,sBAAwBuB,GAAS,CA3yF9C,IAAAhE,EA6yFOgE,EAAK,gCACRA,EAAK,YAAY,+BAChBA,EAAK,+BAGP,KAAK,YAAYA,EAAK,WAAW,IAG7BhE,EAAAgE,EAAK,cAAL,YAAAhE,EAAkB,YAAagE,EAAK,aACvC,KAAK,mBAAqB,GAC1BvB,EAAQ,KAAK,sBAAuB,EAAK,GAItCuB,EAAK,YACR,KAAK,+BACJ,CAACA,EAAK,WAAW,gCAAkC,EACpD,KAAK,WAAaA,EAAK,aAGvB,KAAK,+BAAiC,EACtC,KAAK,WAAa,MAInB,KAAK,UAAU,IAAM,CACpB,KAAK,aAAa,CACnB,CAAC,CACF,CAAC,EAGDvB,EAAQ,GAAG,qBAAuB2H,GAAkB,CA50FtD,IAAApK,EA60FG,GAAIoK,GAAiBA,EAAc,KAAM,CAExC,KAAIpK,EAAA,KAAK,cAAL,YAAAA,EAAkB,QAASoK,EAAc,KAAM,CAClD,QAAQ,IAAI,6CAA8CA,EAAc,IAAI,EAC5E,MACD,CAGA,KAAK,YAAYA,CAAa,EAC9B,QAAQ,IAAI,qCAAsCA,EAAc,IAAI,EACpE3H,EAAQ,KAAK,cAAe,CAC3B,KAAM,iGAAsB2H,EAAc,OAC1C,MAAO,SACR,CAAC,CACF,CACD,CAAC,EAGD3H,EAAQ,GAAG,aAAeT,GAAS,CAElC,KAAK,wBAAwB,CAC9B,CAAC,EAEDS,EAAQ,GAAG,eAAiBT,GAAS,CAEpC,KAAK,wBAAwB,CAC9B,CAAC,EAEDS,EAAQ,GAAG,eAAiBT,GAAS,CAEpC,KAAK,wBAAwB,CAC9B,CAAC,EAED,KAAK,UAAU,IAAM,CAErB,CAAC,EACDS,EAAQ,GAAG,2BAA6BU,GAAQ,CAC/C,KAAK,YAAcA,CACpB,CAAC,EACDV,EAAQ,GAAG,mBAAqBpB,GAAa,CACxC,KAAK,cACR,KAAK,YAAY,SAAWA,GAAY,CAAC,EACzC,KAAK,aAAa,EAEpB,CAAC,EACDoB,EAAQ,GAAG,wBAAyB,IAAM,CA13F5C,IAAAzC,EAAAC,EA43FG,IAAMyJ,IACL1J,EAAA,KAAK,cAAL,YAAAA,EAAkB,kBAAmB,MAAQC,EAAA,KAAK,cAAL,YAAAA,EAAkB,iBAAkB,EAE5E2J,EAAqB,KAAK,kCAAoC,GACpE,GAAI,CAACF,GAAgB,CAACE,GAAsB,CAAC,KAAK,gBAAgB,EAAG,CACpEnH,EAAQ,KAAK,cAAe,CAC3B,KAAM,iDACN,MAAO,SACR,CAAC,EACD,MACD,CACA,KAAK,aAAa,CACnB,CAAC,EAIDA,EAAQ,GAAG,0CAA4CyD,GAAU,CAC5D,KAAK,aAER,KAAK,YAAY,eAAiB,EAAAA,EAElC,KAAK,gCAAkC,EAAAA,EAEvC,KAAK,UAAU,IAAM,CACpB,KAAK,aAAa,CACnB,CAAC,IAGD,KAAK,gCAAkC,EAAAA,EAEvC,KAAK,UAAU,IAAM,CACpB,KAAK,aAAa,CACnB,CAAC,EAEH,CAAC,CACF,EACA,SAAU,CAIT,KAAK,uBAAyB,KAAK,iBAAiB,KAAK,IAAI,EAC7D,KAAK,2BAA6B,KAAK,qBAAqB,KAAK,IAAI,EACrE,KAAK,yBAA2B,KAAK,mBAAmB,KAAK,IAAI,EACjE,KAAK,0BAA4B,KAAK,oBAAoB,KAAK,IAAI,EAGnE,SAAS,iBAAiB,UAAW,KAAK,sBAAsB,EAChE,SAAS,iBAAiB,UAAW,KAAK,0BAA0B,EACpE,SAAS,iBAAiB,UAAW,KAAK,wBAAwB,EAClE,SAAS,iBAAiB,UAAW,KAAK,yBAAyB,EAEnE,KAAK,2BAA2B,EAChC,OAAO,iBAAiB,SAAU,KAAK,0BAA0B,CAClE,EACA,eAAgB,CAIf,OAAO,oBAAoB,SAAU,KAAK,0BAA0B,EAEpE,SAAS,oBAAoB,UAAW,KAAK,sBAAsB,EACnE,SAAS,oBAAoB,UAAW,KAAK,0BAA0B,EACvE,SAAS,oBAAoB,UAAW,KAAK,wBAAwB,EACrE,SAAS,oBAAoB,UAAW,KAAK,yBAAyB,EAGtEzD,EAAQ,IAAI,sBAAsB,EAClCA,EAAQ,IAAI,UAAU,EACtBA,EAAQ,IAAI,iBAAiB,EAC7BA,EAAQ,IAAI,wBAAwB,EACpCA,EAAQ,IAAI,aAAa,EACzBA,EAAQ,IAAI,cAAc,EAC1BA,EAAQ,IAAI,YAAY,EACxBA,EAAQ,IAAI,uBAAuB,EACnCA,EAAQ,IAAI,eAAe,EAC3BA,EAAQ,IAAI,qBAAqB,EACjCA,EAAQ,IAAI,oBAAoB,EAChCA,EAAQ,IAAI,YAAY,EACxBA,EAAQ,IAAI,cAAc,EAC1BA,EAAQ,IAAI,cAAc,EAC1BA,EAAQ,IAAI,0BAA0B,EACtCA,EAAQ,IAAI,kBAAkB,EAC9BA,EAAQ,IAAI,uBAAuB,EACnCA,EAAQ,IAAI,wBAAwB,EACpCA,EAAQ,IAAI,yCAAyC,EAGjD,KAAK,sBACR,aAAa,KAAK,mBAAmB,EACrC,KAAK,oBAAsB,MAExB,KAAK,mBACR,aAAa,KAAK,gBAAgB,EAClC,KAAK,iBAAmB,MAIzB,KAAK,eAAiB,CAAC,EACvB,KAAK,cAAgB,IACtB,EAEA,MAAO,CACN,0BAA0B4H,EAAQC,EAAQ,CACrCD,IAAWC,GAAU,KAAK,WAG/B,EACA,iBAAkB,CAElB,EACA,aAAc,CACb,QAAQD,EAAQC,EAAQ,CACvB,GAAI,CAACD,EAAQ,OAEb,IAAMpG,EAAQoG,EAGd,GACCpG,EAAM,qBACN,CAAC,cAAe,WAAY,iBAAkB,EAAE,EAAE,SACjDA,EAAM,YAAc,EACrB,EACC,CAED,KAAK,+BAAiC,IAAIA,EAAM,mBAAmB,EACnE,KAAK,0BAA4B,IAAIA,EAAM,mBAAmB,EAG9D,KAAK,UAAU,IAAM,CACpB,KAAK,uBAAuB,CAC7B,CAAC,EACD,MACD,CAGA,GACCA,EAAM,YACN,CAAC,YAAa,aAAc,OAAO,EAAE,SAASA,EAAM,UAAU,GAC9DA,EAAM,oBACL,CACD,KAAK,eAAeA,CAAK,EACzB,MACD,CAMD,EACA,KAAM,GACN,UAAW,EACZ,EACA,aAAc,CACb,QAAQsG,EAAc,CAErB,GAAI,CAACA,GAAgBA,IAAiB,GAAO,OAG7C,GAAIA,IAAiB,GAAM,EAGzB,KAAK,+BAAiC,GACtC,KAAK,0BAA4B,KAEjC,KAAK,+BAAiC,EACtC,KAAK,0BAA4B,GAGlC,KAAK,wBAAwB,EAG7B,KAAK,UAAU,IAAM,CACpB,KAAK,wBAAwB,CAC9B,CAAC,EACD,MACD,CAGA,IAAM7B,EAAY6B,EAAa,YAAc,GACvC/B,EAAY+B,EAAa,MAAQA,EAAa,WAG9CC,EAAqB,CAC1B,cACA,WACA,iBACA,EACD,EAAE,SAAS9B,CAAS,EAGd+B,EAAc,CAAC,YAAa,aAAc,OAAO,EAAE,SAAS/B,CAAS,EAqB3E,GAlBI8B,IAGF,KAAK,+BAAiC,GACtC,KAAK,0BAA4B,KAEjC,KAAK,+BAAiC,EACtC,KAAK,0BAA4B,GAK/BC,GACH,KAAK,wBAAwBjC,CAAS,EAKnC,CAACgC,GAAsB,CAACC,GAAejC,GAMtC,CAJiB,KAAK,wBAAwBA,CAAS,GAItC+B,EAAa,oBAAqB,CACtD,IAAMG,EAAkB,IAAIH,EAAa,mBAAmB,GAE3D,KAAK,iCAAmCG,GACxC,KAAK,4BAA8BA,KAEnC,KAAK,+BAAiC,EACtC,KAAK,0BAA4B,EAEnC,CAID,KAAK,UAAU,IAAM,CACpB,KAAK,wBAAwB,CAC9B,CAAC,CACF,EACA,UAAW,EACZ,CACD,CACD,ECvmGA,IAAMC,GAAa,CAAE,MAAO,CAAC,SAAW,WAAW,aAAa,IAAI,QAAU,OAAO,iBAAiB,SAAS,YAAY,IAAI,OAAS,MAAM,CAAE,EAC1IC,GAAa,CAAE,MAAO,CAAC,MAAQ,OAAO,kBAAkB,WAAW,WAAa,QAAQ,YAAY,UAAU,eAAe,OAAO,cAAc,QAAQ,CAAE,EAC5JC,GAAa,CACjB,IAAK,EACL,MAAO,CAAC,QAAU,oBAAoB,iBAAiB,SAAS,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,GAAG,CACvJ,EACMC,GAAa,CAAC,OAAO,EACrBC,GAAa,CACjB,IAAK,EACL,MAAO,CAAC,QAAU,WAAW,iBAAiB,SAAS,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,IAAI,aAAa,QAAQ,CACpK,EACMC,GAAa,CAAC,OAAO,EACrBC,GAAa,CACjB,IAAK,EACL,MAAO,CAAC,QAAU,WAAW,iBAAiB,SAAS,YAAY,OAAO,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,GAAG,CACjK,EACMC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,kBAAkB,gBAAgB,IAAM,MAAM,QAAU,MAAM,WAAa;AAAA;AAAA;AAAA;AAAA,aAAgJ,gBAAgB,MAAM,MAAQ,OAAO,YAAY,IAAI,aAAa,aAAa,SAAW,QAAQ,CAAE,EAC9XC,GAAa,CAAC,UAAW,UAAU,EACnCC,GAA2BC,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,cAAc,GAAG,CAAE,EAAG,SAAK,EAAgB,EACtJC,GAAc,CAClBF,EACF,EACMG,GAAc,CAAC,QAAS,UAAW,WAAY,QAAQ,EACvDC,GAAc,CAAC,SAAS,EACxBC,GAA2BJ,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,cAAc,GAAG,CAAE,EAAG,IAAK,EAAgB,EACtJK,GAAc,CAClBD,EACF,EACME,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,WAAW,iBAAiB,SAAS,aAAa,SAAS,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,GAAG,CACpK,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,WAAW,iBAAiB,SAAS,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,IAAI,YAAY,MAAM,CACjK,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,WAAW,iBAAiB,SAAS,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,IAAI,YAAY,OAAO,gBAAgB,QAAQ,CAC1L,EACMC,GAAc,CAAC,QAAS,WAAY,UAAW,SAAU,UAAU,EACnEC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,WAAW,iBAAiB,SAAS,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,IAAI,YAAY,MAAM,CACjK,EACMC,GAAc,CAAC,QAAS,WAAY,UAAW,SAAU,WAAY,KAAK,EAC1EC,GAA2BZ,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,UAAU,cAAc,SAAS,cAAc,GAAG,CAAE,EAAG,IAAK,EAAgB,EAC/La,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,SAAW,WAAW,IAAM,OAAO,MAAQ,OAAO,WAAa,UAAU,MAAQ,QAAQ,YAAY,SAAS,cAAc,MAAM,QAAU,UAAU,gBAAgB,MAAM,cAAc,GAAG,CACvM,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,WAAW,iBAAiB,SAAS,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,IAAI,YAAY,OAAO,gBAAgB,QAAQ,CAC1L,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,SAAW,WAAW,IAAM,OAAO,MAAQ,OAAO,WAAa,UAAU,MAAQ,QAAQ,YAAY,SAAS,cAAc,MAAM,QAAU,UAAU,gBAAgB,MAAM,cAAc,GAAG,CACvM,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,WAAW,iBAAiB,SAAS,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,GAAG,CAC9I,EACMC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,QAAU,UAAU,WAAa;AAAA;AAAA;AAAA;AAAA,aAAgJ,gBAAgB,MAAM,YAAY,IAAI,kBAAkB,SAAS,SAAW,QAAQ,CAAE,EACnVC,GAAc,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,UAAU,cAAc,SAAS,SAAW,SAAS,gBAAgB,UAAU,CAAE,EAC3JC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,WAAW,iBAAiB,SAAS,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,GAAG,CAC9I,EACMC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,kBAAkB,SAAS,cAAc,QAAQ,CAAE,EAC5FC,GAAc,CAAC,WAAY,SAAS,EACpCC,GAA2BtB,EAAoB,IAAK,CACxD,MAAO,iBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,UAAU,cAAc,IAAI,QAAU,QAAQ,iBAAiB,MAAM,CAC1G,EAAG,KAAM,EAAgB,EACnBuB,GAAc,CAClBD,EACF,EACME,GAAc,CAAE,MAAO,CAAC,SAAW,QAAQ,OAAS,IAAI,KAAO,IAAI,MAAQ,IAAI,WAAa,YAAY,gBAAgB,cAAc,QAAU,MAAM,OAAS,oBAAoB,gBAAgB,OAAO,aAAa,iCAAiC,UAAU,KAAK,CAAE,EACzQC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,wBAAwB,uCAAuC,IAAM,MAAM,gBAAgB,MAAM,QAAU,MAAM,WAAa,oDAAoD,gBAAgB,KAAK,CAAE,EAClPC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,QAAU,UAAU,WAAa,QAAQ,gBAAgB,MAAM,OAAS,mBAAmB,CAAE,EAChKC,GAA2B3B,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,gBAAgB,IAAI,cAAc,MAAM,MAAQ,OAAO,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,iBAAiB,YAAY,iBAAiB,OAAO,CAAE,EAAG,CACtQ4B,EAAoB,aAAa,EACjCC,EAAiB,4EAAgB,CAChD,EAAG,EAAgB,EACbC,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,cAAc,KAAK,CAAE,EAC9KC,GAAc,CAAC,QAAS,MAAO,UAAU,EACzCC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,SAAW,WAAW,IAAM,OAAO,MAAQ,OAAO,WAAa,UAAU,MAAQ,QAAQ,YAAY,SAAS,cAAc,MAAM,QAAU,UAAU,gBAAgB,MAAM,cAAc,GAAG,CACvM,EACMC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,QAAU,UAAU,WAAa,QAAQ,gBAAgB,MAAM,OAAS,mBAAmB,CAAE,EAChKC,GAA2BlC,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,gBAAgB,IAAI,cAAc,MAAM,MAAQ,OAAO,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,iBAAiB,YAAY,iBAAiB,OAAO,CAAE,EAAG,CACtQ4B,EAAoB,kBAAkB,EACtCC,EAAiB,gEAAc,CAC9C,EAAG,EAAgB,EACbM,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,cAAc,KAAK,CAAE,EAC9KC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,QAAU,UAAU,WAAa,QAAQ,gBAAgB,MAAM,OAAS,mBAAmB,CAAE,EAChKC,GAA2BrC,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,gBAAgB,IAAI,cAAc,MAAM,MAAQ,OAAO,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,iBAAiB,YAAY,iBAAiB,OAAO,CAAE,EAAG,CACtQ4B,EAAoB,oBAAoB,EACxCC,EAAiB,qGAAqB,CACrD,EAAG,EAAgB,EACbS,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,cAAc,KAAK,CAAE,EAC9KC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,QAAU,UAAU,WAAa,QAAQ,gBAAgB,MAAM,OAAS,mBAAmB,CAAE,EAChKC,GAA2BxC,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,gBAAgB,IAAI,cAAc,MAAM,MAAQ,OAAO,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,iBAAiB,YAAY,iBAAiB,OAAO,CAAE,EAAG,CACtQ4B,EAAoB,aAAa,EACjCC,EAAiB,uCAAS,CACzC,EAAG,EAAgB,EACbY,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,cAAc,KAAK,CAAE,EAC9KC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,QAAU,UAAU,WAAa,QAAQ,gBAAgB,MAAM,OAAS,mBAAmB,CAAE,EAChKC,GAA2B3C,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,gBAAgB,IAAI,cAAc,MAAM,MAAQ,OAAO,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,iBAAiB,YAAY,iBAAiB,OAAO,CAAE,EAAG,CACtQ4B,EAAoB,OAAO,EAC3BC,EAAiB,6CAAU,CAC1C,EAAG,EAAgB,EACbe,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,cAAc,KAAK,CAAE,EAC9KC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,QAAU,UAAU,WAAa,QAAQ,gBAAgB,MAAM,OAAS,mBAAmB,CAAE,EAChKC,GAA2B9C,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,gBAAgB,IAAI,cAAc,MAAM,MAAQ,UAAU,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,iBAAiB,YAAY,iBAAiB,OAAO,CAAE,EAAG,CACzQ4B,EAAoB,eAAe,EACnCC,EAAiB,kFAAiB,CACjD,EAAG,EAAgB,EACbkB,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,cAAc,KAAK,CAAE,EAC9KC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,WAAa,QAAQ,QAAU,MAAM,gBAAgB,MAAM,MAAQ,OAAO,aAAa,qCAAqC,CAAE,EACnLC,GAAc,CAAC,UAAU,EACzBC,GAA2BlD,EAAoB,IAAK,CACxD,MAAO,kBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnBmD,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,CAAE,EAC/CC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,KAAO,IAAI,QAAU,UAAU,gBAAgB,MAAM,WAAa,oDAAoD,MAAQ,QAAQ,YAAY,UAAU,cAAc,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,IAAM,MAAM,aAAa,QAAQ,CAC9R,EACMC,GAA2BrD,EAAoB,IAAK,CACxD,MAAO,gBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnBsD,GAA2BtD,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,SAAS,CAAE,EAAG,8HAA2B,EAAgB,EACtIuD,GAAc,CAClBF,GACAC,EACF,EACME,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,KAAO,IAAI,QAAU,UAAU,gBAAgB,MAAM,WAAa,oDAAoD,MAAQ,QAAQ,YAAY,UAAU,cAAc,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,IAAM,MAAM,aAAa,QAAQ,CAC9R,EACMC,GAA2BzD,EAAoB,IAAK,CACxD,MAAO,gBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnB0D,GAA2B1D,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,SAAS,CAAE,EAAG,wHAA0B,EAAgB,EACrI2D,GAAc,CAClBF,GACAC,EACF,EACME,GAAc,CAAC,UAAU,EACzBC,GAA2B7D,EAAoB,IAAK,CACxD,MAAO,wBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnB8D,GAA2B9D,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,SAAS,CAAE,EAAG,qBAAO,EAAgB,EAClH+D,GAAc,CAAC,UAAU,EACzBC,GAA2BhE,EAAoB,IAAK,CACxD,MAAO,0BACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnBiE,GAA2BjE,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,SAAS,CAAE,EAAG,sEAAgB,EAAgB,EAC3HkE,GAAc,CAAC,UAAU,EACzBC,GAA2BnE,EAAoB,IAAK,CACxD,MAAO,gBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnBoE,GAA2BpE,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,SAAS,CAAE,EAAG,0DAAc,EAAgB,EACzHqE,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,CAAE,EAC/CC,GAA2BtE,EAAoB,IAAK,CACxD,MAAO,uBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnBuE,GAA2BvE,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,SAAS,CAAE,EAAG,iCAAS,EAAgB,EAEnH,SAASwE,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CArLtE,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAAC,GAAAC,EAAAC,EAAAC,EAAAC,GAAAC,EAsLE,IAAMC,EAAsBC,GAAkB,UAAU,EAExD,OAAQC,EAAW,EAAGC,EAAoB,MAAO,KAAM,CACrD5E,EAAoB,+CAA+C,EACnEA,EAAoB,qBAAqB,EACzCA,EAAoB,+CAA+C,EACnE5B,EAAoB,MAAOV,GAAY,CACrCsC,EAAoB,+CAA+C,EACnEA,EAAoB,oBAAoB,EACxCA,EAAoB,+CAA+C,EACnE5B,EAAoB,MAAO,CACzB,MAAOyG,EACVhC,EAAK,mBACF,CACA,QAAS,UACT,aAAc,oBACd,aAAc,IACd,OAAQ,oBACR,aAAc,MACd,eAAgB,MAChB,WAAY,MACZ,kBAAmB,MACnB,cAAe,KACf,GACAM,EAAAN,EAAK,cAAL,MAAAM,EAAkB,UAClB,CACA,QAAS,UACT,aAAc,oBACd,aAAc,IACd,OAAQ,oBACR,aAAc,MACd,eAAgB,MAChB,WAAY,MACZ,kBAAmB,MACnB,cAAe,KACf,EACA,CACA,QAAS,UACT,aAAc,oBACd,aAAc,IACd,OAAQ,oBACR,aAAc,MACd,eAAgB,MAChB,WAAY,MACZ,kBAAmB,MACnB,cAAe,KACf,CACJ,CACE,EAAG,CACD2B,GAAaL,CAAmB,CAClC,EAAG,CAAa,EAChBzE,EAAoB,+CAA+C,EACnEA,EAAoB,uBAAuB,EAC3CA,EAAoB,+CAA+C,EACnE5B,EAAoB,MAAO,CACzB,IAAK,kBACL,MAAOyG,EAAgB,CAAChC,EAAK,iBAAkB,CAAC,KAAO,IAAI,aAAa,OAAO,aAAa,SAAS,QAAU,IAAI,QAAU,OAAO,CAAC,CAAC,CACxI,EAAG,CACDzE,EAAoB,QAAST,GAAY,CACvCqC,EAAoB,iBAAiB,EACrC5B,EAAoB,QAAS,KAAM,CACjCA,EAAoB,KAAM,KAAM,EAC7BuG,EAAW,EAAI,EAAGC,EAAoBG,EAAW,KAAMC,GAAYnC,EAAK,eAAiBoC,IAChFN,EAAW,EAAGC,EAAoB,KAAM,CAC9C,IAAKK,EAAO,IACZ,MAAO,CAAC,WAAa;AAAA;AAAA;AAAA;AAAA,YAAwK,gBAAgB,oBAAoB,QAAU,UAAU,cAAc,MAAM,YAAY,UAAU,MAAQ,UAAU,SAAW,SAAS,IAAM,IAAI,UAAU,IAAI,aAAa,SAAS,cAAc,SAAS,SAAW,SAAS,gBAAgB,UAAU,CAC1b,EAAGC,EAAiBD,EAAO,KAAK,EAAG,CAAY,EAChD,EAAG,GAAwB,EAC9B,CAAC,CACH,CAAC,EACDjF,EAAoB,8BAA8B,EAClD5B,EAAoB,QAAS,KAAM,EAChCuG,EAAW,EAAI,EAAGC,EAAoBG,EAAW,KAAMC,GAAYnC,EAAK,MAAQsC,GAAS,CA9PtG,IAAAhC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GA+Pc,OAAQkB,EAAW,EAAGC,EAAoB,KAAM,CAC9C,IAAKO,EAAK,YACV,MAAON,EAAgB,CAC/B,aAAc,oBACd,WACCM,EAAK,oBAAsB,GAAKA,EAAK,mBAClC,oBACA,MACL,CAAC,CACM,EAAG,CACDnF,EAAoB,oBAAoB,EACvC6C,EAAK,eAAe,KAAMuC,GAAMA,EAAE,MAAQ,WAAW,GACjDT,EAAW,EAAGC,EAAoB,KAAMhH,GAAY,CACnDoC,EAAoB,8BAAgC,EACpD5B,EAAoB,IAAK,CACvB,MAAO,CAAC,gBAAgB,IAAI,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,mBAAmB,EACjI,MAAO+G,EAAK,SACd,EAAGD,EAAiBC,EAAK,SAAS,EAAG,EAAqBtH,EAAU,EACpEmC,EAAoB,UAAU,CAChC,CAAC,GACDA,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,oBAAoB,EACvC6C,EAAK,eAAe,KAAMuC,GAAMA,EAAE,MAAQ,WAAW,GACjDT,EAAW,EAAGC,EAAoB,KAAM9G,GAAY,CACnDM,EAAoB,IAAK,CACvB,MAAO,CAAC,gBAAgB,IAAI,cAAc,SAAS,SAAW,SAAS,gBAAgB,WAAW,YAAY,mBAAmB,EACjI,MAAO+G,EAAK,SACd,EAAGD,EAAiBC,EAAK,SAAS,EAAG,EAAqBpH,EAAU,CACtE,CAAC,GACDiC,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,mBAAmB,EACtC6C,EAAK,eAAe,KAAMuC,GAAMA,EAAE,MAAQ,KAAK,GAC3CT,EAAW,EAAGC,EAAoB,KAAM5G,GAAY,CACnDI,EAAoB,MAAOH,GAAY,CACrCG,EAAoB,SAAU,CAC5B,MAAO,CAAC,cAAc,IAAI,MAAQ,OAAO,OAAS,OAAO,YAAY,OAAO,QAAU,IAAI,OAAS,OAAO,gBAAgB,MAAM,OAAS,UAAU,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,YAAY,IAAI,SAAW,WAAW,MAAQ,QAAQ,WAAa;AAAA;AAAA;AAAA;AAAA,cAAwJ,aAAa,8BAA8B,EAC5d,QAASiH,GAAWxC,EAAK,iBAAiBsC,CAAI,EAC9C,SAAU,EAAEA,EAAK,KAAO,KAAK,IAAIA,EAAK,GAAG,EAAI,GAC7C,KAAM,QACR,EAAG9G,GAAa,EAAeH,EAAU,EACzCE,EAAoB,QAAS,CAC3B,KAAM,OACN,MAAO,KAAK,IAAI+G,EAAK,KAAO,CAAC,EAC7B,QAASE,GAAWxC,EAAK,WAAWsC,EAAME,CAAM,EAChD,SAAUA,GAAWxC,EAAK,YAAYsC,EAAME,CAAM,EAClD,OAAQA,GAAWxC,EAAK,cAAcsC,EAAME,CAAM,EAClD,MAAO,CAAC,KAAO,IAAI,MAAQ,OAAO,YAAY,kBAAkB,OAAS,oBAAoB,WAAa,QAAQ,aAAa,SAAS,YAAY,UAAU,OAAS,UAAU,QAAU,UAAU,gBAAgB,MAAM,QAAU,OAAO,aAAa,aAAa,YAAY,MAAM,EACxR,YAAa,GACf,EAAG,KAAM,GAAgC/G,EAAW,EACpDF,EAAoB,SAAU,CAC5B,MAAO,CAAC,cAAc,IAAI,MAAQ,OAAO,OAAS,OAAO,YAAY,OAAO,QAAU,IAAI,OAAS,OAAO,gBAAgB,MAAM,OAAS,UAAU,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,YAAY,IAAI,SAAW,WAAW,MAAQ,QAAQ,WAAa;AAAA;AAAA;AAAA;AAAA,cAAwJ,aAAa,8BAA8B,EAC5d,QAASiH,GAAWxC,EAAK,iBAAiBsC,CAAI,EAC9C,KAAM,QACR,EAAG1G,GAAa,EAAeF,EAAW,CAC5C,CAAC,CACH,CAAC,GACDyB,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,cAAc,EACjC6C,EAAK,eAAe,KAAMuC,GAAMA,EAAE,MAAQ,KAAK,GAC3CT,EAAW,EAAGC,EAAoB,KAAMlG,GAAawG,EAAiBC,EAAK,GAAG,EAAG,CAAY,GAC9FnF,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,2CAA2C,EAC9D6C,EAAK,eAAe,KAAMuC,GAAMA,EAAE,MAAQ,iBAAiB,GACvDT,EAAW,EAAGC,EAAoB,KAAMjG,GAAa,CACpDP,EAAoB,MAAO,CACzB,MAAOyG,EAAgB,CACrC,QAAS,OACT,WAAY,SACZ,IAAK,MACL,QAAS,UACT,WAAYM,EAAK,wBACd,oDACA,oDACH,aAAc,MACd,SAAU,EACV,eAAgB,SAChB,UAAW,SACX,SAAU,QACX,CAAC,CACY,EAAG,CACD/G,EAAoB,OAAQ,CAC1B,MAAOyG,EAAgB,CACtC,SAAU,SACV,WAAY,MACZ,MAAOM,EAAK,wBACT,UACA,UACH,WAAY,SACZ,SAAU,SACV,aAAc,UACf,CAAC,CACa,EAAGD,EAAiBrC,EAAK,eAAesC,EAAK,eAAe,CAAC,EAAG,CAAmB,CACrF,EAAG,CAAa,CAClB,CAAC,GACDnF,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,6CAA6C,EAChE6C,EAAK,eAAe,KAAMuC,GAAMA,EAAE,MAAQ,MAAM,GAC5CT,EAAW,EAAGC,EAAoB,KAAMhG,GAAa,CACpDR,EAAoB,MAAO,CACzB,MAAOyG,EAAgB,CACrC,QAAS,OACT,WAAY,SACZ,IAAK,MACL,QAAS,UACT,YACChC,EAAK,IAAIsC,EAAK,IAAI,IAAMtC,EAAK,IAAIsC,EAAK,eAAe,EAClD,qDAEJ,aAAc,MACd,SAAU,IACV,SAAU,OACV,eAAgB,SAChB,SAAU,WACV,OACCtC,EAAK,IAAIsC,EAAK,IAAI,IAAMtC,EAAK,IAAIsC,EAAK,eAAe,EAClD,oBACA,MACL,CAAC,CACY,EAAG,CACD/G,EAAoB,QAAS,CAC3B,KAAM,OACN,MAAO+G,EAAK,MAAQ,GACpB,SAAUE,GAAWxC,EAAK,YAAYsC,EAAME,CAAM,EAClD,QAASC,GAAUD,GAAWxC,EAAK,YAAYsC,EAAME,CAAM,EAAI,CAAC,OAAO,CAAC,EACxE,OAAQA,GAAWxC,EAAK,eAAesC,EAAME,CAAM,EACnD,SACf,QACCF,EAAK,eACJA,EAAK,iBACLA,EAAK,sBACLhC,GAAAN,EAAK,cAAL,YAAAM,GAAkB,UACpB,EAEe,MAAO0B,EAAgB,CACtC,QACCM,EAAK,eACJA,EAAK,iBACLA,EAAK,sBACL/B,GAAAP,EAAK,cAAL,YAAAO,GAAkB,UACpB,EACG,wLACA,oLACF,CAAC,aAAa,aAAa,YAAY,IAAI,YAAY,MAAM,CAAC,CAAC,EACjD,YAAa,MACf,EAAG,KAAM,GAAuCvE,EAAW,EAC3DmB,EAAoB,+BAA+B,EACnDA,EAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAA2tB,CACjvB,EAAG,CAAa,CAClB,CAAC,GACDA,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,yCAAyC,EAC5D6C,EAAK,eAAe,KAAMuC,GAAMA,EAAE,MAAQ,qBAAqB,GAC3DT,EAAW,EAAGC,EAAoB,KAAM9F,GAAa,CACpDV,EAAoB,MAAO,CACzB,MAAOyG,EAAgB,CACrC,QAAS,OACT,WAAY,SACZ,IAAK,MACL,QAAS,UACT,YACCM,EAAK,oBAAsB,EACxB,qDAEJ,aAAc,MACd,SAAU,IACV,eAAgB,SAChB,SAAU,UACX,CAAC,CACY,EAAG,CACD/G,EAAoB,QAAS,CAC3B,KAAM,SACN,MAAOyE,EAAK,YAAYsC,EAAK,qBAAuB,CAAC,EACrD,SAAUE,GAAWxC,EAAK,sBAAsBsC,EAAME,CAAM,EAC5D,QAASC,GAAUD,GAAWxC,EAAK,sBAAsBsC,EAAME,CAAM,EAAI,CAAC,OAAO,CAAC,EAClF,OAAQA,GAAWxC,EAAK,mBAAmBsC,EAAME,CAAM,EACvD,SACf,QACCF,EAAK,eACJA,EAAK,iBACLA,EAAK,oBACL,GAAC9B,GAAAR,EAAK,cAAL,MAAAQ,GAAkB,0CACnBC,GAAAT,EAAK,cAAL,YAAAS,GAAkB,UACpB,EAEe,MAAOuB,EAAgB,CACtC,QACCM,EAAK,eACJA,EAAK,iBACLA,EAAK,oBACL,GAAC5B,GAAAV,EAAK,cAAL,MAAAU,GAAkB,0CACnBC,GAAAX,EAAK,cAAL,YAAAW,GAAkB,UACpB,EACG,2LACA,kKACF,CAAC,aAAa,aAAa,YAAY,IAAI,YAAY,MAAM,CAAC,CAAC,EACjD,YAAa,IACb,IAAK,IACL,MAAKC,GAAAZ,EAAK,cAAL,YAAAY,GAAkB,iCAAkC,IACzD,KAAM,MACR,EAAG,KAAM,GAAuC1E,EAAW,EAC3DC,GACAgB,EAAoB,uCAAuC,EAExEmF,EAAK,oBAAsBA,EAAK,oBAAsB,GAEpCR,EAAW,EAAGC,EAAoB,OAAQ3F,GAAa,SAAS,GACjEe,EAAoB,OAAQ,EAAI,CACtC,EAAG,CAAa,CAClB,CAAC,GACDA,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,uCAAuC,EAC1D6C,EAAK,eAAe,KAAMuC,GAAMA,EAAE,MAAQ,iBAAiB,GACvDT,EAAW,EAAGC,EAAoB,KAAM1F,GAAa,CACpDd,EAAoB,MAAO,CACzB,MAAOyG,EAAgB,CACrC,QAAS,OACT,WAAY,SACZ,IAAK,MACL,QAAS,UACT,WACChC,EAAK,kBAAkBsC,CAAI,EAAI,EAC5B,oDACA,oDACJ,aAAc,MACd,SAAU,IACV,SAAU,OACV,eAAgB,SAChB,SAAU,UACX,CAAC,CACY,EAAG,CACD/G,EAAoB,OAAQ,CAC1B,MAAOyG,EAAgB,CACtC,SAAU,UACV,WAAY,MACZ,MACChC,EAAK,kBAAkBsC,CAAI,EAAI,EAC5B,UACA,SACL,CAAC,CACa,EAAGD,EAAiBrC,EAAK,eAAeA,EAAK,kBAAkBsC,CAAI,CAAC,CAAC,EAAG,CAAmB,EAC3FnF,EAAoB,mCAAmC,EAEpEmF,EAAK,oBAAsBtC,EAAK,kBAAkBsC,CAAI,EAAI,GAExCR,EAAW,EAAGC,EAAoB,OAAQzF,GAAa,SAAS,GACjEa,EAAoB,OAAQ,EAAI,CACtC,EAAG,CAAa,CAClB,CAAC,GACDA,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,mDAAgD,EACnE6C,EAAK,eAAe,KAAMuC,GAAMA,EAAE,MAAQ,QAAQ,GAC9CT,EAAW,EAAGC,EAAoB,KAAMxF,GAAa,CACpDhB,EAAoB,MAAOiB,GAAa,CACtCjB,EAAoB,OAAQkB,GAAa4F,EAAiBrC,EAAK,eAC3EA,EAAK,IAAIsC,EAAK,IAAKtC,EAAK,eAAe,EACtCA,EAAK,IAAIsC,EAAK,KAAMtC,EAAK,kBAAkB,CAC7C,CAAC,EAAG,CAAY,CACL,CAAC,CACH,CAAC,GACD7C,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,kCAAkC,EACrD6C,EAAK,eAAe,KAAMuC,GAAMA,EAAE,MAAQ,SAAS,GAC/CT,EAAW,EAAGC,EAAoB,KAAMrF,GAAa,CACpDnB,EAAoB,MAAOoB,GAAa,CACtCpB,EAAoB,SAAU,CAC5B,SACf,QAAQ+G,EAAK,eAAiBA,EAAK,eAAe,EAEnC,MAAON,EACtBM,EAAK,eAAiBA,EAAK,gBACxB,yLACA,wMACJ,EACgB,aAAcrC,EAAO,KAAOA,EAAO,GAAKuC,GAAU,CAC5DA,EAAO,cAAc,WACzBA,EAAO,cAAc,MAAM,WAAa,UACxCA,EAAO,cAAc,MAAM,OAC1B,oBACDA,EAAO,cAAc,MAAM,UAC1B,+BAEH,GACgB,aAAcvC,EAAO,KAAOA,EAAO,GAAKuC,GAAU,CAC5DA,EAAO,cAAc,WACzBA,EAAO,cAAc,MAAM,WAC1B,0CACDA,EAAO,cAAc,MAAM,OAAS,OACpCA,EAAO,cAAc,MAAM,UAAY,GAEzC,GACgB,QAASE,GAAeF,GAAWxC,EAAK,YAAYsC,CAAI,EAAI,CAAC,MAAM,CAAC,EACpE,MAAO,mDACT,EAAGxF,GAAa,GAAuCF,EAAW,CACpE,CAAC,CACH,CAAC,GACDO,EAAoB,OAAQ,EAAI,CACtC,EAAG,CAAa,CAClB,CAAC,EAAG,GAAwB,EAC9B,CAAC,CACH,CAAC,CACH,EAAG,CAAa,CAClB,CAAC,EACDA,EAAoB,+CAA+C,EACnEA,EAAoB,uCAAuC,EAC3DA,EAAoB,+CAA+C,EACnE5B,EAAoB,MAAOwB,GAAa,CACtCI,EAAoB,kCAAkC,EACtD5B,EAAoB,MAAOyB,GAAa,CACtCG,EAAoB,mBAAmB,EACvC5B,EAAoB,MAAO0B,GAAa,CACtCC,GACA3B,EAAoB,MAAO8B,GAAagF,EAAiBrC,EAAK,cAAYO,EAAAP,EAAK,cAAL,YAAAO,EAAkB,YAAa,CAAC,CAAC,EAAG,CAAY,CAC5H,CAAC,EACDpD,EAAoB,qCAAqC,EACzD5B,EAAoB,MAAO,CACzB,MAAOyG,EAAgB,CAC3B,QAAS,OACT,cAAe,SACf,QAAS,UACT,YAAYxB,EAAAR,EAAK,cAAL,MAAAQ,EAAkB,4CAC3B,QACA,UACH,aAAc,MACd,QAAQC,EAAAT,EAAK,cAAL,MAAAS,EAAkB,4CACvB,oBACA,oBACH,SAAU,UACX,CAAC,CACE,EAAG,CACDlF,EAAoB,QAAS,CAC3B,MAAOyG,EAAgB,CAC5B,SAAU,UACV,aAAc,IACd,WAAY,MACZ,OAAOtB,EAAAV,EAAK,cAAL,MAAAU,EAAkB,4CACtB,OACA,UACH,WAAY,SACZ,SAAU,SACV,aAAc,WACd,cAAe,YACf,cAAe,OAChB,CAAC,CACG,EAAG,CACDvD,EAAoB,oBAAoB,EACxCC,EAAiB,sEAAe,CAClC,EAAG,CAAa,EAChB7B,EAAoB,QAAS,CAC3B,KAAM,SACN,MAAOyE,EAAK,+BACZ,QAASC,EAAO,KAAOA,EAAO,GAAK,IAAI0C,IAAU3C,EAAK,iBAAmBA,EAAK,gBAAgB,GAAG2C,CAAI,GACrG,OAAQ1C,EAAO,KAAOA,EAAO,GAAK,IAAI0C,IAAU3C,EAAK,gBAAkBA,EAAK,eAAe,GAAG2C,CAAI,GAClG,IAAK,sBACL,KAAM,OACN,IAAK,IACL,MAAKhC,EAAAX,EAAK,cAAL,YAAAW,EAAkB,oCAAqC,IAC5D,MAAOqB,EAAgB,CAC5B,MAAO,OACP,OAAQ,OACR,QAAS,OACT,WAAY,cACZ,SAAU,SACV,WAAY,MACZ,OAAOpB,EAAAZ,EAAK,cAAL,MAAAY,EAAkB,4CACtB,UACA,UACH,QAAS,IACT,UAAW,OACX,QAAQC,EAAAb,EAAK,cAAL,MAAAa,EAAkB,4CACvB,OACA,aACJ,CAAC,EACK,YAAa,OACb,SAAU,GAACC,EAAAd,EAAK,cAAL,MAAAc,EAAkB,4CAC/B,EAAG,KAAM,GAAuCxD,EAAW,EAC3DH,EAAoB,oCAAoC,EACvD6C,EAAK,0BAA4B,GAAKA,EAAK,+BAAiC,GACxE8B,EAAW,EAAGC,EAAoB,OAAQxE,GAAa,SAAS,GACjEJ,EAAoB,OAAQ,EAAI,CACtC,EAAG,CAAa,EAChBA,EAAoB,wBAAwB,EAC5C5B,EAAoB,MAAOiC,GAAa,CACtCC,GACAlC,EAAoB,MAAOmC,GAAa2E,EAAiBrC,EAAK,gBAAee,EAAAf,EAAK,cAAL,YAAAe,EAAkB,QAAQ,CAAC,EAAIsB,EAAiBrC,EAAK,iBAAegB,EAAAhB,EAAK,cAAL,YAAAgB,EAAkB,2BAA4B,CAAC,CAAC,EAAG,CAAY,CAClN,CAAC,EACD7D,EAAoB,yBAAyB,EAC7C5B,EAAoB,MAAOoC,GAAa,CACtCC,GACArC,EAAoB,MAAOsC,GAAawE,EAAiBrC,EAAK,gBAAeiB,EAAAjB,EAAK,cAAL,YAAAiB,EAAkB,QAAQ,CAAC,EAAIoB,EAAiBrC,EAAK,iBAAekB,EAAAlB,EAAK,cAAL,YAAAkB,EAAkB,QAAS,CAAC,CAAC,EAAG,CAAY,CAC/L,CAAC,EACD/D,EAAoB,mBAAmB,EACvC5B,EAAoB,MAAOuC,GAAa,CACtCC,GACAxC,EAAoB,MAAOyC,GAAaqE,EAAiBrC,EAAK,gBAAemB,EAAAnB,EAAK,cAAL,YAAAmB,EAAkB,QAAQ,CAAC,EAAIkB,EAAiBrC,EAAK,iBAAeoB,EAAApB,EAAK,cAAL,YAAAoB,EAAkB,YAAa,CAAC,CAAC,EAAG,CAAY,CACnM,CAAC,EACDjE,EAAoB,aAAa,EACjC5B,EAAoB,MAAO0C,GAAa,CACtCC,GACA3C,EAAoB,MAAO4C,GAAakE,EAAiBrC,EAAK,gBAAeqB,GAAArB,EAAK,cAAL,YAAAqB,GAAkB,QAAQ,CAAC,EAAIgB,EAAiBrC,EAAK,eAAeA,EAAK,iBAAiB,CAAC,EAAG,CAAY,CACzL,CAAC,EACD7C,EAAoB,qBAAqB,EACzC5B,EAAoB,MAAO6C,GAAa,CACtCC,GACA9C,EAAoB,MAAO+C,GAAa+D,EAAiBrC,EAAK,gBAAesB,GAAAtB,EAAK,cAAL,YAAAsB,GAAkB,QAAQ,CAAC,EAAIe,EAAiBrC,EAAK,iBAAeuB,EAAAvB,EAAK,cAAL,YAAAuB,EAAkB,cAAe,CAAC,CAAC,EAAG,CAAY,CACrM,CAAC,CACH,CAAC,EACDpE,EAAoB,+CAA+C,EACnEA,EAAoB,sBAAsB,EAC1CA,EAAoB,+CAA+C,EACnE5B,EAAoB,MAAOgD,GAAa,CACtCpB,EAAoB,gBAAgB,EACnC,CAAC6C,EAAK,yBAA2B,CAACA,EAAK,6BACnC8B,EAAW,EAAGC,EAAoB,SAAU,CAC3C,IAAK,EACL,SAAU,CAAC/B,EAAK,UAAYA,EAAK,YAAc,CAACA,EAAK,gBACrD,QAASC,EAAO,KAAOA,EAAO,GAAK,IAAI0C,IAAU3C,EAAK,cAAgBA,EAAK,aAAa,GAAG2C,CAAI,GAC/F,MAAO,kFACP,MAAOX,EAAgB,CAAC,CAAC,KAAO,IAAI,QAAU,UAAU,OAAS,OAAO,gBAAgB,MAAM,OAAS,UAAU,WAAa,oDAAoD,MAAQ,QAAQ,YAAY,UAAU,cAAc,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,IAAM,KAAK,EAClU,CAAChC,EAAK,UAAYA,EAAK,YAAc,CAACA,EAAK,gBACxC,yEACA,EACJ,CAAC,EACQ,KAAM,QACR,EAAG,CACDvB,GACAtB,EAAoB,oBAAoB,EACxC5B,EAAoB,OAAQmD,GAAa2D,EAAiBrC,EAAK,WAAa,yEAAoB,gCAAO,EAAG,CAAY,CACxH,EAAG,GAAuBxB,EAAW,GACrCrB,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,+CAA+C,EAClE6C,EAAK,yBACD8B,EAAW,EAAGC,EAAoB,MAAOpD,GAAaG,EAAW,GAClE3B,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,mDAAmD,EACtE6C,EAAK,6BACD8B,EAAW,EAAGC,EAAoB,MAAOhD,GAAaG,EAAW,GAClE/B,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,cAAc,EAClC5B,EAAoB,SAAU,CAC5B,SAAU,CAACyE,EAAK,UAAYA,EAAK,YAAcA,EAAK,iBACpD,QAASC,EAAO,KAAOA,EAAO,GAAK,IAAI0C,IAAU3C,EAAK,cAAgBA,EAAK,aAAa,GAAG2C,CAAI,GAC/F,MAAOX,EAAgB,CAAC,CAAC,KAAO,IAAI,QAAU,UAAU,OAAS,OAAO,gBAAgB,MAAM,OAAS,UAAU,WAAa,oDAAoD,MAAQ,QAAQ,YAAY,UAAU,cAAc,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,IAAM,KAAK,EAC9T,CAAChC,EAAK,UAAYA,EAAK,YAAcA,EAAK,iBACvC,yEACA,EACJ,CAAC,EACI,KAAM,QACR,EAAG,CACDZ,GACAjC,EAAoB,OAAO,EAC3BkC,EACF,EAAG,GAAuBF,EAAW,EACrChC,EAAoB,iBAAiB,EACrC5B,EAAoB,SAAU,CAC5B,SAAU,GAACiG,EAAAxB,EAAK,cAAL,MAAAwB,EAAkB,mBAC7B,QAASvB,EAAO,KAAOA,EAAO,GAAK,IAAI0C,IAAU3C,EAAK,cAAgBA,EAAK,aAAa,GAAG2C,CAAI,GAC/F,MAAOX,EAAgB,CAAC,CAAC,KAAO,IAAI,QAAU,UAAU,OAAS,OAAO,gBAAgB,MAAM,OAAS,UAAU,WAAa,UAAU,MAAQ,QAAQ,YAAY,UAAU,cAAc,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,IAAM,KAAK,GACnRP,EAAAzB,EAAK,cAAL,MAAAyB,EAAkB,kBAEhB,GADA,wEAEJ,CAAC,EACI,KAAM,QACR,EAAG,CACDlC,GACApC,EAAoB,kBAAkB,EACtCqC,EACF,EAAG,GAAuBF,EAAW,EACrCnC,EAAoB,uBAAuB,EAC3C5B,EAAoB,SAAU,CAC5B,SAAU,GAACmG,GAAA1B,EAAK,cAAL,MAAA0B,GAAkB,yBAC7B,QAASzB,EAAO,KAAOA,EAAO,GAAK,IAAI0C,IAAU3C,EAAK,cAAgBA,EAAK,aAAa,GAAG2C,CAAI,GAC/F,MAAOX,EAAgB,CAAC,CAAC,KAAO,IAAI,QAAU,UAAU,OAAS,OAAO,gBAAgB,MAAM,OAAS,UAAU,WAAa,oDAAoD,MAAQ,QAAQ,YAAY,UAAU,cAAc,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,IAAM,KAAK,GAC7TL,EAAA3B,EAAK,cAAL,MAAA2B,EAAkB,wBAEhB,GADA,wEAEJ,CAAC,EACI,KAAM,QACR,EAAG,CACDjC,GACAvC,EAAoB,gBAAgB,EACpCwC,EACF,EAAG,GAAuBF,EAAW,EACrCtC,EAAoB,iKAAmD,EACvE5B,EAAoB,SAAU,CAC5B,QAAS0E,EAAO,KAAOA,EAAO,GAAK,IAAI0C,IAAU3C,EAAK,mBAAqBA,EAAK,kBAAkB,GAAG2C,CAAI,GACzG,MAAOX,EACXhC,EAAK,SACF,CACA,KAAM,EACN,QAAS,UACT,OAAQ,OACR,aAAc,MACd,OAAQ,UACR,WACC,oDACD,MAAO,QACP,SAAU,UACV,WAAY,IACZ,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,IAAK,KACL,EACA,CACA,KAAM,EACN,QAAS,UACT,OAAQ,OACR,aAAc,MACd,OAAQ,UACR,WACC,oDACD,MAAO,QACP,SAAU,UACV,WAAY,IACZ,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,IAAK,KACL,CACJ,EACK,KAAM,QACR,EAAG,CACDzE,EAAoB,IAAK,CACvB,MAAOqH,GAAgB5C,EAAK,SAAW,uBAAyB,4BAA4B,EAC5F,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,CAAa,EACtBzE,EAAoB,OAAQqE,GAAayC,EAAiBrC,EAAK,SAAW,sEAAiB,qEAAc,EAAG,CAAY,CAC1H,EAAG,CAAa,EAChB7C,EAAoB,iBAAiB,EACrC5B,EAAoB,SAAU,CAC5B,QAAS0E,EAAO,KAAOA,EAAO,GAAK,IAAI0C,IAAU3C,EAAK,gBAAkBA,EAAK,eAAe,GAAG2C,CAAI,GACnG,MAAO,CAAC,KAAO,IAAI,QAAU,UAAU,OAAS,OAAO,gBAAgB,MAAM,OAAS,UAAU,WAAa,oDAAoD,MAAQ,QAAQ,YAAY,UAAU,cAAc,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,IAAM,KAAK,EACzS,KAAM,QACR,EAAG,CACD9C,GACA1C,EAAoB,UAAU,EAC9B2C,EACF,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CC5xBuL+C,GAAO,OAASC,GAAOD,GAAO,OAAS,uEAAuE,IAAOA,GAAQA,GCepT,IAAME,GAAc,CACnB,qBAAsB,uBACtB,kBAAmB,oBACnB,YAAa,cACb,aAAc,aACf,EAKMC,GAAgB,CACrB,KAAM,CAAE,KAAM,WAAY,MAAO,SAAU,EAC3C,KAAM,CAAE,KAAM,kBAAmB,MAAO,SAAU,EAClD,cAAe,CAAE,KAAM,kBAAmB,MAAO,SAAU,EAC3D,aAAc,CAAE,KAAM,0BAA2B,MAAO,SAAU,EAClE,gBAAiB,CAAE,KAAM,oBAAqB,MAAO,SAAU,EAC/D,iBAAkB,CAAE,KAAM,gBAAiB,MAAO,SAAU,EAC5D,iBAAkB,CAAE,KAAM,aAAc,MAAO,SAAU,EACzD,MAAO,CAAE,KAAM,gBAAiB,MAAO,SAAU,EACjD,QAAS,CAAE,KAAM,aAAc,MAAO,SAAU,CACjD,EAKMC,GAAuB,CAAE,KAAM,mBAAoB,MAAO,SAAU,EAKpEC,GAAgB,CACrB,CACC,MAAO,iBACP,MAAO,QACP,SAAU,GACV,IAAK,iBACN,EACA,CACC,MAAO,iBACP,IAAK,SACL,MAAO,SACP,SAAU,EACX,CACD,EAKMC,GAAmB,CACxB,UAAYC,GAAMA,EAAE,QAAU,IAAM,gBACrC,EAKMC,GAAY,CACjB,eAAgB,GACjB,EAMOC,GAAQ,CACd,KAAM,gBAEN,OAAQ,CAACC,EAAM,EAEf,MAAO,CACN,OAAQ,CACP,KAAM,QACN,QAAS,EACV,CACD,EAEA,MAAMC,EAAO,CAKZ,IAAMC,EAASC,GAAIF,EAAM,QAAU,EAAK,EAClCG,EAAcD,GAAI,CAAC,CAAC,EACpBE,EAAaF,GAAI,EAAK,EAGtBG,EAAYH,GAAI,CAAC,CAAC,EAClBI,EAAUJ,GAAI,EAAE,EAGhBK,EAAoBL,GAAI,CAAC,CAAC,EAC1BM,EAAeN,GAAI,CAAC,CAAC,EACrBO,EAAcP,GAAI,EAAE,EAGpBQ,EAAuBR,GAAI,CAAC,CAAC,EAC7BS,EAAmBT,GAAI,CAAC,CAAC,EACzBU,EAA2BV,GAAIR,EAAa,EAC5CmB,EAAeX,GAAIL,GAAU,cAAc,EAG3CiB,EAAmBZ,GAAI,EAAI,EAC3Ba,EAAmBb,GAAI,EAAE,EACzBc,EAAiBd,GAAI,EAAE,EACvBe,EAAqBf,GAAI,EAAE,EAU3BgB,EAA0B,IAAM,CACrC,OAAO,KAAK,CACX,OAAQC,EAAQ,kBAAkB,iBAClC,KAAM,CAAC,EACP,SAAU,SAAUC,EAAG,CAClBA,EAAE,SAELA,EAAE,QAAQ,UAAU,QAASC,GAAY,CACxChB,EAAU,MAAM,KAAKgB,EAAQ,IAAI,CAClC,CAAC,EACDf,EAAQ,MAAQD,EAAU,MAAM,GAGhCE,EAAkB,MAAQa,EAAE,QAAQ,kBACpCV,EAAqB,MAAQU,EAAE,QAAQ,iBAGvCE,EAAY,oKAAmC,OAAO,CAExD,CACD,CAAC,CACF,EAUMC,EAAuB,IAAM,CAClCC,EAAQ,KAAKjC,GAAY,oBAAoB,CAC9C,EAMMkC,EAAe,IAChB,CAACd,EAAiB,MAAM,QAAU,CAACL,EAAQ,OAAS,CAACG,EAAY,OAEpEa,EAAY,6JAAiC,OAAO,EAC7C,IAED,GAOFI,EAAgB,IAAM,CACvB,CAACD,EAAa,IAIlBrB,EAAW,MAAQ,GAEnB,OACE,KAAK,CACL,OAAQe,EAAQ,kBAAkB,uBAClC,KAAM,CACL,YAAaV,EAAY,MACzB,QAASH,EAAQ,MACjB,gBAAiBK,EAAiB,KACnC,CACD,CAAC,EACA,KAAMS,GAAM,CACZ,GAAIA,EAAE,QAAS,CAGd,IAAMO,GADgBP,EAAE,QACS,MAAQ,oDACzC,QAAQ,IAAI,4CAA6CO,EAAU,EAGnE,OAAO,KAAK,CACX,OAAQR,EAAQ,kBAAkB,uBAClC,SAAWS,GAAkB,CAC5B,GACCA,EAAc,SACdA,EAAc,QAAQ,SACtBA,EAAc,QAAQ,KACrB,CACD,IAAMC,EAAaD,EAAc,QAAQ,KACnCnB,GAAcoB,EAAW,iBAE/B,GAAIpB,GAAa,CAEhB,IAAMqB,GAAoB,CACzB,KAAMD,EAAW,KACjB,QAASA,EAAW,QACpB,kBAAmBA,EAAW,kBAC9B,YAAaA,EAAW,YACxB,KAAMA,EAAW,IAClB,EAEME,GAAa,CAClB,YAAatB,GACb,kBAAmBqB,GACnB,QAAS,CAAE,KAAMrB,GAAY,OAAQ,CACtC,EAGAe,EAAQ,KAAKjC,GAAY,kBAAmBwC,EAAU,EACtDP,EAAQ,KAAKjC,GAAY,YAAa,CACrC,KAAMkB,GAAY,OACnB,CAAC,EAEDa,EACC,yJAAiCK,KACjC,SACD,EACAJ,EAAqB,CACtB,KAAO,CAEN,IAAMS,GAAYH,EAAW,kBAC1B,+JAAkCA,EAAW,oBAC7C,4KAA+CA,EAAW,0HAC7D,QAAQ,MACP,6CACAA,EAAW,mBACV,uBACF,EACAP,EAAYU,GAAW,OAAO,CAC/B,CACD,MACCV,EAAY,oIAA4B,OAAO,EAEhDlB,EAAW,MAAQ,EACpB,EACA,MAAQ6B,GAAQ,CACf,QAAQ,IACP,mDACAA,CACD,EACAX,EAAY,oIAA4B,OAAO,EAC/ClB,EAAW,MAAQ,EACpB,CACD,CAAC,CACF,MAECkB,EAAY,oIAA4B,OAAO,EAC/ClB,EAAW,MAAQ,EAErB,CAAC,EACA,MAAO8B,GAAU,CACjB,QAAQ,IAAI,0CAA2CA,CAAK,EAC5DZ,EAAY,oIAA4B,OAAO,EAC/ClB,EAAW,MAAQ,EACpB,CAAC,EACH,EAMM+B,EAAU,IAAM,CACrB,OAAO,UAAU,GAAG,EACpB,SAAS,OAAO,CACjB,EAWMC,GAAkBC,GAAkB,CACzC,IAAMC,EAAS,OAAO,KAAK9C,EAAa,EAAE,KAAM+C,IAC/CF,EAAc,YAAY,EAAE,SAASE,GAAI,YAAY,CAAC,CACvD,EAEA,OAAOD,EAAS9C,GAAc8C,GAAU7C,EACzC,EAKM+C,GAA0B,IAAM,CACrC,GAAI,CAAC/B,EAAY,MAAO,CACvBK,EAAiB,MAAQ,GACzB,MACD,CAGA,OAAO,KAAK,CACX,OAAQK,EAAQ,kBAAkB,2BAClC,KAAM,CACL,YAAaV,EAAY,KAC1B,EACA,SAAU,SAAUW,EAAG,CAClBA,EAAE,SACLN,EAAiB,MAAQM,EAAE,QAAQ,QAC9BA,EAAE,QAAQ,UACdH,EAAmB,MAAQG,EAAE,QAAQ,UAGtCN,EAAiB,MAAQ,EAE3B,CACD,CAAC,CACF,EAMMQ,EAAc,CAACmB,EAAMC,IAAU,CACpClB,EAAQ,KAAKjC,GAAY,aAAc,CAAE,KAAAkD,EAAM,MAAAC,CAAM,CAAC,CACvD,EAUA,OAAAC,GAAMrC,EAAUsC,GAAQ,CACvBpC,EAAa,MAAQ,CAAC,EACtBD,EAAkB,MAAM,QAASc,GAAY,CACxCA,EAAQ,UAAYuB,GACvBpC,EAAa,MAAM,KAAKa,EAAQ,IAAI,CAEtC,CAAC,EACDZ,EAAY,MAAQD,EAAa,MAAM,OAASA,EAAa,MAAM,GAAK,EACzE,CAAC,EAMDmC,GAAMlC,EAAcmC,GAAQ,CAC3BjC,EAAiB,MAAQ,CAAC,EAC1BD,EAAqB,MAAM,QAASW,GAAY,CAC3CA,EAAQ,SAAWuB,GACtBjC,EAAiB,MAAM,KAAK,CAC3B,gBAAiBU,EAAQ,gBACzB,OAAQ,EACR,SAAUA,EAAQ,QACnB,CAAC,CAEH,CAAC,EAEDmB,GAAwB,CACzB,CAAC,EAMDK,GAAU,IAAM,CACf3B,EAAwB,CACzB,CAAC,EAMM,CAEN,OAAAjB,EACA,YAAAE,EACA,WAAAC,EACA,UAAAC,EACA,QAAAC,EACA,kBAAAC,EACA,aAAAC,EACA,YAAAC,EACA,qBAAAC,EACA,iBAAAC,EACA,yBAAAC,EACA,aAAAC,EAGA,iBAAAC,EACA,iBAAAC,EACA,eAAAC,EACA,mBAAAC,EAGA,WAAYtB,GAAiB,UAG7B,qBAAA4B,EACA,cAAAG,EACA,QAAAS,EACA,wBAAAK,GAGA,eAAAJ,EACD,CACD,CACD,ECxaA,IAAMU,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,kBAAkB,SAAS,cAAc,QAAQ,CAAE,EAC3FC,GAAa,CAAE,MAAO,CAAC,WAAa,oDAAoD,QAAU,YAAY,QAAU,OAAO,cAAc,SAAS,kBAAkB,gBAAgB,aAAa,mCAAmC,SAAW,WAAW,SAAW,QAAQ,CAAE,EACnRC,GAA0BC,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,KAAK,CAAE,EAAG,CAC9GA,EAAoB,MAAO,CAAE,MAAO,CAAC,MAAQ,OAAO,OAAS,OAAO,WAAa,2BAA2B,gBAAgB,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,QAAQ,CAAE,EAAG,CACvMA,EAAoB,IAAK,CACpC,MAAO,wBACP,MAAO,CAAC,MAAQ,QAAQ,YAAY,MAAM,CAC5C,CAAC,CACH,CAAC,EACYA,EAAoB,KAAM,CAAE,MAAO,CAAC,OAAS,IAAI,YAAY,OAAO,cAAc,MAAM,MAAQ,QAAQ,cAAc,+BAA+B,SAAW,WAAW,UAAU,GAAG,CAAE,EAAG,CAC3LC,EAAoB,eAAe,EACnCC,EAAiB,8EAAkB,CAClD,CAAC,CACH,EAAG,EAAgB,EACbC,GAA0BH,EAAoB,IAAK,CACvD,MAAO,gBACP,MAAO,CAAC,MAAQ,QAAQ,YAAY,MAAM,CAC5C,EAAG,KAAM,EAAgB,EACnBI,GAAa,CACjBD,EACF,EACME,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,WAAa,SAAS,CAAE,EAChEC,GAAa,CAAE,MAAO,CAAC,gBAAgB,MAAM,CAAE,EAC/CC,GAA0BP,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,gBAAgB,MAAM,iBAAiB,YAAY,iBAAiB,OAAO,CAAE,EAAG,CACnNC,EAAoB,WAAW,EAC/BC,EAAiB,wCAAU,CAC1C,EAAG,EAAgB,EACbM,GAAa,CAAC,OAAO,EACrBC,GAAc,CAAE,MAAO,CAAC,gBAAgB,MAAM,CAAE,EAChDC,GAA2BV,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,gBAAgB,MAAM,iBAAiB,YAAY,iBAAiB,OAAO,CAAE,EAAG,CACpNC,EAAoB,eAAe,EACnCC,EAAiB,8EAAkB,CAClD,EAAG,EAAgB,EACbS,GAAc,CAAC,OAAO,EACtBC,GAAc,CAAE,MAAO,CAAC,gBAAgB,GAAG,CAAE,EAC7CC,GAA2Bb,EAAoB,QAAS,CAAE,MAAO,CAAC,QAAU,QAAQ,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,gBAAgB,MAAM,iBAAiB,YAAY,iBAAiB,OAAO,CAAE,EAAG,CACpNC,EAAoB,mBAAmB,EACvCC,EAAiB,qDAAa,CAC7C,EAAG,EAAgB,EACbY,GAAc,CAAE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,MAAM,SAAW,SAAS,OAAS,oBAAoB,aAAa,MAAM,aAAa,8BAA8B,CAAE,EACpLC,GAA2Bf,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,OAAO,wBAAwB,UAAU,WAAa,oDAAoD,gBAAgB,mBAAmB,CAAE,EAAG,CACnNA,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,UAAU,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,iBAAiB,YAAY,QAAU,OAAO,cAAc,SAAS,kBAAkB,YAAY,CAAE,EAAG,CACxNC,EAAoB,kBAAkB,EACtCC,EAAiB,iEAAe,CAC/C,CAAC,EACYF,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,UAAU,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,iBAAiB,YAAY,QAAU,OAAO,cAAc,SAAS,kBAAkB,UAAU,CAAE,EAAG,CACtNC,EAAoB,kBAAkB,EACtCC,EAAiB,6EAAiB,CACjD,CAAC,CACH,EAAG,EAAgB,EACbc,GAAc,CAAE,MAAO,CAAC,QAAU,MAAM,QAAU,OAAO,cAAc,SAAS,YAAY,OAAO,aAAa,OAAO,kBAAkB,YAAY,CAAE,EACvJC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,KAAK,CAAE,EAC7EC,GAAc,CAAE,MAAO,CAAC,cAAc,MAAM,MAAQ,UAAU,YAAY,MAAM,CAAE,EAClFC,GAAc,CAAE,MAAO,CAAC,QAAU,MAAM,QAAU,OAAO,cAAc,SAAS,YAAY,OAAO,aAAa,OAAO,kBAAkB,UAAU,CAAE,EACrJC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,SAAS,CAAE,EACzKC,GAAc,CAAE,MAAO,CAAC,YAAY,OAAO,MAAQ,UAAU,cAAc,KAAK,CAAE,EAClFC,GAAc,CAAC,qBAAqB,EACpCC,GAAc,CAAE,MAAO,CAAC,WAAa,UAAU,QAAU,WAAW,aAAa,oBAAoB,QAAU,OAAO,IAAM,MAAM,kBAAkB,UAAU,CAAE,EAChKC,GAA2BxB,EAAoB,IAAK,CACxD,MAAO,gBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnByB,GAAc,CAAC,UAAU,EACzBC,GAAc,CAClB,IAAK,EACL,MAAO,gBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,kBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,YAAY,OAAO,MAAQ,UAAU,WAAa,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,WAAW,QAAU,OAAO,cAAc,SAAS,cAAc,KAAK,CACzM,EAEO,SAASC,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,OAAQC,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzDrC,EAAoB,+CAA+C,EACnEA,EAAoB,4BAA4B,EAChDA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOH,GAAY,CACpCiC,EAAK,QACDM,EAAW,EAAGC,EAAoB,MAAO,CACxC,IAAK,EACL,MAAO,CAAC,SAAW,QAAQ,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,IAAI,WAAa,qBAAqB,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,UAAU,MAAM,EAC9L,QAASN,EAAO,MAAQA,EAAO,IAAM,IAAIQ,IAAUT,EAAK,SAAWA,EAAK,QAAQ,GAAGS,CAAI,EACzF,EAAG,CACDtC,EAAoB,oBAAoB,EACxCD,EAAoB,MAAO,CACzB,MAAO,CAAC,WAAa,QAAQ,gBAAgB,OAAO,SAAW,SAAS,aAAa,kCAAkC,YAAY,QAAQ,MAAQ,OAAO,OAAS,oCAAoC,EACvM,QAAS+B,EAAO,MAAQA,EAAO,IAAMS,GAAe,IAAM,CAAC,EAAG,CAAC,MAAM,CAAC,EACxE,EAAG,CACDvC,EAAoB,+CAA+C,EACnEA,EAAoB,kBAAkB,EACtCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOF,GAAY,CACrCC,GACAC,EAAoB,SAAU,CAC5B,MAAO,CAAC,WAAa,4BAA4B,OAAS,OAAO,gBAAgB,MAAM,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,OAAS,SAAS,EAC3M,QAAS+B,EAAO,KAAOA,EAAO,GAAK,IAAIQ,IAAUT,EAAK,SAAWA,EAAK,QAAQ,GAAGS,CAAI,EACvF,EAAGnC,EAAU,CACf,CAAC,EACDH,EAAoB,+CAA+C,EACnEA,EAAoB,mBAAmB,EACvCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOK,GAAY,CACrCJ,EAAoB,qBAAqB,EACzCD,EAAoB,MAAOM,GAAY,CACrCC,GACAkC,GAAgBzC,EAAoB,SAAU,CAC5C,sBAAuB+B,EAAO,KAAOA,EAAO,GAAKW,GAAYZ,EAAK,QAAWY,GAC7E,SAAU,GACV,MAAO,CAAC,MAAQ,OAAO,QAAU,WAAW,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,WAAa,QAAQ,MAAQ,UAAU,QAAU,MAAM,CAC3K,EAAG,EACAN,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMK,GAAYb,EAAK,UAAYc,IAC3ER,EAAW,EAAGC,EAAoB,SAAU,CAClD,IAAKO,EACL,MAAOA,CACT,EAAGC,EAAiBD,CAAI,EAAG,EAAqBpC,EAAU,EAC3D,EAAG,GAAwB,EAC9B,EAAG,GAAoB,EAAG,CACxB,CAACsC,GAAehB,EAAK,OAAO,CAC9B,CAAC,CACH,CAAC,EACD7B,EAAoB,yBAAyB,EAC7CD,EAAoB,MAAOS,GAAa,CACtCC,GACA+B,GAAgBzC,EAAoB,SAAU,CAC5C,sBAAuB+B,EAAO,KAAOA,EAAO,GAAKW,GAAYZ,EAAK,YAAeY,GACjF,SAAU,GACV,MAAO,CAAC,MAAQ,OAAO,QAAU,WAAW,OAAS,oBAAoB,gBAAgB,MAAM,YAAY,OAAO,WAAa,QAAQ,MAAQ,UAAU,QAAU,MAAM,CAC3K,EAAG,EACAN,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMK,GAAYb,EAAK,aAAeiB,IAC9EX,EAAW,EAAGC,EAAoB,SAAU,CAClD,IAAKU,EACL,MAAOA,CACT,EAAGF,EAAiBE,CAAO,EAAG,EAAqBpC,EAAW,EAC/D,EAAG,GAAwB,EAC9B,EAAG,GAAoB,EAAG,CACxB,CAACmC,GAAehB,EAAK,WAAW,CAClC,CAAC,CACH,CAAC,EACD7B,EAAoB,yBAAyB,EAC7CD,EAAoB,MAAOY,GAAa,CACtCC,GACAb,EAAoB,MAAOc,GAAa,CACtCb,EAAoB,gBAAgB,EACpCc,GACAd,EAAoB,cAAc,EAClCD,EAAoB,MAAO,KAAM,EAC9BoC,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMK,GAAYb,EAAK,iBAAkB,CAACkB,EAAMC,KACxFb,EAAW,EAAGC,EAAoB,MAAO,CAC/C,IAAKW,EAAK,gBACV,MAAOE,EAAgB,CAAC,CAAC,QAAU,OAAO,wBAAwB,UAAU,gBAAgB,mBAAmB,EAC/HD,IAAUnB,EAAK,iBAAiB,OAAS,EACtC,sBACA,EACJ,CAAC,CACc,EAAG,CACD7B,EAAoB,iBAAiB,EACrCD,EAAoB,MAAOgB,GAAa,CACtChB,EAAoB,MAAOiB,GAAa,CACtCjB,EAAoB,IAAK,CACvB,MAAOmD,GAAgB,CAAC,MAAOrB,EAAK,eAAekB,EAAK,eAAe,EAAE,IAAI,CAAC,EAC9E,MAAOE,EAAgB,CAC1C,MAAOpB,EAAK,eAAekB,EAAK,eAAe,EAC7C,MACF,SAAU,MACX,CAAC,CACiB,EAAG,KAAM,CAAoB,EAC7BhD,EAAoB,OAAQkB,GAAa2B,EAAiBG,EAAK,eAAe,EAAG,CAAY,CAC/F,CAAC,CACH,CAAC,EACD/C,EAAoB,iBAAiB,EACrCD,EAAoB,MAAOmB,GAAa,CACtCnB,EAAoB,MAAOoB,GAAa,CACtCpB,EAAoB,OAAQqB,GAAawB,EAAiBf,EAAK,eAAekB,EAAK,QAAQ,CAAC,EAAG,CAAY,EAC3GP,GAAgBzC,EAAoB,QAAS,CAC3C,sBAAuB0C,GAAYM,EAAK,OAAUN,EAClD,KAAM,SACN,YAAa,OACb,KAAM,OACN,IAAK,IACL,MAAO,CAAC,OAAS,OAAO,QAAU,OAAO,YAAY,OAAO,cAAc,MAAM,cAAc,YAAY,MAAQ,OAAO,aAAa,QAAQ,WAAa,cAAc,MAAQ,SAAS,EAC1L,QAASX,EAAO,KAAOA,EAAO,GAChDqB,GAAU,CACVA,EAAM,OAAO,cAAc,MAAM,YAChC,UACDA,EAAM,OAAO,cAAc,MAAM,UAChC,mCACF,GAEmB,OAAQrB,EAAO,KAAOA,EAAO,GAC/CqB,GAAU,CACVA,EAAM,OAAO,cAAc,MAAM,YAChC,UACDA,EAAM,OAAO,cAAc,MAAM,UAChC,MACF,EAEiB,EAAG,KAAM,GAAgC9B,EAAW,EAAG,CACrD,CAAC+B,GAAaL,EAAK,MAAM,CAC3B,CAAC,CACH,CAAC,CACH,CAAC,CACH,EAAG,CAAa,EACjB,EAAG,GAAwB,EAC9B,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,EACD/C,EAAoB,+CAA+C,EACnEA,EAAoB,kBAAkB,EACtCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOuB,GAAa,CACtCvB,EAAoB,SAAU,CAC5B,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,WAAa,UAAU,MAAQ,SAAS,EACtO,QAAS+B,EAAO,KAAOA,EAAO,GAAK,IAAIQ,IAAUT,EAAK,SAAWA,EAAK,QAAQ,GAAGS,CAAI,GACrF,aAAcR,EAAO,KAAOA,EAAO,GAAKW,GAAU,CAC7DA,EAAO,cAAc,MAAM,WAAa,UACxCA,EAAO,cAAc,MAAM,YAAc,UACzCA,EAAO,cAAc,MAAM,UAAY,8BACxC,GACY,aAAcX,EAAO,KAAOA,EAAO,GAAKW,GAAU,CAC7DA,EAAO,cAAc,MAAM,WAAa,UACxCA,EAAO,cAAc,MAAM,YAAc,UACzCA,EAAO,cAAc,MAAM,UAAY,EACxC,EACU,EAAG,CACDlB,GACAvB,EAAoB,UAAU,EAC9BC,EAAiB,kCAAS,CAC5B,EAAG,EAAuB,EACzB4B,EAAK,kBACDM,EAAW,EAAGC,EAAoB,SAAU,CAC3C,IAAK,EACL,MAAOa,EAAgB,CAAC,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,WAAa,UAAU,MAAQ,OAAO,EAAG,CAAE,QAASpB,EAAK,WAAa,GAAM,CAAE,CAAC,CAAC,EAC/R,SAAUA,EAAK,WACf,QAASC,EAAO,KAAOA,EAAO,GAAK,IAAIQ,IAAUT,EAAK,eAAiBA,EAAK,cAAc,GAAGS,CAAI,GACjG,aAAcR,EAAO,KAAOA,EAAO,GAAKW,GAAU,CAC5DZ,EAAK,aACTY,EAAO,cAAc,MAAM,WAAa,UACxCA,EAAO,cAAc,MAAM,YAAc,UACzCA,EAAO,cAAc,MAAM,UAC1B,+BAEH,GACgB,aAAcX,EAAO,MAAQA,EAAO,IAAMW,GAAU,CAC9DZ,EAAK,aACTY,EAAO,cAAc,MAAM,WAAa,UACxCA,EAAO,cAAc,MAAM,YAAc,UACzCA,EAAO,cAAc,MAAM,UAAY,GAEzC,EACc,EAAG,CACCZ,EAAK,YAEFM,EAAW,EAAGC,EAAoB,IAAKV,EAAW,IADlDS,EAAW,EAAGC,EAAoB,IAAKX,EAAW,GAEvDzB,EAAoB,yBAAyB,EAC7CC,EAAiB,IAAM2C,EAAiBf,EAAK,WAAa,yEAAoB,gCAAO,EAAG,CAAY,CACtG,EAAG,GAAuCL,EAAW,IACpDW,EAAW,EAAGC,EAAoB,MAAOT,GAAaiB,EAAiBf,EAAK,kBAAkB,EAAG,CAAY,EACpH,CAAC,CACH,CAAC,CACH,CAAC,GACD7B,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,EAAG,IAA6C,CAClD,CCjRmMqD,GAAO,OAASC,GAAOD,GAAO,OAAS,6EAA6E,IAAOA,GAAQA,GCGtU,IAAOE,GAAQ,CACb,KAAM,oBAEN,MAAO,CACL,OAAQ,CACN,KAAM,QACN,SAAU,GACV,QAAS,EACX,EACA,OAAQ,CACN,KAAM,MACN,SAAU,GACV,QAAS,IAAM,CAAC,CAClB,CACF,EAEA,QAAS,CACP,eAAeC,EAAY,CACzB,GAAI,CAACA,EAAY,MAAO,GAExB,GAAI,CAEF,OADa,IAAI,KAAKA,CAAU,EACpB,eAAe,QAAS,CAClC,MAAO,QACP,IAAK,UACL,KAAM,UACN,OAAQ,UACR,OAAQ,EACV,CAAC,CACH,OAASC,EAAP,CACA,OAAOD,CACT,CACF,EAEA,YAAYE,EAAW,CAErB,MAAO,0BAA0B,mBAAmBA,CAAS,GAC/D,EAEA,aAAc,CAEZ,OAAO,SAAS,KAAO,MACzB,EAEA,eAAgB,CACd,OAAO,SAAS,OAAO,CACzB,CACF,CACF,ECjDA,IAAMC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,kBAAkB,SAAS,cAAc,QAAQ,CAAE,EAC3FC,GAAa,CAAE,MAAO,CAAC,WAAa,oDAAoD,QAAU,YAAY,QAAU,OAAO,cAAc,SAAS,kBAAkB,gBAAgB,aAAa,mCAAmC,SAAW,WAAW,SAAW,QAAQ,CAAE,EACnRC,GAA0BC,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,KAAK,CAAE,EAAG,CAC9GA,EAAoB,MAAO,CAAE,MAAO,CAAC,MAAQ,OAAO,OAAS,OAAO,WAAa,2BAA2B,gBAAgB,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,QAAQ,CAAE,EAAG,CACvMA,EAAoB,IAAK,CACpC,MAAO,uBACP,MAAO,CAAC,MAAQ,QAAQ,YAAY,MAAM,CAC5C,CAAC,CACH,CAAC,EACYA,EAAoB,KAAM,CAAE,MAAO,CAAC,OAAS,IAAI,YAAY,OAAO,cAAc,MAAM,MAAQ,QAAQ,cAAc,+BAA+B,SAAW,WAAW,UAAU,GAAG,CAAE,EAAG,wBAAwB,CACpO,EAAG,EAAgB,EACbC,GAA0BD,EAAoB,IAAK,CACvD,MAAO,gBACP,MAAO,CAAC,MAAQ,QAAQ,YAAY,MAAM,CAC5C,EAAG,KAAM,EAAgB,EACnBE,GAAa,CACjBD,EACF,EACME,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,WAAa,SAAS,CAAE,EAChEC,GAAa,CAAE,MAAO,CAAC,WAAa,UAAU,cAAc,oBAAoB,QAAU,YAAY,gBAAgB,MAAM,gBAAgB,MAAM,CAAE,EACpJC,GAAa,CAAE,MAAO,CAAC,OAAS,IAAI,MAAQ,UAAU,cAAc,MAAM,YAAY,OAAO,cAAc,KAAK,CAAE,EAClHC,GAA0BN,EAAoB,IAAK,CACvD,MAAO,sBACP,MAAO,CAAC,eAAe,KAAK,CAC9B,EAAG,KAAM,EAAgB,EACnBO,GAAc,CAAE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,MAAM,SAAW,SAAS,OAAS,oBAAoB,gBAAgB,MAAM,CAAE,EAC5IC,GAAc,CAAE,MAAO,CAAC,MAAQ,OAAO,kBAAkB,UAAU,CAAE,EACrEC,GAA2BT,EAAoB,QAAS,KAAM,CACrDA,EAAoB,KAAM,CAAE,MAAO,CAAC,WAAa;AAAA;AAAA;AAAA;AAAA,sBAAkJ,CAAE,EAAG,CACtMA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,YAAY,aAAa,OAAO,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,iBAAiB,YAAY,iBAAiB,QAAQ,gBAAgB,mBAAmB,CAAE,EAAG,YAAY,EACjPA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,YAAY,aAAa,OAAO,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,iBAAiB,YAAY,iBAAiB,QAAQ,gBAAgB,mBAAmB,CAAE,EAAG,eAAe,EACpPA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,YAAY,aAAa,OAAO,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,iBAAiB,YAAY,iBAAiB,QAAQ,gBAAgB,mBAAmB,CAAE,EAAG,WAAW,CAC/P,CAAC,CACH,EAAG,EAAgB,EACbU,GAAc,CAAE,MAAO,CAAC,QAAU,WAAW,CAAE,EAC/CC,GAAc,CAAC,MAAM,EACrBC,GAA2BZ,EAAoB,IAAK,CACxD,MAAO,sBACP,MAAO,CAAC,YAAY,OAAO,cAAc,KAAK,CAChD,EAAG,KAAM,EAAgB,EACnBa,GAAc,CAAE,MAAO,CAAC,QAAU,YAAY,MAAQ,UAAU,YAAY,OAAO,cAAc,KAAK,CAAE,EACxGC,GAAc,CAAE,MAAO,CAAC,QAAU,YAAY,MAAQ,UAAU,YAAY,MAAM,CAAE,EACpFC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,WAAa,QAAQ,aAAa,oBAAoB,QAAU,OAAO,IAAM,MAAM,kBAAkB,UAAU,CAAE,EAC1JC,GAA2BhB,EAAoB,IAAK,CACxD,MAAO,qBACP,MAAO,CAAC,eAAe,KAAK,CAC9B,EAAG,KAAM,EAAgB,EACnBiB,GAA2BjB,EAAoB,IAAK,CACxD,MAAO,kBACP,MAAO,CAAC,eAAe,KAAK,CAC9B,EAAG,KAAM,EAAgB,EAElB,SAASkB,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,OAAQC,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzDC,EAAoB,+CAA+C,EACnEA,EAAoB,8BAA8B,EAClDA,EAAoB,+CAA+C,EACnE5B,EAAoB,MAAOH,GAAY,CACpCsB,EAAK,QACDM,EAAW,EAAGC,EAAoB,MAAO,CACxC,IAAK,EACL,MAAO,CAAC,SAAW,QAAQ,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,IAAI,WAAa,qBAAqB,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,UAAU,MAAM,EAC9L,QAASN,EAAO,KAAOA,EAAO,GAAK,IAAIS,IAAUV,EAAK,aAAeA,EAAK,YAAY,GAAGU,CAAI,EAC/F,EAAG,CACDD,EAAoB,oBAAoB,EACxC5B,EAAoB,MAAO,CACzB,MAAO,CAAC,WAAa,QAAQ,gBAAgB,OAAO,SAAW,SAAS,aAAa,kCAAkC,YAAY,QAAQ,MAAQ,OAAO,OAAS,kCAAkC,EACrM,QAASoB,EAAO,KAAOA,EAAO,GAAKU,GAAe,IAAM,CAAC,EAAG,CAAC,MAAM,CAAC,EACtE,EAAG,CACDF,EAAoB,+CAA+C,EACnEA,EAAoB,8IAAqC,EACzDA,EAAoB,+CAA+C,EACnE5B,EAAoB,MAAOF,GAAY,CACrCC,GACAC,EAAoB,SAAU,CAC5B,MAAO,CAAC,WAAa,4BAA4B,OAAS,OAAO,gBAAgB,MAAM,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,OAAS,SAAS,EAC3M,QAASoB,EAAO,KAAOA,EAAO,GAAK,IAAIS,IAAUV,EAAK,aAAeA,EAAK,YAAY,GAAGU,CAAI,EAC/F,EAAG3B,EAAU,CACf,CAAC,EACD0B,EAAoB,+CAA+C,EACnEA,EAAoB,+IAAsC,EAC1DA,EAAoB,+CAA+C,EACnE5B,EAAoB,MAAOG,GAAY,CACrCyB,EAAoB,mBAAmB,EACvC5B,EAAoB,MAAOI,GAAY,CACrCJ,EAAoB,IAAKK,GAAY,CACnCC,GACAsB,EAAoB,iFAAiF,EACrGG,EAAiB,6BAAWC,EAAiBb,EAAK,OAAO,MAAM,EAAI,0SAAgE,CAAY,CACjJ,CAAC,CACH,CAAC,EACDS,EAAoB,gBAAgB,EACpC5B,EAAoB,MAAOO,GAAa,CACtCP,EAAoB,QAASQ,GAAa,CACxCC,GACAT,EAAoB,QAAS,KAAM,EAChCyB,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMM,GAAYd,EAAK,OAAQ,CAACe,EAAOC,KAC/EV,EAAW,EAAGC,EAAoB,KAAM,CAC9C,IAAKQ,EAAM,KACX,MAAOE,EAAgB,CAC7B,WAAYD,EAAQ,IAAM,EAAI,QAAU,UACxC,aACEA,EAAQhB,EAAK,OAAO,OAAS,EAAI,oBAAsB,MAC3D,CAAC,CACK,EAAG,CACDnB,EAAoB,KAAMU,GAAa,CACrCV,EAAoB,IAAK,CACvB,KAAMmB,EAAK,YAAYe,EAAM,IAAI,EACjC,OAAQ,SACR,MAAO,CAAC,MAAQ,UAAU,cAAc,MAAM,YAAY,OAAO,cAAc,2BAA2B,kBAAkB,MAAM,CACpI,EAAG,CACDH,EAAiBC,EAAiBE,EAAM,IAAI,EAAI,IAAK,CAAY,EACjEtB,EACF,EAAG,EAAeD,EAAW,CAC/B,CAAC,EACDX,EAAoB,KAAMa,GAAamB,EAAiBE,EAAM,WAAW,EAAG,CAAY,EACxFlC,EAAoB,KAAMc,GAAakB,EAAiBb,EAAK,eAAee,EAAM,iBAAiB,CAAC,EAAG,CAAY,CACrH,EAAG,CAAa,EACjB,EAAG,GAAwB,EAC9B,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,EACDN,EAAoB,+CAA+C,EACnEA,EAAoB,8IAAqC,EACzDA,EAAoB,+CAA+C,EACnE5B,EAAoB,MAAOe,GAAa,CACtCf,EAAoB,SAAU,CAC5B,QAASoB,EAAO,KAAOA,EAAO,GAAK,IAAIS,IAAUV,EAAK,aAAeA,EAAK,YAAY,GAAGU,CAAI,GAC7F,MAAO,CAAC,WAAa,UAAU,MAAQ,UAAU,OAAS,oBAAoB,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,SAAS,CACpL,EAAG,CACDb,GACAe,EAAiB,cAAc,CACjC,CAAC,EACD/B,EAAoB,SAAU,CAC5B,QAASoB,EAAO,KAAOA,EAAO,GAAK,IAAIS,IAAUV,EAAK,eAAiBA,EAAK,cAAc,GAAGU,CAAI,GACjG,MAAO,CAAC,WAAa,oDAAoD,MAAQ,QAAQ,OAAS,OAAO,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,aAAa,kCAAkC,EAC7P,aAAcT,EAAO,KAAOA,EAAO,GAAKiB,GAAU,CACtDA,EAAO,OAAO,MAAM,WAAa,UACjCA,EAAO,OAAO,MAAM,YAAc,UAClCA,EAAO,OAAO,MAAM,UAAY,8BAClC,GACM,aAAcjB,EAAO,KAAOA,EAAO,GAAKiB,GAAU,CACtDA,EAAO,OAAO,MAAM,WAAa,oDACjCA,EAAO,OAAO,MAAM,YAAc,GAClCA,EAAO,OAAO,MAAM,UAAY,kCAClC,EACI,EAAG,CACDpB,GACAc,EAAiB,gBAAgB,CACnC,EAAG,EAAuB,CAC5B,CAAC,CACH,CAAC,CACH,CAAC,GACDH,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,EAAG,IAA6C,CAClD,CC/J2MU,GAAO,OAASC,GAAOD,GAAO,OAAS,iFAAiF,IAAOA,GAAQA,GCalV,IAAME,GAAc,CACnB,aAAc,eACd,sBAAuB,wBACvB,aAAc,cACd,iBAAkB,mBAClB,YAAa,cACb,kBAAmB,oBACnB,iBAAkB,mBAClB,OAAQ,SACR,SAAU,WACV,mBAAoB,qBACpB,iBAAkB,mBAClB,oBAAqB,sBACrB,yBAA0B,2BAC1B,qBAAsB,uBACtB,oBAAqB,sBACrB,gBAAiB,kBACjB,iBAAkB,mBAClB,0BAA2B,4BAC3B,gBAAiB,kBACjB,wCAAyC,yCAC1C,EAGOC,GAAQ,CACd,OAAQ,CAACC,EAAM,EAKf,MAAO,CACN,MAAO,CAGN,QAAS,GAET,aAAc,GAId,YAAa,GAEb,aAAc,GAId,YAAa,KAEb,SAAU,GAEV,cAAe,GAIf,eAAgB,EAEhB,uBAAwB,GAIxB,eAAgB,GAEhB,UAAW,GAEX,aAAc,GAEd,gCAAiC,GAEjC,oBAAqB,EAErB,qBAAsB,CAAC,EAEvB,YAAa,GAIb,UAAW,CAAC,EAIZ,oBAAqB,CAAC,EAEtB,4BAA6B,KAE7B,yBAA0B,CAAC,EAK3B,kCAAmC,KAKnC,2BAA4B,GAI5B,6BAA8B,EAE9B,8BAA+B,IAChC,CACD,EAKA,SAAU,CAGT,UAAW,CACV,OAAI,OAAO,QAAW,aAAe,OAAO,SACpC,OAAO,SAAS,SAAS,EAGnB,IAAI,KAAK,EACV,YAAY,EAAE,MAAM,GAAG,EAAE,EACvC,EAKA,aAAc,CAvIhB,IAAAC,EAwIG,GAAI,CAAC,KAAK,YAAa,MAAO,GAG9B,IAAIC,EAAQ,WAAW,KAAK,YAAY,gBAAkB,CAAC,EAI3D,OAAID,EAAA,KAAK,cAAL,MAAAA,EAAkB,UACrB,KAAK,YAAY,SAAS,QAASE,GAAY,CAC9CD,GAAS,KAAK,IAAIC,EAAQ,QAAU,EAAG,CAAC,CACzC,CAAC,EAIFD,GAAS,KAAK,IAAI,KAAK,0BAA4B,EAAG,CAAC,EAIhD,IAAIA,EAAO,CAAC,CACpB,EAKA,oBAAqB,CACpB,GAAI,CAAC,KAAK,YAAa,MAAO,GAK9B,IAAME,EAAgB,IAAI,KAAK,YAAY,YAAa,CAAC,EAEnDC,EAAmB,IAAI,KAAK,YAAY,kBAAoB,EAAG,CAAC,EAIhEC,EAAc,IAAIF,EAAgB,KAAK,YAAcC,EAAkB,CAAC,EAI9E,OAAOC,EAAc,EAAIA,EAAc,CACxC,EAKA,eAAgB,CAtLlB,IAAAL,EAAAM,EAAAC,EAAAC,EAAAC,EAAAC,EAuLG,GAAI,CAAC,KAAK,YAAa,MAAO,GAI9B,IAAIC,EAAa,WAAW,KAAK,YAAY,gBAAkB,CAAC,GAE5DX,EAAA,KAAK,cAAL,MAAAA,EAAkB,UACrB,KAAK,YAAY,SAAS,QAASE,GAAY,CAC9CS,GAAc,KAAK,IAAIT,EAAQ,QAAU,EAAG,CAAC,CAC9C,CAAC,EAEFS,GAAc,KAAK,IAAI,KAAK,0BAA4B,EAAG,CAAC,EAE5DA,EAAa,IAAIA,EAAY,CAAC,EAK9B,IAAMR,EAAgB,IAAI,KAAK,YAAY,YAAa,CAAC,EAEnDS,GAAYN,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAIpC,GAAIK,EAAaR,EAEhB,GAAIS,EAAW,CACd,IAAMC,GAAeL,GAAAD,EAAA,KAAK,cAAL,YAAAA,EAAkB,WAAlB,YAAAC,EAA4B,KAC/CM,GAAMA,EAAE,kBAAoBF,GAExBG,IACLL,GAAAD,EAAA,KAAK,cAAL,YAAAA,EAAkB,WAAlB,YAAAC,EACG,OAAQI,GAAMA,EAAE,kBAAoBF,GACrC,OAAO,CAACI,EAAKF,IAAME,EAAM,KAAK,IAAIF,EAAE,QAAU,EAAG,CAAC,EAAG,KAAM,EAGxDG,EAAe,IACpB,IAAI,KAAK,YAAY,gBAAkB,EAAG,CAAC,EAC1C,IAAI,KAAK,0BAA4B,EAAG,CAAC,EACzCF,EACD,CACD,EAKA,OACCF,GACA,KAAK,IAAIA,EAAa,QAAU,CAAC,EAAI,GACrCI,GAAgBd,EAID,IAAIQ,EAAaR,EAAe,CAAC,EAGzC,CAET,KAMC,QADe,IAAIQ,EAAaR,EAAe,CAAC,EAMlD,MAAO,EACR,EAKA,gBAAiB,CAChB,OAAO,KAAK,WACb,EAKA,cAAe,CAEd,OAAI,KAAK,cAAgB,EAEjB,CAAC,KAAK,cAGP,KAAK,kBACb,EAGA,0BAA2B,CApR7B,IAAAH,EAqRG,OAAKA,EAAA,KAAK,gBAAL,MAAAA,EAAoB,eAClB,KAAK,cAAc,eADsB,CAEjD,EAIA,2BAA4B,CAC3B,OAAO,KAAK,qBAAqB,OAAO,CAACC,EAAOiB,IAAQjB,EAAQiB,EAAI,aAAc,CAAC,CACpF,EAIA,0BAA2B,CAC1B,OAAO,KAAK,qBAAqB,OAAO,CAACjB,EAAOiB,IAAQ,CACvD,IAAMC,EAAS,IAAID,EAAI,gBAAgB,EACvC,OAAKC,IAAQD,EAAI,iBAAmB,GAC7BjB,EAAQkB,CAChB,EAAG,CAAC,CACL,EAIA,gBAAiB,CAChB,MAAO,CAAC,KAAK,aAAe,CAAC,KAAK,YAAY,QAC/C,EAIA,uBAAwB,CAjT1B,IAAAnB,EAAAM,EAkTG,QACCA,GAAAN,EAAA,KAAK,cAAL,YAAAA,EAAkB,WAAlB,YAAAM,EAA4B,KAAMJ,GAAYA,EAAQ,OAAS,WAAY,EAE7E,EAIA,8BAA+B,CAI9B,OAAO,IAAI,KAAK,8BAAgC,CAAC,CAClD,CACD,EAIA,QAAS,CAGR,YAAYkB,EAAMC,EAAO,CACxBC,EAAQ,KAAKzB,GAAY,aAAc,CAAE,KAAAuB,EAAM,MAAAC,CAAM,CAAC,CACvD,EAGA,kBAAmB,CAClB,KAAK,MAAM,eAAe,CAC3B,EAIA,aAAaE,EAAQ,GAAMC,EAAW,GAAO,CAC5C,KAAK,OAAO,OAAWA,EAAUD,CAAK,CACvC,EAIA,mBAAmBE,EAAa,CAC/B,KAAK,YAAcA,EACnB,IAAMC,EAAiB,KAAK,kBAAkB,EAC9C,GAAIA,EAAgB,CAGnB,IAAMzB,EAAQ,IAAIwB,EAAY,YAAa,CAAC,EAE5CC,EAAe,OAASzB,CACzB,CACA,KAAK,aAAa,GAAM,EAAI,CAC7B,EAIA,mBAAoB,CAtWtB,IAAAD,EAuWG,IAAM2B,EAAW,MAAM,SAAQ3B,EAAA,KAAK,cAAL,YAAAA,EAAkB,QAAQ,EACtD,KAAK,YAAY,SACjB,CAAC,EACJ,OAAO2B,EAAS,KAAMzB,GAAYA,EAAQ,SAAW,CAAC,GAAKyB,EAAS,IAAM,IAC3E,EAIA,iBAAkB,CACjBL,EAAQ,KAAKzB,GAAY,aAAc,OAAO,EAC9CyB,EAAQ,KAAKzB,GAAY,sBAAuB,EAAK,CACtD,EAIA,MAAM,OAAO+B,EAAOJ,EAAW,GAAOD,EAAQ,GAAO,CAtXvD,IAAAvB,EAwXO4B,GAAS,OAAOA,EAAM,gBAAmB,YAC5CA,EAAM,eAAe,EAKtB,GAAI,CACH,MAAM,KAAK,kBAAkB,CAC9B,OAASC,EAAP,CACD,QAAQ,IAAI,+BAA+BA,GAAA,YAAAA,EAAO,UAAWA,CAAK,CACnE,CAGA,KAAI7B,EAAA,KAAK,cAAL,YAAAA,EAAkB,aAAc,EAAG,CAClCuB,GACH,KAAK,gBAAgB,EAEtBD,EAAQ,KAAKzB,GAAY,iBAAkB,KAAK,YAAY,IAAI,EAChEyB,EAAQ,KAAKzB,GAAY,YAAa,OAAO,EAC7C,KAAK,gBAAgB,EACrB,MACD,CAGA,GAAI2B,EAAU,CACb,IAAME,EAAiB,KAAK,kBAAkB,EAC9C,GAAI,CAACA,EAAgB,CACpB,KAAK,YAAY,2CAA4C,OAAO,EACpE,MACD,CAGA,IAAMzB,EAAQ,IAAI,KAAK,YAAY,YAAa,CAAC,EAEjDyB,EAAe,OAASzB,CACzB,CAGA,KAAK,eAAesB,EAAOC,CAAQ,CACpC,EAIA,eAAeD,EAAOC,EAAUM,EAAW,GAAO,CAnapD,IAAA9B,EAAAM,EAAAC,EAAAC,EAsaG,GAAI,KAAK,aAAc,CACtB,KAAK,YAAY,UAAY,EAI7B,IAAIP,EAAQ,EACZ,KAAK,YAAY,MAAM,QAAS8B,GAAS,CACxCA,EAAK,IAAM,GAAK,KAAK,IAAIA,EAAK,GAAG,EACjCA,EAAK,UAAY,GAAK,KAAK,IAAIA,EAAK,WAAaA,EAAK,GAAG,EACzDA,EAAK,OAAS,GAAK,KAAK,IAAIA,EAAK,MAAM,EACvCA,EAAK,WAAa,GAAK,KAAK,IAAIA,EAAK,YAAcA,EAAK,MAAM,EAC9D9B,GAAS8B,EAAK,MACf,CAAC,EAGD,KAAK,YAAY,MAAQ9B,EACzB,KAAK,YAAY,UAAYA,EAC7B,KAAK,YAAY,YAAcA,EAE/B,KAAK,YAAY,WAAaA,EAC9B,KAAK,YAAY,eAAiBA,EAClC,KAAK,YAAY,iBAAmBA,EAGhC,OAAO,KAAK,6BAAgC,SAC/C,KAAK,YAAY,SAAS,QAASC,GAAY,CAC9CA,EAAQ,OACPA,EAAQ,MAAQ,KAAK,4BAA8BD,EAAQ,CAC7D,CAAC,IAEGD,EAAA,KAAK,YAAY,WAAjB,YAAAA,EAA2B,QAAS,IACvC,KAAK,YAAY,SAAS,GAAG,OAASC,GAKxC,KAAK,aAAe,EACrB,CAGA,IAAI+B,EAAmB,EACvB,KAAK,YAAY,SAAS,QAAS9B,GAAY,CAE9CA,EAAQ,OAAS,IAAIA,EAAQ,OAAQ,CAAC,EACtC8B,GAAoB9B,EAAQ,MAC7B,CAAC,EAID,IAAM+B,EAAe,IAAI,KAAK,YAAY,YAAa,CAAC,EAGlDC,EAAmB,IACxBF,EACC,IAAI,KAAK,YAAY,gBAAkB,EAAG,CAAC,EAC3C,IAAI,KAAK,0BAA4B,EAAG,CAAC,EAC1C,CACD,EAKI,KAAK,YAAY,WAAaA,GAAoB,IACrD,KAAK,YAAY,OAAS,GAGvB,KAAK,qBAAqB,QAC7B,KAAK,qBAAqB,QAASd,GAAQ,CAC1CA,EAAI,iBAAmB,IAAIA,EAAI,gBAAgB,CAChD,CAAC,EAMF,IAAIiB,EAAc,GACd7B,EAAA,KAAK,cAAL,MAAAA,EAAkB,UACrB,KAAK,YAAY,SAAS,QAASJ,GAAY,CAC9CiC,GAAe,IAAIjC,EAAQ,QAAU,CAAC,CACvC,CAAC,EAEFiC,GAAe,IAAI,KAAK,YAAY,gBAAkB,CAAC,EACvDA,GAAe,IAAI,KAAK,0BAA4B,CAAC,EAKrD,KAAK,YAAY,YAAc,IAAIA,EAAa,CAAC,EAMjD,IAAMC,EAAc,IAAI,KAAK,YAAY,YAAa,CAAC,EAGjDC,IACL7B,GAAAD,EAAA,KAAK,cAAL,YAAAA,EAAkB,WAAlB,YAAAC,EAA4B,KAAMM,GAAMA,EAAE,OAAS,UAAW,GAGzDwB,EACL,CAAC,KAAK,YAAY,WAAaH,EAAcC,GAAeC,EACzD,IAAIF,EAAcC,EAAa,CAAC,EAChC,EAGJ,KAAK,YAAY,cAAgBE,EAEjC,IAAMC,EAAO,CACZ,yBAA0B,KAAK,yBAC/B,qBAAsB,KAAK,oBAC5B,EAEA,GAAIf,EAAU,CACb,KAAK,gBAAgB,EACrBF,EAAQ,KAAKzB,GAAY,YAAa,OAAO,EAC7C,KAAK,gBAAgB,EACrB,MACD,CAEA,OAAO,KAAK,CACX,OAAQ2C,EAAQ,cAAc,OAC9B,KAAM,CACL,KAAMD,EACN,QAAS,CACR,KAAM,KAAK,YAAY,KACvB,SAAU,KAAK,YAAY,SAC3B,UAAW,KAAK,YAAY,UAC5B,OAAQ,KAAK,YAAY,OACzB,SAAU,KAAK,YAAY,SAC3B,eAAgB,KAAK,YAAY,eACjC,sBAAuB,KAAK,YAAY,sBACxC,eAAgB,KAAK,YAAY,eACjC,iBAAkB,KAAK,YAAY,iBACnC,2CACC,KAAK,YAAY,2CAClB,eAAgB,KAAK,YAAY,eACjC,eAAgB,KAAK,YAAY,eACjC,cAAe,KAAK,YAAY,cAChC,SAAU,KAAK,YAAY,SAC3B,eAAgB,KAAK,gBAAkB,EACvC,cAAe,KAAK,YAAY,cAChC,gBAAiB,KAAK,YAAY,gBAClC,sBAAuB,KAAK,YAAY,sBACxC,iBAAkB,KAAK,YAAY,iBACnC,iBAAkB,KAAK,YAAY,gBACpC,CACD,EACA,MAAO,GACP,SAAWE,GAAM,CACZA,EAAE,SACDlB,GACH,KAAK,gBAAgB,EAEtBD,EAAQ,KAAKzB,GAAY,iBAAkB,KAAK,YAAY,IAAI,EAChE,KAAK,UAAY,CAAC,EAClByB,EAAQ,KAAKzB,GAAY,YAAa,OAAO,EAC7CyB,EAAQ,KAAKzB,GAAY,iBAAiB,EAC1C,KAAK,gBAAgB,GAErB,KAAK,YAAY,2BAA4B,OAAO,CAEtD,EACA,MAAQ6C,GAAQ,CACf,IAAMC,GAAWD,GAAA,YAAAA,EAAK,UAAW,GAC3BE,EACL,OAAOD,GAAa,UACpBA,EAAS,SAAS,4BAA4B,EAE3C,CAACb,GAAYc,EAChB,KAAK,kBAAkB,EACrB,KAAK,IAAM,CACX,KAAK,eAAerB,EAAOC,EAAU,EAAI,CAC1C,CAAC,EACA,MAAOkB,GAAQ,CACf,QAAQ,IACP,0CACAA,GAAA,YAAAA,EAAK,UAAWA,CACjB,EACA,KAAK,YACJ,mDACA,OACD,CACD,CAAC,EAEF,KAAK,aAAYA,GAAA,YAAAA,EAAK,UAAW,2BAA4B,OAAO,CAEtE,CACD,CAAC,CACF,EAKA,mBAAoB,CAxmBtB,IAAA1C,EAymBG,GAAI,GAACA,EAAA,KAAK,cAAL,MAAAA,EAAkB,MACtB,OAAO,QAAQ,QAAQ,EAKxB,IAAM6C,EAA2B,KAAK,YAAY,YAAc,EAE1DC,EACLD,GAA4B,KAAK,YAAY,SAC1C,KAAK,YAAY,SAAS,IAAK3C,GAAa6C,GAAA,GAAK7C,EAAU,EAC3D,CAAC,EAEL,OAAO,IAAI,QAAQ,CAAC8C,EAASC,IAAW,CACvC,OAAO,KAAK,CACX,OAAQT,EAAQ,OAAO,WACvB,KAAM,CACL,QAAS,gBACT,KAAM,KAAK,YAAY,IACxB,EACA,MAAO,GACP,SAAWU,GAAQ,CA9nBxB,IAAAlD,EA+nBM,GAAIkD,EAAI,QAAS,CAChB,IAAMC,EAAWD,EAAI,QAErB,GAAIL,GAA4BM,EAAS,YAAc,EAAG,CACzD,IAAMC,GAAkBD,EAAS,UAAY,CAAC,GAAG,IAAKjD,GAAY,CACjE,IAAMmD,EAAaP,EAAc,KAAMQ,GAErCA,EAAa,MAAQ,QACrBpD,EAAQ,MAAQ,OAETA,EAAQ,MAAQoD,EAAa,IAGpCpD,EAAQ,kBACRoD,EAAa,eAEd,EAED,OAAOD,EACJE,GAAAR,GAAA,GAAK7C,GAAL,CAAc,OAAQmD,EAAW,MAAO,GACxCnD,CACJ,CAAC,EAEKsD,EAAO,IAAI,IAChBJ,EAAe,IACblD,GACA,GAAGA,EAAQ,iBAAmB,OAC7BA,EAAQ,KAAO,IAElB,CACD,EAEA4C,EAAc,QAASQ,GAAiB,CACvC,IAAMG,EAAM,GAAGH,EAAa,iBAAmB,OAC9CA,EAAa,KAAO,KAEjB,CAACE,EAAK,IAAIC,CAAG,GAAK,IAAIH,EAAa,MAAM,GAC5CF,EAAe,KAAKE,CAAY,CAElC,CAAC,EAEDH,EAAS,SAAWC,CACrB,CAOA,GALA,KAAK,YAAcD,EAMlB,KAAK,aACL,CAAC,KAAK,YAAY,WAClB,KAAK,YAAY,YAAc,EAC9B,CACD,IAAMO,GAAkB1D,EAAA,KAAK,YAAY,WAAjB,YAAAA,EAA2B,KACjDE,GAAYA,EAAQ,SAAW,GAEjC,GAAIwD,EAAiB,CAGpB,IAAMzD,EAAQ,IAAI,KAAK,YAAY,YAAa,CAAC,EAEjDyD,EAAgB,OAASzD,EACrByD,EAAgB,cAAgB,SACnCA,EAAgB,YAAczD,EAEhC,CACD,CAEA+C,EAAQ,CACT,MACCC,EAAO,IAAI,MAAM,2BAA2B,CAAC,CAE/C,EACA,MAAQP,GAAQO,EAAOP,CAAG,CAC3B,CAAC,CACF,CAAC,CACF,EAKA,gBAAgBiB,EAAK,CACpB,GAAI,CAGC,KAAK,yBAAyBA,KACjC,aAAa,KAAK,yBAAyBA,EAAI,EAC/C,OAAO,KAAK,yBAAyBA,IAKtC,KAAK,yBAAyBA,GAAO,WAAW,IAAM,CAErD,GAAI,KAAK,gCAAiC,CACzC,OAAO,KAAK,yBAAyBA,GACrC,MACD,CACA,IAAMC,EAAgB,CAAC,CAAC,KAAK,aAEvB1D,EAAU,KAAK,YAAY,SAAS,KAAMY,GAAMA,EAAE,KAAO6C,CAAG,EAClE,GAAI,CAACzD,EAAS,CACb,OAAO,KAAK,yBAAyByD,GACrC,MACD,CAGA,KAAK,YAAY,SAAS,QAAS7C,GAAM,CACpCA,EAAE,MAAQ6C,IACb7C,EAAE,OAAS,EACPA,EAAE,cAAgB,SACrBA,EAAE,YAAc,GAGnB,CAAC,EAUD,IAAM+C,EALgB,IAAI,KAAK,YAAY,YAAa,CAAC,EAMnD1D,EAAgByD,EAAgB,CAAC,KAAK,IAAIC,CAAM,EAAIA,EAG1D3D,EAAQ,OAASC,EACbD,EAAQ,cAAgB,SAC3BA,EAAQ,YAAcA,EAAQ,QAI/B,KAAK,UAAU,IAAM,CACpB,KAAK,wBAAwBA,CAAO,CACrC,CAAC,EAEDoB,EAAQ,KACPzB,GAAY,iBACZ,KAAK,MAAM,KAAK,UAAU,KAAK,YAAY,QAAQ,CAAC,CACrD,EAGA,KAAK,UAAU,IAAM,CACpB,KAAK,aAAa,CACnB,CAAC,EAED,OAAO,KAAK,yBAAyB8D,EACtC,EAAG,GAAG,CACP,OAAS9B,EAAP,CACD,QAAQ,IAAI,wCAAwCA,GAAA,YAAAA,EAAO,UAAWA,CAAK,EACvE,KAAK,yBAAyB8B,IACjC,OAAO,KAAK,yBAAyBA,EAEvC,CACD,EAKA,gBAAgBA,EAAK,CAjyBvB,IAAA3D,EAAAM,EAkyBG,GAAI,CAEH,GAAI,KAAK,gCACR,OAGD,IAAMsD,EAAgB,CAAC,CAAC,KAAK,aAIvBE,EAAgB,IAAI,KAAK,YAAY,YAAa,CAAC,EAGnD5D,EAAU,KAAK,YAAY,SAAS,KAAMY,GAAMA,EAAE,MAAQ6C,CAAG,EACnE,GAAI,CAACzD,EAAS,OAKd,IAAM6D,IACL/D,EAAA,KAAK,YAAY,WAAjB,YAAAA,EACG,OAAQc,GAAMA,EAAE,MAAQ6C,GACzB,OAAO,CAAC3C,EAAKF,IAAME,EAAM,IAAIF,EAAE,QAAU,EAAG,CAAC,EAAG,KAAM,EAGnDG,EAAe,IACpB,IAAI,KAAK,YAAY,gBAAkB,EAAG,CAAC,EAC1C,IAAI,KAAK,0BAA4B,EAAG,CAAC,EACzC8C,EACD,CACD,EAIMC,EAAY,IAAIF,EAAgB7C,EAAc,CAAC,EAG/CL,GAAYN,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAChCuD,EAASG,EAGb,GAAIpD,GAAaV,EAAQ,kBAAoBU,EAG5C,GAAIgD,EAAe,CAElB,IAAMK,EAAgB,KAAK,IAAID,CAAS,EAClCE,EAAa,KAAK,IAAIJ,CAAa,EACzCD,EACCI,GAAiBC,EAAaF,EAAY,CAAC,KAAK,IAAIF,CAAa,CACnE,MAECD,EAASG,EAAY,EAAIA,EAAY,OAItCH,EAASG,EAKNJ,GAAiBC,EAAS,IAC7BA,EAAS,CAAC,KAAK,IAAIA,CAAM,GAM1B3D,EAAQ,OAAS2D,EACb3D,EAAQ,cAAgB,SAC3BA,EAAQ,YAAcA,EAAQ,QAI/B,KAAK,UAAU,IAAM,CACpB,KAAK,wBAAwBA,CAAO,CACrC,CAAC,EAEDoB,EAAQ,KACPzB,GAAY,iBACZ,KAAK,MAAM,KAAK,UAAU,KAAK,YAAY,QAAQ,CAAC,CACrD,EAGA,KAAK,UAAU,IAAM,CACpB,KAAK,aAAa,CACnB,CAAC,CACF,OAASgC,EAAP,CACD,QAAQ,IAAI,wCAAwCA,GAAA,YAAAA,EAAO,UAAWA,CAAK,CAC5E,CACD,EAIA,mBAAoB,CACnB,KAAK,YAAY,SAAS,QAAS3B,GAAY,CAC9CA,EAAQ,OAAS,CAClB,CAAC,CACF,EAIA,iBAAkB,CACjB,IAAMiE,EACL,KAAK,YAAY,yBAA2B,KAAK,YAAY,kBACxDC,EAAc,KAAK,YAAY,aAAe,EAC9CC,EAAM,GAAG,OAAO,OAAO,aAAa,4CACzC,KAAK,YAAY,+BACSF,mBAA8BC,IAEnDE,EAAc,OAAO,KAAKD,EAAK,OAAO,EAC5CC,EAAY,iBACX,OACA,UAAY,CACXA,EAAY,MAAM,EAClB,WAAW,IAAMA,EAAY,MAAM,EAAG,GAAI,CAC3C,EACA,EACD,CACD,EAIA,mBAAoB,CACnB,IAAMC,EAAQ,OAAO,SAAS,SAAS,EACjCC,EAAc,KAAK,MAAMD,CAAK,EACnB,KAAK,MAAM,KAAK,YAAY,QAAQ,EAGtCC,GACd,WAAW,IAAM,CAChB,KAAK,YAAY,SAAWD,CAC7B,EAAG,CAAC,CAEN,EAGA,SAAS,EAAG,CACP,EAAE,MAAQ,MAAQ,EAAE,SAAW,EAAE,WACpC,EAAE,eAAe,EACjB,KAAK,OAAO,EAEd,EAEA,mBAAoB,CAInB,KAAK,oBAAsB,CAAC,CAC7B,EAIA,0BAA0BrE,EAASuE,EAAQ,CAE1C,GAAI,KAAK,gCACR,OAGD,IAAIC,EAAQ,EACZ,GAAI,CAGH,IAAIC,EAAaF,EAAO,OAAO,MAAM,SAAS,EAAE,QAAQ,KAAM,EAAE,EAC5DG,EAAS,WAAWD,CAAU,EAC7B,MAAMC,CAAM,IAChBF,EAAQE,GAML,KAAK,cAAgBF,EAAQ,IAChCA,EAAQ,CAAC,KAAK,IAAIA,CAAK,GAMxBxE,EAAQ,OAASwE,EACbxE,EAAQ,cAAgB,SAC3BA,EAAQ,YAAcA,EAAQ,QAI/BoB,EAAQ,KACPzB,GAAY,iBACZ,KAAK,MAAM,KAAK,UAAU,KAAK,YAAY,QAAQ,CAAC,CACrD,EAGA,KAAK,UAAU,IAAM,CACpB,KAAK,aAAa,CACnB,CAAC,CACF,OAASgF,EAAP,CACD,QAAQ,IAAI,kDAAkDA,GAAA,YAAAA,EAAG,UAAWA,CAAC,EAC7E3E,EAAQ,OAAS,CAClB,CACD,EAIA,wBAAwBA,EAAS,CAEhC,OAAAoB,EAAQ,KAAK,wBAAwB,EAIrC,KAAK,UAAU,IAAM,CACpB,KAAK,aAAa,CACnB,CAAC,EAEM,EACR,EAIA,qBAAqB,EAAG,CAGvB,GAFA,KAAK,kBAAkB,EAEnB,CAAC,EAAG,CACP,KAAK,qBAAuB,CAAC,EAC7B,MACD,CAEA,OAAO,KAAK,CACX,OAAQkB,EAAQ,SAAS,oBACzB,KAAM,CACL,YAAa,KAAK,YAAY,SAC9B,QAAS,KAAK,YAAY,OAC3B,EACA,SAAWC,GAAM,CAChB,IAAMF,EAAOE,EAAE,QAEf,GAAI,EAACF,GAAA,MAAAA,EAAM,QAAQ,CAClB,KAAK,qBAAuB,CAAC,EAC7B,MACD,CAGA,IAAIuC,EADW,KAAK,YAAY,YAGhCvC,EAAK,QAASrB,GAAQ,CACjB4D,EAAe,GAClB5D,EAAI,iBACH4D,GAAgB5D,EAAI,aAAeA,EAAI,aAAe4D,EACvDA,GAAgB5D,EAAI,kBAEpBA,EAAI,iBAAmB,CAEzB,CAAC,EAED,KAAK,qBAAuBqB,CAC7B,CACD,CAAC,CACF,EAIA,eAAgB,CAriClB,IAAAvC,EAsiCG,IAAM+E,IAAW/E,EAAA,KAAK,cAAL,YAAAA,EAAkB,WAAY,KAAK,SAEpD,GAAI,CAAC+E,EAAU,CACd,KAAK,UAAY,CAAC,EAClB,MACD,CAEA,OAAO,KAAK,CACX,OAAQvC,EAAQ,SAAS,cACzB,KAAM,CAAE,YAAauC,CAAS,EAC9B,MAAO,GACP,SAAWtC,GAAM,CAChB,KAAK,UAAYA,EAAE,IAAM,CAAC,EAAIA,EAAE,OACjC,CACD,CAAC,CACF,EAIA,kCAAmC,CAzjCrC,IAAAzC,EAAAM,EA0jCG,IAAMyE,IAAW/E,EAAA,KAAK,cAAL,YAAAA,EAAkB,WAAY,KAAK,SAC9CgF,GAAU1E,EAAA,KAAK,cAAL,YAAAA,EAAkB,QAElC,GAAI,CAACyE,EAAU,CACd,KAAK,6BAA+B,EACpC,KAAK,8BAAgC,KACrC,MACD,CAEA,OAAO,KAAK,CACX,OAAQvC,EAAQ,SAAS,iCACzB,KAAM,CACL,YAAauC,EACb,QAASC,CACV,EACA,MAAO,GACP,SAAWvC,GAAM,CAChB,GAAIA,EAAE,IAAK,CACV,KAAK,6BAA+B,EACpC,KAAK,8BAAgC,KACrC,MACD,CAEA,IAAMF,EAAOE,EAAE,SAAW,CAAC,EAC3B,KAAK,6BAA+B,KAAK,IACxCF,EAAK,mBAAqB,EAC1B,KAAK,kBACN,EACA,KAAK,8BAAgCA,EAAK,UAAY,IACvD,CACD,CAAC,CACF,EAGA,cAAcR,EAAMkD,EAAW,CAC9B,IAAMC,EAAaD,EAAU,YAAY,EASzC,MARe,CACdlD,EAAK,cACLA,EAAK,cACLA,EAAK,cACLA,EAAK,KACLA,EAAK,IACN,EAEc,KAAMoD,GAAUA,GAAA,YAAAA,EAAO,cAAc,SAASD,EAAW,CACxE,EAGA,aAAc,CACb5D,EAAQ,KAAKzB,GAAY,iBAAkB,KAAK,YAAY,QAAQ,CACrE,EAGA,iBAAkB,CAGjB,GAFA,KAAK,aAAe,GAEhB,CAAC,KAAK,YAAY,eAAgB,CACrC,KAAK,YAAY,qCAAsC,OAAO,EAC9DyB,EAAQ,KAAKzB,GAAY,kBAAkB,EAC3C,KAAK,gBAAgB,EACrB,MACD,CAEAyB,EAAQ,KAAKzB,GAAY,OAAQ,CAAE,MAAO,4BAA6B,CAAC,EAGxE,KAAK,YAAY,SAAS,QAASK,GAAY,CAC9CA,EAAQ,OAAS,IAAIA,EAAQ,OAAQ,CAAC,CACvC,CAAC,EAEDoB,EAAQ,KAAKzB,GAAY,QAAQ,CAClC,CACD,EAIA,SAAU,CAET,KAAK,UAAU,IAAM,CAEpByB,EAAQ,GAAGzB,GAAY,oBAAsB6E,GAAU,CACtD,KAAK,aAAeA,CACrB,CAAC,EAIDpD,EAAQ,GAAGzB,GAAY,yBAA2B4B,GAAgB,CAhpCrE,IAAAzB,EAipCI,KAAK,YAAcyB,EAGnB,KAAK,gCAAkC,GAElC,MAAM,QAAQ,KAAK,YAAY,QAAQ,EAI3C,KAAK,YAAY,SAAS,QAAQ,CAACvB,EAASkF,IAAU,CAChDlF,EAAQ,MAAKA,EAAQ,IAAMkF,EAAQ,EACzC,CAAC,GALD,KAAK,YAAY,wCAAyC,OAAO,EACjE,KAAK,YAAY,SAAW,CAAC,GAO9B,IAAM1B,EAAkB,KAAK,YAAY,SAAS,KAChDxD,GAAYA,EAAQ,SAAW,CACjC,EAIA,GAFA,KAAK,eAAiBuB,EAAY,gBAAkB,GAEhD,KAAK,gBAAkB,CAACA,EAAY,SAEvC,GAAI,OAAO,QAAW,aAAe,OAAO,SAC3C,KAAK,YAAY,SAAW,OAAO,SAAS,SAAS,MAC/C,CAEN,IAAM8C,EAAQ,IAAI,KAClB,KAAK,YAAY,SAAWA,EAAM,YAAY,EAAE,MAAM,GAAG,EAAE,EAC5D,CAaD,GAVA,KAAK,kCAAoC,KACzC,KAAK,oBAAsB,EAE3B,KAAK,2BAA6B,GAG9B9C,GAAA,MAAAA,EAAa,UAChB,KAAK,iCAAiC,EAGnCiC,GAAmB,CAACjC,EAAY,UAAW,CAI9C,IAAMxB,EAAQ,IAAIwB,EAAY,YAAa,CAAC,EAE5CiC,EAAgB,OAASzD,EACrByD,EAAgB,cAAgB,SACnCA,EAAgB,YAAczD,EAEhC,CAEA,GAAIwB,EAAY,UAAW,CAC1B,KAAK,UAAY,GAIjB,KAAK,aAAe,GAIpB,IAAMxB,EAAQwB,EAAY,YACpB4D,EAAW,KAAK,IAAIpF,CAAK,EAG/BwB,EAAY,SAAS,QAASvB,GAAY,CACzCA,EAAQ,OAAS,EACbA,EAAQ,cAAgB,SAAWA,EAAQ,YAAc,EAC9D,CAAC,EAMD,KAAK,2BAA6B,GAElC,IAAIoF,EAAmB,EAGjBC,IAAoBvF,EAAA,KAAK,cAAL,YAAAA,EAAkB,2BAA4B,EAExE,GAAIyB,EAAY,+BAAgC,CAC/C,IAAM+D,EAAO/D,EAAY,+BAEnBgE,EAAW,KAAK,IAAI,KAAK,IAAID,EAAK,aAAe,EAAG,CAAC,CAAC,EACtDE,EAAY,KAAK,IAAI,KAAK,IAAIF,EAAK,aAAe,EAAG,CAAC,CAAC,EAG7D,GAAIC,GAAY,IAEf,KAAK,2BAA6B,GAClCH,EAAmB,UACTI,EAAY,EAAG,CAIzB,IAAMC,EAAeF,EAAWC,EAChCJ,EAAmBD,EAAWM,EAC9B,KAAK,2BAA6B,EACnC,MAEC,KAAK,2BAA6B,GAClCL,EAAmB,CAErB,MAEC,KAAK,2BAA6B,GAClCA,EAAmB,EAQpB,GAHA,KAAK,gCAAkC,GAItC5B,GACA4B,EAAmB,KACnB,CAAC,KAAK,gCACL,CAED,IAAMM,EAAM,CAAC,IAAIN,EAAkB,CAAC,EACpC5B,EAAgB,OAASkC,EACrBlC,EAAgB,cAAgB,SACnCA,EAAgB,YAAckC,EAChC,CAED,MAEC,KAAK,aAAe,GAGrB,KAAK,eAAiB,EACtB,KAAK,cAAc,CACpB,CAAC,EAEDtE,EAAQ,GAAGzB,GAAY,qBAAuB0C,GAAS,CA1xC1D,IAAAvC,EA2xCI,KAAK,YAAcuC,EAAK,aACpBvC,EAAAuC,EAAK,cAAL,MAAAvC,EAAkB,WACrB,KAAK,SAAWuC,EAAK,YAAY,SACjC,KAAK,cAAc,EAErB,CAAC,EAEDjB,EAAQ,GAAGzB,GAAY,oBAAsB0C,GAAS,CACrD,KAAK,UAAU,KAAKA,CAAI,EACxB,KAAK,aAAa,CACnB,CAAC,CACF,CAAC,EAEDjB,EAAQ,GAAGzB,GAAY,gBAAkBkF,GAAa,CACjD,KAAK,UAAYA,IACpB,KAAK,qBAAuB,CAAC,EAC7B,KAAK,uBAAyB,GAC9B,KAAK,YAAc,IAEpB,KAAK,SAAWA,EAEZA,GACH,KAAK,iCAAiC,CAExC,CAAC,EAEDzD,EAAQ,GAAGzB,GAAY,iBAAmB0C,GAAS,CAClD,KAAK,aAAeA,CACrB,CAAC,EAEDjB,EAAQ,GAAGzB,GAAY,0BAA4B0C,GAAS,CAC3D,KAAK,cAAgBA,CACtB,CAAC,EAEDjB,EAAQ,GAAGzB,GAAY,gBAAkBgG,GAAS,CAC7C,KAAK,cACR,KAAK,YAAY,SAAWA,EAE9B,CAAC,CACF,EAIA,SAAU,CACT,SAAS,iBAAiB,UAAW,KAAK,SAAS,KAAK,IAAI,CAAC,CAC9D,EAKA,eAAgB,CAGf,OAAO,KAAK,KAAK,0BAA4B,CAAC,CAAC,EAAE,QAASlC,GAAQ,CAC7D,KAAK,yBAAyBA,IACjC,aAAa,KAAK,yBAAyBA,EAAI,CAEjD,CAAC,EACD,KAAK,yBAA2B,CAAC,EAIlB,CACd9D,GAAY,oBACZA,GAAY,yBACZA,GAAY,qBACZA,GAAY,oBACZA,GAAY,gBACZA,GAAY,iBACZA,GAAY,0BACZA,GAAY,gBACZ,sBACD,EAEO,QAAS+B,GAAUN,EAAQ,KAAKM,CAAK,CAAC,CAC9C,EAIA,WAAY,CACX,SAAS,oBAAoB,UAAW,KAAK,QAAQ,CACtD,EAKA,MAAO,CAGN,eAAe8C,EAAO,CACjBA,EAAQ,KAAK,0BAChB,KAAK,YAAY,eAAiB,EAClC,KAAK,YAAY,sBAAwB,EACzC,KAAK,YAAY,eAAiB,EAClC,KAAK,YACJ,sDAAsD,KAAK,2BAC3D,OACD,IAEA,KAAK,YAAY,eAAiB,KAAK,IAAI,KAAK,cAAc,EAC9D,KAAK,YAAY,sBAAwB,EACzC,KAAK,YAAY,eAAiB,KAAK,IAAI,KAAK,cAAc,EAEhE,EAKA,eAAeA,EAAO,CACrB,GAAI,EAAC,KAAK,YAYV,IAPA,KAAK,YAAY,eAAiB,EAAAA,EAKlCpD,EAAQ,KAAKzB,GAAY,wCAAyC6E,CAAK,EAEnEA,EAAO,CAIV,GAAI,CAAC,KAAK,YAAY,SACrB,GAAI,OAAO,QAAW,aAAe,OAAO,SAC3C,KAAK,YAAY,SAAW,OAAO,SAAS,SAAS,MAC/C,CAEN,IAAMH,EAAQ,IAAI,KAClB,KAAK,YAAY,SAAWA,EAAM,YAAY,EAAE,MAAM,GAAG,EAAE,EAC5D,CAKG,MAAM,QAAQ,KAAK,YAAY,QAAQ,IAE1C,KAAK,kCAAoC,KAAK,MAC7C,KAAK,UAAU,KAAK,YAAY,QAAQ,CACzC,EAGA,KAAK,YAAY,SAAS,QAASrE,GAAY,CAC9CA,EAAQ,OAAS,EACbA,EAAQ,cAAgB,SAC3BA,EAAQ,YAAc,EAExB,CAAC,EAEH,SAGK,MAAM,QAAQ,KAAK,YAAY,QAAQ,EAC1C,GAAI,KAAK,kCAER,KAAK,YAAY,SAAS,QAAQ,CAACA,EAASkF,IAAU,CACrD,IAAMU,EAAe,KAAK,kCAAkC,KAC1DhF,GAAMA,EAAE,MAAQZ,EAAQ,KAAOY,EAAE,OAASZ,EAAQ,IACpD,EACI4F,IACH5F,EAAQ,OAAS4F,EAAa,QAAU,EAEvC5F,EAAQ,cAAgB,QACxB4F,EAAa,cAAgB,SAE7B5F,EAAQ,YAAc4F,EAAa,aAGtC,CAAC,EAED,KAAK,kCAAoC,SACnC,CAIN,IAAMhC,EAAgB,KAAK,IAAI,KAAK,YAAY,YAAa,CAAC,EAC9D,KAAK,YAAY,SAAS,QAAS5D,GAAY,CAE7CA,EAAQ,iBACRA,EAAQ,gBAAgB,YAAY,IAAM,SAG1CA,EAAQ,OAAS4D,EACb5D,EAAQ,cAAgB,SAC3BA,EAAQ,YAAcA,EAAQ,QAGjC,CAAC,CACF,CAIF,KAAK,UAAU,IAAM,CACpB,KAAK,aAAa,CACnB,CAAC,EACF,EAKA,oBAAoBwE,EAAO,CACtBA,GAAS,GACZ,KAAK,YAAY,iBAAmB,KAAK,mBACzC,KAAK,YAAY,2CAA6C,IAE9D,KAAK,YAAY,iBAAmB,EACpC,KAAK,YAAY,2CAA6C,EAEhE,EAIA,uBAAwB,CACvB,SAAU,CAET,KAAK,UAAU,IAAM,CACpB,KAAK,aAAa,CACnB,CAAC,CACF,EACA,KAAM,EACP,EAIA,yBAAyBA,EAAO,CAC3BA,EAAQ,KAAK,2BAChB,KAAK,YACJ,yCAAyC,KAAK,4BAC9C,OACD,CAEF,EAIA,gCAAgCA,EAAO,CACtC,GAAI,GAAC,KAAK,aAAe,CAAC,KAAK,YAAY,WAE3C,IAAIA,IAAU,GAET,KAAK,YAAY,WACpB,KAAK,YAAY,SAAS,QAASxE,GAAY,CAC9CA,EAAQ,OAAS,EACbA,EAAQ,cAAgB,SAC3BA,EAAQ,YAAc,EAExB,CAAC,EAEDoB,EAAQ,KACPzB,GAAY,iBACZ,KAAK,MAAM,KAAK,UAAU,KAAK,YAAY,QAAQ,CAAC,CACrD,WAIG,KAAK,YAAY,UAAY,KAAK,YAAY,SAAS,OAAS,EAAG,CAItE,IAAMkG,EAAa,KAAK,IAAI,KAAK,IAAI,KAAK,YAAY,aAAe,EAAG,CAAC,CAAC,EAEpEC,EAAe,KAAK,YAAY,SAAS,GAC/C,GAAIA,EAAc,CACjBA,EAAa,OAASD,EAClBC,EAAa,cAAgB,SAChCA,EAAa,YAAcD,GAG5B,QAAS,EAAI,EAAG,EAAI,KAAK,YAAY,SAAS,OAAQ,IACrD,KAAK,YAAY,SAAS,GAAG,OAAS,EAClC,KAAK,YAAY,SAAS,GAAG,cAAgB,SAChD,KAAK,YAAY,SAAS,GAAG,YAAc,GAI7CzE,EAAQ,KACPzB,GAAY,iBACZ,KAAK,MAAM,KAAK,UAAU,KAAK,YAAY,QAAQ,CAAC,CACrD,CACD,CACD,CAIDyB,EAAQ,KAAKzB,GAAY,wCAAyC6E,CAAK,EAEvE,KAAK,UAAU,IAAM,CACpB,KAAK,aAAa,CACnB,CAAC,EACF,CACD,CACD,EC9jDA,IAAMuB,GAAa,CAAE,MAAO,CAAC,MAAQ,OAAO,OAAS,OAAO,SAAW,UAAU,CAAE,EAC7EC,GAA0BC,EAAoB,IAAK,CACvD,MAAO,qBACP,MAAO,CAAC,MAAQ,QAAQ,YAAY,MAAM,CAC5C,EAAG,KAAM,EAAgB,EACnBC,GAA0BD,EAAoB,OAAQ,KAAM,2BAAQ,EAAgB,EACpFE,GAAa,CAAE,MAAO,CAAC,aAAa,OAAO,OAAS,OAAO,WAAa,oDAAoD,gBAAgB,MAAM,aAAa,gCAAgC,SAAW,SAAS,SAAW,UAAU,CAAE,EAC1OC,GAAa,CACjB,IAAK,EACL,MAAO,CAAC,SAAW,WAAW,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,MAAM,WAAa,UAAU,SAAW,SAAS,UAAU,IAAI,CACzI,EACMC,GAA0BJ,EAAoB,MAAO,CAAE,MAAO,CAAC,OAAS,OAAO,WAAa,UAAU,mBAAmB,QAAQ,CAAE,EAAG,KAAM,EAAgB,EAC5JK,GAAa,CACjBD,EACF,EACME,GAAa,CAAE,MAAO,CAAC,aAAa,OAAO,aAAa,OAAO,aAAa,SAAS,QAAU,KAAK,CAAE,EACtGC,GAAa,CACjB,IAAK,EACL,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,IAAM,MAAM,gBAAgB,KAAK,CACtF,EACMC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,cAAc,YAAY,CAAE,EACjFC,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,IAAM,KAAK,CAAE,EAC3FC,GAA2BV,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,iBAAiB,YAAY,iBAAiB,QAAQ,OAAS,IAAI,QAAU,UAAU,cAAc,MAAM,aAAa,SAAS,QAAU,OAAO,CAAE,EAAG,gGAAsB,EAAgB,EACxTW,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,QAAU,WAAW,gBAAgB,MAAM,OAAS,sBAAsB,WAAa,oDAAoD,aAAa,OAAO,aAAa,kCAAkC,CAAE,EAC3SC,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,aAAa,SAAS,MAAQ,OAAO,QAAU,QAAQ,iBAAiB,OAAO,CAAE,EACpKC,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,IAAM,KAAK,CAAE,EAC3FC,GAA2Bd,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,iBAAiB,YAAY,iBAAiB,QAAQ,OAAS,IAAI,QAAU,UAAU,cAAc,MAAM,aAAa,SAAS,QAAU,OAAO,CAAE,EAAG,oFAAoB,EAAgB,EACtTe,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,IAAM,KAAK,CAAE,EAC3FC,GAA2BhB,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,iBAAiB,YAAY,iBAAiB,QAAQ,OAAS,IAAI,QAAU,UAAU,cAAc,MAAM,aAAa,SAAS,QAAU,OAAO,CAAE,EAAG,6GAAyB,EAAgB,EAC3TiB,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,IAAM,KAAK,CAAE,EAC3FC,GAA2BlB,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,iBAAiB,YAAY,iBAAiB,QAAQ,OAAS,IAAI,QAAU,UAAU,cAAc,MAAM,aAAa,SAAS,QAAU,OAAO,CAAE,EAAG,6GAAyB,EAAgB,EAC3TmB,GAA2BnB,EAAoB,MAAO,CAAE,MAAO,CAAC,OAAS,MAAM,WAAa;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmJ,OAAS,OAAO,CAAE,EAAG,KAAM,EAAgB,EAC1RoB,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,IAAM,MAAM,OAAS,OAAO,CACjF,EACMC,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,IAAM,KAAK,CAAE,EAC3FC,GAA2BtB,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,OAAO,iBAAiB,YAAY,iBAAiB,QAAQ,OAAS,IAAI,QAAU,QAAQ,cAAc,GAAG,CAAE,EAAG,CAC5NuB,EAAoB,UAAU,EAC9BC,EAAiB,wCAAU,CAC1C,EAAG,EAAgB,EACbC,GAAc,CAAC,KAAM,QAAS,WAAY,UAAW,UAAW,WAAY,UAAU,EACtFC,GAAc,CAAC,KAAM,WAAY,SAAS,EAC1CC,GAAc,CAAC,WAAY,SAAS,EACpCC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,OAAS,OAAO,CAC1B,EACMC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,cAAc,YAAY,CAAE,EACjFC,GAAc,CAAE,MAAO,CAAC,KAAO,MAAM,QAAU,OAAO,iBAAiB,SAAS,IAAM,KAAK,CAAE,EAC7FC,GAA2B/B,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,OAAO,iBAAiB,YAAY,iBAAiB,QAAQ,OAAS,IAAI,QAAU,QAAQ,cAAc,GAAG,CAAE,EAAG,CAC5NuB,EAAoB,4BAA4B,EAChDC,EAAiB,6GAAwB,CACxD,EAAG,EAAgB,EACbQ,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,UAAU,aAAa,MAAM,CAAE,EACjLC,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,eAAe,MAAM,cAAc,GAAG,CAAE,EAC3HC,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,IAAM,KAAK,CAAE,EAC3FC,GAA2BnC,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,OAAO,iBAAiB,YAAY,iBAAiB,QAAQ,OAAS,IAAI,QAAU,QAAQ,cAAc,GAAG,CAAE,EAAG,CAC5NuB,EAAoB,2BAA2B,EAC/CC,EAAiB,0FAAoB,CACpD,EAAG,EAAgB,EACbY,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,kBAAkB,gBAAgB,QAAU,UAAU,gBAAgB,MAAM,OAAS,oBAAoB,WAAa,oDAAoD,aAAa,OAAO,QAAU,KAAK,CAAE,EAC/QC,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,OAAO,eAAe,KAAK,CAAE,EACtGC,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,KAAO,IAAI,aAAa,OAAO,CAAE,EACpHC,GAA2BvC,EAAoB,MAAO,CAAE,MAAO,CAAC,OAAS,MAAM,WAAa;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmJ,OAAS,OAAO,CAAE,EAAG,KAAM,EAAgB,EAC1RwC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,OAAS,QAAQ,QAAU,MAAM,WAAa,oDAAoD,gBAAgB,MAAM,YAAY,MAAM,CAAE,EACjMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,KAAO,sBAAsB,YAAY,OAAO,CAC1D,EACMC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,OAAS,UAAU,cAAc,OAAO,IAAM,MAAM,CAAE,EACtHC,GAAc,CAAE,MAAO,CAAC,SAAW,WAAW,QAAU,eAAe,MAAQ,OAAO,OAAS,OAAO,WAAa,OAAO,gBAAgB,OAAO,cAAc,GAAG,CAAE,EACpKC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,SAAW,WAAW,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,IAAI,WAAa,UAAU,gBAAgB,OAAO,iBAAiB,MAAM,CACnJ,EACMC,GAA2B7C,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,UAAU,MAAQ,OAAO,cAAc,KAAK,CAAE,EAAG,CACrHuB,EAAoB,mBAAmB,EACvCC,EAAiB,yEAAkB,CAClD,EAAG,EAAgB,EACbsB,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,KAAO,sBAAsB,YAAY,OAAO,CAC1D,EACMC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,OAAS,UAAU,cAAc,OAAO,IAAM,MAAM,CAAE,EACtHC,GAAc,CAAE,MAAO,CAAC,SAAW,WAAW,QAAU,eAAe,MAAQ,OAAO,OAAS,OAAO,WAAa,OAAO,gBAAgB,OAAO,cAAc,GAAG,CAAE,EACpKC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,SAAW,WAAW,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,IAAI,WAAa,UAAU,gBAAgB,OAAO,iBAAiB,MAAM,CACnJ,EACMC,GAA2BlD,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,UAAU,MAAQ,OAAO,cAAc,KAAK,CAAE,EAAG,CACrHuB,EAAoB,+BAA+B,EACnDC,EAAiB,4IAA8B,CAC9D,EAAG,EAAgB,EACb2B,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,KAAO,sBAAsB,YAAY,QAAQ,QAAU,OAAO,iBAAiB,SAAS,IAAM,KAAK,CACjH,EACMC,GAA2BpD,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,OAAO,iBAAiB,YAAY,iBAAiB,QAAQ,OAAS,IAAI,QAAU,QAAQ,cAAc,GAAG,CAAE,EAAG,CAC5NuB,EAAoB,YAAY,EAChCC,EAAiB,yFAAmB,CACnD,EAAG,EAAgB,EACb6B,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,IAAM,MAAM,MAAQ,MAAM,CAAE,EAC/FC,GAAc,CAAC,KAAK,EACpBC,GAA2BvD,EAAoB,MAAO,CAAE,MAAO,CAAC,OAAS,MAAM,WAAa;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmJ,OAAS,OAAO,CAAE,EAAG,KAAM,EAAgB,EAC1RwD,GAAc,CAAE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,OAAO,SAAW,SAAS,aAAa,+BAA+B,CAAE,EACtIC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,gBAAgB,oBAAoB,WAAa,UAAU,SAAW,UAAU,CAAE,EAC3HC,GAA2B1D,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,SAAS,CAAE,EAAG,CACvHuB,EAAoB,wBAAwB,EAC5CC,EAAiB,0FAAoB,CACpD,EAAG,EAAgB,EACbmC,GAAc,CAAE,MAAO,CAAC,QAAU,MAAM,CAAE,EAC1CC,GAAc,CAAE,MAAO,CAAC,QAAU,GAAG,CAAE,EACvCC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,IAAM,MAAM,MAAQ,MAAM,CAAE,EAC/FC,GAA2B9D,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,gBAAgB,KAAK,CAAE,EAAG,CAC5IuB,EAAoB,gBAAgB,EACpCC,EAAiB,2DAAc,CAC9C,EAAG,EAAgB,EACbuC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,kBAAkB,WAAW,IAAM,MAAM,QAAU,OAAO,aAAa,mBAAmB,CAAE,EAC5JC,GAA2BhE,EAAoB,MAAO,CAAE,MAAO,CAAC,KAAO,GAAG,CAAE,EAAG,KAAM,EAAgB,EAEpG,SAASiE,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,OAAQC,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzDnD,EAAoB,+CAA+C,EACnEA,EAAoB,8BAA8B,EAClDA,EAAoB,+CAA+C,EACnEvB,EAAoB,MAAOF,GAAY,CACrCyB,EAAoB,qBAAqB,EACzCvB,EAAoB,SAAU,CAC5B,MAAO,CAAC,SAAW,WAAW,OAAS,OAAO,MAAQ,OAAO,UAAU,OAAO,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,OAAS,OAAO,QAAU,SAAS,WAAa,oDAAoD,MAAQ,QAAQ,OAAS,OAAO,gBAAgB,MAAM,YAAY,SAAS,cAAc,MAAM,OAAS,UAAU,aAAa,oCAAoC,iBAAiB,YAAY,iBAAiB,QAAQ,cAAc,SAAS,cAAc,GAAG,EACve,QAASmE,EAAO,KAAOA,EAAO,GAAK,IAAIQ,IAAUT,EAAK,iBAAmBA,EAAK,gBAAgB,GAAGS,CAAI,GACrG,MAAO,8FACT,EAAG,CACD5E,GACAwB,EAAoB,QAAQ,EAC5BtB,EACF,CAAC,EACDD,EAAoB,MAAOE,GAAY,CACrCqB,EAAoB,oBAAoB,EACvC2C,EAAK,SACDM,EAAW,EAAGC,EAAoB,MAAOtE,GAAYE,EAAU,GAChEkB,EAAoB,OAAQ,EAAI,EACpCvB,EAAoB,MAAOM,GAAY,CACrCiB,EAAoB,+CAA+C,EACnEA,EAAoB,2BAA2B,EAC/CA,EAAoB,+CAA+C,EAClE2C,EAAK,aACDM,EAAW,EAAGC,EAAoB,MAAOlE,GAAY,CACpDgB,EAAoB,uCAAuC,EAC3DvB,EAAoB,MAAOQ,GAAa,CACtCe,EAAoB,4GAAiC,EACrDvB,EAAoB,MAAOS,GAAa,CACtCC,GACAV,EAAoB,MAAOW,GAAa,CACtCX,EAAoB,OAAQY,GAAagE,EAAiBV,EAAK,YAAcA,EAAK,eAAeA,EAAK,YAAY,QAAQ,EAAI,EAAE,EAAIU,EAAiBV,EAAK,eAAeA,EAAK,WAAW,CAAC,EAAG,CAAY,CAC3M,CAAC,CACH,CAAC,EACD3C,EAAoB,uIAAwC,EAC5DvB,EAAoB,MAAOa,GAAa,CACtCC,GACAd,EAAoB,MAAO,CACzB,MAAO6E,EAAgB,CACpC,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,QAAS,WACT,aAAc,MACd,OACCX,EAAK,cAAgB,EAClB,sBACA,sBACJ,WACCA,EAAK,cAAgB,EAClB,oDACA,oDACJ,UAAW,OACX,UACCA,EAAK,cAAgB,EAClB,mCACA,8BACL,CAAC,CACW,EAAG,CACDlE,EAAoB,OAAQ,CAC1B,MAAO6E,EAAgB,CACrC,SAAU,SACV,WAAY,MACZ,MAAOX,EAAK,cAAgB,EAAI,UAAY,UAC5C,UAAW,SACX,MAAO,OACP,QAAS,QACT,cAAe,OAChB,CAAC,CACY,EAAGU,EAAiBV,EAAK,YAAcA,EAAK,eAAeA,EAAK,YAAY,QAAQ,EAAI,EAAE,EAAIU,EAAiBV,EAAK,eAAeA,EAAK,aAAa,CAAC,EAAG,CAAmB,CAC9K,EAAG,CAAa,CAClB,CAAC,EACD3C,EAAoB,2KAAmD,EACvEvB,EAAoB,MAAOe,GAAa,CACtCC,GACAhB,EAAoB,MAAO,CACzB,MAAO6E,EAAgB,CACpC,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,QAAS,WACT,aAAc,MACd,OACCX,EAAK,mBAAqB,EACvB,sBACA,sBACJ,WACCA,EAAK,mBAAqB,EACvB,oDACA,oDACJ,UAAW,OACX,UACCA,EAAK,mBAAqB,EACvB,mCACA,8BACL,CAAC,CACW,EAAG,CACDlE,EAAoB,OAAQ,CAC1B,MAAO6E,EAAgB,CACrC,SAAU,SACV,WAAY,MACZ,MAAOX,EAAK,mBAAqB,EAAI,UAAY,UACjD,UAAW,SACX,MAAO,OACP,QAAS,QACT,cAAe,OAChB,CAAC,CACY,EAAGU,EAAiBV,EAAK,YAAcA,EAAK,eAAeA,EAAK,YAAY,QAAQ,EAAI,EAAE,EAAIU,EAAiBV,EAAK,eAAeA,EAAK,kBAAkB,CAAC,EAAG,CAAmB,CACnL,EAAG,CAAa,CAClB,CAAC,EACD3C,EAAoB,0IAAqD,EACzEvB,EAAoB,MAAOiB,GAAa,CACtCC,GACAlB,EAAoB,MAAO,CACzB,MAAO6E,EAAgB,CACpC,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,QAAS,WACT,aAAc,MACd,OACCX,EAAK,6BAA+B,EACjC,sBACA,sBACJ,WACCA,EAAK,6BAA+B,EACjC,oDACA,oDACJ,UAAW,OACX,UACCA,EAAK,6BAA+B,EACjC,mCACA,8BACL,CAAC,CACW,EAAG,CACDlE,EAAoB,OAAQ,CAC1B,MAAO6E,EAAgB,CACrC,SAAU,SACV,WAAY,MACZ,MACCX,EAAK,6BAA+B,EACjC,UACA,UACJ,UAAW,SACX,MAAO,OACP,QAAS,QACT,cAAe,OAChB,CAAC,CACY,EAAGU,EAAiBV,EAAK,aAAeA,EAAK,8BACtDA,EAAK,eAAeA,EAAK,6BAA6B,EACtDA,EAAK,YACLA,EAAK,eAAeA,EAAK,YAAY,QAAQ,EAC7C,EAAE,EAAIU,EAAiBV,EAAK,eAAeA,EAAK,4BAA4B,CAAC,EAAG,CAAmB,CAC5F,EAAG,CAAa,CAClB,CAAC,CACH,CAAC,CACH,CAAC,GACD3C,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,mBAAmB,EACvCJ,GACAI,EAAoB,+CAA+C,EACnEA,EAAoB,2BAA2B,EAC/CA,EAAoB,+CAA+C,EAEvE2C,EAAK,aAAeA,EAAK,YAAY,UAAY,MAAM,QAAQA,EAAK,YAAY,QAAQ,GAE/EM,EAAW,EAAGC,EAAoB,MAAOrD,GAAa,EACpDoD,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMI,GAAYZ,EAAK,YAAY,SAAWa,IACtFP,EAAW,EAAGC,EAAoB,MAAO,CAC/C,IAAKM,EAAQ,KACb,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,cAAc,UAAU,CAC/D,EAAG,CACDxD,EAAoB,gBAAgB,EACpCvB,EAAoB,MAAOqB,GAAa,CACtCC,GACAtB,EAAoB,MAAO,CACzB,MAAO6E,EACtBX,EAAK,eACF,CACA,QAAS,OACT,WAAY,SACZ,WAAY,UACZ,OAAQ,oBACR,aAAc,MACd,QAAS,UACT,UAAW,OACX,QAAS,KACT,EACA,CACA,QAAS,OACT,WAAY,SACZ,WAAY,QACZ,OAAQ,oBACR,aAAc,MACd,QAAS,UACT,UAAW,MACX,CACJ,CACc,EAAG,CACDlE,EAAoB,OAAQ,CAC1B,MAAO6E,EACvBX,EAAK,eACF,CACA,SAAU,SACV,WAAY,MACZ,MAAO,UACP,YAAa,MACb,WAAY,GACZ,EACA,CACA,SAAU,SACV,WAAY,MACZ,MAAO,UACP,YAAa,MACb,WAAY,GACZ,CACJ,CACe,EAAGU,EAAiBV,EAAK,YAAcA,EAAK,eAAeA,EAAK,YAAY,QAAQ,EAAI,EAAE,EAAG,CAAmB,EAChHlE,EAAoB,QAAS,CAC3B,GAAI,yBAAyB+E,EAAQ,KAAO,IAC5C,QAAS,GACT,IAAK,yBAAyBA,EAAQ,KAAO,IAC7C,KAAM,OACN,MAAOA,EAAQ,QAAU,GACzB,SAAUC,GAAU,CAC/Bd,EAAK,kCACTA,EAAK,0BAA0Ba,EAASC,CAAM,EAC9Cd,EAAK,wBAAwBa,CAAO,EAEtC,EACiB,QAASC,GAAU,CAC9Bd,EAAK,iCACTA,EAAK,gBAAgBa,EAAQ,GAAG,CAClC,EACiB,QAASC,GAAU,CAC9Bd,EAAK,iCACTA,EAAK,gBAAgBa,EAAQ,GAAG,CAClC,EACiB,SACfb,EAAK,aAAeA,EAAK,YAAY,WAAa,CAACA,EAAK,cACzDA,EAAK,gCAEW,SAAUA,EAAK,gCACf,YAAa,OACb,MAAOW,EACvBX,EAAK,gCACF,CACA,KAAM,IACN,OAAQ,OACR,QAAS,OACT,WAAY,cACZ,SAAU,SACV,WAAY,MACZ,MAAO,UACP,UAAW,QACX,QAAS,MACT,SAAU,IACV,WAAY,MACZ,OAAQ,aACR,EACA,CACA,KAAM,IACN,OAAQ,OACR,QAAS,OACT,WAAY,cACZ,SAAU,SACV,WAAY,MACZ,MAAO,UACP,UAAW,QACX,QAAS,MACT,SAAU,IACV,WAAY,KACZ,CACJ,CACe,EAAG,KAAM,GAAuCzC,EAAW,CAC7D,EAAG,CAAa,CAClB,CAAC,EACDF,EAAoB,yBAAyB,EAC7CvB,EAAoB,SAAU,CAC5B,GAAI,0BAA0B+E,EAAQ,KAAO,IAC7C,QAAS,GACT,IAAK,0BAA0BA,EAAQ,KAAO,IAC9C,SAAUb,EAAK,gCACf,MAAOW,EACrBX,EAAK,gCACF,CACA,KACCa,EAAQ,MAAQ,SAChBA,EAAQ,OAAS,GACjBb,EAAK,sBACF,MACA,IACJ,OAAQ,OACR,OAAQ,OACR,aAAc,MACd,WACC,oDACD,MAAO,UACP,SAAU,UACV,WAAY,MACZ,OAAQ,cACR,UAAW,OACX,WAAY,SACZ,SAAU,SACV,aAAc,WACd,QAAS,QACT,QAAS,KACT,EACA,CACA,KACCa,EAAQ,MAAQ,SAChBA,EAAQ,OAAS,GACjBb,EAAK,sBACF,MACA,IACJ,OAAQ,OACR,OAAQ,OACR,aAAc,MACd,WACC,oDACD,MAAO,QACP,SAAU,UACV,WAAY,MACZ,OAAQ,UACR,UAAW,qCACX,WAAY,SACZ,SAAU,SACV,aAAc,WACd,QAAS,OACT,CACJ,EACe,QAASe,GAAeD,GAAU,CAC3Cd,EAAK,iCAAiCA,EAAK,gBAAgBa,EAAQ,GAAG,CAC5E,EAAG,CAAC,MAAM,CAAC,CACE,EAAGH,EAAiBG,EAAQ,eAAe,EAAG,GAA6BrD,EAAW,EACtFH,EAAoB,8BAA8B,EAE9DwD,EAAQ,MAAQ,SAChBA,EAAQ,OAAS,GACjBb,EAAK,uBAEYM,EAAW,EAAGC,EAAoB,SAAU,CAC3C,IAAK,EACL,SAAUM,EAAQ,QAAU,GAAKb,EAAK,eACtC,QAASc,GAAU,CAChCd,EAAK,iBACTA,EAAK,aAAe,GACpBa,EAAQ,OAASb,EAAK,IAAIa,EAAQ,OAAQ,CAAC,EAE7C,EACmB,MAAOF,EACzBX,EAAK,gBAAkBa,EAAQ,QAAU,EACtC,CACA,KAAM,MACN,OAAQ,OACR,OAAQ,OACR,aAAc,MACd,WACC,oDACD,MAAO,UACP,SAAU,UACV,WAAY,MACZ,OAAQ,cACR,UAAW,OACX,QAAS,KACT,EACA,CACA,KAAM,MACN,OAAQ,OACR,OAAQ,OACR,aAAc,MACd,WACC,oDACD,MAAO,QACP,SAAU,UACV,WAAY,MACZ,OAAQ,UACR,UAAW,mCACX,CACJ,CACiB,EAAG,CACDxD,EAAoB,WAAW,EAC/BC,EAAiB,sBAAO,CAC1B,EAAG,GAAuBG,EAAW,GACrCJ,EAAoB,OAAQ,EAAI,CACtC,CAAC,EACF,EAAG,GAAwB,EAC9B,CAAC,GACDA,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,+CAA+C,EACnEA,EAAoB,0BAA0B,EAC9CA,EAAoB,+CAA+C,EAClE2C,EAAK,aAAeA,EAAK,yBAA2B,GAAK,CAACA,EAAK,YAAY,WACvEM,EAAW,EAAGC,EAAoB,MAAO7C,GAAa,CACrD5B,EAAoB,MAAO6B,GAAa,CACtCN,EAAoB,4BAA4B,EAChDvB,EAAoB,MAAO8B,GAAa,CACtCC,GACA/B,EAAoB,MAAOgC,GAAa,CACtChC,EAAoB,OAAQiC,GAAa2C,EAAiBV,EAAK,YAAcA,EAAK,eAAeA,EAAK,YAAY,QAAQ,EAAI,EAAE,EAAG,CAAY,EAC/IgB,GAAgBlF,EAAoB,QAAS,CAC3C,KAAM,SACN,sBAAuBmE,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,eAAkBc,GACpF,YAAa,OACb,MAAO,CAAC,KAAO,IAAI,OAAS,OAAO,QAAU,OAAO,WAAa,cAAc,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,aAAa,QAAQ,QAAU,MAAM,YAAY,IAAI,cAAc,KAAK,CACpN,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACG,GAAajB,EAAK,cAAc,CACnC,CAAC,CACH,CAAC,CACH,CAAC,EACD3C,EAAoB,2BAA2B,EAC/CvB,EAAoB,MAAOkC,GAAa,CACtCC,GACAnC,EAAoB,MAAOoC,GAAa,CACtCpC,EAAoB,OAAQqC,GAAauC,EAAiBV,EAAK,YAAcA,EAAK,eAAeA,EAAK,YAAY,QAAQ,EAAI,EAAE,EAAG,CAAY,EAC/IlE,EAAoB,OAAQsC,GAAasC,EAAiBV,EAAK,YAAYA,EAAK,wBAAwB,CAAC,EAAG,CAAY,CAC1H,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,GACD3C,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,mBAAmB,EACvCgB,GACAhB,EAAoB,+CAA+C,EACnEA,EAAoB,8BAA8B,EAClDA,EAAoB,+CAA+C,EACnEvB,EAAoB,MAAOwC,GAAa,CACtCjB,EAAoB,sBAAsB,EAE/C2C,EAAK,aACLA,EAAK,YAAY,wBACjBA,EAAK,aACL,CAACA,EAAK,YAAY,WAERM,EAAW,EAAGC,EAAoB,MAAOhC,GAAa,CACrDzC,EAAoB,QAAS0C,GAAa,CACxCwC,GAAgBlF,EAAoB,QAAS,CAC3C,KAAM,WACN,sBAAuBmE,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,eAAkBc,GACpF,MAAO,CAAC,SAAW,WAAW,QAAU,IAAI,MAAQ,IAAI,OAAS,GAAG,CACtE,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACI,GAAiBlB,EAAK,cAAc,CACvC,CAAC,EACDlE,EAAoB,OAAQ2C,GAAa,CACvC3C,EAAoB,OAAQ,CAC1B,MAAO6E,EAAgB,CAAC,CAAC,QAAU,KAAK,SAAW,WAAW,OAAS,OAAO,MAAQ,OAAO,KAAO,MAAM,OAAS,MAAM,WAAa,QAAQ,gBAAgB,MAAM,aAAa,8BAA8B,EAC7NX,EAAK,eACF,iDACA,EACJ,CAAC,CACY,EAAG,KAAM,CAAa,EACrBA,EAAK,gBACDM,EAAW,EAAGC,EAAoB,OAAQ7B,EAAW,GACtDrB,EAAoB,OAAQ,EAAI,CACtC,CAAC,EACDsB,EACF,CAAC,CACH,CAAC,GACDtB,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,sCAAsC,EAE/D2C,EAAK,aACLA,EAAK,YAAY,WACjBA,EAAK,aACLA,EAAK,YAAY,0BAA4B,GAEnCM,EAAW,EAAGC,EAAoB,MAAO3B,GAAa,CACrD9C,EAAoB,QAAS+C,GAAa,CACxCmC,GAAgBlF,EAAoB,QAAS,CAC3C,KAAM,WACN,sBAAuBmE,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,gCAAmCc,GACrG,MAAO,CAAC,SAAW,WAAW,QAAU,IAAI,MAAQ,IAAI,OAAS,GAAG,CACtE,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACI,GAAiBlB,EAAK,+BAA+B,CACxD,CAAC,EACDlE,EAAoB,OAAQgD,GAAa,CACvChD,EAAoB,OAAQ,CAC1B,MAAO6E,EAAgB,CAAC,CAAC,QAAU,KAAK,SAAW,WAAW,OAAS,OAAO,MAAQ,OAAO,KAAO,MAAM,OAAS,MAAM,WAAa,QAAQ,gBAAgB,MAAM,aAAa,8BAA8B,EAC7NX,EAAK,gCACF,iDACA,EACJ,CAAC,CACY,EAAG,KAAM,CAAa,EACrBA,EAAK,iCACDM,EAAW,EAAGC,EAAoB,OAAQxB,EAAW,GACtD1B,EAAoB,OAAQ,EAAI,CACtC,CAAC,EACD2B,EACF,CAAC,CACH,CAAC,GACD3B,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,kBAAkB,EACrC2C,EAAK,gBACDM,EAAW,EAAGC,EAAoB,MAAOtB,GAAa,CACrDC,GACApD,EAAoB,MAAOqD,GAAa,CACtC6B,GAAgBlF,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuBmE,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,YAAY,SAAYc,GAC1F,IAAKd,EAAK,SACV,YAAa,cACb,MAAO,CAAC,MAAQ,OAAO,QAAU,WAAW,YAAY,UAAU,MAAQ,OAAO,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,OAAO,OAAS,SAAS,CAC9L,EAAG,KAAM,EAAeZ,EAAW,EAAG,CACpC,CAAC6B,GAAajB,EAAK,YAAY,QAAQ,CACzC,CAAC,CACH,CAAC,CACH,CAAC,GACD3C,EAAoB,OAAQ,EAAI,CACtC,CAAC,EACDA,EAAoB,mBAAmB,EACvCgC,EACF,CAAC,CACH,CAAC,EACDhC,EAAoB,+CAA+C,EACnEA,EAAoB,gBAAgB,EACpCA,EAAoB,+CAA+C,EAClE2C,EAAK,cACDM,EAAW,EAAGC,EAAoB,MAAO,CACxC,IAAK,EACL,MAAO,CAAC,SAAW,QAAQ,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,IAAI,WAAa,qBAAqB,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,UAAU,MAAM,EAC9L,QAASN,EAAO,MAAQA,EAAO,IAAMa,GAAWd,EAAK,aAAe,GACtE,EAAG,CACDlE,EAAoB,MAAO,CACzB,MAAO,CAAC,WAAa,QAAQ,gBAAgB,MAAM,aAAa,iCAAiC,YAAY,QAAQ,MAAQ,MAAM,aAAa,OAAO,SAAW,QAAQ,EAC1K,QAASmE,EAAO,KAAOA,EAAO,GAAKc,GAAe,IAAM,CAAC,EAAG,CAAC,MAAM,CAAC,EACtE,EAAG,CACDjF,EAAoB,MAAOwD,GAAa,CACtCjC,EAAoB,eAAe,EACnCvB,EAAoB,MAAOyD,GAAa,CACtCC,GACA1D,EAAoB,SAAU,CAC5B,QAASmE,EAAO,KAAOA,EAAO,GAAKa,GAAWd,EAAK,aAAe,IAClE,MAAO,CAAC,SAAW,WAAW,IAAM,MAAM,MAAQ,MAAM,WAAa,OAAO,OAAS,OAAO,YAAY,SAAS,MAAQ,OAAO,OAAS,UAAU,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,gBAAgB,KAAK,CAC5Q,EAAG,QAAK,CACV,CAAC,EACD3C,EAAoB,aAAa,EACjCvB,EAAoB,MAAO2D,GAAa,CACtC3D,EAAoB,MAAO4D,GAAa,CACtC5D,EAAoB,MAAO6D,GAAa,CACtCC,GACAoB,GAAgBlF,EAAoB,QAAS,CAC3C,KAAM,SACN,sBAAuBmE,EAAO,KAAOA,EAAO,GAAKa,GAAYd,EAAK,YAAY,eAAkBc,GAChG,YAAa,mFACb,MAAO,CAAC,MAAQ,OAAO,QAAU,WAAW,YAAY,UAAU,MAAQ,OAAO,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,MAAM,CAC3K,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACG,GAAajB,EAAK,YAAY,cAAc,CAC/C,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,EACD3C,EAAoB,eAAe,EACnCvB,EAAoB,MAAO+D,GAAa,CACtCC,GACAhE,EAAoB,SAAU,CAC5B,QAASmE,EAAO,KAAOA,EAAO,GAAKa,GAAWd,EAAK,aAAe,IAClE,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,cAAc,MAAM,OAAS,QAAQ,WAAa,oDAAoD,MAAQ,OAAO,CAC3U,EAAG,CACD3C,EAAoB,SAAS,EAC7BC,EAAiB,kCAAS,CAC5B,CAAC,EACDxB,EAAoB,SAAU,CAC5B,QAASmE,EAAO,KAAOA,EAAO,GAAK,IAAIQ,IAAUT,EAAK,iBAAmBA,EAAK,gBAAgB,GAAGS,CAAI,GACrG,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,cAAc,MAAM,OAAS,QAAQ,WAAa,oDAAoD,MAAQ,OAAO,CAC3U,EAAG,CACDpD,EAAoB,WAAW,EAC/BC,EAAiB,sBAAO,CAC1B,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,GACDD,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,EAAG,IAA6C,CAClD,CC5rByL8D,GAAO,OAASC,GAAOD,GAAO,OAAS,wEAAwE,IAAOA,GAAQA,GCMvT,IAAME,GAAc,CAClB,YAAa,cACb,aAAc,cACd,sBAAuB,wBACvB,uBAAwB,yBACxB,qBAAsB,uBACtB,gBAAiB,kBACjB,WAAY,aACZ,kBAAmB,oBACnB,sCACE,wCACF,cAAe,eACjB,EAEMC,GAAc,CAClB,YAAa,cACb,aAAc,cAChB,EAEMC,GAAc,CAClB,UAAW,YACX,WAAY,YACd,EAEMC,GAAgB,CACpB,CAAE,MAAO,iCAAS,IAAK,OAAQ,MAAO,OAAQ,EAC9C,CAAE,MAAO,8CAAY,IAAK,WAAY,MAAO,OAAQ,EACrD,CAAE,MAAO,iCAAS,IAAK,QAAS,MAAO,OAAQ,EAC/C,CAAE,MAAO,2BAAQ,IAAK,gBAAiB,MAAO,OAAQ,CACxD,EAGOC,GAAQ,CACb,OAAQ,CAACC,EAAM,EAGf,MAAO,CACL,MAAO,CACL,QAAS,GACT,YAAa,GACb,WAAY,CAAC,EACb,SAAU,CAAC,EACX,+BAAgC,KAChC,aAAc,IACd,SAAU,CAAC,EACX,aAAc,GACd,cAAeF,EACjB,CACF,EAGA,SAAU,CACR,eAAgB,CA1DpB,IAAAG,EA2DM,IAAMC,GAAQD,EAAA,KAAK,cAAL,YAAAA,EAAkB,uBAShC,OANEC,IAAU,GACVA,IAAU,KACVA,IAAU,IACVA,IAAU,MACVA,IAAU,MAGd,EACA,aAAc,CACZ,OAAO,KAAK,WAAW,MACzB,EACA,oBAAqB,CACnB,OAAO,KAAK,WAAW,OAAQC,GAAOA,EAAG,aAAa,EAAE,MAC1D,CACF,EAGA,QAAS,CACP,iBAAkB,CAChBC,EAAQ,KAAKT,GAAY,YAAa,OAAO,CAC/C,EAEA,mBAAoB,CAClB,KAAK,WAAa,CAAC,GAAG,KAAK,UAAU,EACrC,KAAK,wBAAwB,CAC/B,EAEA,YAAYU,EAAO,CAEjB,GAAI,KAAK,gBAAgBA,CAAK,EAC5B,OAIF,KAAK,kBAAkB,EAGvB,IAAMC,EAAkBC,GAAAC,GAAA,GACnBH,GADmB,CAEtB,KAAMA,EAAM,MAAQA,EAAM,WAC1B,WAAYA,EAAM,YAAcA,EAAM,KAEtC,WAAYA,EAAM,YAAc,KAAK,eAAeA,CAAK,CAC3D,GAGIA,EAAM,cACR,KAAK,MAAM,eAAgBC,CAAe,EAG1C,KAAK,MAAM,eAAgBA,CAAe,CAE9C,EAEA,eAAeD,EAAO,CAIpB,OAAIA,EAAM,UAAkB,YACxBA,EAAM,WAAmB,aACzBA,EAAM,MAAc,QACpBA,EAAM,SAAiB,WACvBA,EAAM,eAAuB,kBAG7BA,EAAM,QAAU,eAAiBA,EAAM,WAAa,cAC/C,cAKX,EAEA,gBAAgBA,EAAO,CACrB,OAAO,QACJA,EAAM,aAAe,gBACpB,CAACA,EAAM,YACN,CAACA,EAAM,uBAAyB,CAACA,EAAM,eACvCA,EAAM,aAAe,eACpB,KAAK,gCACL,KAAK,iCAAmCA,EAAM,IACpD,CACF,EAEA,aAAaI,EAAMC,EAAW,CAC5B,OAAOD,GAAQA,EAAK,OAASC,EACzBD,EAAK,UAAU,EAAGC,CAAS,EAAI,MAC/BD,CACN,EAEA,iBAAiBE,EAAO,CACtBA,EAAM,OAAO,IACX,mEACJ,EAEA,yBAA0B,CACxB,GAAI,CACF,IAAMC,EAA0B,KAAK,WAAW,OAC7CP,GACCA,EAAM,QAAUT,GAAY,aAAeS,EAAM,aACrD,EAEIO,EAAwB,OAAS,EACnC,KAAK,yBAAyB,EACrBA,EAAwB,SAAW,GAC5C,KAAK,+BAAiCA,EAAwB,GAAG,KACjE,KAAK,WAAW,QAASP,GAAU,CAE/BA,EAAM,QAAUT,GAAY,aAC5BS,EAAM,OAASO,EAAwB,GAAG,OAE1CP,EAAM,cAAgB,GAE1B,CAAC,GAED,KAAK,+BAAiC,IAE1C,OAASQ,EAAP,CACA,QAAQ,IAAI,gDAAiDA,CAAK,EAClE,KAAK,YAAY,qIAA6B,OAAO,CACvD,CACF,EAEA,OAAOC,EAAQ,CACb,IAAMC,EAAa,uCACnB,OAAO,MAAM,KAAK,CAAE,OAAAD,CAAO,EAAG,IAC5BC,EAAW,OAAO,KAAK,MAAM,KAAK,OAAO,EAAIA,EAAW,MAAM,CAAC,CACjE,EAAE,KAAK,EAAE,CACX,EAEA,gBAAgBC,EAAe,CAC7B,GAAI,CACF,KAAK,WAAW,QAASC,GAAc,CACrC,IAAMC,EAAaD,EAAU,cAC7BA,EAAU,cAAgBD,EAAc,KACrCX,GACCA,EAAM,OAASY,EAAU,MACzBZ,EAAM,aAAeY,EAAU,MAC/BZ,EAAM,OAASY,EAAU,KAC7B,CACF,CAAC,CACH,OAASJ,EAAP,CACA,QAAQ,IAAI,wCAAyCA,CAAK,CAC5D,CACF,EAEA,0BAA2B,CACzB,GAAI,CACF,IAAMM,EAAmB,KAAK,WAAW,OACtCd,GAAUA,EAAM,QAAUT,GAAY,WACzC,EAEA,GAAIuB,EAAiB,SAAW,EAAG,OAE/BA,EAAiB,OAAS,GAC5BA,EAAiB,KAAK,CAACC,EAAGC,IAAM,CAC9B,IAAMC,EAAY,WAAWF,EAAE,qBAAuB,CAAC,EAEvD,OADkB,WAAWC,EAAE,qBAAuB,CAAC,EACpCC,CACrB,CAAC,EAEDH,EAAiB,QAASd,GAAWA,EAAM,cAAgB,EAAM,EACjEc,EAAiB,GAAG,cAAgB,GACpC,KAAK,+BAAiCA,EAAiB,GAAG,KAE1D,KAAK,YACH,4FAAwBA,EAAiB,GAAG,KAC5C,SACF,IAEAA,EAAiB,GAAG,cAAgB,GACpC,KAAK,+BAAiCA,EAAiB,GAAG,KAE9D,OAASN,EAAP,CACA,QAAQ,IAAI,uCAAwCA,CAAK,EACzD,KAAK,YAAY,6GAAyB,OAAO,CACnD,CACF,EAEA,aAAaU,EAAgB,CAC3B,GAAI,CACF,KAAK,WAAa,KAAK,WAAW,OAC/BlB,GAAU,CAACkB,EAAe,SAASlB,EAAM,MAAQA,EAAM,UAAU,CACpE,CACF,OAASQ,EAAP,CACA,QAAQ,IAAI,wCAAyCA,CAAK,EAC1D,KAAK,YAAY,sGAAuB,OAAO,CACjD,CACF,EAEA,cAAe,CACb,GAAI,CACF,IAAMW,EAAgB,KAAK,WAAW,OACnCnB,GAAUA,EAAM,aACnB,EACAD,EAAQ,KAAKT,GAAY,sBAAuB6B,CAAa,CAC/D,OAASX,EAAP,CACA,QAAQ,IAAI,sCAAuCA,CAAK,EACxD,KAAK,YAAY,4GAAwB,OAAO,CAClD,CACF,EAEA,cAAcY,EAAK,CACjB,OAAOA,EAAMA,EAAI,QAAQ,kBAAmB,QAAQ,EAAI,EAC1D,EAEA,eAAepB,EAAO,CACpB,GAAI,CACF,GAAIA,EAAM,aAAeR,GAAY,UACnC,MAAO,CAACQ,EAAM,eAAe,EAG/B,GAAIA,EAAM,aAAeR,GAAY,WAAY,CAC/C,IAAI6B,EAAgB,KAAK,SAAS,OAC/BC,GAASA,EAAK,aAAetB,EAAM,gBACtC,EAEA,OAAIA,EAAM,UAAY,IACpBqB,EAAgBA,EAAc,OAC3BC,GAASA,EAAK,KAAOtB,EAAM,SAC9B,GAGKqB,CACT,CAEA,MAAO,CAAC,CACV,OAASb,EAAP,CACA,eAAQ,IAAI,qCAAsCA,CAAK,EACvD,KAAK,YAAY,iJAA+B,OAAO,EAChD,CAAC,CACV,CACF,EAEA,gBAAiB,CACf,GAAI,CACFT,EAAQ,KAAKT,GAAY,uBAAwB,CAC/C,YAAa,KAAK,YAClB,mBAAoB,KAAK,kBAC3B,CAAC,CACH,OAASkB,EAAP,CACA,QAAQ,IAAI,uCAAwCA,CAAK,EACzD,KAAK,YAAY,kHAAyB,OAAO,CACnD,CACF,EAEA,YAAYe,EAAMC,EAAO,CACvBzB,EAAQ,KAAKT,GAAY,aAAc,CAAE,KAAAiC,EAAM,MAAAC,CAAM,CAAC,CACxD,CACF,EAGA,MAAO,CACL,WAAY,CACV,KAAM,GACN,SAAU,CACR,KAAK,aAAa,EAClB,KAAK,eAAe,CACtB,CACF,CACF,EAGA,SAAU,CACR,KAAK,UAAU,IAAM,CACnBzB,EAAQ,GAAGT,GAAY,qBAAuBmC,GAAS,CACrD,KAAK,YAAcA,EAAK,WAC1B,CAAC,EAED1B,EAAQ,GAAGT,GAAY,gBAAkBoC,GAAa,CAChD,KAAK,WAAaA,IACpB,KAAK,OAAS,CAAC,EAEnB,CAAC,EAED3B,EAAQ,GAAGT,GAAY,WAAamC,GAAS,CAC3C,KAAK,WAAaA,EAAK,IAAKzB,GAAWE,GAAAC,GAAA,GAClCH,GADkC,CAErC,cAAe,CAAC,CAACA,EAAM,IACzB,EAAE,CACJ,CAAC,EAEDD,EAAQ,GAAGT,GAAY,kBAAoBmC,GAAS,CAClD,KAAK,gBAAgBA,CAAI,CAC3B,CAAC,EAED1B,EAAQ,GAAGT,GAAY,sCAAwCmC,GAAS,CACtE,KAAK,+BAAiCA,EAAK,KAC7C,CAAC,EAED1B,EAAQ,GAAGT,GAAY,cAAgBmC,GAAS,CAC9C,KAAK,SAAWA,CAClB,CAAC,EAED1B,EAAQ,GAAG,sBAAuB,IAAM,CAEtC,KAAK,WAAa,KAAK,WAAW,IAAKC,GAAWE,GAAAC,GAAA,GAC7CH,GAD6C,CAEhD,cAAe,CAAC,CAACA,EAAM,IACzB,EAAE,CACJ,CAAC,CACH,CAAC,CACH,EAEA,eAAgB,CAEdD,EAAQ,KAAKT,GAAY,oBAAoB,EAC7CS,EAAQ,KAAKT,GAAY,eAAe,EACxCS,EAAQ,KAAKT,GAAY,UAAU,EACnCS,EAAQ,KAAKT,GAAY,iBAAiB,EAC1CS,EAAQ,KAAKT,GAAY,qCAAqC,EAC9DS,EAAQ,KAAKT,GAAY,aAAa,CACxC,CACF,ECrXA,IAAMqC,GAAa,CACjB,IAAK,EACL,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,OAAS,OAAO,WAAa,SAAS,CAC3F,EACMC,GAAa,CAAE,MAAO,CAAC,WAAa,oDAAoD,QAAU,WAAW,aAAa,gCAAgC,UAAU,IAAI,CAAE,EAC1KC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,kBAAkB,gBAAgB,cAAc,QAAQ,CAAE,EAClGC,GAA0BC,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,KAAK,CAAE,EAAG,CAC9GA,EAAoB,IAAK,CACpC,MAAO,uBACP,MAAO,CAAC,MAAQ,QAAQ,YAAY,MAAM,CAC5C,CAAC,EACYA,EAAoB,KAAM,CAAE,MAAO,CAAC,MAAQ,QAAQ,YAAY,OAAO,cAAc,MAAM,OAAS,IAAI,iBAAiB,OAAO,CAAE,EAAG,CACnIC,EAAoB,wBAAwB,EAC5CC,EAAiB,kHAAwB,CACxD,CAAC,CACH,EAAG,EAAgB,EACbC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,KAAK,CAAE,EACrDC,GAAa,CAAE,MAAO,CAAC,WAAa,2BAA2B,gBAAgB,OAAO,QAAU,WAAW,QAAU,OAAO,IAAM,MAAM,cAAc,SAAS,YAAY,OAAO,kBAAkB,YAAY,CAAE,EAClNC,GAA0BL,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,SAAS,MAAQ,2BAA2B,iBAAiB,YAAY,cAAc,MAAM,cAAc,GAAG,CAAE,EAAG,CACtLC,EAAoB,SAAS,EAC7BC,EAAiB,oDAAY,CAC5C,EAAG,EAAgB,EACbI,GAAa,CAAE,MAAO,CAAC,YAAY,SAAS,MAAQ,QAAQ,cAAc,MAAM,cAAc,GAAG,CAAE,EACnGC,GAAa,CAAE,MAAO,CAAC,WAAa,yBAAyB,gBAAgB,OAAO,QAAU,WAAW,QAAU,OAAO,IAAM,MAAM,cAAc,SAAS,YAAY,MAAM,CAAE,EACjLC,GAA2BR,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,SAAS,MAAQ,2BAA2B,iBAAiB,YAAY,cAAc,MAAM,cAAc,GAAG,CAAE,EAAG,CACvLC,EAAoB,UAAU,EAC9BC,EAAiB,4BAAQ,CACxC,EAAG,EAAgB,EACbO,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,MAAQ,QAAQ,cAAc,MAAM,cAAc,GAAG,CAAE,EACpGC,GAAc,CAAE,MAAO,CAAC,KAAO,IAAI,aAAa,OAAO,aAAa,SAAS,QAAU,MAAM,QAAU,OAAO,wBAAwB,wCAAwC,IAAM,MAAM,gBAAgB,OAAO,CAAE,EACnNC,GAAc,CAAE,MAAO,CAAC,SAAW,WAAW,OAAS,OAAO,SAAW,QAAQ,CAAE,EACnFC,GAAc,CAAC,KAAK,EACpBC,GAAc,CAAE,MAAO,CAAC,SAAW,WAAW,OAAS,IAAI,KAAO,IAAI,MAAQ,IAAI,WAAa;AAAA;AAAA;AAAA;AAAA,mBAAuI,QAAU,aAAa,CAAE,EAC/PC,GAAc,CAAE,MAAO,CAAC,MAAQ,QAAQ,YAAY,UAAU,cAAc,MAAM,cAAc,+BAA+B,cAAc,KAAK,CAAE,EACpJC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,SAAW,WAAW,IAAM,MAAM,MAAQ,MAAM,WAAa,oDAAoD,MAAQ,QAAQ,QAAU,UAAU,gBAAgB,OAAO,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,YAAY,SAAS,cAAc,MAAM,aAAa,8BAA8B,CAC9T,EACMC,GAA2BhB,EAAoB,IAAK,CACxD,MAAO,uBACP,MAAO,CAAC,MAAQ,QAAQ,YAAY,MAAM,CAC5C,EAAG,KAAM,EAAgB,EACnBiB,GAA2BjB,EAAoB,OAAQ,KAAM,2BAAQ,EAAgB,EACrFkB,GAAc,CAAE,MAAO,CAAC,QAAU,MAAM,QAAU,OAAO,iBAAiB,SAAS,IAAM,MAAM,KAAO,GAAG,CAAE,EAC3GC,GAAc,CAAE,MAAO,CAAC,KAAO,GAAG,CAAE,EACpCC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,OAAO,cAAc,WAAW,IAAM,MAAM,QAAU,OAAO,CACjF,EACMC,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,cAAc,GAAG,CAAE,EACtGC,GAA2BtB,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,SAAS,MAAQ,OAAO,iBAAiB,YAAY,cAAc,MAAM,iBAAiB,OAAO,CAAE,EAAG,CAC1KC,EAAoB,OAAO,EAC3BC,EAAiB,sBAAO,CACvC,EAAG,EAAgB,EACbqB,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,OAAO,cAAc,WAAW,IAAM,MAAM,QAAU,OAAO,CACjF,EACMC,GAAc,CAAE,MAAO,CAAC,YAAY,SAAS,cAAc,MAAM,MAAQ,UAAU,cAAc,GAAG,CAAE,EACtGC,GAA2BzB,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,SAAS,MAAQ,OAAO,iBAAiB,YAAY,cAAc,MAAM,iBAAiB,OAAO,CAAE,EAAG,CAC1KC,EAAoB,OAAO,EAC3BC,EAAiB,sBAAO,CACvC,EAAG,EAAgB,EACbwB,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,QAAU,OAAO,CAC/E,EACMC,GAA2B3B,EAAoB,IAAK,CACxD,MAAO,eACP,MAAO,CAAC,MAAQ,UAAU,YAAY,MAAM,CAC9C,EAAG,KAAM,EAAgB,EACnB4B,GAA2B5B,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,SAAS,MAAQ,OAAO,iBAAiB,YAAY,cAAc,MAAM,iBAAiB,OAAO,CAAE,EAAG,CAC1KC,EAAoB,iBAAiB,EACrCC,EAAiB,yCAAW,CAC3C,EAAG,EAAgB,EACb2B,GAAc,CAClBF,GACAC,EACF,EACME,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,WAAa,yBAAyB,QAAU,UAAU,gBAAgB,MAAM,YAAY,SAAS,MAAQ,UAAU,cAAc,mBAAmB,CACtN,EACMC,GAA2B/B,EAAoB,IAAK,CACxD,MAAO,uBACP,MAAO,CAAC,MAAQ,UAAU,YAAY,MAAM,CAC9C,EAAG,KAAM,EAAgB,EACnBgC,GAA2BhC,EAAoB,OAAQ,KAAM,2DAAe,EAAgB,EAC5FiC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,kBAAkB,gBAAgB,QAAU,UAAU,aAAa,mBAAmB,CAAE,EACxJC,GAAc,CAAE,MAAO,CAAC,SAAW,WAAW,QAAU,eAAe,MAAQ,OAAO,OAAS,OAAO,cAAc,GAAG,CAAE,EACzHC,GAAc,CAAC,sBAAuB,WAAY,UAAU,EAC5DC,GAAc,CAAE,MAAO,CAAC,SAAW,WAAW,OAAS,UAAU,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,IAAI,mBAAmB,OAAO,gBAAgB,MAAM,CAAE,EACjKC,GAAc,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,cAAc,KAAK,CAAE,EACtGC,GAAc,CAAE,MAAO,CAAC,QAAU,WAAW,WAAa,QAAQ,aAAa,iCAAiC,UAAU,IAAI,CAAE,EAChIC,GAA2BvC,EAAoB,IAAK,CACxD,MAAO,qBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnBwC,GAA2BxC,EAAoB,OAAQ,KAAM,+FAAqB,EAAgB,EAClGyC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,OAAS,OAAO,WAAa,UAAU,cAAc,SAAS,kBAAkB,QAAQ,CAAE,EAC7JC,GAAc,CAAE,MAAO,CAAC,aAAa,SAAS,QAAU,OAAO,WAAa,QAAQ,gBAAgB,OAAO,aAAa,gCAAgC,YAAY,OAAO,CAAE,EAC7KC,GAA2B3C,EAAoB,IAAK,CACxD,MAAO,kBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,OAAO,gBAAgB,MAAM,CAClE,EAAG,KAAM,EAAgB,EACnB4C,GAA2B5C,EAAoB,KAAM,CAAE,MAAO,CAAC,MAAQ,OAAO,gBAAgB,MAAM,YAAY,QAAQ,CAAE,EAAG,2FAAsB,EAAgB,EACnK6C,GAA2B7C,EAAoB,IAAK,CAAE,MAAO,CAAC,MAAQ,OAAO,gBAAgB,OAAO,YAAY,QAAQ,CAAE,EAAG,wNAA+C,EAAgB,EAC5L8C,GAA2B9C,EAAoB,IAAK,CACxD,MAAO,qBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnB+C,GAA2B/C,EAAoB,OAAQ,KAAM,+FAAqB,EAAgB,EAEjG,SAASgD,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,OAAQC,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzDxD,EAAoB,+CAA+C,EACnEA,EAAoB,wBAAwB,EAC5CA,EAAoB,+CAA+C,EAClEgD,EAAK,eACDM,EAAW,EAAGC,EAAoB,MAAO5D,GAAY,CACpDK,EAAoB,+CAA+C,EACnEA,EAAoB,qBAAqB,EACzCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOH,GAAY,CACrCG,EAAoB,MAAOF,GAAY,CACrCC,GACAC,EAAoB,MAAOG,GAAY,CACrCF,EAAoB,eAAe,EACnCD,EAAoB,MAAOI,GAAY,CACrCC,GACAL,EAAoB,OAAQM,GAAYoD,EAAiBT,EAAK,WAAW,EAAG,CAAY,CAC1F,CAAC,EACDhD,EAAoB,gBAAgB,EACpCD,EAAoB,MAAOO,GAAY,CACrCC,GACAR,EAAoB,OAAQS,GAAaiD,EAAiBT,EAAK,kBAAkB,EAAG,CAAY,CAClG,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,EACDhD,EAAoB,+CAA+C,EACnEA,EAAoB,eAAe,EACnCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOU,GAAa,EACrC6C,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAME,GAAYV,EAAK,WAAY,CAACW,EAAOC,KACnFN,EAAW,EAAGC,EAAoB,MAAO,CAC/C,IAAKK,EACL,MAAO,CAAC,QAAU,MAAM,CAC1B,EAAG,CACD7D,EAAoB,MAAO,CACzB,MAAO8D,EAAgB,CAAC,CAAC,WAAa,QAAQ,gBAAgB,OAAO,SAAW,SAAS,aAAa,gCAAgC,OAAS,UAAU,QAAU,OAAO,iBAAiB,SAAS,MAAQ,OAAO,OAAS,uBAAuB,EACzPF,EAAM,cACF,sIACA,EACN,CAAC,CACK,EAAG,CACD3D,EAAoB,+CAA+C,EACnEA,EAAoB,4BAA4B,EAChDA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOW,GAAa,CACtCX,EAAoB,MAAO,CACzB,IACN4D,EAAM,OACN,oEAEM,QAASV,EAAO,KAAOA,EAAO,GAAK,IAAIa,IAAUd,EAAK,kBAAoBA,EAAK,iBAAiB,GAAGc,CAAI,GACvG,MAAO,CAAC,MAAQ,OAAO,OAAS,OAAO,aAAa,OAAO,CAC7D,EAAG,KAAM,GAAgCnD,EAAW,EACpDX,EAAoB,iBAAiB,EACrCD,EAAoB,MAAOa,GAAa,CACtCb,EAAoB,MAAOc,GAAa4C,EAAiBT,EAAK,aAAaW,EAAM,KAAM,EAAE,CAAC,EAAG,CAAY,CAC3G,CAAC,EACD3D,EAAoB,iBAAiB,EACpC2D,EAAM,eACFL,EAAW,EAAGC,EAAoB,MAAOzC,GAAa,CACrDC,GACAf,EAAoB,UAAU,EAC9BgB,EACF,CAAC,GACDhB,EAAoB,OAAQ,EAAI,CACtC,CAAC,EACDA,EAAoB,+CAA+C,EACnEA,EAAoB,iBAAiB,EACrCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOkB,GAAa,CACtCjB,EAAoB,iBAAiB,EACrCD,EAAoB,MAAOmB,GAAa,CACrCyC,EAAM,qBACFL,EAAW,EAAGC,EAAoB,MAAOpC,GAAa,CACrDpB,EAAoB,OAAQqB,GAAaqC,EAAiBE,EAAM,mBAAmB,EAAI,KAAM,CAAY,EACzGtC,EACF,CAAC,GACAsC,EAAM,iBACJL,EAAW,EAAGC,EAAoB,MAAOjC,GAAa,CACrDvB,EAAoB,OAAQwB,GAAakC,EAAiBT,EAAK,eAAeW,EAAM,eAAe,CAAC,EAAG,CAAY,EACnHnC,EACF,CAAC,IACA8B,EAAW,EAAGC,EAAoB,MAAO9B,GAAaG,EAAW,EAC1E,CAAC,EACD5B,EAAoB,mBAAmB,EAE3C2D,EAAM,aAAe,eACrB,CAACA,EAAM,eACPX,EAAK,gCACLA,EAAK,iCAAmCW,EAAM,MAErCL,EAAW,EAAGC,EAAoB,MAAO1B,GAAa,CACrDC,GACA9B,EAAoB,wBAAwB,EAC5C+B,EACF,CAAC,GACD/B,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,gBAAgB,EACpCD,EAAoB,MAAOiC,GAAa,CACtCjC,EAAoB,QAASkC,GAAa,CACxC8B,GAAgBhE,EAAoB,QAAS,CAC3C,KAAM,WACN,sBAAuBiE,GAAYL,EAAM,cAAiBK,EAC1D,SAAUA,GAAWhB,EAAK,YAAYW,CAAK,EAC3C,SAAUX,EAAK,gBAAgBW,CAAK,EACpC,MAAO,CAAC,QAAU,IAAI,MAAQ,IAAI,OAAS,GAAG,CAChD,EAAG,KAAM,GAAgCzB,EAAW,EAAG,CACrD,CAAC+B,GAAiBN,EAAM,aAAa,CACvC,CAAC,EACD5D,EAAoB,OAAQoC,GAAa,CACvCpC,EAAoB,OAAQ,CAC1B,MAAO8D,EAAgB,CAAC,CAAC,SAAW,WAAW,QAAU,KAAK,OAAS,OAAO,MAAQ,OAAO,KAAO,QAAQ,OAAS,QAAQ,mBAAmB,QAAQ,gBAAgB,MAAM,aAAa,8BAA8B,EAC/NF,EAAM,cACF,uDACA,EACN,CAAC,CACK,EAAG,KAAM,CAAa,CACxB,CAAC,EACD3D,EAAoB,mBAAmB,EACvCD,EAAoB,OAAQqC,GAAaqB,EAAiBE,EAAM,cAAgB,2BAAS,gCAAO,EAAG,CAAY,CACjH,CAAC,CACH,CAAC,CACH,CAAC,CACH,EAAG,CAAa,CAClB,CAAC,EACF,EAAG,GAAwB,EAC9B,CAAC,EACD3D,EAAoB,+CAA+C,EACnEA,EAAoB,UAAU,EAC9BA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOsC,GAAa,CACtCtC,EAAoB,SAAU,CAC5B,QAASkD,EAAO,KAAOA,EAAO,GAAK,IAAIa,IAAUd,EAAK,iBAAmBA,EAAK,gBAAgB,GAAGc,CAAI,GACrG,MAAO,CAAC,MAAQ,OAAO,WAAa,oDAAoD,MAAQ,QAAQ,OAAS,OAAO,gBAAgB,MAAM,QAAU,MAAM,YAAY,UAAU,cAAc,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,IAAM,MAAM,OAAS,UAAU,aAAa,kCAAkC,CAC3V,EAAG,CACDxB,GACAtC,EAAoB,mBAAmB,EACvCuC,EACF,CAAC,CACH,CAAC,CACH,CAAC,IACAe,EAAW,EAAGC,EAAoBC,EAAW,CAAE,IAAK,CAAE,EAAG,CACxDxD,EAAoB,+CAA+C,EACnEA,EAAoB,2BAA2B,EAC/CA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOyC,GAAa,CACtCzC,EAAoB,MAAO0C,GAAa,CACtCC,GACA1C,EAAoB,mBAAmB,EACvC2C,GACA3C,EAAoB,+CAA+C,EACnE4C,GACA7C,EAAoB,SAAU,CAC5B,QAASkD,EAAO,KAAOA,EAAO,GAAK,IAAIa,IAAUd,EAAK,iBAAmBA,EAAK,gBAAgB,GAAGc,CAAI,GACrG,MAAO,CAAC,MAAQ,OAAO,WAAa,oDAAoD,MAAQ,QAAQ,OAAS,OAAO,gBAAgB,MAAM,QAAU,MAAM,YAAY,UAAU,cAAc,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,IAAM,MAAM,OAAS,UAAU,aAAa,kCAAkC,CAC3V,EAAG,CACDjB,GACA7C,EAAoB,mBAAmB,EACvC8C,EACF,CAAC,CACH,CAAC,CACH,CAAC,CACH,EAAG,IAA6C,EACtD,EAAG,IAA6C,CAClD,CCzR2LoB,GAAO,OAASC,GAAOD,GAAO,OAAS,yEAAyE,IAAOA,GAAQA,GCM1T,SAASE,GAAIC,EAAOC,EAAW,CAC9B,GAAID,GAAU,MAA+BA,IAAU,GACtD,MAAO,GAER,IAAME,EAAM,WAAWF,CAAK,EAC5B,OAAI,MAAME,CAAG,EACL,EAEJD,IAAc,OACV,WAAWC,EAAI,QAAQD,CAAS,CAAC,EAElCC,CACR,CASA,IAAMC,GAAc,CACnB,oBAAqB,qBACrB,qBAAsB,uBACtB,mBAAoB,qBACpB,sBAAuB,uBACxB,EAKMC,GAAgB,CACrB,KAAM,CAAE,KAAM,WAAY,MAAO,SAAU,EAC3C,KAAM,CAAE,KAAM,kBAAmB,MAAO,SAAU,EAClD,cAAe,CAAE,KAAM,kBAAmB,MAAO,SAAU,EAC3D,aAAc,CAAE,KAAM,0BAA2B,MAAO,SAAU,EAClE,gBAAiB,CAAE,KAAM,oBAAqB,MAAO,SAAU,EAC/D,iBAAkB,CAAE,KAAM,gBAAiB,MAAO,SAAU,EAC5D,iBAAkB,CAAE,KAAM,aAAc,MAAO,SAAU,EACzD,MAAO,CAAE,KAAM,gBAAiB,MAAO,SAAU,EACjD,QAAS,CAAE,KAAM,aAAc,MAAO,SAAU,CACjD,EAKMC,GAAuB,CAAE,KAAM,mBAAoB,MAAO,SAAU,EAKpEC,GAAgB,CACrB,eAAgB,CACf,MAAO,iBACP,IAAK,kBACL,MAAO,QACP,SAAU,EACX,EACA,aAAc,CACb,MAAO,eACP,MAAO,MACP,SAAU,GACV,IAAK,gBACN,EACA,aAAc,CACb,MAAO,eACP,IAAK,iBACL,MAAO,MACP,SAAU,EACX,EACA,eAAgB,CACf,MAAO,iBACP,IAAK,kBACL,MAAO,MACP,SAAU,EACX,EACA,WAAY,CACX,MAAO,aACP,IAAK,aACL,MAAO,MACP,SAAU,EACX,CACD,EAKMC,GAAmB,CACxB,UAAYC,GAAMA,EAAE,QAAU,IAAM,iBACrC,EAMOC,GAAQ,CACd,KAAM,gBAEN,OAAQ,CAACC,EAAM,EAEf,OAAQ,CAKP,IAAMC,EAAgBC,GAAI,EAAK,EACzBC,EAAeD,GAAI,EAAE,EACrBE,EAAcF,GAAI,CAAE,uBAAwB,CAAC,CAAE,CAAC,EAChDG,EAAcH,GAAI,IAAI,EACtBI,EAAUJ,GAAI,CACnBN,GAAc,eACdA,GAAc,aACdA,GAAc,YACf,CAAC,EAGKW,EAAmBL,GAAI,EAAI,EAC3BM,EAAqBN,GAAI,EAAE,EAO3BO,EAA4BC,GAAS,IAAM,CAChD,GACC,CAACN,EAAY,MAAM,wBACnB,CAAC,MAAM,QAAQA,EAAY,MAAM,sBAAsB,EAEvD,MAAO,GAIR,IAAMO,EAAeP,EAAY,MAAM,uBAAuB,OAC5DQ,GAAYA,EAAQ,iBAAmBvB,GAAIuB,EAAQ,eAAe,EAAI,CACxE,EAEA,OAAID,EAAa,SAAW,EACpB,GAIDA,EAAa,MAAOC,GAAY,CACtC,IAAMC,EAAUD,EAAQ,eAExB,GAAIC,GAAY,MAAiCA,IAAY,IAAMA,IAAY,EAC9E,MAAO,GAGR,IAAMC,EAAa,WAAWD,CAAO,EACrC,MAAO,CAAC,MAAMC,CAAU,GAAKA,EAAa,CAC3C,CAAC,CACF,CAAC,EAUKC,EAAe,IAAM,CAC1Bd,EAAc,MAAQ,EACvB,EAOMe,EAAgB,MAAOC,GAAU,CAjLzC,IAAAC,EAAAC,EAAAC,GAAAC,GAAAC,EAAAC,EAkLG,QAAQ,IAAI,oDAAoD,EAChE,QAAQ,IAAI,4BAA6BN,CAAK,EAG1CA,IACHA,EAAM,eAAe,EACrBA,EAAM,gBAAgB,EACtB,QAAQ,IAAI,qDAAqD,GAGlE,IAAMO,EAAoBpB,EAAY,MAAM,iBACzCA,EAAY,MAAM,iBAAiB,OACnC,EACH,QAAQ,IACP,wCACCA,EAAY,MAAM,mBAAqB,uBACtBoB,GACnB,EAMA,IAAIC,IAAoBP,EAAAd,EAAY,QAAZ,YAAAc,EAAmB,cAAeb,EAAY,MAMtE,GALA,QAAQ,IAAI,kDAAmDoB,CAAiB,EAChF,QAAQ,IAAI,sDAAsDN,EAAAf,EAAY,QAAZ,YAAAe,EAAmB,WAAW,EAChG,QAAQ,IAAI,wCAAyCd,EAAY,KAAK,EAGlE,CAACoB,GAAqB,OAAOA,GAAsB,UAAY,CAACA,EAAkB,8BAA+B,CACpH,IAAMC,EAAiB,OAAOD,GAAsB,SACjDA,GACCA,GAAA,YAAAA,EAAmB,SAAQL,GAAAhB,EAAY,QAAZ,YAAAgB,GAAmB,gBAAeC,GAAAhB,EAAY,QAAZ,YAAAgB,GAAmB,MAEpF,GAAIK,EAAgB,CACnB,QAAQ,IAAI,yDAA0DA,CAAc,EACpF,GAAI,CAQHD,GAPwB,MAAM,OAAO,KAAK,CACzC,OAAQ,oBACR,KAAM,CACL,QAAS,cACT,KAAMC,CACP,CACD,CAAC,GACmC,QACpC,QAAQ,IAAI,mDAAoDD,CAAiB,EACjF,QAAQ,IAAI,oDAAqDA,GAAA,YAAAA,EAAmB,6BAA6B,CAClH,OAASE,GAAP,CACD,QAAQ,MAAM,iDAAkDA,EAAG,CACpE,CACD,CACD,CAGA,IAAMC,GAAgBH,GAAA,YAAAA,EAAmB,iCAAkC,EAC3E,QAAQ,IAAI,oCAAqCG,CAAa,EAC9D,QAAQ,IAAI,oDAAqDH,GAAA,YAAAA,EAAmB,6BAA6B,EAKjH,GAAI,CACH,QAAQ,IAAI,sDAAsD,EAElE,IAAMI,EAAW,MAAM,OAAO,KAAK,CAClC,OAAQC,EAAQ,kBAAkB,qBAClC,KAAM,CACL,cAAe1B,EAAY,KAC5B,CACD,CAAC,EAMD,GAJA,QAAQ,IAAI,4CAA6CyB,CAAQ,EACjE,QAAQ,IAAI,uCAAwCA,EAAS,OAAO,EACpE,QAAQ,IAAI,8CAA8CP,EAAAO,EAAS,UAAT,YAAAP,EAAkB,IAAI,GAE5EC,EAAAM,EAAS,UAAT,MAAAN,EAAkB,KAAM,CAC3B,QAAQ,IACP,6CAA6CM,EAAS,QAAQ,MAC/D,EAGA,IAAME,GAA4BN,GAAqBpB,EAAY,MAKnE,GAJA,QAAQ,IAAI,6DAA8D0B,EAAyB,EACnG,QAAQ,IAAI,wCAAyCN,CAAiB,GAIrEM,IAAA,YAAAA,GAA2B,iCAAkC,GAC7DF,EAAS,QAAQ,KAChB,CACD,QAAQ,IAAI,kEAAkE,EAG9E,QAAQ,IAAI,2DAA2D,EACvEG,EAAQ,KAAKvC,GAAY,qBAAqB,EAC9C,QAAQ,IAAI,wDAAwD,EAEpE,IAAMwC,GACLF,IAAA,YAAAA,GAA2B,kCAAmC,GAC/D,QAAQ,IAAI,mCAAoCE,CAAY,EAG5D,IAAMC,EAAY,OAAO,OAAO,aAC/B,iDAAiDL,EAAS,QAAQ,eAAeI,mCAClF,EACA,QAAQ,IAAI,gCAAiCC,CAAS,EAGtD,QAAQ,IAAI,4CAA4C,EACxD,IAAMC,GAAc,OAAO,KAAKD,CAAS,EACzC,QAAQ,IAAI,yCAA0CC,EAAW,EAGjE,QAAQ,IAAI,sCAAsC,EAClDlC,EAAc,MAAQ,GACtB,QAAQ,IAAI,yDAA0DA,EAAc,KAAK,EACzF,QAAQ,IAAI,uEAAuE,EAKnF,QAAQ,IAAI,kDAAkD,EAC9D,QAAQ,IAAI,mEAAmE,EAC/E,IAAMmC,GAAgB,WAAW,IAAM,CACtC,QAAQ,IAAI,kDAAkD,EAC9D,QAAQ,IAAI,uEAAuE,EAC/E,OAAO,qBACV,QAAQ,IAAI,iDAAiD,EAC7D,OAAO,oBAAoB,IAE3B,QAAQ,IAAI,+CAA+C,EAC3D,SAAS,OAAO,EAElB,EAAG,GAAI,EACP,QAAQ,IAAI,iDAAiD,EAC7D,QAAQ,IAAI,oCAAqCA,EAAa,CAC/D,MACC,QAAQ,IAAI,2FAA2F,EAEvGnC,EAAc,MAAQ,GAGtB,QAAQ,IAAI,sEAAsE,EAClF+B,EAAQ,KAAKvC,GAAY,mBAAoB,CAC5C,QAAS,GACT,mBAAoBoC,EAAS,QAAQ,IACtC,CAAC,EACD,QAAQ,IAAI,qDAAqD,EAElE,QAAQ,IAAI,4DAA4D,CACzE,MAEC,OAAO,WAAW,CACjB,QAAS,wHACT,UAAW,KACZ,CAAC,CAEH,OAASQ,EAAP,CACD,QAAQ,MACP,2CAA2CA,EAAM,SAAWA,GAC7D,EACA,QAAQ,MAAM,kCAAmCA,EAAM,KAAK,EAC5D,QAAQ,IAAI,0DAA0D,EACtE,OAAO,WAAW,CACjB,QAAS,wHACT,UAAW,KACZ,CAAC,CACF,CACD,EAWMC,EAAkBC,GAAkB,CACzC,IAAMC,EAAS,OAAO,KAAK9C,EAAa,EAAE,KAAM+C,GAC/CF,EAAc,YAAY,EAAE,SAASE,EAAI,YAAY,CAAC,CACvD,EAEA,OAAOD,EAAS9C,GAAc8C,GAAU7C,EACzC,EAOM+C,EAAsBC,GACvBA,EAAa,EAAU,gBACvBA,EAAa,EAAU,gBACpB,YAOFC,EAAoBhC,GAAY,CACjCA,IACHA,EAAQ,WACPvB,GAAIuB,EAAQ,gBAAkB,CAAC,EAAIvB,GAAIuB,EAAQ,iBAAmB,CAAC,EAEtE,EAMMiC,EAA0B,IAAM,CAvYxC,IAAA3B,EAwYG,GAAI,GAACA,EAAAb,EAAY,QAAZ,MAAAa,EAAmB,MAAM,CAC7BX,EAAiB,MAAQ,GACzB,MACD,CAGA,OAAO,KAAK,CACX,OAAQuB,EAAQ,kBAAkB,2BAClC,KAAM,CACL,YAAazB,EAAY,MAAM,IAChC,EACA,SAAU,SAAUyC,EAAG,CAClBA,EAAE,SACLvC,EAAiB,MAAQuC,EAAE,QAAQ,QAC9BA,EAAE,QAAQ,UACdtC,EAAmB,MAAQsC,EAAE,QAAQ,WAGtCvC,EAAiB,MAAQ,GAEzBC,EAAmB,MAAQ,uLAE7B,CACD,CAAC,CACF,EAQMuC,EAA4BC,GAAS,CAC1C,IAAMxB,EAAoBwB,EAAK,iBAAmBA,EAAK,iBAAiB,OAAS,EACjF,QAAQ,IACP,4CACCA,EAAK,mBAAqB,uBACTxB,GACnB,EAEAvB,EAAc,MAAQ,GAIlB+C,EAAK,wBAA0B,MAAM,QAAQA,EAAK,sBAAsB,GAC3EA,EAAK,uBAAuB,QAASpC,GAAY,EAG/C,CAACA,EAAQ,gBACTA,EAAQ,iBAAmB,MAC3BA,EAAQ,iBAAmB,UAE3BA,EAAQ,eAAiB,GAGtBA,EAAQ,UAAY,SACvBA,EAAQ,QAAU,IAGnBA,EAAQ,WACPvB,GAAIuB,EAAQ,gBAAkB,CAAC,EAAIvB,GAAIuB,EAAQ,iBAAmB,CAAC,CACrE,CAAC,EAGFR,EAAY,MAAQ4C,EACpBH,EAAwB,CACzB,EAOMI,EAA6BD,GAAS,CAC3C3C,EAAY,MAAQ2C,EAAK,YAEpB3C,EAAY,MAAM,4BACtBC,EAAQ,MAAM,KAAKV,GAAc,cAAc,EAC/CU,EAAQ,MAAM,KAAKV,GAAc,UAAU,EAE7C,EAOA,OAAAsD,GAAU,IAAM,CACflB,EAAQ,GAAGvC,GAAY,oBAAqBsD,CAAwB,EACpEf,EAAQ,GAAGvC,GAAY,qBAAsBwD,CAAyB,CACvE,CAAC,EAEDE,GAAgB,IAAM,CACrBnB,EAAQ,IAAIvC,GAAY,oBAAqBsD,CAAwB,EACrEf,EAAQ,IAAIvC,GAAY,qBAAsBwD,CAAyB,CACxE,CAAC,EAMM,CAEN,cAAAhD,EACA,aAAAE,EACA,YAAAC,EACA,YAAAC,EACA,QAAAC,EAGA,iBAAAC,EACA,mBAAAC,EAGA,WAAYX,GAAiB,UAC7B,0BAAAY,EAGA,aAAAM,EACA,cAAAC,EAGA,eAAAsB,EACA,mBAAAI,EACA,iBAAAE,CACD,CACD,CACD,ECrgBA,IAAMQ,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,kBAAkB,SAAS,cAAc,QAAQ,CAAE,EAC3FC,GAAa,CAAE,MAAO,CAAC,WAAa,oDAAoD,QAAU,YAAY,QAAU,OAAO,cAAc,SAAS,kBAAkB,gBAAgB,aAAa,mCAAmC,SAAW,WAAW,SAAW,QAAQ,CAAE,EACnRC,GAA0BC,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,KAAK,CAAE,EAAG,CAC9GA,EAAoB,MAAO,CAAE,MAAO,CAAC,MAAQ,OAAO,OAAS,OAAO,WAAa,2BAA2B,gBAAgB,MAAM,QAAU,OAAO,cAAc,SAAS,kBAAkB,QAAQ,CAAE,EAAG,CACvMA,EAAoB,IAAK,CACpC,MAAO,wBACP,MAAO,CAAC,MAAQ,QAAQ,YAAY,MAAM,CAC5C,CAAC,CACH,CAAC,EACYA,EAAoB,KAAM,CAAE,MAAO,CAAC,OAAS,IAAI,YAAY,OAAO,cAAc,MAAM,MAAQ,QAAQ,cAAc,+BAA+B,SAAW,WAAW,UAAU,GAAG,CAAE,EAAG,CAC3LC,EAAoB,aAAa,EACjCC,EAAiB,0FAAoB,CACpD,CAAC,CACH,EAAG,EAAgB,EACbC,GAA0BH,EAAoB,IAAK,CACvD,MAAO,gBACP,MAAO,CAAC,MAAQ,QAAQ,YAAY,MAAM,CAC5C,EAAG,KAAM,EAAgB,EACnBI,GAAa,CACjBD,EACF,EACME,GAAa,CACjB,IAAK,EACL,MAAO,CAAC,QAAU,MAAM,WAAa,SAAS,CAChD,EACMC,GAAa,CAAE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,MAAM,SAAW,SAAS,OAAS,mBAAmB,CAAE,EACpHC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,wBAAwB,sBAAsB,WAAa,UAAU,gBAAgB,mBAAmB,CAAE,EAClJC,GAA0BR,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,UAAU,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,iBAAiB,YAAY,QAAU,OAAO,cAAc,SAAS,kBAAkB,YAAY,CAAE,EAAG,CAC3OC,EAAoB,UAAU,EAC9BC,EAAiB,iEAAe,CAC/C,EAAG,EAAgB,EACbO,GAA2BT,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,UAAU,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,iBAAiB,YAAY,QAAU,OAAO,cAAc,SAAS,kBAAkB,UAAU,CAAE,EAAG,CAC1OC,EAAoB,UAAU,EAC9BC,EAAiB,0DAAa,CAC7C,EAAG,EAAgB,EACbQ,GAA2BV,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,UAAU,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,iBAAiB,YAAY,QAAU,OAAO,cAAc,SAAS,kBAAkB,UAAU,CAAE,EAAG,CAC1OC,EAAoB,UAAU,EAC9BC,EAAiB,wCAAU,CAC1C,EAAG,EAAgB,EACbS,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,UAAU,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,iBAAiB,YAAY,QAAU,OAAO,cAAc,SAAS,kBAAkB,UAAU,CACxL,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,UAAU,YAAY,OAAO,cAAc,MAAM,MAAQ,UAAU,iBAAiB,YAAY,QAAU,OAAO,cAAc,SAAS,kBAAkB,UAAU,CACxL,EACMC,GAAc,CAAE,MAAO,CAAC,QAAU,UAAU,QAAU,OAAO,cAAc,SAAS,kBAAkB,aAAa,YAAY,OAAO,aAAa,MAAM,CAAE,EAC3JC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,KAAK,CAAE,EAC7EC,GAA2Bf,EAAoB,IAAK,CACxD,MAAO,wBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,UAAU,cAAc,GAAG,CAChE,EAAG,KAAM,EAAgB,EACnBgB,GAAc,CAAE,MAAO,CAAC,cAAc,MAAM,MAAQ,UAAU,YAAY,OAAO,cAAc,QAAQ,CAAE,EACzGC,GAAc,CAAE,MAAO,CAAC,QAAU,UAAU,QAAU,OAAO,cAAc,SAAS,kBAAkB,WAAW,YAAY,OAAO,aAAa,MAAM,CAAE,EACzJC,GAAc,CAAE,MAAO,CAAC,cAAc,MAAM,MAAQ,UAAU,YAAY,OAAO,cAAc,WAAW,CAAE,EAC5GC,GAAc,CAAE,MAAO,CAAC,QAAU,UAAU,QAAU,OAAO,cAAc,SAAS,kBAAkB,WAAW,YAAY,OAAO,aAAa,MAAM,CAAE,EACzJC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,WAAa,UAAU,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,UAAU,YAAY,OAAO,cAAc,MAAM,cAAc,YAAY,MAAQ,QAAQ,aAAa,QAAQ,QAAU,MAAM,CAC9N,EACMC,GAAc,CAAC,sBAAuB,WAAY,UAAW,SAAU,SAAS,EAChFC,GAAc,CAAC,SAAS,EACxBC,GAA2BvB,EAAoB,IAAK,CACxD,MAAO,iBACP,MAAO,CAAC,QAAU,IAAI,MAAQ,UAAU,cAAc,MAAM,YAAY,MAAM,CAChF,EAAG,KAAM,EAAgB,EACnBwB,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,UAAU,QAAU,OAAO,cAAc,SAAS,kBAAkB,WAAW,YAAY,OAAO,aAAa,MAAM,CACzI,EACMC,GAAc,CAAE,MAAO,CAAC,cAAc,MAAM,MAAQ,UAAU,YAAY,OAAO,cAAc,WAAW,CAAE,EAC5GC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,UAAU,QAAU,OAAO,cAAc,SAAS,kBAAkB,WAAW,IAAM,MAAM,YAAY,OAAO,aAAa,MAAM,CACrJ,EACMC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,cAAc,MAAM,YAAY,OAAO,cAAc,YAAY,MAAQ,UAAU,QAAU,OAAO,cAAc,SAAS,IAAM,KAAK,CAChJ,EACMC,GAA2B5B,EAAoB,IAAK,CACxD,MAAO,mBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,SAAS,CAC9C,EAAG,KAAM,EAAgB,EACnB6B,GAAc,CAAE,MAAO,CAAC,cAAc,MAAM,YAAY,OAAO,cAAc,YAAY,MAAQ,UAAU,QAAU,OAAO,cAAc,SAAS,IAAM,KAAK,CAAE,EAChKC,GAA2B9B,EAAoB,IAAK,CACxD,MAAO,qBACP,MAAO,CAAC,YAAY,OAAO,MAAQ,SAAS,CAC9C,EAAG,KAAM,EAAgB,EACnB+B,GAAc,CAAE,MAAO,CAAC,cAAc,MAAM,YAAY,OAAO,cAAc,YAAY,MAAQ,SAAS,CAAE,EAC5GC,GAA2BhC,EAAoB,OAAQ,CAAE,MAAO,CAAC,cAAc,MAAM,YAAY,OAAO,cAAc,YAAY,MAAQ,SAAS,CAAE,EAAG,QAAS,EAAgB,EACjLiC,GAAc,CAAE,MAAO,CAAC,WAAa,UAAU,QAAU,WAAW,aAAa,oBAAoB,QAAU,OAAO,IAAM,MAAM,kBAAkB,UAAU,CAAE,EAChKC,GAA2BlC,EAAoB,IAAK,CACxD,MAAO,gBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnBmC,GAA2BnC,EAAoB,IAAK,CACxD,MAAO,gBACP,MAAO,CAAC,YAAY,MAAM,CAC5B,EAAG,KAAM,EAAgB,EACnBoC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,MAAQ,UAAU,YAAY,OAAO,cAAc,MAAM,QAAU,WAAW,WAAa,0BAA0B,gBAAgB,MAAM,OAAS,mCAAmC,CACrP,EACMC,GAA2BrC,EAAoB,IAAK,CACxD,MAAO,8BACP,MAAO,CAAC,MAAQ,UAAU,YAAY,MAAM,CAC9C,EAAG,KAAM,EAAgB,EAElB,SAASsC,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,OAAQC,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzD9C,EAAoB,+CAA+C,EACnEA,EAAoB,kBAAkB,EACtCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOH,GAAY,CACrCI,EAAoB,iBAAiB,EACpCsC,EAAK,eACDM,EAAW,EAAGC,EAAoB,MAAO,CACxC,IAAK,EACL,QAASN,EAAO,KAAOA,EAAO,GAAK,IAAIQ,IAAUT,EAAK,cAAgBA,EAAK,aAAa,GAAGS,CAAI,GAC/F,MAAO,CAAC,SAAW,QAAQ,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,IAAI,WAAa,qBAAqB,QAAU,OAAO,cAAc,aAAa,kBAAkB,SAAS,cAAc,MAAM,UAAU,iBAAiB,CACnO,EAAG,CACD/C,EAAoB,UAAU,EAC9BD,EAAoB,MAAO,CACzB,QAASwC,EAAO,KAAOA,EAAO,GAAKS,GAAe,IAAM,CAAC,EAAG,CAAC,MAAM,CAAC,GACpE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,OAAO,SAAW,SAAS,aAAa,kCAAkC,YAAY,OAAO,YAAY,QAAQ,MAAQ,OAAO,OAAS,kCAAkC,CAC1N,EAAG,CACDhD,EAAoB,+CAA+C,EACnEA,EAAoB,iBAAiB,EACrCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOF,GAAY,CACrCC,GACAC,EAAoB,SAAU,CAC5B,QAASwC,EAAO,KAAOA,EAAO,GAAK,IAAIQ,IAAUT,EAAK,cAAgBA,EAAK,aAAa,GAAGS,CAAI,GAC/F,MAAO,CAAC,WAAa,4BAA4B,OAAS,OAAO,gBAAgB,MAAM,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,OAAS,SAAS,CAC7M,EAAG5C,EAAU,CACf,CAAC,EACDH,EAAoB,+CAA+C,EACnEA,EAAoB,kBAAkB,EACtCA,EAAoB,+CAA+C,EAClEsC,EAAK,aACDM,EAAW,EAAGC,EAAoB,MAAOzC,GAAY,CACpDJ,EAAoB,iBAAiB,EACrCD,EAAoB,MAAOM,GAAY,CACrCL,EAAoB,gBAAgB,EACpCD,EAAoB,MAAOO,GAAY,CACrCC,GACAC,GACAC,GACE6B,EAAK,YAAY,0BAKftC,EAAoB,OAAQ,EAAI,GAJ/B4C,EAAW,EAAGC,EAAoB,MAAOnC,GAAa,CACrDV,EAAoB,YAAY,EAChCC,EAAiB,8CAAW,CAC9B,CAAC,GAEHqC,EAAK,YAAY,0BAKftC,EAAoB,OAAQ,EAAI,GAJ/B4C,EAAW,EAAGC,EAAoB,MAAOlC,GAAa,CACrDX,EAAoB,QAAQ,EAC5BC,EAAiB,kCAAS,CAC5B,CAAC,EAEP,CAAC,EACDD,EAAoB,cAAc,EAClCD,EAAoB,MAAO,KAAM,EAC9B6C,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMG,GAAYX,EAAK,YAAY,uBAAwB,CAACY,EAAMC,KAC1GP,EAAW,EAAGC,EAAoB,MAAO,CAC/C,IAAKK,EAAK,gBACV,MAAOE,EAAgB,CAAC,CAAC,QAAU,OAAO,wBAAwB,sBAAsB,gBAAgB,mBAAmB,EAAGD,EAAQ,IAAM,EAAI,GAAK,qBAAqB,CAAC,CAC7K,EAAG,CACDnD,EAAoB,UAAU,EAC9BD,EAAoB,MAAOa,GAAa,CACtCb,EAAoB,MAAOc,GAAa,CACtCC,GACAf,EAAoB,OAAQgB,GAAasC,EAAiBH,EAAK,eAAe,EAAG,CAAY,CAC/F,CAAC,CACH,CAAC,EACDlD,EAAoB,iBAAiB,EACrCD,EAAoB,MAAOiB,GAAa,CACtCjB,EAAoB,OAAQkB,GAAaoC,EAAiBf,EAAK,eAAeY,EAAK,cAAc,CAAC,EAAG,CAAY,CACnH,CAAC,EACDlD,EAAoB,4BAA4B,EAChDD,EAAoB,MAAOmB,GAAa,CACrCgC,EAAK,SACDN,EAAW,EAAGC,EAAoB,MAAO1B,GAAa,CACrDmC,GAAgBvD,EAAoB,QAAS,CAC3C,sBAAuBwD,GAAYL,EAAK,eAAkBK,EAC1D,KAAM,SACN,SACdL,EAAK,iBAAmBA,EAAK,gBAAkB,EAEjC,QAASK,GAAWjB,EAAK,iBAAiBY,CAAI,EAC9C,OAAQK,GAAU,CAChCL,EAAK,QAAU,GACfZ,EAAK,iBAAiBY,CAAI,CAC5B,EACgB,QAASM,GAAUD,GAAU,CAC3CL,EAAK,QAAU,GACfZ,EAAK,iBAAiBY,CAAI,CAC5B,EAAG,CAAC,OAAO,CAAC,EACI,MAAO,CAAC,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,WAAa,cAAc,aAAa,QAAQ,YAAY,OAAO,cAAc,MAAM,cAAc,WAAW,CAC1K,EAAG,KAAM,GAAgC9B,EAAW,EAAG,CACrD,CACEqC,GACAP,EAAK,eACL,OACA,CAAE,OAAQ,EAAK,CACjB,CACF,CAAC,CACH,CAAC,IACAN,EAAW,EAAGC,EAAoB,MAAO,CACxC,IAAK,EACL,QAASU,GAAWL,EAAK,QAAU,GACnC,MAAO,CAAC,OAAS,UAAU,QAAU,UAAU,gBAAgB,MAAM,WAAa,UAAU,OAAS,oBAAoB,YAAY,QAAQ,QAAU,cAAc,cAAc,SAAS,kBAAkB,UAAU,CAC1N,EAAG,CACDnD,EAAoB,OAAQ,CAC1B,MAAOqD,EAAgB,CAAC,CAAC,cAAc,MAAM,YAAY,OAAO,cAAc,WAAW,EACvGF,EAAK,iBACLA,EAAK,gBAAkB,IACtB,CAACA,EAAK,gBACLA,EAAK,iBAAmB,MACxBA,EAAK,iBAAmB,QACxBA,EAAK,iBAAmB,IACxBA,EAAK,iBAAmB,GACtB,iBACA,gBACN,CAAC,CACa,EAAGG,EAAiBH,EAAK,iBAAmB,MACxDA,EAAK,iBAAmB,QACxBA,EAAK,iBAAmB,IACxBA,EAAK,iBAAmB,EACpBZ,EAAK,eAAeY,EAAK,cAAc,EACvC,KAAK,EAAG,CAAmB,EACnB5B,EACF,EAAG,EAAeD,EAAW,EACnC,CAAC,EACDrB,EAAoB,mBAAmB,EACrCsC,EAAK,YAAY,0BAIftC,EAAoB,OAAQ,EAAI,GAH/B4C,EAAW,EAAGC,EAAoB,MAAOtB,GAAa,CACrDxB,EAAoB,OAAQyB,GAAa6B,EAAiBf,EAAK,eAAeY,EAAK,eAAe,CAAC,EAAG,CAAY,CACpH,CAAC,GAELlD,EAAoB,cAAc,EAChCsC,EAAK,YAAY,0BAqCftC,EAAoB,OAAQ,EAAI,GApC/B4C,EAAW,EAAGC,EAAoB,MAAOpB,GAAa,CAEjEyB,EAAK,iBAAmB,MACxBA,EAAK,iBAAmB,QACxBA,EAAK,iBAAmB,IACxBA,EAAK,iBAAmB,GAEPN,EAAW,EAAGC,EAAoBC,EAAW,CAAE,IAAK,CAAE,EAAG,CACxD9C,EAAoB,mKAAsC,EACzDkD,EAAK,eAAiBA,EAAK,iBACvBN,EAAW,EAAGC,EAAoB,OAAQnB,GAAa,CACtDC,GACA1B,EAAiB,IAAMoD,EAAiBf,EAAK,eACjEY,EAAK,eAAiBA,EAAK,eAC7B,CAAC,EAAG,CAAY,CACI,CAAC,GACAA,EAAK,eAAiBA,EAAK,iBACzBN,EAAW,EAAGC,EAAoBC,EAAW,CAAE,IAAK,CAAE,EAAG,CACxD9C,EAAoB,mKAAsC,EAC1DD,EAAoB,OAAQ6B,GAAa,CACvCC,GACA5B,EAAiB,IAAMoD,EAAiBf,EAAK,eACrEY,EAAK,gBAAkBA,EAAK,cAC9B,CAAC,EAAG,CAAY,CACQ,CAAC,CACH,EAAG,IAA6C,IAC/CN,EAAW,EAAGC,EAAoBC,EAAW,CAAE,IAAK,CAAE,EAAG,CACxD9C,EAAoB,qHAA2B,EAC/CD,EAAoB,OAAQ+B,GAAauB,EAAiBf,EAAK,eAAe,CAAC,CAAC,EAAG,CAAY,CACjG,EAAG,IAA6C,EACxD,EAAG,EAAwB,IAC1BM,EAAW,EAAGC,EAAoBC,EAAW,CAAE,IAAK,CAAE,EAAG,CACxD9C,EAAoB,2DAAc,EAClC+B,EACF,EAAG,IAA6C,EACtD,CAAC,EAEP,EAAG,CAAa,EACjB,EAAG,GAAwB,EAC9B,CAAC,CACH,CAAC,CACH,CAAC,GACD/B,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,+CAA+C,EACnEA,EAAoB,iBAAiB,EACrCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOiC,GAAa,CACtChC,EAAoB,iBAAiB,EACrCD,EAAoB,SAAU,CAC5B,QAASwC,EAAO,KAAOA,EAAO,GAAK,IAAIQ,IAAUT,EAAK,cAAgBA,EAAK,aAAa,GAAGS,CAAI,GAC/F,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,WAAa,UAAU,MAAQ,SAAS,CACxO,EAAG,CACD/C,EAAoB,UAAU,EAC9BiC,GACAhC,EAAiB,kCAAS,CAC5B,CAAC,EACDD,EAAoB,iBAAiB,EACpCsC,EAAK,kBAAoBA,EAAK,2BAC1BM,EAAW,EAAGC,EAAoB,SAAU,CAC3C,IAAK,EACL,QAASN,EAAO,KAAOA,EAAO,GAAKS,GAAe,IAAID,IAAUT,EAAK,eAAiBA,EAAK,cAAc,GAAGS,CAAI,EAAI,CAAC,SAAS,CAAC,GAC/H,KAAM,SACN,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,OAAO,WAAa,UAAU,MAAQ,OAAO,CACzN,EAAG,CACD/C,EAAoB,UAAU,EAC9BkC,GACAjC,EAAiB,kCAAS,CAC5B,CAAC,GACDD,EAAoB,OAAQ,EAAI,EACpCA,EAAoB,4BAA4B,EAC/C,CAACsC,EAAK,kBAAoBA,EAAK,oBAC3BM,EAAW,EAAGC,EAAoB,MAAOV,GAAa,CACrDC,GACAnC,EAAiB,IAAMoD,EAAiBf,EAAK,kBAAkB,EAAG,CAAY,CAChF,CAAC,GACDtC,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,CAAC,CACH,CAAC,GACDA,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,EAAG,IAA6C,CAClD,CCvUmM0D,GAAO,OAASC,GAAOD,GAAO,OAAS,6EAA6E,IAAOA,GAAQA,GCEtU,IAAOE,GAAQ,CACb,KAAM,KAAO,CACX,cAAe,GACf,QAAS,CAAC,EACV,SAAU,EACZ,GAEA,QAAS,CACP,cAAe,CACb,KAAK,cAAgB,EACvB,EAEA,eAAgB,CACd,IAAMC,EAAK,KACX,KAAK,QAAQ,SAAW,KAAK,SAC7B,KAAK,QAAQ,QAAU,WACvB,OAAO,KAAK,CACV,OAAQC,EAAQ,SAAS,wBACzB,KAAM,CACJ,KAAM,KAAK,OACb,EACA,SAAWC,GAAM,CACVA,EAAE,MACLC,EAAQ,KAAK,sBAAuBD,EAAE,OAAO,EAC7CF,EAAG,cAAgB,GACnBA,EAAG,SAAW,GACdA,EAAG,QAAU,CAAC,EAElB,CACF,CAAC,CACH,CACF,EACA,QAAS,UAAY,CACnBG,EAAQ,GAAG,mBAAqBC,GAAS,CACvC,KAAK,cAAgB,GACrB,KAAK,SAAWA,CAClB,CAAC,CACH,EAEA,eAAgB,CAEVD,GAAW,OAAOA,EAAQ,KAAQ,YACpCA,EAAQ,IAAI,kBAAkB,CAElC,CACF,EC7CA,IAAME,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,kBAAkB,SAAS,cAAc,QAAQ,CAAE,EAC3FC,GAAa,CAAE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,OAAO,SAAW,SAAS,aAAa,+BAA+B,CAAE,EACrIC,GAAa,CAAE,MAAO,CAAC,QAAU,YAAY,gBAAgB,oBAAoB,WAAa,UAAU,SAAW,UAAU,CAAE,EAC/HC,GAA0BC,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,SAAS,CAAE,EAAG,CACvHC,EAAoB,mBAAmB,EACvCC,EAAiB,0FAAoB,CACpD,EAAG,EAAgB,EACbC,GAAa,CAAE,MAAO,CAAC,QAAU,KAAK,CAAE,EACxCC,GAAa,CAAE,MAAO,CAAC,QAAU,KAAK,CAAE,EACxCC,GAAa,CAAE,MAAO,CAAC,QAAU,MAAM,gBAAgB,KAAK,CAAE,EAC9DC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,IAAM,MAAM,MAAQ,MAAM,CAAE,EAC9FC,GAA0BP,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,gBAAgB,KAAK,CAAE,EAAG,CAC3IC,EAAoB,iBAAiB,EACrCC,EAAiB,6EAAiB,CACjD,EAAG,EAAgB,EACbM,GAAc,CAAE,MAAO,CAAC,QAAU,MAAM,gBAAgB,KAAK,CAAE,EAC/DC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,IAAM,MAAM,MAAQ,MAAM,CAAE,EAC/FC,GAA2BV,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,gBAAgB,KAAK,CAAE,EAAG,CAC5IC,EAAoB,kBAAkB,EACtCC,EAAiB,yHAA0B,CAC1D,EAAG,EAAgB,EACbS,GAAc,CAAE,MAAO,CAAC,QAAU,MAAM,gBAAgB,KAAK,CAAE,EAC/DC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,IAAM,MAAM,MAAQ,MAAM,CAAE,EAC/FC,GAA2Bb,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,gBAAgB,KAAK,CAAE,EAAG,CAC5IC,EAAoB,kBAAkB,EACtCC,EAAiB,+HAA2B,CAC3D,EAAG,EAAgB,EACbY,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,gBAAgB,KAAK,CAAE,EAC5EC,GAAc,CAAE,MAAO,CAAC,KAAO,sBAAsB,YAAY,kBAAkB,QAAU,KAAK,CAAE,EACpGC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,IAAM,MAAM,MAAQ,MAAM,CAAE,EAC/FC,GAA2BjB,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,gBAAgB,KAAK,CAAE,EAAG,CAC5IC,EAAoB,QAAQ,EAC5BC,EAAiB,8CAAW,CAC3C,EAAG,EAAgB,EACbgB,GAAc,CAAE,MAAO,CAAC,KAAO,sBAAsB,YAAY,kBAAkB,QAAU,KAAK,CAAE,EACpGC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,IAAM,MAAM,MAAQ,MAAM,CAAE,EAC/FC,GAA2BpB,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,gBAAgB,KAAK,CAAE,EAAG,CAC5IC,EAAoB,SAAS,EAC7BC,EAAiB,8CAAW,CAC3C,EAAG,EAAgB,EACbmB,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,kBAAkB,WAAW,IAAM,MAAM,QAAU,cAAc,aAAa,mBAAmB,CAAE,EACnKC,GAA2BtB,EAAoB,MAAO,CAAE,MAAO,CAAC,KAAO,GAAG,CAAE,EAAG,KAAM,EAAgB,EAEpG,SAASuB,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,OAAQC,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzD/B,EAAoB,+CAA+C,EACnEA,EAAoB,sBAAsB,EAC1CA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOJ,GAAY,CACrCK,EAAoB,iBAAiB,EACpCuB,EAAK,eACDM,EAAW,EAAGC,EAAoB,MAAO,CACxC,IAAK,EACL,QAASN,EAAO,KAAOA,EAAO,GAAKQ,GAAWT,EAAK,cAAgB,IACnE,MAAO,CAAC,SAAW,QAAQ,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,IAAI,WAAa,qBAAqB,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,UAAU,MAAM,CAChM,EAAG,CACDvB,EAAoB,SAAS,EAC7BD,EAAoB,MAAO,CACzB,QAASyB,EAAO,KAAOA,EAAO,GAAKS,GAAe,IAAM,CAAC,EAAG,CAAC,MAAM,CAAC,GACpE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,MAAM,aAAa,iCAAiC,YAAY,QAAQ,MAAQ,MAAM,aAAa,OAAO,SAAW,QAAQ,CAC5K,EAAG,CACDjC,EAAoB,QAAQ,EAC5BD,EAAoB,MAAOH,GAAY,CACrCI,EAAoB,+CAA+C,EACnEA,EAAoB,eAAe,EACnCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOF,GAAY,CACrCC,GACAC,EAAoB,SAAU,CAC5B,QAASyB,EAAO,KAAOA,EAAO,GAAKQ,GAAWT,EAAK,cAAgB,IACnE,MAAO,CAAC,SAAW,WAAW,IAAM,MAAM,MAAQ,MAAM,WAAa,OAAO,OAAS,OAAO,YAAY,SAAS,MAAQ,OAAO,OAAS,UAAU,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,gBAAgB,KAAK,CAC5Q,EAAG,QAAK,CACV,CAAC,EACDvB,EAAoB,+CAA+C,EACnEA,EAAoB,aAAa,EACjCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOG,GAAY,CACrCH,EAAoB,MAAOI,GAAY,CACrCH,EAAoB,iBAAiB,EACrCD,EAAoB,MAAOK,GAAY,CACrCL,EAAoB,MAAOM,GAAY,CACrCC,GACA4B,GAAgBnC,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuByB,EAAO,KAAOA,EAAO,GAAKQ,GAAYT,EAAK,QAAQ,KAAQS,GAClF,YAAa,qGACb,MAAO,CAAC,MAAQ,OAAO,QAAU,WAAW,YAAY,SAAS,aAAa,OAAO,MAAQ,OAAO,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,MAAM,CAC9L,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACG,GAAaZ,EAAK,QAAQ,IAAI,CACjC,CAAC,CACH,CAAC,CACH,CAAC,EACDvB,EAAoB,kBAAkB,EACtCD,EAAoB,MAAOQ,GAAa,CACtCR,EAAoB,MAAOS,GAAa,CACtCC,GACAyB,GAAgBnC,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuByB,EAAO,KAAOA,EAAO,GAAKQ,GAAYT,EAAK,QAAQ,cAAiBS,GAC3F,YAAa,iJACb,MAAO,CAAC,MAAQ,OAAO,QAAU,WAAW,YAAY,SAAS,aAAa,OAAO,MAAQ,OAAO,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,MAAM,CAC9L,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACG,GAAaZ,EAAK,QAAQ,aAAa,CAC1C,CAAC,CACH,CAAC,CACH,CAAC,EACDvB,EAAoB,kBAAkB,EACtCD,EAAoB,MAAOW,GAAa,CACtCX,EAAoB,MAAOY,GAAa,CACtCC,GACAsB,GAAgBnC,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuByB,EAAO,KAAOA,EAAO,GAAKQ,GAAYT,EAAK,QAAQ,cAAiBS,GAC3F,YAAa,uJACb,MAAO,CAAC,MAAQ,OAAO,QAAU,WAAW,YAAY,SAAS,aAAa,OAAO,MAAQ,OAAO,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,MAAM,CAC9L,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACG,GAAaZ,EAAK,QAAQ,aAAa,CAC1C,CAAC,CACH,CAAC,CACH,CAAC,EACDvB,EAAoB,gBAAgB,EACpCD,EAAoB,MAAOc,GAAa,CACtCb,EAAoB,QAAQ,EAC5BD,EAAoB,MAAOe,GAAa,CACtCf,EAAoB,MAAOgB,GAAa,CACtCC,GACAkB,GAAgBnC,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuByB,EAAO,KAAOA,EAAO,GAAKQ,GAAYT,EAAK,QAAQ,KAAQS,GAClF,YAAa,sEACb,MAAO,CAAC,MAAQ,OAAO,QAAU,WAAW,YAAY,SAAS,aAAa,OAAO,MAAQ,OAAO,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,MAAM,CAC9L,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACG,GAAaZ,EAAK,QAAQ,IAAI,CACjC,CAAC,CACH,CAAC,CACH,CAAC,EACDvB,EAAoB,SAAS,EAC7BD,EAAoB,MAAOkB,GAAa,CACtClB,EAAoB,MAAOmB,GAAa,CACtCC,GACAe,GAAgBnC,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuByB,EAAO,KAAOA,EAAO,GAAKQ,GAAYT,EAAK,QAAQ,MAASS,GACnF,YAAa,sEACb,MAAO,CAAC,MAAQ,OAAO,QAAU,WAAW,YAAY,SAAS,aAAa,OAAO,MAAQ,OAAO,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,MAAM,CAC9L,EAAG,KAAM,GAAoB,EAAG,CAC9B,CAACG,GAAaZ,EAAK,QAAQ,KAAK,CAClC,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,EACDvB,EAAoB,+CAA+C,EACnEA,EAAoB,eAAe,EACnCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOqB,GAAa,CACtCC,GACArB,EAAoB,iBAAiB,EACrCD,EAAoB,SAAU,CAC5B,QAASyB,EAAO,KAAOA,EAAO,GAAK,IAAIY,IAAUb,EAAK,cAAgBA,EAAK,aAAa,GAAGa,CAAI,GAC/F,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,QAAU,WAAW,OAAS,OAAO,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,cAAc,MAAM,aAAa,+BAA+B,WAAa,QAAQ,MAAQ,UAAU,gBAAgB,MAAM,eAAe,KAAK,CACjW,EAAG,CACDpC,EAAoB,UAAU,EAC9BC,EAAiB,kCAAS,CAC5B,CAAC,EACDD,EAAoB,kBAAkB,EACtCD,EAAoB,SAAU,CAC5B,QAASyB,EAAO,KAAOA,EAAO,GAAK,IAAIY,IAAUb,EAAK,eAAiBA,EAAK,cAAc,GAAGa,CAAI,GACjG,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,QAAU,WAAW,OAAS,OAAO,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,cAAc,MAAM,aAAa,+BAA+B,WAAa,oDAAoD,MAAQ,QAAQ,gBAAgB,KAAK,CACtX,EAAG,CACDpC,EAAoB,WAAW,EAC/BC,EAAiB,kCAAS,CAC5B,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,GACDD,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,EAAG,IAA6C,CAClD,CCvL6LqC,GAAO,OAASC,GAAOD,GAAO,OAAS,0EAA0E,IAAOA,GAAQA,GCM7T,IAAME,GAAc,CACnB,aAAc,eACd,oBAAqB,sBACrB,aAAc,aACf,EAEMC,GAAgB,CACrB,CAAE,MAAO,uCAAU,IAAK,WAAY,MAAO,QAAS,SAAU,EAAK,EACnE,CAAE,MAAO,6CAAW,IAAK,eAAgB,MAAO,QAAS,SAAU,EAAK,EACxE,CAAE,MAAO,iCAAS,IAAK,eAAgB,MAAO,SAAU,SAAU,EAAM,EACxE,CAAE,MAAO,sEAAgB,IAAK,OAAQ,MAAO,QAAS,SAAU,EAAK,EACrE,CAAE,MAAO,uCAAU,IAAK,iBAAkB,MAAO,SAAU,SAAU,EAAM,EAC3E,CAAE,MAAO,uCAAU,IAAK,cAAe,MAAO,MAAO,SAAU,EAAM,CACtE,EAEMC,GAAkB,gBAGjBC,GAAQ,CACd,OAAQ,CAACC,EAAM,EAGf,MAAO,CACN,MAAO,CACN,eAAgB,GAChB,SAAU,KACV,YAAa,CAAC,EACd,UAAW,GACX,QAAS,GACT,aAAc,GACd,YAAa,KACb,kBAAmB,KACnB,QAASH,EACV,CACD,EAEA,eAAgB,CACfI,EAAQ,IAAIL,GAAY,YAAY,CACrC,EAEA,SAAU,CACTK,EAAQ,GAAGL,GAAY,aAAeM,GAAS,CAC9C,KAAK,eAAiB,GACtB,KAAK,YAAcA,EAAK,aAAe,KACvC,KAAK,kBAAoBA,EAAK,mBAAqB,KACnD,KAAK,QAAU,KAAK,WAAW,EAC/B,KAAK,YAAc,CAAC,EACpB,KAAK,SAAW,KAChB,KAAK,gBAAgB,CACtB,CAAC,CACF,EAGA,QAAS,CACR,cAAcC,EAAa,CAE1B,MAAO,sBAAsB,mBAAmBA,CAAW,GAC5D,EAEA,YAAYC,EAAMC,EAAO,CACxBJ,EAAQ,KAAKL,GAAY,aAAc,CAAE,KAAAQ,EAAM,MAAAC,CAAM,CAAC,CACvD,EAEA,YAAa,CArEf,IAAAC,EAAAC,EAsEG,QACCD,EAAA,KAAK,cAAL,YAAAA,EAAkB,YAClBC,EAAA,KAAK,oBAAL,YAAAA,EAAwB,UACxB,KAAK,SACLT,EAEF,EAKA,cAAe,CACd,KAAK,UAAU,IAAM,CACpB,KAAK,eAAiB,GACtB,KAAK,SAAW,KAChB,KAAK,YAAc,CAAC,EACpB,KAAK,aAAe,EACrB,CAAC,CACF,EAGA,iBAAkB,CA3FpB,IAAAQ,EA4FG,KAAK,QAAU,KAAK,WAAW,EAE/B,KAAK,UAAY,GAEjB,OAAO,KAAK,CACX,OAAQE,EAAQ,cAAc,wBAC9B,KAAM,CACL,aAAc,KAAK,cAAgB,GACnC,QAAS,KAAK,QACd,cAAaF,EAAA,KAAK,cAAL,YAAAA,EAAkB,OAAQ,IACxC,EACA,SAAWG,GAAM,CAvGrB,IAAAH,EAwGK,KAAK,UAAY,GAEjB,KAAK,cACJA,EAAAG,EAAE,UAAF,YAAAH,EAAW,QAAS,EACjBG,EAAE,QAAQ,IAAKC,IAAU,CACzB,KAAMA,EAAK,KACX,SAAUA,EAAK,SACf,aAAcA,EAAK,aACnB,aAAcA,EAAK,cAAgB,KACnC,YAAaA,EAAK,YAClB,mBAAoBA,EAAK,oBAAsB,EAC/C,YAAaA,EAAK,aAAe,EACjC,SAAUA,EAAK,SACf,MAAOA,EAAK,OAAS,CAAC,EACtB,eAAgBA,EAAK,gBAAkBA,EAAK,QAAU,IACtD,OAAQA,EAAK,QAAU,GACvB,EAAE,EACF,CAAC,EAEL,KAAK,4BAA4B,CAClC,EACA,MAAO,IAAM,CACZ,KAAK,UAAY,GAEjB,KAAK,YAAY,kHAAyB,OAAO,CAClD,CACD,CAAC,CACF,EAGA,6BAA8B,CAC7B,GAAI,KAAK,YAAY,SAAW,EAAG,CAClC,IAAMC,EAAU,KAAK,aAElB,mMAEA,2MAA2C,KAAK,SACpD,CACD,EAEA,MAAM,qBAAqBC,EAAc,CACxC,GAAI,CAQH,OAPiB,MAAM,OAAO,KAAK,CAClC,OAAQJ,EAAQ,OAAO,WACvB,KAAM,CACL,QAAS,gBACT,KAAMI,CACP,CACD,CAAC,GACe,OACjB,OAASC,EAAP,CACD,eAAQ,IAAI,2CAA4CA,CAAC,EACzD,KAAK,YAAY,oIAA4B,OAAO,EAC7C,IACR,CACD,EAEA,oBAAoBC,EAAcC,EAAkB,CACnD,IAAMC,EAAiBD,EAAiB,MAAM,IAAKE,GAAMA,EAAE,SAAS,EAC9DC,EAAgBJ,EAAa,OACjCJ,GAAS,CAACM,EAAe,SAASN,EAAK,SAAS,CAClD,EAEA,OAAIQ,EAAc,OAAS,GAE1B,KAAK,YACJ,2PAAmDA,EACjD,IAAKD,GAAMA,EAAE,SAAS,EACtB,KAAK,IAAI,IACX,OACD,EACO,IAED,EACR,EAEA,uBAAuBE,EAAY,CApLrC,IAAAb,EAqLG,MAAO,CACN,MAAOa,EAAW,MAAM,IAAKT,GAAUU,GAAAC,GAAA,GACnCX,GADmC,CAEtC,IAAK,KAAK,IAAIA,EAAK,GAAG,EAAI,GAC1B,UAAW,KAAK,IAAIA,EAAK,WAAaA,EAAK,GAAG,EAAI,GAClD,OAAQ,KAAK,IAAIA,EAAK,MAAM,EAAI,GAChC,YAAa,KAAK,IAAI,EAAE,SAAS,EAAE,EAAI,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,OAAO,EAAG,CAAC,EAC7E,YAAa,KACb,mBAAoB,EACpB,cAAe,EACf,gBAAiB,EACjB,aAAc,EACd,mBAAoBA,EAAK,KACzB,KAAM,IACP,EAAE,EACF,UAAW,EACX,eAAgBS,EAAW,KAC3B,QAAS,KAAK,WAAW,EACzB,SAAUA,EAAW,SACrB,wBAAwBb,EAAA,KAAK,oBAAL,YAAAA,EAAwB,KAChD,kBAAmB,KAAK,mBAAqB,KAC7C,YAAa,KAAK,aAAe,IAClC,CACD,EAGA,cAAcgB,EAAS,CACtB,KAAK,SAAWA,CACjB,EAGA,MAAM,eAAgB,CACrB,GAAI,CAAC,KAAK,UAAY,CAAC,KAAK,YAAY,OAAQ,CAE/C,KAAK,YAAY,oIAA4B,OAAO,EACpD,MACD,CAEA,IAAMC,EAAe,KAAK,SAC1B,GAAI,CAACA,EAAc,CAElB,KAAK,YAAY,sJAA+B,OAAO,EACvD,MACD,CAEA,IAAMJ,EAAaI,EACbR,EAAmB,MAAM,KAAK,qBAAqBI,EAAW,IAAI,EAExE,GAAI,CAACJ,EAAkB,CAEtB,KAAK,YAAY,sJAA+B,OAAO,EACvD,MACD,CAEA,GAAI,CAAC,KAAK,oBAAoBI,EAAW,MAAOJ,CAAgB,EAC/D,OAGD,IAAMS,EAAc,KAAK,uBAAuBL,CAAU,EAG1D,KAAK,eAAiB,GAGtB,KAAK,SAAW,KAChB,KAAK,YAAc,CAAC,EACpB,KAAK,aAAe,GAGpBlB,EAAQ,KAAKL,GAAY,oBAAqB,CAC7C,YAAA4B,EACA,WAAAL,EACA,8BAA+B,CAC9B,YAAa,KAAK,IAAIJ,EAAiB,aAAe,CAAC,EACvD,YAAa,KAAK,IAAIA,EAAiB,aAAe,CAAC,EACvD,mBAAoB,KAAK,IAAIA,EAAiB,oBAAsB,CAAC,CACtE,CACD,CAAC,CACF,CACD,EAEA,eAAgB,CAEfd,EAAQ,KAAKL,GAAY,YAAY,CACtC,CACD,ECxQA,IAAM6B,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,kBAAkB,SAAS,cAAc,QAAQ,CAAE,EAC3FC,GAAa,CAAE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,OAAO,SAAW,SAAS,aAAa,+BAA+B,CAAE,EACrIC,GAAa,CAAE,MAAO,CAAC,WAAa,UAAU,MAAQ,QAAQ,QAAU,YAAY,gBAAgB,oBAAoB,SAAW,UAAU,CAAE,EAC/IC,GAA0BC,EAAoB,OAAQ,CAAE,MAAO,CAAC,MAAQ,QAAQ,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,YAAY,UAAU,cAAc,KAAK,CAAE,EAAG,CACzKA,EAAoB,IAAK,CACpC,MAAO,0BACP,MAAO,CAAC,YAAY,MAAM,CAC5B,CAAC,EACYC,EAAoB,kBAAkB,EACtCC,EAAiB,gGAAqB,CACrD,EAAG,EAAgB,EACbC,GAAa,CAAE,MAAO,CAAC,aAAa,OAAO,aAAa,OAAO,QAAU,OAAO,iBAAiB,SAAS,QAAU,MAAM,CAAE,EAC5HC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,gBAAgB,MAAM,CAAE,EAC5EC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,IAAM,MAAM,MAAQ,OAAO,KAAO,GAAG,CAAE,EACzGC,GAA0BN,EAAoB,QAAS,CAAE,MAAO,CAAC,YAAY,UAAU,cAAc,MAAM,MAAQ,OAAO,gBAAgB,KAAK,CAAE,EAAG,CAC3IC,EAAoB,kBAAkB,EACtCC,EAAiB,uEAAgB,CAChD,EAAG,EAAgB,EACbK,GAAa,CAAE,MAAO,CAAC,KAAO,IAAI,aAAa,GAAG,CAAE,EACpDC,GAAc,CAAE,MAAO,CAAC,aAAa,OAAO,aAAa,MAAM,CAAE,EACjEC,GAAc,CAClB,IAAK,EACL,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,cAAc,SAAS,kBAAkB,SAAS,QAAU,OAAO,IAAM,MAAM,CACpI,EACMC,GAA2BV,EAAoB,MAAO,CAAE,MAAO,CAAC,MAAQ,OAAO,OAAS,OAAO,OAAS,oBAAoB,aAAa,oBAAoB,gBAAgB,KAAK,CAAE,EAAG,KAAM,EAAgB,EAC7MW,GAA2BX,EAAoB,OAAQ,CAAE,MAAO,CAAC,YAAY,OAAO,MAAQ,MAAM,CAAE,EAAG,CAC9FC,EAAoB,uBAAuB,EAC3CC,EAAiB,+GAA0B,CAC1D,EAAG,EAAgB,EACbU,GAAc,CAClBF,GACAC,EACF,EACME,GAA2Bb,EAAoB,MAAO,CAAE,MAAO,CAAC,QAAU,OAAO,iBAAiB,SAAS,cAAc,SAAS,kBAAkB,SAAS,QAAU,OAAO,MAAQ,OAAO,YAAY,MAAM,CAAE,EAAG,CAC3MC,EAAoB,qBAAqB,EACzCC,EAAiB,gIAA4B,CAC5D,EAAG,EAAgB,EACbY,GAAc,CAAE,MAAO,CAAC,MAAQ,OAAO,kBAAkB,WAAW,YAAY,WAAW,WAAa,QAAQ,eAAe,MAAM,CAAE,EACvIC,GAAc,CAAE,MAAO,CAAC,gBAAgB,oBAAoB,WAAa,UAAU,MAAQ,OAAO,CAAE,EACpGC,GAAc,CAAC,SAAS,EACxBC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,OAAO,cAAc,QAAQ,CAAE,EACrFC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,OAAO,cAAc,QAAQ,CAAE,EACrFC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,SAAS,cAAc,QAAQ,CAAE,EACvFC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,OAAO,cAAc,QAAQ,CAAE,EACrFC,GAAc,CAAC,MAAM,EACrBC,GAA2BtB,EAAoB,IAAK,CACxD,MAAO,sBACP,MAAO,CAAC,YAAY,OAAO,cAAc,KAAK,CAChD,EAAG,KAAM,EAAgB,EACnBuB,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,SAAS,cAAc,QAAQ,CAAE,EACvFC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,QAAQ,cAAc,MAAM,MAAQ,UAAU,cAAc,QAAQ,CAAE,EAC5HC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,kBAAkB,WAAW,IAAM,MAAM,QAAU,YAAY,aAAa,oBAAoB,cAAc,IAAI,aAAa,MAAM,CAAE,EACvMC,GAA2B1B,EAAoB,MAAO,CAAE,MAAO,CAAC,KAAO,GAAG,CAAE,EAAG,KAAM,EAAgB,EAEpG,SAAS2B,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,OAAQC,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzDnC,EAAoB,+CAA+C,EACnEA,EAAoB,kBAAkB,EACtCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOJ,GAAY,CACrCK,EAAoB,iBAAiB,EACpC2B,EAAK,gBACDM,EAAW,EAAGC,EAAoB,MAAO,CACxC,IAAK,EACL,QAASN,EAAO,KAAOA,EAAO,GAAKQ,GAAWT,EAAK,eAAiB,IACpE,MAAO,CAAC,SAAW,QAAQ,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,IAAI,WAAa,qBAAqB,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,UAAU,MAAM,CAChM,EAAG,CACD3B,EAAoB,SAAS,EAC7BD,EAAoB,MAAO,CACzB,QAAS6B,EAAO,KAAOA,EAAO,GAAKS,GAAe,IAAM,CAAC,EAAG,CAAC,MAAM,CAAC,GACpE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,MAAM,aAAa,iCAAiC,YAAY,OAAO,YAAY,QAAQ,MAAQ,OAAO,aAAa,OAAO,SAAW,QAAQ,CAChM,EAAG,CACDrC,EAAoB,QAAQ,EAC5BD,EAAoB,MAAOH,GAAY,CACrCI,EAAoB,+CAA+C,EACnEA,EAAoB,eAAe,EACnCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOF,GAAY,CACrCC,GACAC,EAAoB,SAAU,CAC5B,QAAS6B,EAAO,KAAOA,EAAO,GAAKQ,GAAWT,EAAK,eAAiB,IACpE,MAAO,CAAC,SAAW,WAAW,IAAM,MAAM,MAAQ,MAAM,WAAa,OAAO,OAAS,OAAO,YAAY,SAAS,MAAQ,QAAQ,OAAS,UAAU,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,gBAAgB,KAAK,CAC7Q,EAAG,QAAK,CACV,CAAC,EACD3B,EAAoB,+CAA+C,EACnEA,EAAoB,aAAa,EACjCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOG,GAAY,CACrCF,EAAoB,cAAc,EAClCD,EAAoB,MAAOI,GAAY,CACrCH,EAAoB,wBAAwB,EAC5CD,EAAoB,MAAOK,GAAY,CACrCC,GACAiC,GAAgBvC,EAAoB,QAAS,CAC3C,KAAM,OACN,sBAAuB6B,EAAO,KAAOA,EAAO,GAAKQ,GAAYT,EAAK,aAAgBS,GAClF,YAAa,sEACb,UAAWR,EAAO,KAAOA,EAAO,GAAKW,GAAU,IAAIC,IAAUb,EAAK,iBAAmBA,EAAK,gBAAgB,GAAGa,CAAI,EAAI,CAAC,OAAO,CAAC,GAC9H,MAAO,CAAC,MAAQ,OAAO,QAAU,WAAW,YAAY,UAAU,MAAQ,OAAO,WAAa,QAAQ,OAAS,oBAAoB,gBAAgB,MAAM,QAAU,MAAM,CAC3K,EAAG,KAAM,GAAoC,EAAG,CAC9C,CAACC,GAAad,EAAK,YAAY,CACjC,CAAC,CACH,CAAC,EACD3B,EAAoB,iBAAiB,EACrCD,EAAoB,SAAU,CAC5B,QAAS6B,EAAO,KAAOA,EAAO,GAAK,IAAIY,IAAUb,EAAK,iBAAmBA,EAAK,gBAAgB,GAAGa,CAAI,GACrG,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,QAAU,WAAW,OAAS,OAAO,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,cAAc,MAAM,aAAa,+BAA+B,WAAa,oDAAoD,MAAQ,QAAQ,gBAAgB,MAAM,aAAa,MAAM,CAC1Y,EAAG,CACDxC,EAAoB,UAAU,EAC9BC,EAAiB,sBAAO,CAC1B,CAAC,CACH,CAAC,EACDD,EAAoB,mBAAmB,EACvCD,EAAoB,MAAOO,GAAY,CACrCP,EAAoB,MAAOQ,GAAa,CACtCP,EAAoB,iBAAiB,EACpC2B,EAAK,WACDM,EAAW,EAAGC,EAAoB,MAAO1B,GAAaG,EAAW,GACjEgB,EAAK,YAAY,SAAW,GAC1BM,EAAW,EAAGC,EAAoBC,EAAW,CAAE,IAAK,CAAE,EAAG,CACxDnC,EAAoB,WAAW,EAC/BY,EACF,EAAG,IAA6C,IAC/CqB,EAAW,EAAGC,EAAoBC,EAAW,CAAE,IAAK,CAAE,EAAG,CACxDnC,EAAoB,SAAS,EAC7BD,EAAoB,QAASc,GAAa,CACxCb,EAAoB,iBAAiB,EACrCD,EAAoB,QAAS,KAAM,CACjCA,EAAoB,KAAMe,GAAa,EACpCmB,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMO,GAAYf,EAAK,QAAUgB,IACzEV,EAAW,EAAGC,EAAoB,KAAM,CAC9C,IAAKS,EAAO,IACZ,MAAOC,EAAgB,CAClD,QAAS,OACT,UAAWD,EAAO,OAAS,OAC3B,WAAY,MACZ,MAAO,QACP,SAAU,UACV,cAAe,YACf,WAAY,QACb,CAAC,CACyB,EAAGE,EAAiBF,EAAO,KAAK,EAAG,CAAmB,EACvD,EAAG,GAAwB,EAC9B,CAAC,CACH,CAAC,EACD3C,EAAoB,cAAc,EAClCD,EAAoB,QAAS,KAAM,EAChCkC,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMO,GAAYf,EAAK,YAAcmB,IAC7Eb,EAAW,EAAGC,EAAoB,KAAM,CAC9C,IAAKY,EAAK,KACV,QAASV,GAAWT,EAAK,cAAcmB,CAAI,EAC3C,MAAOF,EAAgB,CACjDjB,EAAK,UAAYA,EAAK,SAAS,OAASmB,EAAK,KAC1C,wCACA,mBACF,CAAC,gBAAgB,mBAAmB,CAAC,CAAC,CACf,EAAG,CACD9C,EAAoB,YAAY,EAChCD,EAAoB,KAAMiB,GAAa6B,EAAiBC,EAAK,QAAQ,EAAG,CAAY,EACpF9C,EAAoB,gBAAgB,EACpCD,EAAoB,KAAMkB,GAAa4B,EAAiBC,EAAK,YAAY,EAAG,CAAY,EACxF9C,EAAoB,gBAAgB,EACpCD,EAAoB,KAAMmB,GAAa2B,EAAiBC,EAAK,aACnFA,EAAK,aAAa,MAAM,GAAG,EAAE,GAC7B,GAAG,EAAG,CAAY,EACI9C,EAAoB,gBAAgB,EACpCD,EAAoB,KAAMoB,GAAa,CACrCpB,EAAoB,IAAK,CACvB,KAAM4B,EAAK,cAAcmB,EAAK,IAAI,EAClC,OAAQ,SACR,QAASlB,EAAO,KAAOA,EAAO,GAAKS,GAAe,IAAM,CAAC,EAAG,CAAC,MAAM,CAAC,GACpE,MAAO,CAAC,MAAQ,UAAU,cAAc,MAAM,YAAY,OAAO,cAAc,2BAA2B,kBAAkB,MAAM,CACpI,EAAG,CACDpC,EAAiB4C,EAAiBC,EAAK,IAAI,EAAI,IAAK,CAAY,EAChEzB,EACF,EAAG,EAAeD,EAAW,CAC/B,CAAC,EACDpB,EAAoB,kBAAkB,EACtCD,EAAoB,KAAMuB,GAAa,CACrCvB,EAAoB,OAAQ,CAC1B,MAAO6C,EAAgB,CACnD,QAAS,eACT,QAAS,WACT,aAAc,OACd,SAAU,UACV,WAAY,MACZ,WAAY,SACZ,iBACEE,EAAK,gBACLA,EAAK,UAAY,OACf,WACCA,EAAK,gBACNA,EAAK,UAAY,SACjB,WACCA,EAAK,gBACNA,EAAK,UACL,cACA,WACCA,EAAK,gBACNA,EAAK,UAAY,SACjB,WACCA,EAAK,gBACNA,EAAK,UACL,qBACA,UACA,UACJ,OACEA,EAAK,gBACLA,EAAK,UAAY,OACf,WACCA,EAAK,gBACNA,EAAK,UAAY,SACjB,WACCA,EAAK,gBACNA,EAAK,UACL,cACA,WACCA,EAAK,gBACNA,EAAK,UAAY,SACjB,WACCA,EAAK,gBACNA,EAAK,UACL,qBACA,UACA,UACJ,QACEA,EAAK,gBACLA,EAAK,UAAY,OACf,qBACCA,EAAK,gBACNA,EAAK,UAAY,SACjB,qBACCA,EAAK,gBACNA,EAAK,UACL,cACA,qBACCA,EAAK,gBACNA,EAAK,UAAY,SACjB,qBACCA,EAAK,gBACNA,EAAK,UACL,qBACA,oBACA,mBACL,CAAC,CAC0B,EAAGD,EAAiBC,EAAK,gBAAkBA,EAAK,QAAU,GAAG,EAAG,CAAmB,CACrF,CAAC,EACD9C,EAAoB,eAAe,EACnCD,EAAoB,KAAMwB,GAAasB,EAAiBlB,EAAK,eAAemB,EAAK,QAAQ,CAAC,EAAI,IAAMD,EAAiBlB,EAAK,eAAemB,EAAK,WAAW,CAAC,EAAG,CAAY,CAC3K,EAAG,GAAuB/B,EAAW,EACtC,EAAG,GAAwB,EAC9B,CAAC,CACH,CAAC,CACH,EAAG,IAA6C,EACxD,CAAC,CACH,CAAC,CACH,CAAC,EACDf,EAAoB,+CAA+C,EACnEA,EAAoB,eAAe,EACnCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOyB,GAAa,CACtCC,GACAzB,EAAoB,gBAAgB,EACpCD,EAAoB,SAAU,CAC5B,QAAS6B,EAAO,KAAOA,EAAO,GAAK,IAAIY,IAAUb,EAAK,cAAgBA,EAAK,aAAa,GAAGa,CAAI,GAC/F,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,cAAc,MAAM,aAAa,+BAA+B,WAAa,QAAQ,MAAQ,SAAS,CAC5T,EAAG,CACDxC,EAAoB,SAAS,EAC7BC,EAAiB,kCAAS,CAC5B,CAAC,EACDD,EAAoB,iBAAiB,EACrCD,EAAoB,SAAU,CAC5B,QAAS6B,EAAO,KAAOA,EAAO,GAAK,IAAIY,IAAUb,EAAK,eAAiBA,EAAK,cAAc,GAAGa,CAAI,GACjG,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,cAAc,MAAM,aAAa,+BAA+B,WAAa,oDAAoD,MAAQ,OAAO,CACtW,EAAG,CACDxC,EAAoB,UAAU,EAC9BC,EAAiB,4BAAQ,CAC3B,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,GACDD,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,EAAG,IAA6C,CAClD,CC/RuL+C,GAAO,OAASC,GAAOD,GAAO,OAAS,uEAAuE,IAAOA,GAAQA,GCKpT,IAAME,GAAc,CAClB,mBAAoB,qBACpB,mBAAoB,qBACpB,aAAc,aAChB,EAGOC,GAAQ,CACb,OAAQ,CAACC,EAAM,EAGf,MAAO,CACL,MAAO,CACL,aAAc,GACd,SAAU,KACV,YAAa,CAAC,EACd,UAAW,EACb,CACF,EAGA,eAAgB,CACdC,EAAQ,IAAIH,GAAY,kBAAkB,CAC5C,EAEA,SAAU,CACRG,EAAQ,GAAGH,GAAY,mBAAqBI,GAAS,CACnD,QAAQ,IAAI,0CAA0CA,GAAA,YAAAA,EAAM,SAAU,EAAG,UAAU,EACnF,KAAK,aAAe,GACpB,KAAK,YAAcA,GAAQ,CAAC,EAC5B,KAAK,SAAW,KAChB,KAAK,UAAY,EACnB,CAAC,CACH,EAGA,QAAS,CACP,cAAcC,EAAS,CACrB,KAAK,SAAWA,CAClB,EAEA,eAAgB,CACd,GAAI,CAAC,KAAK,SAAU,CAClBF,EAAQ,KAAKH,GAAY,aAAc,CACrC,KAAM,qGACN,MAAO,OACT,CAAC,EACD,MACF,CAGA,GAAI,KAAK,eAAiB,GACxB,OAIF,IAAMM,EAAkB,KAAK,SAC7B,KAAK,aAAe,GACpB,KAAK,SAAW,KAGhB,KAAK,UAAU,IAAM,CACnBH,EAAQ,KAAKH,GAAY,mBAAoBM,CAAe,CAC9D,CAAC,CACH,CACF,CACF,ECrEA,IAAMC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,kBAAkB,SAAS,cAAc,QAAQ,CAAE,EAC3FC,GAAa,CAAE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,OAAO,SAAW,SAAS,aAAa,+BAA+B,CAAE,EACrIC,GAAa,CAAE,MAAO,CAAC,WAAa,oDAAoD,MAAQ,QAAQ,QAAU,YAAY,gBAAgB,oBAAoB,SAAW,UAAU,CAAE,EACzLC,GAA0BC,EAAoB,OAAQ,CAAE,MAAO,CAAC,MAAQ,QAAQ,QAAU,OAAO,cAAc,SAAS,IAAM,MAAM,YAAY,UAAU,cAAc,KAAK,CAAE,EAAG,CACzKA,EAAoB,IAAK,CACpC,MAAO,6BACP,MAAO,CAAC,YAAY,MAAM,CAC5B,CAAC,EACYC,EAAoB,sBAAsB,EAC1CC,EAAiB,gGAAqB,CACrD,EAAG,EAAgB,EACbC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,OAAO,aAAa,MAAM,CAAE,EACjFC,GAAa,CACjB,IAAK,EACL,MAAO,CAAC,aAAa,SAAS,QAAU,MAAM,CAChD,EACMC,GAA0BL,EAAoB,MAAO,CAAE,MAAO,CAAC,YAAY,OAAO,MAAQ,MAAM,CAAE,EAAG,yEAAmB,EAAgB,EACxIM,GAAa,CACjBD,EACF,EACME,GAA0BP,EAAoB,MAAO,CAAE,MAAO,CAAC,aAAa,SAAS,QAAU,MAAM,CAAE,EAAG,CACjGA,EAAoB,MAAO,CAAE,MAAO,CAAC,YAAY,OAAO,MAAQ,MAAM,CAAE,EAAG,2GAAsB,CAChH,EAAG,EAAgB,EACbQ,GAAc,CAAE,MAAO,CAAC,MAAQ,OAAO,kBAAkB,WAAW,YAAY,QAAQ,CAAE,EAC1FC,GAA2BT,EAAoB,QAAS,KAAM,CACrDA,EAAoB,KAAM,CAAE,MAAO,CAAC,WAAa;AAAA;AAAA;AAAA;AAAA,aAAgJ,gBAAgB,oBAAoB,MAAQ,OAAO,CAAE,EAAG,CACvPA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,QAAQ,cAAc,MAAM,MAAQ,OAAO,CAAE,EAAG,wCAAU,EAC5HA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,SAAS,cAAc,MAAM,MAAQ,OAAO,CAAE,EAAG,8CAAW,EAC9HA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,SAAS,cAAc,MAAM,MAAQ,OAAO,CAAE,EAAG,kCAAS,EAC5HA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,QAAQ,cAAc,MAAM,MAAQ,OAAO,CAAE,EAAG,uEAAgB,EAClIA,EAAoB,KAAM,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,OAAO,cAAc,MAAM,MAAQ,OAAO,CAAE,EAAG,wCAAU,CAC1I,CAAC,CACH,EAAG,EAAgB,EACbU,GAAc,CAAC,SAAS,EACxBC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,OAAO,CAAE,EAC/DC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,QAAQ,CAAE,EAChEC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,QAAQ,CAAE,EAChEC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,QAAQ,cAAc,KAAK,CAAE,EACnFC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,aAAa,OAAO,cAAc,KAAK,CAAE,EAClFC,GAAc,CAAE,MAAO,CAAC,QAAU,OAAO,cAAc,SAAS,kBAAkB,WAAW,IAAM,MAAM,QAAU,OAAO,aAAa,mBAAmB,CAAE,EAC5JC,GAA2BjB,EAAoB,MAAO,CAAE,MAAO,CAAC,KAAO,GAAG,CAAE,EAAG,KAAM,EAAgB,EACrGkB,GAAc,CAAC,UAAU,EAExB,SAASC,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,OAAQC,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzD3B,EAAoB,+CAA+C,EACnEA,EAAoB,iBAAiB,EACrCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOJ,GAAY,CACrCK,EAAoB,iBAAiB,EACpCmB,EAAK,cACDM,EAAW,EAAGC,EAAoB,MAAO,CACxC,IAAK,EACL,QAASN,EAAO,KAAOA,EAAO,GAAKQ,GAAWT,EAAK,aAAe,IAClE,MAAO,CAAC,SAAW,QAAQ,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,IAAI,WAAa,qBAAqB,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,UAAU,MAAM,CAChM,EAAG,CACDnB,EAAoB,SAAS,EAC7BD,EAAoB,MAAO,CACzB,QAASqB,EAAO,KAAOA,EAAO,GAAKS,GAAe,IAAM,CAAC,EAAG,CAAC,MAAM,CAAC,GACpE,MAAO,CAAC,WAAa,QAAQ,gBAAgB,MAAM,aAAa,iCAAiC,YAAY,OAAO,YAAY,QAAQ,MAAQ,OAAO,aAAa,OAAO,SAAW,QAAQ,CAChM,EAAG,CACD7B,EAAoB,QAAQ,EAC5BD,EAAoB,MAAOH,GAAY,CACrCI,EAAoB,+CAA+C,EACnEA,EAAoB,eAAe,EACnCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOF,GAAY,CACrCC,GACAC,EAAoB,SAAU,CAC5B,QAASqB,EAAO,KAAOA,EAAO,GAAKQ,GAAWT,EAAK,aAAe,IAClE,MAAO,CAAC,SAAW,WAAW,IAAM,MAAM,MAAQ,MAAM,WAAa,OAAO,OAAS,OAAO,YAAY,SAAS,MAAQ,QAAQ,OAAS,UAAU,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,cAAc,SAAS,kBAAkB,SAAS,gBAAgB,KAAK,CAC7Q,EAAG,QAAK,CACV,CAAC,EACDnB,EAAoB,+CAA+C,EACnEA,EAAoB,aAAa,EACjCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOG,GAAY,CACrCF,EAAoB,iBAAiB,EACpCmB,EAAK,WACDM,EAAW,EAAGC,EAAoB,MAAOvB,GAAYE,EAAU,GAC/D,CAACc,EAAK,aAAeA,EAAK,YAAY,SAAW,GAC/CM,EAAW,EAAGC,EAAoBC,EAAW,CAAE,IAAK,CAAE,EAAG,CACxD3B,EAAoB,eAAe,EACnCM,EACF,EAAG,IAA6C,IAC/CmB,EAAW,EAAGC,EAAoBC,EAAW,CAAE,IAAK,CAAE,EAAG,CACxD3B,EAAoB,SAAS,EAC7BD,EAAoB,QAASQ,GAAa,CACxCC,GACAT,EAAoB,QAAS,KAAM,EAChC0B,EAAW,EAAI,EAAGC,EAAoBC,EAAW,KAAMG,GAAYX,EAAK,YAAcY,IAC7EN,EAAW,EAAGC,EAAoB,KAAM,CAC9C,IAAKK,EAAQ,KACb,QAASH,GAAWT,EAAK,cAAcY,CAAO,EAC9C,MAAOC,EAAgB,CAC/Cb,EAAK,UAAYA,EAAK,SAAS,OAASY,EAAQ,KAC7C,wCACA,mBACF,CAAC,gBAAgB,mBAAmB,CAAC,CAAC,CACjB,EAAG,CACDhC,EAAoB,KAAMW,GAAauB,EAAiBF,EAAQ,eAAiBA,EAAQ,UAAY,GAAG,EAAG,CAAY,EACvHhC,EAAoB,KAAMY,GAAasB,EAAiBF,EAAQ,cAAgB,GAAG,EAAG,CAAY,EAClGhC,EAAoB,KAAMa,GAAaqB,EAAiBF,EAAQ,aACpFA,EAAQ,aAAa,MAAM,GAAG,EAAE,GAChC,GAAG,EAAG,CAAY,EACEhC,EAAoB,KAAMc,GAAaoB,EAAiBF,EAAQ,IAAI,EAAG,CAAY,EACnFhC,EAAoB,KAAMe,GAAamB,EAAiBd,EAAK,eAAeY,EAAQ,UAAY,KAAK,CAAC,EAAIE,EAAiBd,EAAK,eAAeY,EAAQ,aAAe,CAAC,CAAC,EAAG,CAAY,CACzL,EAAG,GAAuBtB,EAAW,EACtC,EAAG,GAAwB,EAC9B,CAAC,CACH,CAAC,CACH,EAAG,IAA6C,EACxD,CAAC,EACDT,EAAoB,+CAA+C,EACnEA,EAAoB,eAAe,EACnCA,EAAoB,+CAA+C,EACnED,EAAoB,MAAOgB,GAAa,CACtCC,GACAjB,EAAoB,SAAU,CAC5B,QAASqB,EAAO,KAAOA,EAAO,GAAKQ,GAAWT,EAAK,aAAe,IAClE,MAAO,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,cAAc,MAAM,OAAS,QAAQ,WAAa,oDAAoD,MAAQ,OAAO,CAC3U,EAAG,CACDnB,EAAoB,SAAS,EAC7BC,EAAiB,kCAAS,CAC5B,CAAC,EACDF,EAAoB,SAAU,CAC5B,QAASqB,EAAO,KAAOA,EAAO,GAAK,IAAIc,IAAUf,EAAK,eAAiBA,EAAK,cAAc,GAAGe,CAAI,GACjG,SAAU,CAACf,EAAK,SAChB,MAAOa,EAAgB,CAAC,CAAC,QAAU,cAAc,cAAc,SAAS,kBAAkB,SAAS,QAAU,WAAW,gBAAgB,MAAM,YAAY,OAAO,cAAc,MAAM,OAAS,UAAU,OAAS,oBAAoB,cAAc,MAAM,OAAS,QAAQ,WAAa,oDAAoD,MAAQ,OAAO,EACrWb,EAAK,SAEH,GADA,iFAEJ,CAAC,CACU,EAAG,CACDnB,EAAoB,QAAQ,EAC5BC,EAAiB,kCAAS,CAC5B,EAAG,GAAuBgB,EAAW,CACvC,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,GACDjB,EAAoB,OAAQ,EAAI,CACtC,CAAC,CACH,EAAG,IAA6C,CAClD,CClJqLmC,GAAO,OAASC,GAAOD,GAAO,OAAS,sEAAsE,IAAOA,GAAQA,GCgBjT,IAAME,GAAS,CACd,qBAAsB,uBACtB,kBAAmB,oBACnB,qBAAsB,uBACtB,YAAa,cACb,sBAAuB,wBACvB,WAAY,aACZ,iBAAkB,mBAClB,aAAc,eACd,YAAa,cACb,aAAc,cACd,oBAAqB,sBACrB,yBAA0B,qBAC1B,mBAAoB,qBACpB,sBAAuB,wBACvB,iBAAkB,gBACnB,EAGOC,GAAQ,CACd,KAAM,UAEN,WAAY,CACX,cAAAC,GACA,QAAAC,GACA,cAAAC,GACA,kBAAAC,GACA,SAAAC,GACA,cAAAC,GACA,QAAAC,GACA,OAAAC,GACA,UAAAC,GACA,WAAAC,EACD,EAEA,MAAO,CACN,MAAO,CACN,OAAQ,GACR,sBAAuB,GACvB,WAAY,CAAC,EACb,YAAa,KACb,kBAAmB,KACnB,QAAS,GACT,OAAQ,GACR,aAAc,KACd,aAAc,EACf,CACD,EAEA,QAAS,CAER,mBAAmBC,EAAO,CAEzB,KAAK,aAAe,KACpB,KAAK,aAAe,GAGpB,KAAK,UAAU,IAAM,CAEpB,KAAK,aAAeC,GAAAC,GAAA,GAChBF,GADgB,CAEnB,WAAY,KAAK,IAAI,CACtB,EACD,CAAC,CACF,EAEA,mBAAmBG,EAAc,CAChC,KAAK,aAAe,KAGpB,KAAK,aAAeA,GAAgB,GAGpC,KAAK,UAAU,IAAM,CACpB,WAAW,IAAM,CAChB,KAAK,aAAe,EACrB,EAAG,GAAG,CACP,CAAC,CACF,EAEA,MAAM,qBAAsB,CAC3B,GAAI,CAEH,IAAMC,EAAoB,MAAM,OAAO,KAAK,CAC3C,OAAQC,EAAQ,kBAAkB,mBACnC,CAAC,EAED,GAAID,EAAkB,QAAQ,SAAWA,EAAkB,QAAQ,MAAQ,EAAG,CAE7E,KAAK,WAAaA,EAAkB,QAAQ,OAC5C,KAAK,sBAAwB,GAC7B,MACD,CAGA,IAAME,EAAW,MAAM,OAAO,KAAK,CAClC,OAAQD,EAAQ,kBAAkB,sBACnC,CAAC,EAED,GAAIC,EAAS,QAAQ,SAAWA,EAAS,QAAQ,KAAM,CAEtD,IAAMC,EAAaD,EAAS,QAAQ,KAC9BE,EAAcD,EAAW,iBAE/B,GAAI,CAACC,EAAa,CACjB,KAAK,aAAa,6JAAiC,OAAO,EAC1D,MACD,CAGA,KAAK,YAAcA,EACnB,KAAK,kBAAoB,CACxB,KAAMD,EAAW,KACjB,QAASA,EAAW,QACpB,kBAAmBA,EAAW,kBAC9B,YAAaA,EAAW,YACxB,KAAMA,EAAW,IAClB,EAEA,QAAQ,IAAI,+BAAgCC,EAAY,IAAI,EAG5D,IAAMC,EAAa,CAClB,YAAaD,EACb,kBAAmB,KAAK,kBACxB,QAAS,CAAE,KAAMA,EAAY,OAAQ,CACtC,EAGA,MAAM,KAAK,WAAWA,EAAY,IAAI,EAGtCE,EAAQ,KAAKtB,GAAO,qBAAsBqB,CAAU,EACpDC,EAAQ,KAAKtB,GAAO,YAAa,CAAE,KAAMoB,EAAY,OAAQ,CAAC,EAC9DE,EAAQ,KAAKtB,GAAO,sBAAuB,KAAK,iBAAiB,CAClE,MAEC,KAAK,uBAAuB,CAE9B,OAASuB,EAAP,CACD,QAAQ,IAAI,sCAAuCA,CAAK,EACxD,KAAK,aAAa,uJAAgC,OAAO,CAC1D,CACD,EAKA,wBAAyB,CACxB,KAAK,OAAS,EACf,EAKA,MAAM,iBAAkB,CACvB,GAAI,CACH,IAAMC,EAAM,MAAM,OAAO,GAAG,QAAQ,eAAgB,MAAS,EAC7DF,EAAQ,KAAKtB,GAAO,iBAAkBwB,CAAG,CAC1C,OAASD,EAAP,CACD,QAAQ,IAAI,kCAAmCA,CAAK,CACrD,CACD,EAGA,MAAM,WAAWH,EAAa,CArLhC,IAAAK,EAAAC,EAAAC,EAAAC,EAAAC,EAsLG,GAAI,CASH,GAAI,IANHJ,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAA2B,KAC7CC,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAA2B,OAC7CC,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAA2B,MAC7CC,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAA2B,QAC7CC,EAAA,KAAK,cAAL,YAAAA,EAAkB,0BAA2B,QAE1B,CACnBP,EAAQ,KAAKtB,GAAO,WAAY,CAAC,CAAC,EAClC,MACD,CAEA,IAAMkB,EAAW,MAAM,OAAO,KAAK,CAClC,OAAQD,EAAQ,UAAU,uBAC1B,KAAM,CACL,QAASG,CACV,CACD,CAAC,EAEGF,EAAS,QACZI,EAAQ,KAAKtB,GAAO,WAAYkB,EAAS,OAAO,EAGhD,KAAK,aAAa,yFAAoB,OAAO,CAE/C,OAASK,EAAP,CACD,QAAQ,IAAI,6BAA8BA,CAAK,EAC/C,KAAK,aAAa,yFAAoB,OAAO,CAC9C,CACD,EAGA,MAAM,kBAAmB,CAxN3B,IAAAE,EAyNG,GAAI,CAEH,IAAMK,IAAqBL,EAAA,KAAK,oBAAL,YAAAA,EAAwB,OAAQ,KAAK,kBAEhE,GAAI,CAACK,EAAoB,CACxB,KAAK,aAAa,0FAAqB,OAAO,EAC9C,MACD,CAEA,QAAQ,IAAI,oCAAoCA,GAAoB,EAEpE,IAAMZ,EAAW,MAAM,OAAO,KAAK,CAClC,OAAQD,EAAQ,kBAAkB,mBAClC,KAAM,CACL,cAAea,CAChB,CACD,CAAC,EAED,GAAIZ,EAAS,QAAS,CACrB,IAAMa,EAAOb,EAAS,QAChBc,EAAoBD,EAAK,iBAC5BA,EAAK,iBAAiB,OACtB,EACH,QAAQ,IACP,sCAAsCC,sBACvC,EACAV,EAAQ,KAAKtB,GAAO,yBAA0B+B,CAAI,CACnD,MAEC,KAAK,aAAa,oIAA4B,OAAO,CAEvD,OAASR,EAAP,CACD,QAAQ,IAAI,oCAAoCA,EAAM,SAAWA,GAAO,EACxE,KAAK,aAAa,oIAA4B,OAAO,CACtD,CACD,EAQA,MAAM,uBAAuBQ,EAAM,CAMlC,GALA,QAAQ,IAAI,mDAAmD,EAC/D,QAAQ,IAAI,0BAA2BA,CAAI,EAC3C,QAAQ,IAAI,0BAA2BA,GAAA,YAAAA,EAAM,OAAO,EACpD,QAAQ,IAAI,iCAAkCA,GAAA,YAAAA,EAAM,cAAc,EAE9DA,GAAA,MAAAA,EAAM,QAAS,CAQlB,GAPA,QAAQ,IACP,kDAAkDA,EAAK,2CACxD,EACA,KAAK,aAAa,iJAA+B,SAAS,EAItDA,EAAK,eAAgB,CACxB,QAAQ,IAAI,iFAAiF,EAC7F,QAAQ,IAAI,mEAAmE,EAC/E,MACD,CAGA,QAAQ,IAAI,yEAAyE,EACrF,WAAW,SAAY,CACtB,QAAQ,IAAI,wDAAwD,EAEpE,MAAM,KAAK,oBAAoB,EAC/B,QAAQ,IAAI,0CAA0C,CACvD,EAAG,GAAI,EACP,QAAQ,IAAI,+DAA+D,CAC5E,MACC,QAAQ,IAAI,8DAA8D,EAC1E,QAAQ,IAAI,8DAA8D,CAE5E,EAGA,YAAYE,EAAWC,EAAM,CAC5B,IAAMC,EAAWD,IAAS,OAE1B,KAAK,QAAUD,IAAc,WAAaE,EAC1C,KAAK,OAASF,IAAc,UAAYE,CACzC,EAGA,aAAaC,EAAMC,EAAO,CACzBf,EAAQ,KAAKtB,GAAO,aAAc,CAAE,KAAAoC,EAAM,MAAAC,CAAM,CAAC,CAClD,EAEA,gBAAiB,CAChBf,EAAQ,KAAKtB,GAAO,qBAAqB,CAC1C,EAIA,wBAAyB,CAExBsB,EAAQ,GAAGtB,GAAO,qBAAsB,KAAK,wBAAwB,EACrEsB,EAAQ,GAAGtB,GAAO,kBAAmB,KAAK,qBAAqB,EAG/DsB,EAAQ,GAAGtB,GAAO,aAAc,KAAK,iBAAiB,EACtDsB,EAAQ,GAAGtB,GAAO,YAAa,KAAK,gBAAgB,EAGpDsB,EAAQ,GAAGtB,GAAO,oBAAqB,KAAK,uBAAuB,EACnEsB,EAAQ,GAAGtB,GAAO,mBAAoB,KAAK,sBAAsB,CAClE,EAEA,0BAA2B,CAC1BsB,EAAQ,KAAKtB,GAAO,qBAAsB,KAAK,wBAAwB,EACvEsB,EAAQ,KAAKtB,GAAO,kBAAmB,KAAK,qBAAqB,EACjEsB,EAAQ,KAAKtB,GAAO,aAAc,KAAK,iBAAiB,EACxDsB,EAAQ,KAAKtB,GAAO,YAAa,KAAK,gBAAgB,EACtDsB,EAAQ,KAAKtB,GAAO,oBAAqB,KAAK,uBAAuB,EACrEsB,EAAQ,KAAKtB,GAAO,mBAAoB,KAAK,sBAAsB,EACnEsB,EAAQ,KAAKtB,GAAO,gBAAgB,CACrC,EAGA,0BAA2B,CAC1B,KAAK,OAAS,EACf,EAEA,sBAAsB+B,EAAM,CAC3B,KAAK,YAAcA,EAAK,YACxB,KAAK,kBAAoBA,EAAK,kBAC9B,KAAK,WAAW,KAAK,YAAY,IAAI,EACrCT,EAAQ,KAAKtB,GAAO,qBAAsB+B,CAAI,EAC9CT,EAAQ,KAAKtB,GAAO,sBAAuB,KAAK,iBAAiB,CAClE,EAEA,kBAAkB+B,EAAM,CACvB,KAAK,YAAY,UAAWA,CAAI,CACjC,EAEA,iBAAiBA,EAAM,CACtB,KAAK,YAAY,SAAUA,CAAI,CAChC,EAEA,yBAA0B,CACzB,KAAK,iBAAiB,CACvB,CACD,EAIA,SAAU,CACT,KAAK,UAAU,IAAM,CAEpB,KAAK,oBAAoB,EACzB,KAAK,gBAAgB,EAGrB,KAAK,uBAAuB,CAC7B,CAAC,CACF,EAEA,eAAgB,CAEf,KAAK,yBAAyB,CAC/B,CACD,EC3XA,IAAMO,GAAa,CAAE,MAAO,CAAC,QAAU,gBAAgB,WAAa,YAAY,aAAa,QAAQ,SAAW,SAAS,CAAE,EACrHC,GAAa,CAAE,MAAO,CAAC,QAAU,OAAO,IAAM,MAAM,aAAa,sBAAsB,MAAQ,OAAO,aAAa,KAAK,CAAE,EAC1HC,GAAa,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,YAAY,IAAI,SAAW,UAAU,CAAE,EACpHC,GAAa,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,WAAa,QAAQ,gBAAgB,MAAM,aAAa,+BAA+B,SAAW,SAAS,OAAS,gCAAgC,SAAW,WAAW,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,GAAG,CAAE,EACtSC,GAAa,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,WAAa,QAAQ,gBAAgB,MAAM,aAAa,+BAA+B,SAAW,SAAS,OAAS,gCAAgC,SAAW,WAAW,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,GAAG,CAAE,EACtSC,GAAa,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,WAAa,QAAQ,gBAAgB,MAAM,aAAa,+BAA+B,SAAW,SAAS,OAAS,gCAAgC,SAAW,WAAW,IAAM,IAAI,KAAO,IAAI,MAAQ,IAAI,OAAS,GAAG,CAAE,EACtSC,GAAa,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,YAAY,GAAG,CAAE,EAC9FC,GAAa,CAAE,MAAO,CAAC,KAAO,IAAI,QAAU,OAAO,iBAAiB,SAAS,WAAa,QAAQ,gBAAgB,MAAM,aAAa,+BAA+B,SAAW,SAAS,OAAS,+BAA+B,CAAE,EAEjO,SAASC,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,IAAMC,EAA2BC,GAAkB,eAAe,EAC5DC,EAAqBD,GAAkB,SAAS,EAChDE,EAAoBF,GAAkB,QAAQ,EAC9CG,EAAwBH,GAAkB,YAAY,EACtDI,EAA2BJ,GAAkB,eAAe,EAC5DK,EAA+BL,GAAkB,mBAAmB,EACpEM,EAA2BN,GAAkB,eAAe,EAC5DO,EAAuBP,GAAkB,WAAW,EACpDQ,EAAsBR,GAAkB,UAAU,EAClDS,EAAqBT,GAAkB,SAAS,EAEtD,OAAQU,EAAW,EAAGC,EAAoBC,EAAW,KAAM,CACzDC,EAAoB,+CAA+C,EACnEA,EAAoB,iBAAiB,EACrCA,EAAoB,+CAA+C,EACnEC,EAAoB,MAAO9B,GAAY,CACrC6B,EAAoB,+CAA+C,EACnEA,EAAoB,sBAAsB,EAC1CA,EAAoB,+CAA+C,EACnEE,GAAahB,CAAwB,EACrCgB,GAAad,CAAkB,EAC/Bc,GAAab,CAAiB,EAC9Ba,GAAaZ,CAAqB,EACjCV,EAAK,QACDiB,EAAW,EAAGM,GAAaZ,EAA0B,CACpD,IAAK,EACL,OAAQX,EAAK,MACf,EAAG,KAAM,EAAe,CAAC,QAAQ,CAAC,GAClCoB,EAAoB,OAAQ,EAAI,EACpCE,GAAaV,EAA8B,CACzC,OAAQZ,EAAK,sBACb,OAAQA,EAAK,UACf,EAAG,KAAM,EAAe,CAAC,SAAU,QAAQ,CAAC,EAC5CoB,EAAoB,+CAA+C,EACnEA,EAAoB,sBAAsB,EAC1CA,EAAoB,+CAA+C,EACnEI,GAAgBH,EAAoB,MAAO7B,GAAY,CACrD4B,EAAoB,+CAA+C,EACnEA,EAAoB,sCAAsC,EAC1DA,EAAoB,+CAA+C,EACnEC,EAAoB,MAAO5B,GAAY,CACrC2B,EAAoB,wBAAwB,EAC5CI,GAAgBH,EAAoB,MAAO3B,GAAY,CACrD4B,GAAaT,CAAwB,CACvC,EAAG,GAAoB,EAAG,CACxB,CAACY,GAAQ,CAACzB,EAAK,SAAW,CAACA,EAAK,MAAM,CACxC,CAAC,EACDoB,EAAoB,gBAAgB,EACpCI,GAAgBH,EAAoB,MAAO1B,GAAY,CACrD2B,GAAaR,EAAsB,CACjC,eAAgBd,EAAK,mBACrB,eAAgBA,EAAK,kBACvB,EAAG,KAAM,EAAe,CAAC,iBAAkB,gBAAgB,CAAC,CAC9D,EAAG,GAAoB,EAAG,CACxB,CAACyB,GAAQzB,EAAK,MAAM,CACtB,CAAC,EACDoB,EAAoB,kBAAkB,EACtCI,GAAgBH,EAAoB,MAAOzB,GAAY,CACrD0B,GAAaP,EAAqB,CAChC,IAAK,WACL,eAAgBf,EAAK,cACvB,EAAG,KAAM,EAAe,CAAC,gBAAgB,CAAC,CAC5C,EAAG,GAAoB,EAAG,CACxB,CAACyB,GAAQzB,EAAK,OAAO,CACvB,CAAC,CACH,CAAC,EACDoB,EAAoB,+CAA+C,EACnEA,EAAoB,yBAAyB,EAC7CA,EAAoB,+CAA+C,EACnEC,EAAoB,MAAOxB,GAAY,CACrCwB,EAAoB,MAAOvB,GAAY,CACrCwB,GAAaN,EAAoB,CAC/B,WAAYhB,EAAK,QACjB,gBAAiBA,EAAK,aACtB,gBAAiBA,EAAK,YACxB,EAAG,KAAM,EAAe,CAAC,aAAc,gBAAiB,eAAe,CAAC,CAC1E,CAAC,CACH,CAAC,CACH,EAAG,GAAoB,EAAG,CACxB,CAACyB,GAAQ,CAACzB,EAAK,MAAM,CACvB,CAAC,CACH,CAAC,CACH,EAAG,IAA6C,CAClD,CC/F+K0B,GAAO,OAASC,GAAOD,GAAO,OAAS,mEAAmE,IAAOA,GAAQA,GCGxS,IAAOE,GAAQ,CACb,KAAM,UAAY,CAChB,MAAO,CACL,KAAM,KACR,CACF,EACA,WAAY,CACV,OAAAC,GACA,IAAAC,EACF,EACA,QAAS,CACP,QAAQC,EAAM,CACZ,KAAK,KAAOA,CACd,CACF,CACF,EChBA,IAAMC,GAAa,CAAE,MAAO,CAAC,YAAY,QAAQ,CAAE,EAE5C,SAASC,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CACpE,IAAMC,EAAoBC,GAAkB,QAAQ,EAEpD,OAAQC,EAAW,EAAGC,EAAoB,MAAOX,GAAY,CAC3DY,EAAoB,OAAQ,KAAM,CAChCC,GAAaL,EAAmB,CAAE,aAAcN,EAAK,OAAQ,EAAG,KAAM,EAAe,CAAC,cAAc,CAAC,GACpGQ,EAAW,EAAGI,GAAaC,GAAY,KAAM,EAC3CL,EAAW,EAAGI,GAAaE,GAAyBd,EAAK,IAAI,EAAG,CAAE,MAAO,CAAC,OAAS,SAAS,YAAY,OAAO,MAAQ,OAAO,aAAa,oBAAoB,CAAE,CAAC,EACrK,EAAG,IAAwB,EAC7B,CAAC,CACH,CAAC,CACH,CCfkKe,GAAO,OAASC,GAAOD,GAAO,OAAS,qDAAqD,IAAOA,GAAQA,GCMzQ,OAAO,QAAW,cACpB,OAAO,oBAAsB,GAC7B,OAAO,sBAAwB,GAC/B,OAAO,wCAA0C,IAInD,SAASE,GAAcC,EAAK,CAI1BA,EAAI,OAAO,iBAAiB,QAAU,OAGlC,OAAO,QAAW,cACpBA,EAAI,OAAO,iBAAiB,MAAQ,OAAO,KAC3CA,EAAI,OAAO,iBAAiB,QAAU,OAAO,OAC7CA,EAAI,OAAO,iBAAiB,IAAM,OAAO,GAG7C,CAEA,OAAO,QAAQ,eAAe,EAE9B,OAAO,OAAO,OAAS,KAAM,CAC3B,YAAY,CAAE,OAAAC,CAAO,EAAG,CACtB,KAAK,QAAU,EAAE,QAAQ,EACzB,KAAK,KAAOA,EAAO,KACnB,KAAK,UAAU,CACjB,CAEA,WAAY,CACV,KAAK,IAAM,KAAK,QAAQ,KAAK,eAAe,EAE5C,IAAMD,EAAME,GAAUC,EAAI,EAG1BJ,GAAcC,CAAG,EAGjB,OAAO,OAASA,EAGhBA,EAAI,MAAM,KAAK,IAAI,EAAE,CACvB,CAEA,cAAe,CAEf,CACF",
  "names": ["data", "element", "makeMap", "str", "expectsLowerCase", "map", "list", "i", "val", "EMPTY_OBJ", "EMPTY_ARR", "NOOP", "NO", "onRE", "isOn", "key", "isModelListener", "extend", "remove", "arr", "el", "hasOwnProperty", "hasOwn", "isArray", "isMap", "toTypeString", "isSet", "isDate", "isRegExp", "isFunction", "isString", "isSymbol", "isObject", "isPromise", "objectToString", "value", "toRawType", "isPlainObject", "isIntegerKey", "isReservedProp", "cacheStringFunction", "fn", "cache", "str", "camelizeRE", "camelize", "_", "c", "hyphenateRE", "hyphenate", "capitalize", "toHandlerKey", "hasChanged", "value", "oldValue", "invokeArrayFns", "fns", "arg", "i", "def", "obj", "key", "looseToNumber", "val", "n", "toNumber", "isString", "_globalThis", "getGlobalThis", "normalizeStyle", "value", "isArray", "res", "i", "item", "normalized", "isString", "parseStringStyle", "key", "isObject", "listDelimiterRE", "propertyDelimiterRE", "styleCommentRE", "cssText", "ret", "tmp", "normalizeClass", "value", "res", "isString", "isArray", "i", "normalized", "isObject", "name", "specialBooleanAttrs", "isSpecialBooleanAttr", "makeMap", "isBooleanAttr", "includeBooleanAttr", "value", "looseCompareArrays", "a", "b", "equal", "looseEqual", "aValidType", "isDate", "bValidType", "isSymbol", "isArray", "isObject", "aKeysCount", "bKeysCount", "key", "aHasKey", "bHasKey", "looseIndexOf", "arr", "val", "item", "toDisplayString", "isString", "objectToString", "isFunction", "replacer", "_key", "isMap", "entries", "val2", "isSet", "isPlainObject", "activeEffectScope", "EffectScope", "detached", "fn", "currentEffectScope", "fromParent", "i", "l", "last", "recordEffectScope", "effect", "scope", "activeEffectScope", "getCurrentScope", "createDep", "effects", "dep", "wasTracked", "trackOpBit", "newTracked", "initDepMarkers", "deps", "i", "finalizeDepMarkers", "effect", "ptr", "targetMap", "effectTrackDepth", "maxMarkerBits", "activeEffect", "ITERATE_KEY", "MAP_KEY_ITERATE_KEY", "ReactiveEffect", "fn", "scheduler", "scope", "recordEffectScope", "parent", "lastShouldTrack", "shouldTrack", "cleanupEffect", "effect2", "shouldTrack", "trackStack", "pauseTracking", "resetTracking", "last", "trackStack", "shouldTrack", "track", "target", "type", "key", "activeEffect", "depsMap", "targetMap", "dep", "createDep", "trackEffects", "debuggerEventExtraInfo", "shouldTrack2", "effectTrackDepth", "maxMarkerBits", "newTracked", "trackOpBit", "wasTracked", "trigger", "newValue", "oldValue", "oldTarget", "deps", "isArray", "newLength", "key2", "isSymbol", "isIntegerKey", "ITERATE_KEY", "isMap", "MAP_KEY_ITERATE_KEY", "eventInfo", "triggerEffects", "effects", "effect2", "triggerEffect", "isNonTrackableKeys", "makeMap", "builtInSymbols", "key", "isSymbol", "arrayInstrumentations", "createArrayInstrumentations", "instrumentations", "args", "arr", "toRaw", "i", "l", "track", "res", "pauseTracking", "resetTracking", "hasOwnProperty", "obj", "BaseReactiveHandler", "_isReadonly", "_shallow", "target", "receiver", "isReadonly2", "shallow", "shallowReadonlyMap", "readonlyMap", "shallowReactiveMap", "reactiveMap", "targetIsArray", "isArray", "hasOwn", "isRef", "isIntegerKey", "isObject", "readonly", "reactive", "MutableReactiveHandler", "value", "oldValue", "isReadonly", "isShallow", "hadKey", "result", "hasChanged", "trigger", "ITERATE_KEY", "ReadonlyReactiveHandler", "mutableHandlers", "readonlyHandlers", "shallowReactiveHandlers", "toShallow", "value", "getProto", "v", "get", "target", "key", "isReadonly", "isShallow", "rawTarget", "toRaw", "rawKey", "hasChanged", "track", "has2", "wrap", "toReadonly", "toReactive", "has", "size", "ITERATE_KEY", "add", "trigger", "set", "get2", "hadKey", "oldValue", "deleteEntry", "result", "clear", "hadItems", "oldTarget", "createForEach", "callback", "thisArg", "observed", "createIterableMethod", "method", "args", "targetIsMap", "isMap", "isPair", "isKeyOnly", "innerIterator", "MAP_KEY_ITERATE_KEY", "done", "createReadonlyMethod", "type", "createInstrumentations", "mutableInstrumentations2", "shallowInstrumentations2", "readonlyInstrumentations2", "shallowReadonlyInstrumentations2", "mutableInstrumentations", "readonlyInstrumentations", "shallowInstrumentations", "shallowReadonlyInstrumentations", "createInstrumentationGetter", "shallow", "instrumentations", "receiver", "hasOwn", "mutableCollectionHandlers", "shallowCollectionHandlers", "readonlyCollectionHandlers", "reactiveMap", "shallowReactiveMap", "readonlyMap", "shallowReadonlyMap", "targetTypeMap", "rawType", "getTargetType", "value", "toRawType", "reactive", "target", "isReadonly", "createReactiveObject", "mutableHandlers", "mutableCollectionHandlers", "shallowReactive", "shallowReactiveHandlers", "shallowCollectionHandlers", "readonly", "readonlyHandlers", "readonlyCollectionHandlers", "createReactiveObject", "target", "isReadonly2", "baseHandlers", "collectionHandlers", "proxyMap", "isObject", "existingProxy", "targetType", "getTargetType", "proxy", "isReactive", "value", "isReadonly", "isShallow", "isProxy", "toRaw", "observed", "raw", "markRaw", "def", "toReactive", "reactive", "toReadonly", "readonly", "trackRefValue", "ref2", "shouldTrack", "activeEffect", "trackEffects", "createDep", "triggerRefValue", "newVal", "dep", "triggerEffects", "isRef", "r", "ref", "createRef", "createRef", "rawValue", "shallow", "isRef", "RefImpl", "value", "__v_isShallow", "toRaw", "toReactive", "trackRefValue", "newVal", "useDirectValue", "isShallow", "isReadonly", "hasChanged", "triggerRefValue", "unref", "ref2", "isRef", "shallowUnwrapHandlers", "target", "key", "receiver", "unref", "value", "oldValue", "isRef", "proxyRefs", "objectWithRefs", "isReactive", "ComputedRefImpl", "getter", "_setter", "isReadonly", "isSSR", "ReactiveEffect", "triggerRefValue", "self", "toRaw", "trackRefValue", "newValue", "computed", "getterOrOptions", "debugOptions", "setter", "onlyGetter", "isFunction", "NOOP", "stack", "warn", "msg", "args", "getComponentTrace", "currentVNode", "stack", "normalizedStack", "last", "parentInstance", "formatTrace", "trace", "logs", "entry", "formatTraceEntry", "vnode", "recurseCount", "postfix", "isRoot", "open", "formatComponentName", "close", "formatProps", "props", "res", "keys", "key", "formatProp", "value", "raw", "isString", "isRef", "toRaw", "isFunction", "callWithErrorHandling", "fn", "instance", "type", "args", "res", "err", "handleError", "callWithAsyncErrorHandling", "isFunction", "isPromise", "values", "i", "throwInDev", "contextVNode", "cur", "exposedInstance", "errorInfo", "errorCapturedHooks", "appErrorHandler", "logError", "isFlushing", "isFlushPending", "queue", "flushIndex", "pendingPostFlushCbs", "activePostFlushCbs", "postFlushIndex", "resolvedPromise", "currentFlushPromise", "nextTick", "fn", "p", "currentFlushPromise", "resolvedPromise", "findInsertionIndex", "id", "start", "flushIndex", "end", "queue", "middle", "middleJob", "middleJobId", "getId", "queueJob", "job", "isFlushing", "queueFlush", "isFlushPending", "flushJobs", "invalidateJob", "i", "queuePostFlushCb", "cb", "isArray", "pendingPostFlushCbs", "activePostFlushCbs", "postFlushIndex", "flushPreFlushCbs", "seen", "flushPostFlushCbs", "deduped", "a", "b", "comparator", "diff", "check", "NOOP", "callWithErrorHandling", "emit", "instance", "event", "rawArgs", "props", "EMPTY_OBJ", "args", "isModelListener", "modelArg", "modifiersKey", "number", "trim", "a", "isString", "looseToNumber", "handlerName", "handler", "toHandlerKey", "camelize", "hyphenate", "callWithAsyncErrorHandling", "onceHandler", "normalizeEmitsOptions", "comp", "appContext", "asMixin", "cache", "cached", "raw", "normalized", "hasExtends", "isFunction", "extendEmits", "raw2", "normalizedFromExtend", "extend", "isObject", "isArray", "key", "isEmitListener", "options", "isOn", "hasOwn", "currentRenderingInstance", "currentScopeId", "setCurrentRenderingInstance", "prev", "withCtx", "fn", "ctx", "currentRenderingInstance", "isNonScopedSlot", "renderFnWithContext", "args", "setBlockTracking", "prevInstance", "setCurrentRenderingInstance", "res", "renderComponentRoot", "instance", "Component", "vnode", "proxy", "withProxy", "props", "propsOptions", "slots", "attrs", "emit", "render", "renderCache", "data", "setupState", "ctx", "inheritAttrs", "result", "fallthroughAttrs", "prev", "setCurrentRenderingInstance", "proxyToUse", "thisProxy", "normalizeVNode", "render2", "getFunctionalFallthrough", "err", "blockStack", "handleError", "createVNode", "Comment", "root", "setRoot", "keys", "shapeFlag", "isModelListener", "filterModelListeners", "cloneVNode", "getFunctionalFallthrough", "attrs", "res", "key", "isOn", "filterModelListeners", "props", "isModelListener", "shouldUpdateComponent", "prevVNode", "nextVNode", "optimized", "prevProps", "prevChildren", "component", "nextProps", "nextChildren", "patchFlag", "emits", "hasPropsChanged", "dynamicProps", "i", "key", "isEmitListener", "emitsOptions", "nextKeys", "updateHOCHostEl", "vnode", "parent", "el", "COMPONENTS", "resolveComponent", "name", "maybeSelfReference", "resolveAsset", "COMPONENTS", "NULL_DYNAMIC_COMPONENT", "resolveDynamicComponent", "component", "isString", "resolveAsset", "type", "name", "warnMissing", "maybeSelfReference", "instance", "currentRenderingInstance", "currentInstance", "Component", "COMPONENTS", "selfName", "getComponentName", "camelize", "capitalize", "res", "resolve", "registry", "isSuspense", "queueEffectWithSuspense", "fn", "suspense", "isArray", "queuePostFlushCb", "INITIAL_WATCHER_VALUE", "watch", "source", "cb", "options", "doWatch", "immediate", "deep", "flush", "onTrack", "onTrigger", "EMPTY_OBJ", "_a", "warnInvalidSource", "s", "warn", "instance", "getCurrentScope", "currentInstance", "getter", "forceTrigger", "isMultiSource", "isRef", "isShallow", "isReactive", "isArray", "traverse", "isFunction", "callWithErrorHandling", "cleanup", "callWithAsyncErrorHandling", "onCleanup", "NOOP", "baseGetter", "fn", "effect", "ssrCleanup", "isInSSRComponentSetup", "ctx", "useSSRContext", "oldValue", "job", "newValue", "v", "i", "hasChanged", "scheduler", "queuePostRenderEffect", "queueJob", "ReactiveEffect", "unwatch", "remove", "instanceWatch", "value", "publicThis", "isString", "createPathGetter", "cur", "setCurrentInstance", "res", "unsetCurrentInstance", "path", "segments", "seen", "isObject", "isSet", "isMap", "isPlainObject", "key", "withDirectives", "vnode", "directives", "internalInstance", "currentRenderingInstance", "instance", "getExposeProxy", "bindings", "i", "dir", "value", "arg", "modifiers", "EMPTY_OBJ", "isFunction", "traverse", "invokeDirectiveHook", "prevVNode", "name", "oldBindings", "binding", "hook", "pauseTracking", "callWithAsyncErrorHandling", "resetTracking", "leaveCbKey", "enterCbKey", "useTransitionState", "state", "onMounted", "onBeforeUnmount", "TransitionHookValidator", "BaseTransitionPropsValidators", "BaseTransitionImpl", "props", "slots", "getCurrentInstance", "prevTransitionKey", "children", "getTransitionRawChildren", "child", "hasFound", "c", "Comment", "rawProps", "toRaw", "mode", "emptyPlaceholder", "innerChild", "getKeepAliveChild", "enterHooks", "resolveTransitionHooks", "setTransitionHooks", "oldChild", "oldInnerChild", "transitionKeyChanged", "getTransitionKey", "key", "isSameVNodeType", "leavingHooks", "el", "earlyRemove", "delayedLeave", "leavingVNodesCache", "getLeavingNodesForType", "BaseTransition", "leavingVNodes", "appear", "persisted", "onBeforeEnter", "onEnter", "onAfterEnter", "onEnterCancelled", "onBeforeLeave", "onLeave", "onAfterLeave", "onLeaveCancelled", "onBeforeAppear", "onAppear", "onAfterAppear", "onAppearCancelled", "callHook", "args", "callAsyncHook", "done", "isArray", "hook2", "hooks", "leavingVNode", "afterHook", "cancelHook", "called", "cancelled", "remove", "key2", "vnode2", "isKeepAlive", "cloneVNode", "keepComment", "parentKey", "ret", "keyedFragmentCount", "Fragment", "isAsyncWrapper", "i", "isKeepAlive", "vnode", "KeepAliveImpl", "props", "slots", "instance", "getCurrentInstance", "sharedContext", "children", "cache", "keys", "current", "parentSuspense", "patch", "move", "_unmount", "createElement", "storageContainer", "container", "anchor", "isSVG", "optimized", "instance2", "queuePostRenderEffect", "invokeArrayFns", "vnodeHook", "invokeVNodeHook", "unmount", "resetShapeFlag", "pruneCache", "filter", "key", "name", "getComponentName", "pruneCacheEntry", "cached", "isSameVNodeType", "watch", "include", "exclude", "matches", "pendingCacheKey", "cacheSubtree", "getInnerChild", "onMounted", "onUpdated", "onBeforeUnmount", "subTree", "suspense", "da", "rawVNode", "isVNode", "comp", "isAsyncWrapper", "max", "cachedVNode", "cloneVNode", "setTransitionHooks", "isSuspense", "KeepAlive", "pattern", "isArray", "p", "isString", "isRegExp", "onActivated", "hook", "target", "registerKeepAliveHook", "onDeactivated", "type", "currentInstance", "wrappedHook", "injectHook", "injectToKeepAliveRoot", "keepAliveRoot", "injected", "onUnmounted", "remove", "prepend", "hooks", "args", "pauseTracking", "setCurrentInstance", "res", "callWithAsyncErrorHandling", "unsetCurrentInstance", "resetTracking", "createHook", "lifecycle", "isInSSRComponentSetup", "onBeforeMount", "onBeforeUpdate", "onServerPrefetch", "onRenderTriggered", "onRenderTracked", "onErrorCaptured", "renderList", "source", "renderItem", "index", "ret", "i", "l", "isObject", "item", "getPublicInstance", "i", "isStatefulComponent", "getExposeProxy", "publicPropertiesMap", "extend", "resolveMergedOptions", "queueJob", "nextTick", "instanceWatch", "hasSetupBinding", "state", "key", "EMPTY_OBJ", "hasOwn", "PublicInstanceProxyHandlers", "instance", "ctx", "setupState", "data", "props", "accessCache", "type", "appContext", "normalizedProps", "n", "shouldCacheAccess", "publicGetter", "publicPropertiesMap", "cssModule", "globalProperties", "track", "value", "propsOptions", "target", "descriptor", "normalizePropsOrEmits", "props", "isArray", "normalized", "p", "shouldCacheAccess", "applyOptions", "instance", "options", "resolveMergedOptions", "publicThis", "ctx", "callHook", "dataOptions", "computedOptions", "methods", "watchOptions", "provideOptions", "injectOptions", "created", "beforeMount", "mounted", "beforeUpdate", "updated", "activated", "deactivated", "beforeDestroy", "beforeUnmount", "destroyed", "unmounted", "render", "renderTracked", "renderTriggered", "errorCaptured", "serverPrefetch", "expose", "inheritAttrs", "components", "directives", "filters", "resolveInjections", "key", "methodHandler", "isFunction", "data", "isObject", "reactive", "opt", "get", "NOOP", "set", "c", "computed", "v", "createWatcher", "provides", "provide", "registerLifecycleHook", "register", "hook", "isArray", "_hook", "onBeforeMount", "onMounted", "onBeforeUpdate", "onUpdated", "onActivated", "onDeactivated", "onErrorCaptured", "onRenderTracked", "onRenderTriggered", "onBeforeUnmount", "onUnmounted", "onServerPrefetch", "exposed", "val", "checkDuplicateProperties", "normalizeInject", "injected", "inject", "isRef", "type", "callWithAsyncErrorHandling", "h", "raw", "getter", "createPathGetter", "isString", "handler", "watch", "base", "mixins", "extendsOptions", "globalMixins", "cache", "optionMergeStrategies", "cached", "resolved", "m", "mergeOptions", "to", "from", "strats", "asMixin", "strat", "internalOptionMergeStrats", "mergeDataFn", "mergeEmitsOrPropsOptions", "mergeObjectOptions", "mergeAsArray", "mergeWatchOptions", "mergeInject", "extend", "res", "i", "normalizePropsOrEmits", "merged", "createAppContext", "NO", "uid$1", "createAppAPI", "hydrate", "rootComponent", "rootProps", "context", "installedPlugins", "isMounted", "app", "version", "plugin", "mixin", "name", "component", "directive", "rootContainer", "isHydrate", "isSVG", "vnode", "createVNode", "getExposeProxy", "value", "fn", "currentApp", "currentInstance", "parentProvides", "defaultValue", "treatDefaultAsFactory", "currentRenderingInstance", "initProps", "instance", "rawProps", "isStateful", "isSSR", "props", "attrs", "def", "InternalObjectKey", "setFullProps", "key", "shallowReactive", "updateProps", "instance", "rawProps", "rawPrevProps", "optimized", "props", "attrs", "patchFlag", "rawCurrentProps", "toRaw", "options", "hasAttrsChanged", "propsToUpdate", "i", "key", "isEmitListener", "value", "hasOwn", "camelizedKey", "camelize", "resolvePropValue", "setFullProps", "kebabKey", "hyphenate", "trigger", "needCastKeys", "rawCastValues", "isReservedProp", "camelKey", "castValues", "EMPTY_OBJ", "isAbsent", "opt", "hasDefault", "defaultValue", "isFunction", "propsDefaults", "setCurrentInstance", "unsetCurrentInstance", "normalizePropsOptions", "comp", "appContext", "asMixin", "cache", "cached", "raw", "normalized", "hasExtends", "extendProps", "raw2", "keys", "extend", "isObject", "EMPTY_ARR", "isArray", "normalizedKey", "validatePropName", "prop", "booleanIndex", "getTypeIndex", "stringIndex", "res", "getType", "ctor", "match", "isSameType", "a", "b", "type", "expectedTypes", "t", "isInternalKey", "key", "normalizeSlotValue", "value", "isArray", "normalizeVNode", "normalizeSlot", "rawSlot", "ctx", "normalized", "withCtx", "args", "normalizeObjectSlots", "rawSlots", "slots", "instance", "isFunction", "normalizeVNodeSlots", "children", "initSlots", "type", "toRaw", "def", "InternalObjectKey", "updateSlots", "optimized", "vnode", "needDeletionCheck", "deletionComparisonTarget", "EMPTY_OBJ", "extend", "setRef", "rawRef", "oldRawRef", "parentSuspense", "isUnmount", "r", "i", "isAsyncWrapper", "refValue", "getExposeProxy", "owner", "ref", "oldRef", "refs", "setupState", "isString", "hasOwn", "isRef", "callWithErrorHandling", "_isString", "_isRef", "doSet", "existing", "remove", "queuePostRenderEffect", "initFeatureFlags", "needWarn", "queuePostRenderEffect", "queueEffectWithSuspense", "createRenderer", "options", "baseCreateRenderer", "baseCreateRenderer", "options", "createHydrationFns", "initFeatureFlags", "target", "getGlobalThis", "hostInsert", "hostRemove", "hostPatchProp", "hostCreateElement", "hostCreateText", "hostCreateComment", "hostSetText", "hostSetElementText", "hostParentNode", "hostNextSibling", "hostSetScopeId", "NOOP", "hostInsertStaticContent", "patch", "n1", "n2", "container", "anchor", "parentComponent", "parentSuspense", "isSVG", "slotScopeIds", "optimized", "isSameVNodeType", "getNextHostNode", "unmount", "type", "ref", "shapeFlag", "Text", "processText", "Comment", "processCommentNode", "Static", "mountStaticNode", "Fragment", "processFragment", "processElement", "processComponent", "internals", "setRef", "el", "patchStaticNode", "removeStaticNode", "moveStaticNode", "nextSibling", "next", "mountElement", "patchElement", "vnode", "vnodeHook", "props", "transition", "dirs", "mountChildren", "invokeDirectiveHook", "setScopeId", "key", "isReservedProp", "unmountChildren", "invokeVNodeHook", "needCallTransitionHooks", "needTransition", "queuePostRenderEffect", "scopeId", "i", "subTree", "parentVNode", "children", "start", "child", "cloneIfMounted", "normalizeVNode", "patchFlag", "dynamicChildren", "oldProps", "EMPTY_OBJ", "newProps", "toggleRecurse", "areChildrenSVG", "patchBlockChildren", "patchChildren", "patchProps", "propsToUpdate", "prev", "oldChildren", "newChildren", "fallbackContainer", "oldVNode", "newVNode", "fragmentStartAnchor", "fragmentEndAnchor", "fragmentSlotScopeIds", "traverseStaticChildren", "mountComponent", "updateComponent", "initialVNode", "instance", "createComponentInstance", "isKeepAlive", "setupComponent", "setupRenderEffect", "placeholder", "createVNode", "shouldUpdateComponent", "updateComponentPreRender", "invalidateJob", "componentUpdateFn", "bu", "u", "parent", "originNext", "invokeArrayFns", "nextTree", "renderComponentRoot", "prevTree", "updateHOCHostEl", "bm", "m", "isAsyncWrapperVNode", "isAsyncWrapper", "hydrateNode", "hydrateSubTree", "scopedInitialVNode", "effect", "ReactiveEffect", "queueJob", "update", "nextVNode", "prevProps", "updateProps", "updateSlots", "pauseTracking", "flushPreFlushCbs", "resetTracking", "c1", "prevShapeFlag", "c2", "patchKeyedChildren", "patchUnkeyedChildren", "EMPTY_ARR", "oldLength", "newLength", "commonLength", "nextChild", "parentAnchor", "l2", "e1", "e2", "nextPos", "s1", "s2", "keyToNewIndexMap", "j", "patched", "toBePatched", "moved", "maxNewIndexSoFar", "newIndexToOldIndexMap", "prevChild", "newIndex", "increasingNewIndexSequence", "getSequence", "nextIndex", "move", "moveType", "leave", "delayLeave", "afterLeave", "remove2", "performLeave", "doRemove", "shouldInvokeDirs", "shouldInvokeVnodeHook", "unmountComponent", "remove", "removeFragment", "performRemove", "cur", "end", "bum", "scope", "um", "render", "flushPostFlushCbs", "hydrate", "createAppAPI", "allowed", "shallow", "ch1", "ch2", "isArray", "arr", "p", "result", "v", "len", "arrI", "isTeleport", "Fragment", "Text", "Comment", "Static", "blockStack", "currentBlock", "openBlock", "disableTracking", "closeBlock", "isBlockTreeEnabled", "setBlockTracking", "value", "setupBlock", "vnode", "EMPTY_ARR", "createElementBlock", "type", "props", "children", "patchFlag", "dynamicProps", "shapeFlag", "createBaseVNode", "createBlock", "createVNode", "isVNode", "isSameVNodeType", "n1", "n2", "InternalObjectKey", "normalizeKey", "key", "normalizeRef", "ref", "ref_key", "ref_for", "isString", "isRef", "isFunction", "currentRenderingInstance", "createBaseVNode", "type", "props", "children", "patchFlag", "dynamicProps", "shapeFlag", "Fragment", "isBlockNode", "needFullChildrenNormalization", "vnode", "currentScopeId", "normalizeChildren", "isBlockTreeEnabled", "currentBlock", "createVNode", "_createVNode", "NULL_DYNAMIC_COMPONENT", "Comment", "isVNode", "cloned", "cloneVNode", "isClassComponent", "guardReactiveProps", "klass", "style", "normalizeClass", "isObject", "isProxy", "isArray", "extend", "normalizeStyle", "isSuspense", "isTeleport", "extraProps", "mergeRef", "mergedProps", "mergeProps", "createTextVNode", "text", "flag", "createVNode", "Text", "createCommentVNode", "text", "asBlock", "openBlock", "createBlock", "Comment", "createVNode", "normalizeVNode", "child", "isArray", "Fragment", "cloneIfMounted", "Text", "cloneVNode", "normalizeChildren", "vnode", "children", "type", "shapeFlag", "slot", "slotFlag", "InternalObjectKey", "currentRenderingInstance", "isFunction", "createTextVNode", "mergeProps", "args", "ret", "i", "toMerge", "key", "normalizeClass", "normalizeStyle", "isOn", "existing", "incoming", "invokeVNodeHook", "hook", "instance", "prevVNode", "callWithAsyncErrorHandling", "emptyAppContext", "createAppContext", "uid", "createComponentInstance", "parent", "suspense", "appContext", "EffectScope", "normalizePropsOptions", "normalizeEmitsOptions", "EMPTY_OBJ", "emit", "currentInstance", "getCurrentInstance", "internalSetCurrentInstance", "globalCurrentInstanceSetters", "settersKey", "getGlobalThis", "s", "setCurrentInstance", "unsetCurrentInstance", "isStatefulComponent", "instance", "isInSSRComponentSetup", "setupComponent", "isSSR", "props", "children", "isStateful", "initProps", "initSlots", "setupResult", "setupStatefulComponent", "_a", "Component", "markRaw", "PublicInstanceProxyHandlers", "setup", "setupContext", "createSetupContext", "setCurrentInstance", "pauseTracking", "callWithErrorHandling", "resetTracking", "unsetCurrentInstance", "isPromise", "resolvedResult", "handleSetupResult", "e", "handleError", "finishComponentSetup", "isFunction", "isObject", "proxyRefs", "compile", "installWithProxy", "finishComponentSetup", "instance", "isSSR", "skipOptions", "Component", "compile", "template", "resolveMergedOptions", "isCustomElement", "compilerOptions", "delimiters", "componentCompilerOptions", "finalCompilerOptions", "extend", "NOOP", "installWithProxy", "setCurrentInstance", "pauseTracking", "applyOptions", "resetTracking", "unsetCurrentInstance", "getAttrsProxy", "target", "key", "track", "createSetupContext", "instance", "expose", "exposed", "getAttrsProxy", "getExposeProxy", "proxyRefs", "markRaw", "target", "key", "publicPropertiesMap", "classifyRE", "classify", "str", "c", "getComponentName", "Component", "includeInferred", "isFunction", "formatComponentName", "isRoot", "name", "match", "inferFromRegistry", "registry", "isClassComponent", "value", "computed", "getterOrOptions", "debugOptions", "isInSSRComponentSetup", "h", "type", "propsOrChildren", "children", "l", "isObject", "isArray", "isVNode", "createVNode", "ssrContextKey", "useSSRContext", "ctx", "inject", "version", "svgNS", "doc", "templateContainer", "nodeOps", "child", "parent", "anchor", "tag", "isSVG", "is", "props", "el", "text", "node", "selector", "id", "content", "start", "end", "before", "template", "wrapper", "TRANSITION", "ANIMATION", "vtcKey", "Transition", "slots", "h", "BaseTransition", "resolveTransitionProps", "DOMTransitionPropsValidators", "TransitionPropsValidators", "extend", "BaseTransitionPropsValidators", "callHook", "hook", "args", "isArray", "h2", "hasExplicitCallback", "rawProps", "baseProps", "key", "name", "type", "duration", "enterFromClass", "enterActiveClass", "enterToClass", "appearFromClass", "appearActiveClass", "appearToClass", "leaveFromClass", "leaveActiveClass", "leaveToClass", "durations", "normalizeDuration", "enterDuration", "leaveDuration", "onBeforeEnter", "onEnter", "onEnterCancelled", "onLeave", "onLeaveCancelled", "onBeforeAppear", "onAppear", "onAppearCancelled", "finishEnter", "isAppear", "done", "removeTransitionClass", "finishLeave", "makeEnterHook", "resolve", "nextFrame", "addTransitionClass", "whenTransitionEnds", "forceReflow", "isObject", "NumberOf", "n", "val", "toNumber", "cls", "c", "_vtc", "cb", "endId", "expectedType", "explicitTimeout", "resolveIfNotStale", "timeout", "propCount", "getTransitionInfo", "endEvent", "ended", "onEnd", "e", "styles", "getStyleProperties", "transitionDelays", "transitionDurations", "transitionTimeout", "getTimeout", "animationDelays", "animationDurations", "animationTimeout", "hasTransform", "delays", "d", "toMs", "s", "patchClass", "value", "transitionClasses", "vShowOldKey", "vShow", "transition", "setDisplay", "oldValue", "patchStyle", "el", "prev", "next", "style", "isCssString", "isString", "key", "setStyle", "currentDisplay", "vShowOldKey", "importantRE", "setStyle", "style", "name", "val", "isArray", "v", "prefixed", "autoPrefix", "hyphenate", "prefixes", "prefixCache", "rawName", "cached", "camelize", "capitalize", "i", "xlinkNS", "patchAttr", "el", "key", "value", "isSVG", "instance", "isBoolean", "isSpecialBooleanAttr", "includeBooleanAttr", "patchDOMProp", "prevChildren", "parentComponent", "parentSuspense", "unmountChildren", "tag", "oldValue", "newValue", "needRemove", "type", "e", "addEventListener", "event", "handler", "options", "removeEventListener", "veiKey", "patchEvent", "prevValue", "nextValue", "invokers", "existingInvoker", "parseName", "invoker", "createInvoker", "optionsModifierRE", "m", "cachedNow", "p", "getNow", "initialValue", "callWithAsyncErrorHandling", "patchStopImmediatePropagation", "originalStop", "fn", "e2", "nativeOnRE", "patchProp", "patchClass", "patchStyle", "isOn", "isModelListener", "shouldSetAsProp", "isFunction", "isString", "positionMap", "newPositionMap", "moveCbKey", "enterCbKey", "TransitionGroupImpl", "extend", "TransitionPropsValidators", "props", "slots", "instance", "getCurrentInstance", "state", "useTransitionState", "prevChildren", "children", "onUpdated", "moveClass", "hasCSSTransform", "callPendingCbs", "recordPosition", "movedChildren", "applyTranslation", "forceReflow", "c", "el", "style", "addTransitionClass", "cb", "e", "removeTransitionClass", "rawProps", "toRaw", "cssTransitionProps", "resolveTransitionProps", "tag", "Fragment", "getTransitionRawChildren", "i", "child", "setTransitionHooks", "resolveTransitionHooks", "createVNode", "removeMode", "callPendingCbs", "c", "el", "moveCbKey", "enterCbKey", "recordPosition", "newPositionMap", "applyTranslation", "oldPos", "positionMap", "newPos", "dx", "dy", "s", "hasCSSTransform", "root", "moveClass", "clone", "_vtc", "vtcKey", "cls", "container", "hasTransform", "getTransitionInfo", "getModelAssigner", "vnode", "fn", "isArray", "value", "invokeArrayFns", "onCompositionStart", "onCompositionEnd", "target", "assignKey", "vModelText", "lazy", "trim", "number", "castToNumber", "addEventListener", "e", "domValue", "looseToNumber", "elValue", "newValue", "vModelCheckbox", "_", "modelValue", "elementValue", "getValue", "checked", "assign", "index", "looseIndexOf", "found", "filtered", "isSet", "cloned", "getCheckboxValue", "setChecked", "binding", "oldValue", "looseEqual", "vModelSelect", "el", "value", "number", "vnode", "isSetModel", "isSet", "addEventListener", "selectedVal", "o", "looseToNumber", "getValue", "assignKey", "getModelAssigner", "setSelected", "_binding", "isMultiple", "isArray", "l", "option", "optionValue", "looseIndexOf", "looseEqual", "getCheckboxValue", "checked", "key", "systemModifiers", "modifierGuards", "modifiers", "m", "withModifiers", "fn", "event", "args", "i", "guard", "keyNames", "withKeys", "eventKey", "hyphenate", "k", "rendererOptions", "extend", "patchProp", "nodeOps", "renderer", "ensureRenderer", "renderer", "createRenderer", "rendererOptions", "createApp", "args", "app", "ensureRenderer", "mount", "containerOrSelector", "container", "normalizeContainer", "component", "isFunction", "proxy", "normalizeContainer", "container", "isString", "mitt", "all", "type", "handler", "handlers", "evt", "evntBus", "mitt", "API_MAP", "_", "k", "Navbar_default", "_a", "_b", "ping", "value", "API_MAP", "r", "err", "key", "evntBus", "data", "me", "response", "error", "invoice_name", "print_format", "letter_head", "url", "printWindow", "company_doc", "startTime", "timeoutId", "isResolved", "endTime", "openingShiftName", "openingShift", "shiftResponse", "currentShift", "enable", "_hoisted_1", "_hoisted_2", "createBaseVNode", "_hoisted_3", "_hoisted_4", "_hoisted_5", "_hoisted_6", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "_hoisted_21", "_hoisted_22", "_hoisted_23", "_hoisted_24", "_hoisted_25", "_hoisted_26", "_hoisted_27", "_hoisted_28", "_hoisted_29", "_hoisted_30", "_hoisted_31", "createTextVNode", "_hoisted_32", "_hoisted_33", "_hoisted_34", "_hoisted_35", "_hoisted_36", "_hoisted_37", "_hoisted_38", "_hoisted_39", "_hoisted_40", "_hoisted_41", "_hoisted_42", "_hoisted_43", "_hoisted_44", "_hoisted_45", "_hoisted_46", "_hoisted_47", "_hoisted_48", "_hoisted_49", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "openBlock", "createElementBlock", "Fragment", "createCommentVNode", "args", "normalizeStyle", "toDisplayString", "$event", "withModifiers", "renderList", "invoice", "Navbar_default", "render", "format_default", "value", "precision", "number_format", "rounding_method", "error", "el", "field_name", "no_negative", "$event", "_value", "e", "currency", "debounce", "func", "wait", "timeout", "args", "context", "later", "EVENT_NAMES", "UI_CONFIG", "VIEW_MODES", "ItemsSelector_default", "format_default", "VIEW_MODES", "newValue", "oldValue", "newVal", "oldVal", "groupFilter", "hasSearch", "UI_CONFIG", "filtred_list", "filtred_group_list", "lowerGroup", "item", "lowerSearch", "debounce", "_a", "scrollRef", "scrollEl", "viewportHeight", "rect", "available", "barcodeInput", "barcode_value", "evntBus", "API_MAP", "response", "error", "EVENT_NAMES", "vm", "search", "gr", "sr", "r", "it", "err", "element", "groupName", "__spreadProps", "__spreadValues", "val", "searchValue", "trimmedSearch", "items", "e", "oEvent", "sCode", "data", "_hoisted_1", "_hoisted_2", "_hoisted_3", "_hoisted_4", "_hoisted_5", "createBaseVNode", "_hoisted_6", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "_hoisted_21", "_hoisted_22", "_hoisted_23", "_hoisted_24", "_hoisted_25", "_hoisted_26", "_hoisted_27", "_hoisted_28", "_hoisted_29", "_hoisted_30", "_hoisted_31", "_hoisted_32", "_hoisted_33", "_hoisted_34", "_hoisted_35", "_hoisted_36", "_hoisted_37", "_hoisted_38", "_hoisted_39", "_hoisted_40", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "openBlock", "createElementBlock", "Fragment", "createCommentVNode", "withDirectives", "$event", "args", "renderList", "group", "toDisplayString", "vModelSelect", "withKeys", "normalizeStyle", "vModelText", "item", "idx", "header", "ItemsSelector_default", "render", "EVENT_NAMES", "VALIDATION_MESSAGES", "SUCCESS_MESSAGES", "ERROR_MESSAGES", "CUSTOMER_TYPE", "DB_LIMITS", "DEFAULT_VALUES", "UpdateCustomer_default", "data", "el", "err", "args", "API_MAP", "r", "customerName", "isUpdate", "message", "evntBus", "text", "color", "_hoisted_1", "_hoisted_2", "_hoisted_3", "_hoisted_4", "createBaseVNode", "_hoisted_5", "_hoisted_6", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "_hoisted_21", "_hoisted_22", "_hoisted_23", "_hoisted_24", "_hoisted_25", "_hoisted_26", "_hoisted_27", "_hoisted_28", "_hoisted_29", "_hoisted_30", "_hoisted_31", "_hoisted_32", "_hoisted_33", "_hoisted_34", "_hoisted_35", "_hoisted_36", "_hoisted_37", "_hoisted_38", "_hoisted_39", "_hoisted_40", "_hoisted_41", "_hoisted_42", "_hoisted_43", "_hoisted_44", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "openBlock", "createElementBlock", "Fragment", "createCommentVNode", "args", "withModifiers", "toDisplayString", "withDirectives", "$event", "vModelText", "renderList", "g", "vModelSelect", "t", "createTextVNode", "UpdateCustomer_default", "render", "EVENT_NAMES", "ERROR_MESSAGES", "Customer_default", "UpdateCustomer_default", "_a", "_b", "_c", "default_customer", "evntBus", "error", "searchTerm", "args", "API_MAP", "r", "selected", "c", "err", "event", "customer", "message", "color", "path", "root", "wrapper", "i", "value", "event_data", "pos_profile", "updatedCustomer", "index", "__spreadValues", "data", "customer_name", "newVal", "Customer_default", "__spreadProps", "__spreadValues", "name", "s", "h", "i", "_hoisted_1", "_hoisted_2", "_hoisted_3", "_hoisted_4", "_hoisted_5", "_hoisted_6", "createBaseVNode", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "_hoisted_21", "_hoisted_22", "_hoisted_23", "_hoisted_24", "_hoisted_25", "_hoisted_26", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "_component_UpdateCustomer", "resolveComponent", "openBlock", "createElementBlock", "Fragment", "createCommentVNode", "normalizeStyle", "withDirectives", "$event", "args", "withKeys", "vModelText", "renderList", "item", "index", "toDisplayString", "createVNode", "Customer_default", "render", "UI_CONFIG", "Invoice_default", "format_default", "Customer_default", "_a", "_b", "_c", "targetAmount", "cash_mode", "totalPayments", "sum", "p", "loyaltyAmount", "customerCredit", "totalAllPayments", "absTargetAmount", "payment", "_d", "_e", "paidAmount", "grandTotal", "headers", "header", "invoicePayments", "profilePayments", "payments", "defaultRow", "_f", "_g", "total", "percentage", "scrollRef", "scrollEl", "viewportHeight", "rect", "available", "item", "event", "subtotal", "taxType", "taxPercent", "taxAmount", "fieldname", "displayValue", "absQty", "evntBus", "currentQty", "newQty", "basePrice", "discountPercentage", "index", "el", "new_item", "existing_item", "existing", "doc", "qty", "priceListRate", "discountPercent", "discountAmount", "invoice_doc", "reason", "result", "error", "API_MAP", "r", "err", "pos_opening_shift_name", "data", "offer", "__spreadProps", "__spreadValues", "element", "_h", "_i", "_j", "_k", "_l", "_m", "isPaymentFlow", "payload", "hasDefault", "totalTarget", "diff", "vm", "resolve", "reject", "transactionDiscount", "appliedTransactionOffer", "appliedOffers", "reloadError", "defaultPayment", "customer", "message", "price_list", "customer_price_list", "customer_group_price_list", "pos_price_list", "dis_percent", "maxDiscount", "inputValue", "newRate", "value", "update", "selectedBatch", "length", "applied", "item_offers", "row_id", "exist_offer", "apiItems", "localItemsByCode", "apiItem", "localItem", "total_qty", "item_discount_total", "applyTax", "normalizedTaxType", "applyDiscountOn", "discountBase", "hasItemDiscounts", "hasInvoiceDiscount", "expectedDiscountAmount", "expectedRate", "applyOn", "base", "expectedDiscount", "cacheKey", "now", "offers", "arr", "cleaned", "o", "name", "title", "transactionOffers", "itemOffers", "a", "b", "bestOffer", "offerName", "shouldApply", "offerType", "offerAddedToPosAOffers", "invoiceOffer", "newOffer", "totalQty", "totalAmount", "applicableOffers", "today", "sortedOffers", "transactionOffer", "appliedItemOffers", "offerKey", "itemsModified", "originalDiscount", "list_price", "discount_amount", "isCreditSale", "isReturnUnpaid", "isReturnFromCredit", "invoiceType", "invoiceStatus", "print_format", "print_url", "updatedItem", "allItem", "field", "draft_invoice", "newVal", "oldVal", "removedOffer", "isTransactionOffer", "isItemOffer", "removedDiscount", "_hoisted_1", "_hoisted_2", "_hoisted_3", "_hoisted_4", "_hoisted_5", "_hoisted_6", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "createBaseVNode", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "_hoisted_21", "_hoisted_22", "_hoisted_23", "_hoisted_24", "_hoisted_25", "_hoisted_26", "_hoisted_27", "_hoisted_28", "_hoisted_29", "_hoisted_30", "_hoisted_31", "_hoisted_32", "_hoisted_33", "_hoisted_34", "_hoisted_35", "_hoisted_36", "_hoisted_37", "createCommentVNode", "createTextVNode", "_hoisted_38", "_hoisted_39", "_hoisted_40", "_hoisted_41", "_hoisted_42", "_hoisted_43", "_hoisted_44", "_hoisted_45", "_hoisted_46", "_hoisted_47", "_hoisted_48", "_hoisted_49", "_hoisted_50", "_hoisted_51", "_hoisted_52", "_hoisted_53", "_hoisted_54", "_hoisted_55", "_hoisted_56", "_hoisted_57", "_hoisted_58", "_hoisted_59", "_hoisted_60", "_hoisted_61", "_hoisted_62", "_hoisted_63", "_hoisted_64", "_hoisted_65", "_hoisted_66", "_hoisted_67", "_hoisted_68", "_hoisted_69", "_hoisted_70", "_hoisted_71", "_hoisted_72", "_hoisted_73", "_hoisted_74", "_hoisted_75", "_hoisted_76", "_hoisted_77", "_hoisted_78", "_hoisted_79", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "_a", "_b", "_c", "_d", "_e", "_f", "_g", "_h", "_i", "_j", "_k", "_l", "_m", "_n", "_o", "_p", "_q", "_r", "_s", "_t", "_u", "_v", "_component_Customer", "resolveComponent", "openBlock", "createElementBlock", "normalizeStyle", "createVNode", "Fragment", "renderList", "header", "toDisplayString", "item", "h", "$event", "withKeys", "withModifiers", "args", "normalizeClass", "Invoice_default", "render", "EVENT_NAMES", "PAYMENT_ICONS", "DEFAULT_PAYMENT_ICON", "TABLE_HEADERS", "VALIDATION_RULES", "v", "UI_CONFIG", "OpeningDialog_default", "format_default", "props", "isOpen", "ref", "dialog_data", "is_loading", "companies", "company", "pos_profiles_data", "pos_profiles", "pos_profile", "payments_method_data", "payments_methods", "payments_methods_headers", "itemsPerPage", "isOpeningAllowed", "openingTimeStart", "openingTimeEnd", "openingTimeMessage", "get_opening_dialog_data", "API_MAP", "r", "element", "showMessage", "close_opening_dialog", "evntBus", "validateForm", "submit_dialog", "shift_name", "shiftResponse", "shift_data", "pos_opening_shift", "event_data", "error_msg", "err", "error", "go_desk", "getPaymentIcon", "paymentMethod", "method", "key", "checkOpeningTimeAllowed", "text", "color", "watch", "val", "onMounted", "_hoisted_1", "_hoisted_2", "_hoisted_3", "createBaseVNode", "createCommentVNode", "createTextVNode", "_hoisted_4", "_hoisted_5", "_hoisted_6", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "_hoisted_21", "_hoisted_22", "_hoisted_23", "_hoisted_24", "_hoisted_25", "_hoisted_26", "_hoisted_27", "_hoisted_28", "_hoisted_29", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "openBlock", "createElementBlock", "Fragment", "args", "withModifiers", "withDirectives", "$event", "renderList", "comp", "toDisplayString", "vModelSelect", "profile", "item", "index", "normalizeStyle", "normalizeClass", "event", "vModelText", "OpeningDialog_default", "render", "OpenShiftsWarning_default", "dateString", "error", "shiftName", "_hoisted_1", "_hoisted_2", "_hoisted_3", "createBaseVNode", "_hoisted_4", "_hoisted_5", "_hoisted_6", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "openBlock", "createElementBlock", "Fragment", "createCommentVNode", "args", "withModifiers", "createTextVNode", "toDisplayString", "renderList", "shift", "index", "normalizeStyle", "$event", "OpenShiftsWarning_default", "render", "EVENT_NAMES", "Payments_default", "format_default", "_a", "total", "payment", "target_amount", "write_off_amount", "outstanding", "_b", "_c", "_d", "_e", "_f", "paid_total", "cash_mode", "cash_payment", "p", "other_payments_total", "sum", "other_totals", "row", "credit", "text", "color", "evntBus", "print", "autoMode", "invoice_doc", "defaultPayment", "payments", "event", "error", "retrying", "item", "totalPayedAmount", "targetAmount", "allPaymentsTotal", "paid_amount", "grand_total", "has_cash_payment", "calculated_change_amount", "data", "API_MAP", "r", "err", "errorMsg", "isTimestampError", "shouldMergeLocalPayments", "localPayments", "__spreadValues", "resolve", "reject", "res", "freshDoc", "mergedPayments", "localMatch", "localPayment", "__spreadProps", "seen", "key", "default_payment", "idx", "isQuickReturn", "amount", "invoice_total", "other_payments", "remaining", "abs_remaining", "abs_target", "print_format", "letter_head", "url", "printWindow", "today", "parse_today", "$event", "value", "inputValue", "_value", "e", "remainAmount", "customer", "company", "queryText", "searchText", "field", "index", "absTotal", "refundableAmount", "useCustomerCredit", "orig", "origPaid", "origGrand", "paymentRatio", "neg", "date", "savedPayment", "grandTotal", "firstPayment", "_hoisted_1", "_hoisted_2", "createBaseVNode", "_hoisted_3", "_hoisted_4", "_hoisted_5", "_hoisted_6", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "_hoisted_21", "_hoisted_22", "_hoisted_23", "_hoisted_24", "createCommentVNode", "createTextVNode", "_hoisted_25", "_hoisted_26", "_hoisted_27", "_hoisted_28", "_hoisted_29", "_hoisted_30", "_hoisted_31", "_hoisted_32", "_hoisted_33", "_hoisted_34", "_hoisted_35", "_hoisted_36", "_hoisted_37", "_hoisted_38", "_hoisted_39", "_hoisted_40", "_hoisted_41", "_hoisted_42", "_hoisted_43", "_hoisted_44", "_hoisted_45", "_hoisted_46", "_hoisted_47", "_hoisted_48", "_hoisted_49", "_hoisted_50", "_hoisted_51", "_hoisted_52", "_hoisted_53", "_hoisted_54", "_hoisted_55", "_hoisted_56", "_hoisted_57", "_hoisted_58", "_hoisted_59", "_hoisted_60", "_hoisted_61", "_hoisted_62", "_hoisted_63", "_hoisted_64", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "openBlock", "createElementBlock", "Fragment", "args", "toDisplayString", "normalizeStyle", "renderList", "payment", "$event", "withModifiers", "withDirectives", "vModelText", "vModelCheckbox", "Payments_default", "render", "EVENT_NAMES", "OFFER_TYPES", "APPLY_TYPES", "ITEMS_HEADERS", "PosOffers_default", "format_default", "_a", "value", "el", "evntBus", "offer", "normalizedOffer", "__spreadProps", "__spreadValues", "name", "maxLength", "event", "appliedGrandTotalOffers", "error", "length", "characters", "appliedOffers", "pos_offer", "wasApplied", "grandTotalOffers", "a", "b", "discountA", "offers_id_list", "applyedOffers", "str", "filterd_items", "item", "text", "color", "data", "customer", "_hoisted_1", "_hoisted_2", "_hoisted_3", "_hoisted_4", "createBaseVNode", "createCommentVNode", "createTextVNode", "_hoisted_5", "_hoisted_6", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "_hoisted_21", "_hoisted_22", "_hoisted_23", "_hoisted_24", "_hoisted_25", "_hoisted_26", "_hoisted_27", "_hoisted_28", "_hoisted_29", "_hoisted_30", "_hoisted_31", "_hoisted_32", "_hoisted_33", "_hoisted_34", "_hoisted_35", "_hoisted_36", "_hoisted_37", "_hoisted_38", "_hoisted_39", "_hoisted_40", "_hoisted_41", "_hoisted_42", "_hoisted_43", "_hoisted_44", "_hoisted_45", "_hoisted_46", "_hoisted_47", "_hoisted_48", "_hoisted_49", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "openBlock", "createElementBlock", "Fragment", "toDisplayString", "renderList", "offer", "idx", "normalizeStyle", "args", "withDirectives", "$event", "vModelCheckbox", "PosOffers_default", "render", "flt", "value", "precision", "num", "EVENT_NAMES", "PAYMENT_ICONS", "DEFAULT_PAYMENT_ICON", "TABLE_HEADERS", "VALIDATION_RULES", "v", "ClosingDialog_default", "format_default", "closingDialog", "ref", "itemsPerPage", "dialog_data", "pos_profile", "headers", "isClosingAllowed", "closingTimeMessage", "isAllRequiredFieldsFilled", "computed", "requiredRows", "payment", "closing", "closingNum", "close_dialog", "submit_dialog", "event", "_a", "_b", "_c", "_d", "_e", "_f", "transactionsCount", "currentPosProfile", "posProfileName", "err", "willAutoPrint", "response", "API_MAP", "currentPosProfileForPrint", "evntBus", "print_format", "print_url", "printWindow", "reloadTimeout", "error", "getPaymentIcon", "paymentMethod", "method", "key", "getDifferenceClass", "difference", "updateDifference", "checkClosingTimeAllowed", "r", "openClosingDialogHandler", "data", "registerPosProfileHandler", "onMounted", "onBeforeUnmount", "_hoisted_1", "_hoisted_2", "_hoisted_3", "createBaseVNode", "createCommentVNode", "createTextVNode", "_hoisted_4", "_hoisted_5", "_hoisted_6", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "_hoisted_21", "_hoisted_22", "_hoisted_23", "_hoisted_24", "_hoisted_25", "_hoisted_26", "_hoisted_27", "_hoisted_28", "_hoisted_29", "_hoisted_30", "_hoisted_31", "_hoisted_32", "_hoisted_33", "_hoisted_34", "_hoisted_35", "_hoisted_36", "_hoisted_37", "_hoisted_38", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "openBlock", "createElementBlock", "Fragment", "args", "withModifiers", "renderList", "item", "index", "normalizeStyle", "toDisplayString", "withDirectives", "$event", "withKeys", "vModelText", "ClosingDialog_default", "render", "NewAddress_default", "vm", "API_MAP", "r", "evntBus", "data", "_hoisted_1", "_hoisted_2", "_hoisted_3", "_hoisted_4", "createBaseVNode", "createCommentVNode", "createTextVNode", "_hoisted_5", "_hoisted_6", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "_hoisted_21", "_hoisted_22", "_hoisted_23", "_hoisted_24", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "openBlock", "createElementBlock", "Fragment", "$event", "withModifiers", "withDirectives", "vModelText", "args", "NewAddress_default", "render", "EVENT_NAMES", "TABLE_HEADERS", "DEFAULT_COMPANY", "Returns_default", "format_default", "evntBus", "data", "invoiceName", "text", "color", "_a", "_b", "API_MAP", "r", "item", "message", "invoice_name", "e", "return_items", "original_invoice", "original_items", "i", "invalid_items", "return_doc", "__spreadProps", "__spreadValues", "invoice", "selectedItem", "invoice_doc", "_hoisted_1", "_hoisted_2", "_hoisted_3", "_hoisted_4", "createBaseVNode", "createCommentVNode", "createTextVNode", "_hoisted_5", "_hoisted_6", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "_hoisted_21", "_hoisted_22", "_hoisted_23", "_hoisted_24", "_hoisted_25", "_hoisted_26", "_hoisted_27", "_hoisted_28", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "openBlock", "createElementBlock", "Fragment", "$event", "withModifiers", "withDirectives", "withKeys", "args", "vModelText", "renderList", "header", "normalizeStyle", "toDisplayString", "item", "Returns_default", "render", "EVENT_NAMES", "Drafts_default", "format_default", "evntBus", "data", "invoice", "selectedInvoice", "_hoisted_1", "_hoisted_2", "_hoisted_3", "_hoisted_4", "createBaseVNode", "createCommentVNode", "createTextVNode", "_hoisted_5", "_hoisted_6", "_hoisted_7", "_hoisted_8", "_hoisted_9", "_hoisted_10", "_hoisted_11", "_hoisted_12", "_hoisted_13", "_hoisted_14", "_hoisted_15", "_hoisted_16", "_hoisted_17", "_hoisted_18", "_hoisted_19", "_hoisted_20", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "openBlock", "createElementBlock", "Fragment", "$event", "withModifiers", "renderList", "invoice", "normalizeStyle", "toDisplayString", "args", "Drafts_default", "render", "EVENTS", "Pos_default", "ItemsSelector_default", "Invoice_default", "OpeningDialog_default", "OpenShiftsWarning_default", "Payments_default", "ClosingDialog_default", "Returns_default", "Drafts_default", "PosOffers_default", "NewAddress_default", "offer", "__spreadProps", "__spreadValues", "removedOffer", "allShiftsResponse", "API_MAP", "response", "shift_data", "pos_profile", "event_data", "evntBus", "error", "doc", "_a", "_b", "_c", "_d", "_e", "opening_shift_name", "data", "transactionsCount", "panelType", "show", "isActive", "text", "color", "_hoisted_1", "_hoisted_2", "_hoisted_3", "_hoisted_4", "_hoisted_5", "_hoisted_6", "_hoisted_7", "_hoisted_8", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "_component_ClosingDialog", "resolveComponent", "_component_Returns", "_component_Drafts", "_component_NewAddress", "_component_OpeningDialog", "_component_OpenShiftsWarning", "_component_ItemsSelector", "_component_PosOffers", "_component_Payments", "_component_Invoice", "openBlock", "createElementBlock", "Fragment", "createCommentVNode", "createBaseVNode", "createVNode", "createBlock", "withDirectives", "vShow", "Pos_default", "render", "Home_default", "Navbar_default", "Pos_default", "page", "_hoisted_1", "render", "_ctx", "_cache", "$props", "$setup", "$data", "$options", "_component_Navbar", "resolveComponent", "openBlock", "createElementBlock", "createBaseVNode", "createVNode", "createBlock", "KeepAlive", "resolveDynamicComponent", "Home_default", "render", "SetVueGlobals", "app", "parent", "createApp", "Home_default"]
}
