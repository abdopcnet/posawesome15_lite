# ุฅุญุตุงุก ุฏููู ูููู Invoice.vue - ุชุญููู ุงูุณุทูุฑ

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงูุนุงูุฉ
- **ุฅุฌูุงูู ุงูุณุทูุฑ**: 3197 ุณุทุฑ
- **ุงูุณุทูุฑ ุงููุงุฑุบุฉ**: ~200 ุณุทุฑ (ุชูุฏูุฑู)
- **ุงูุณุทูุฑ ุงููุนููุฉ**: ~2997 ุณุทุฑ

## ๐๏ธ ุชูุณูู ุงูููู ุงูุฑุฆูุณู

### 1. Template Section (ุงูุณุทูุฑ 1-397)
**ุนุฏุฏ ุงูุณุทูุฑ: 397 ุณุทุฑ**

#### ุฃ) Customer Section (ุงูุณุทูุฑ 8-14)
- **ุนุฏุฏ ุงูุณุทูุฑ**: 7 ุณุทูุฑ
- **ุงููุญุชูู**: ูููู ุงูุนููู

#### ุจ) Posting Date Section (ุงูุณุทูุฑ 15-61)  
- **ุนุฏุฏ ุงูุณุทูุฑ**: 47 ุณุทุฑ
- **ุงููุญุชูู**: ุงุฎุชูุงุฑ ุชุงุฑูุฎ ุงููุดุฑ

#### ุฌ) Items Table Section (ุงูุณุทูุฑ 63-232)
- **ุนุฏุฏ ุงูุณุทูุฑ**: 170 ุณุทุฑ
- **ุงููุญุชูู**: 
  - ุฌุฏูู ุงูููุชุฌุงุช
  - ุฃุฒุฑุงุฑ ุงููููุฉ (+/-)
  - ุญููู ุงูุฃุณุนุงุฑ
  - ุญููู ุงูุฎุตููุงุช
  - ุฃุฒุฑุงุฑ ุงูุญุฐู

#### ุฏ) Summary Section (ุงูุณุทูุฑ 235-340)
- **ุนุฏุฏ ุงูุณุทูุฑ**: 106 ุณุทูุฑ
- **ุงููุญุชูู**:
  - ุฅุฌูุงูู ุงููููุฉ
  - ุฎุตู ุงููุงุชูุฑุฉ
  - ุฎุตู ุงูููุชุฌุงุช
  - ุงููุฌููุน ูุจู ุงูุฎุตู
  - ุงููุฌููุน ุงูุตุงูู
  - ุงูุถุฑุงุฆุจ
  - ุงููุฌููุน ุงูููุงุฆู

#### ูู) Action Buttons Section (ุงูุณุทูุฑ 342-394)
- **ุนุฏุฏ ุงูุณุทูุฑ**: 53 ุณุทุฑ
- **ุงููุญุชูู**:
  - ุทุจุงุนุฉ ุงููุงุชูุฑุฉ
  - ุงูุฏูุน
  - ุงููุฑุชุฌุนุงุช
  - ุงููุฑุชุฌุนุงุช ุงูุณุฑูุนุฉ
  - ุงูุฅูุบุงุก

### 2. Script Section (ุงูุณุทูุฑ 399-2531)
**ุนุฏุฏ ุงูุณุทูุฑ: 2133 ุณุทุฑ**

#### ุฃ) Imports & Setup (ุงูุณุทูุฑ 400-408)
- **ุนุฏุฏ ุงูุณุทูุฑ**: 9 ุณุทูุฑ
- **ุงููุญุชูู**: ุงุณุชูุฑุงุฏ ุงูููุชุจุงุช ูุงูููููุงุช

#### ุจ) Export Default (ุงูุณุทูุฑ 405-407)
- **ุนุฏุฏ ุงูุณุทูุฑ**: 3 ุณุทูุฑ
- **ุงููุญุชูู**: ุชุตุฏูุฑ ุงููููู

#### ุฌ) Data Properties (ุงูุณุทูุฑ 410-465)
- **ุนุฏุฏ ุงูุณุทูุฑ**: 56 ุณุทุฑ
- **ุงููุญุชูู**:
  - ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ (pos_profile, customer, etc.)
  - ุจูุงูุงุช ุงููุงุชูุฑุฉ (items, discounts, etc.)
  - ูุชุบูุฑุงุช ุงูุชุญุณูู (_autoSaveProcessing, etc.)
  - ุฅุนุฏุงุฏุงุช ุงูุฌุฏูู (headers, precision, etc.)

#### ุฏ) Computed Properties (ุงูุณุทูุฑ 468-543)
- **ุนุฏุฏ ุงูุณุทูุฑ**: 76 ุณุทุฑ
- **ุงููุญุชูู**:
  - dynamicHeaders: ุฑุคูุณ ุงูุฌุฏูู ุงูุฏููุงููููุฉ
  - readonly: ุญุงูุฉ ุงููุฑุงุกุฉ ููุท
  - total_qty: ุฅุฌูุงูู ุงููููุฉ
  - Total, subtotal, TaxAmount: ุงูุญุณุงุจุงุช ุงููุงููุฉ
  - defaultPaymentMode: ุทุฑููุฉ ุงูุฏูุน ุงูุงูุชุฑุงุถูุฉ
  - hasItems, hasChosenPayment: ุงูุชุญูู ูู ุงูุญุงูุฉ

#### ูู) Methods Section (ุงูุณุทูุฑ 545-2310)
**ุนุฏุฏ ุงูุณุทูุฑ: 1766 ุณุทุฑ**

##### ุงููุฌููุนุงุช ุงููุธูููุฉ:

**1. ุฅุฏุงุฑุฉ ุงููููุงุช (ุงูุณุทูุฑ 548-616)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 69 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - onQtyChange() - 13 ุณุทุฑ
  - onQtyInput() - 4 ุณุทุฑ  
  - increaseQuantity() - 18 ุณุทุฑ
  - decreaseQuantity() - 23 ุณุทุฑ
  - refreshTotals() - 4 ุณุทุฑ
  - getDiscountAmount() - 27 ุณุทุฑ

**2. ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช (ุงูุณุทูุฑ 726-805)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 80 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - add_item() - 79 ุณุทุฑ
  - generateRowId() - 3 ุณุทุฑ

**3. ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ (ุงูุณุทูุฑ 810-1280)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 471 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - create_draft_invoice() - 24 ุณุทุฑ
  - auto_update_invoice() - 137 ุณุทุฑ
  - queue_auto_save() - 17 ุณุทุฑ
  - _run_auto_save_worker() - 35 ุณุทุฑ
  - reload_invoice() - 20 ุณุทุฑ
  - debounced_auto_update() - 9 ุณุทุฑ
  - get_new_item() - 105 ุณุทุฑ
  - cancel_invoice() - 36 ุณุทุฑ
  - delete_draft_invoice() - 16 ุณุทุฑ
  - reset_invoice_session() - 16 ุณุทุฑ
  - new_invoice() - 63 ุณุทุฑ
  - get_invoice_doc() - 38 ุณุทุฑ
  - get_invoice_items_minimal() - 14 ุณุทุฑ
  - get_payments() - 35 ุณุทุฑ
  - update_invoice() - 50 ุณุทุฑ
  - process_invoice() - 25 ุณุทุฑ

**4. ุฅุฏุงุฑุฉ ุงููุฏููุนุงุช (ุงูุณุทูุฑ 1409-1456)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 48 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - show_payment() - 48 ุณุทุฑ

**5. ุฅุฏุงุฑุฉ ุงูุฎุตููุงุช (ุงูุณุทูุฑ 1590-1651)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 62 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - setDiscountPercentage() - 35 ุณุทุฑ
  - update_price_list() - 6 ุณุทุฑ
  - update_discount_umount() - 17 ุณุทุฑ
  - logPriceDisplay() - 8 ุณุทุฑ

**6. ุฅุฏุงุฑุฉ ุงูุจุงุชุดุงุช ูุงูุณูุงุณู (ุงูุณุทูุฑ 1655-1729)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 75 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - set_serial_no() - 8 ุณุทุฑ
  - set_batch_qty() - 67 ุณุทุฑ

**7. ุฅุฏุงุฑุฉ ุงูุนุฑูุถ (ุงูุณุทูุฑ 1901-2106)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 206 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - handelOffers() - 12 ุณุทุฑ
  - _processOffers() - 92 ุณุทุฑ
  - getItemFromRowID() - 3 ุณุทุฑ
  - checkOfferCoupon() - 20 ุณุทุฑ
  - getItemOffer() - 15 ุณุทุฑ
  - updatePosOffers() - 3 ุณุทุฑ
  - updateInvoiceOffers() - 7 ุณุทุฑ
  - removeApplyOffer() - 9 ุณุทุฑ
  - applyNewOffer() - 20 ุณุทุฑ
  - applyOffersToInvoice() - 20 ุณุทุฑ
  - removeOffersFromInvoice() - 20 ุณุทุฑ

**8. ุฅุฏุงุฑุฉ ุงูุนูููุงุช (ุงูุณุทูุฑ 1880-1899)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 20 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - debouncedItemOperation() - 15 ุณุทุฑ
  - processItemOperations() - 20 ุณุทุฑ

**9. ุงูุชุญูู ูุงูุชุญูู (ุงูุณุทูุฑ 1458-1528)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 71 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - validate() - 25 ุณุทุฑ
  - get_draft_invoices() - 20 ุณุทุฑ
  - open_returns() - 14 ุณุทุฑ
  - close_payments() - 3 ุณุทุฑ
  - update_items_details() - 5 ุณุทุฑ
  - update_item_detail() - 4 ุณุทุฑ

**10. ุฅุฏุงุฑุฉ ุงูุนููุงุก (ุงูุณุทูุฑ 1550-1633)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 84 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - fetch_customer_details() - 20 ุณุทุฑ
  - get_price_list() - 16 ุณุทุฑ
  - update_price_list() - 6 ุณุทุฑ

**11. ุงุฎุชุตุงุฑุงุช ููุญุฉ ุงูููุงุชูุญ (ุงูุณุทูุฑ 1731-1758)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 28 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - shortOpenPayment() - 6 ุณุทุฑ
  - shortDeleteFirstItem() - 6 ุณุทุฑ
  - shortOpenFirstItem() - 6 ุณุทุฑ
  - shortSelectDiscount() - 6 ุณุทุฑ
  - makeid() - 10 ุณุทุฑ

**12. ูุธุงุฆู ูุณุงุนุฏุฉ (ุงูุณุทูุฑ 1772-1879)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 108 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - checkOfferIsAppley() - 28 ุณุทุฑ
  - mergeItemsFromAPI() - 78 ุณุทุฑ

**13. ุทุจุงุนุฉ ุงููุงุชูุฑุฉ (ุงูุณุทูุฑ 2148-2292)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 145 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - debugTableDimensions() - 15 ุณุทุฑ
  - printInvoice() - 130 ุณุทุฑ

**14. ูุธุงุฆู ุฅุถุงููุฉ (ุงูุณุทูุฑ 2293-2310)**
- **ุนุฏุฏ ุงูุณุทูุฑ**: 18 ุณุทุฑ
- **ุงููุธุงุฆู**:
  - getPaymentsComponent() - 9 ุณุทุฑ
  - hasManualPayments() - 9 ุณุทุฑ

#### ู) Lifecycle Hooks (ุงูุณุทูุฑ 2312-2450)
**ุนุฏุฏ ุงูุณุทูุฑ: 139 ุณุทุฑ**

- **mounted()** (ุงูุณุทูุฑ 2312-2413): 102 ุณุทุฑ
- **beforeDestroy()** (ุงูุณุทูุฑ 2414-2450): 37 ุณุทุฑ
- **created()** (ุงูุณุทูุฑ 2451-2456): 6 ุณุทุฑ
- **destroyed()** (ุงูุณุทูุฑ 2457-2462): 6 ุณุทุฑ

#### ุฒ) Watchers (ุงูุณุทูุฑ 2464-2524)
**ุนุฏุฏ ุงูุณุทูุฑ: 61 ุณุทุฑ**

- **customer()** (ุงูุณุทูุฑ 2465-2475): 11 ุณุทุฑ
- **customer_info()** (ุงูุณุทูุฑ 2476-2478): 3 ุณุทุฑ
- **discount_percentage_offer_name()** (ุงูุณุทูุฑ 2479-2483): 5 ุณุทุฑ
- **items** (ุงูุณุทูุฑ 2484-2506): 23 ุณุทุฑ
- **invoiceType()** (ุงูุณุทูุฑ 2507-2509): 3 ุณุทุฑ
- **invoice_doc** (ุงูุณุทูุฑ 2510-2518): 9 ุณุทุฑ
- **discount_amount()** (ุงูุณุทูุฑ 2519-2523): 5 ุณุทุฑ
- **updated()** (ุงูุณุทูุฑ 2525-2529): 5 ุณุทุฑ

### 3. Style Section (ุงูุณุทูุฑ 2533-3197)
**ุนุฏุฏ ุงูุณุทูุฑ: 665 ุณุทุฑ**

#### ุฃ) ุงูุชุตูููุงุช ุงูุฃุณุงุณูุฉ (ุงูุณุทูุฑ 2534-2603)
- **ุนุฏุฏ ุงูุณุทูุฑ**: 70 ุณุทุฑ
- **ุงููุญุชูู**: ุชุตูููุงุช ุงูุญุงููุงุช ูุงูุนูุงุตุฑ ุงูุฃุณุงุณูุฉ

#### ุจ) ุชุตููู ุงูุฌุฏูู (ุงูุณุทูุฑ 2604-3051)
- **ุนุฏุฏ ุงูุณุทูุฑ**: 448 ุณุทุฑ
- **ุงููุญุชูู**: ุชุตูููุงุช ุงูุฌุฏูู ูุงูุญููู ูุงูุฃุฒุฑุงุฑ

#### ุฌ) ุงูุชุตููู ุงููุชุฌุงูุจ (ุงูุณุทูุฑ 3052-3197)
- **ุนุฏุฏ ุงูุณุทูุฑ**: 146 ุณุทุฑ
- **ุงููุญุชูู**: ุชุตูููุงุช ููุดุงุดุงุช ุงููุฎุชููุฉ

## ๐ ุชุญููู ุงูุชุนููุฏ

### ุฃูุซุฑ ุงูุฃุฌุฒุงุก ุชุนููุฏุงู:
1. **Methods Section**: 1766 ุณุทุฑ (55% ูู ุงูููู)
2. **Style Section**: 665 ุณุทุฑ (21% ูู ุงูููู)
3. **Template Section**: 397 ุณุทุฑ (12% ูู ุงูููู)
4. **Data & Computed**: 132 ุณุทุฑ (4% ูู ุงูููู)
5. **Lifecycle & Watchers**: 200 ุณุทุฑ (6% ูู ุงูููู)

### ุฃูุซุฑ ุงููุธุงุฆู ุชุนููุฏุงู:
1. **auto_update_invoice()**: 137 ุณุทุฑ
2. **add_item()**: 79 ุณุทุฑ
3. **mergeItemsFromAPI()**: 78 ุณุทุฑ
4. **printInvoice()**: 130 ุณุทุฑ
5. **_processOffers()**: 92 ุณุทุฑ

## ๐ฏ ุชูุตูุงุช ุงูุชูุณูู

ุจูุงุกู ุนูู ูุฐุง ุงูุชุญูููุ ูููู ุชูุณูู ุงูููู ุฅูู:

1. **InvoiceMain.vue** (~400 ุณุทุฑ)
2. **InvoiceItemsTable.vue** (~600 ุณุทุฑ)
3. **InvoiceSummary.vue** (~300 ุณุทุฑ)
4. **InvoiceActions.vue** (~400 ุณุทุฑ)
5. **InvoiceOffers.vue** (~500 ุณุทุฑ)
6. **InvoiceBatchManager.vue** (~400 ุณุทุฑ)
7. **InvoiceAPI.js** (~300 ุณุทุฑ)
8. **InvoiceUtils.js** (~200 ุณุทุฑ)
9. **InvoiceComposables.js** (~300 ุณุทุฑ)

ูุฐุง ุงูุชูุณูู ุณูุฌุนู ูู ููู ุฃูุซุฑ ุชุฑููุฒุงู ููุงุจููุฉ ููุตูุงูุฉ.
